{"initialLink":"https://indiemap.org/docs.html#common-crawl","sanitizedLink":"https://indiemap.org/docs.html#common-crawl","finalLink":"https://indiemap.org/docs.html#common-crawl","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://indiemap.org/docs.html#common-crawl\" itemprop=\"url\">Indie Map: Docs</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-07-05T17:48:52.229Z\">6/5/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>Indie Map is a complete crawl of 2300 of the most active IndieWeb sites as of June 2017, sliced and diced and rolled up in a few useful ways:</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a href=\"https://web.archive.org/web/20220705172521/https://indiemap.org/docs.html\" is=\"contexter-link\" target=\"_blank\" rel=\"timemap\" class=\"read-link archive-link\" itemprop=\"archivedAt\" slot=\"archive-link\">Archived</a><a is=\"contexter-link\" href=\"https://indiemap.org/docs.html#common-crawl\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"15da6f6bb6f1d12f5c2b21f75df591eebd1b9aef","data":{"originalLink":"https://indiemap.org/docs.html#common-crawl","sanitizedLink":"https://indiemap.org/docs.html#common-crawl","canonical":"https://indiemap.org/docs.html#common-crawl","htmlText":"<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n<title>Indie Map: Docs</title>\n<meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<meta name=\"mobile-web-app-capable\" content=\"yes\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n</head>\n\n<body id=\"docs\">\n<div id=\"docs-title\">\n<div id=\"header\">\n  <a href=\"/\">Home</a>\n  | <a href=\"https://github.com/snarfed/indie-map\">Source</a>\n  | <a href=\"https://indieweb.org/\">#IndieWeb</a>\n</div>\n\n<div id=\"title\" class=\"container\">\n<h1><a href=\"/\">Indie Map</a> is a public <a href=\"https://indieweb.org/\">IndieWeb</a> social graph and dataset.</h1>\n</div>\n</div>\n\n<div class=\"body container h-entry\">\n<div id=\"docs-body\" class=\"e-content\">\n\n\n<h2 id=\"intro\">Introduction</h2>\n\n<p><span class=\"p-name\">Indie Map</span> is a complete crawl of 2300 of the most active <a href=\"https://indieweb.org/\">IndieWeb</a> sites as of June 2017, sliced and diced and rolled up in a few useful ways:</p>\n\n<ul>\n<li>Social graph <a href=\"#social-graph-api\">API</a> and <a href=\"https://kumu.io/snarfed/indie-map\">interactive map</a>.</li>\n<li><a href=\"#data-mining\">SQL queryable dataset</a> and <a href=\"#stats\">example stats.</a>\n<li><a href=\"docs.html#crawl\">Raw crawl data</a> in <a href=\"http://bibnum.bnf.fr/WARC/\">WARC</a> format: <a href=\"https://github.com/snarfed/indie-map/blob/main/crawl/2017/domains.txt\">2300 sites</a>, 5.7M pages, 380GB HTML with <a href=\"http://microformats.org/wiki/microformats2\">microformats2</a>.</li>\n</ul>\n\n<p>Indie Map <a href=\"https://snarfed.org/2017-06-24_new-side-project-indie-map\">was announced</a> at <a href=\"https://2017.indieweb.org/\">IndieWeb Summit 2017</a>. Check out the <a href=\"https://www.youtube.com/watch?v=bkc5afFohmI\">video of the talk</a> and <a href=\"https://snarfed.org/indiemap_iws2017/\">slide deck</a> for an introduction.</p>\n\n<p>Indie Map is free, <a href=\"https://github.com/snarfed/indie-map\">open source</a>, and placed into the public domain via the <a href=\"https://creativecommons.org/share-your-work/public-domain/cc0/\">CC0 public domain dedication</a>. Crawled content remains the property of each site's owner and author, and subject to their existing copyrights.</p>\n\n<p>The photo above and on the home page is <a href=\"https://pixabay.com/en/map-of-the-world-old-historically-2241469/\">Map Of The World, by Geralt</a>, reused under CC0.</p>\n\n<p>Indie Map was created by <a class=\"h-card u-author\" href=\"https://snarfed.org/\">Ryan Barrett</a>. Support Indie Map by <a href=\"https://opencollective.com/indieweb\">donating to the IndieWeb</a>!</p>\n\n\n<h2 id=\"toc\">Contents</h2>\n\n<ul>\n<li><a href=\"#social-graph\">Social graph</a>\n  <ul>\n  <li><a href=\"#social-graph-viz\">Interactive visualization</a></li>\n  <li><a href=\"#social-graph-api\">API</a></li>\n  <li><a href=\"#social-graph-data\">Data</a></li>\n  </ul></li>\n<li><a href=\"#stats\">Statistics and graphs</a>\n  </li>\n<li><a href=\"#data-mining\">Data mining</a>\n  <ul>\n  <li><a href=\"#query-example\">Example query</a></li>\n  <li><a href=\"#schema-pages\"><code>pages</code></a></li>\n  <li><a href=\"#schema-sites\"><code>sites</code></a></li>\n  <li><a href=\"#schema-canonical-pages\"><code>canonical_pages</code></a></li>\n  <li><a href=\"#schema-links\"><code>links</code></a></li>\n  <li><a href=\"#schema-links-social-graph\"><code>links_social_graph</code></a></li>\n  </ul></li>\n<li><a href=\"#crawl\">Crawl</a>\n  <ul>\n  <li><a href=\"#crawl-data\">Data</a></li>\n  <li><a href=\"#crawl-methodology\">Methodology</a></li>\n  <li><a href=\"#common-crawl\">Common Crawl (historical)</a></li>\n  </ul></li>\n<li><a href=\"#sites\">Sites included</a>\n  <ul>\n  <li><a href=\"#notable\">Notable sites</a></li>\n  <li><a href=\"#exceptions\">Exceptions</a></li>\n  </ul></li>\n<li><a href=\"#listings\">External listings</a></li>\n</ul>\n\n\n<h2 id=\"social-graph\">Social graph</h2>\n\n<h3 id=\"social-graph-viz\">Interactive visualization</h3>\n\n<p><a href=\"https://kumu.io/snarfed/indie-map\">Click here for an interactive map of the Indie Web social graph</a>, powered by <a href=\"https://kumu.io/\">Kumu</a>. It renders all sites and links, by score, and lets you navigate and filter by connections, type, server, microformats2 classes, protocols supported (e.g. <a href=\"https://webmention.net/\">Webmention</a> and <a href=\"https://micropub.net/\">Micropub</a>), and more.</p>\n\n<p><a href=\"https://kumu.io/snarfed/indie-map\"><img alt=\"social graph\" src=\"social_graph.jpg\" width=\"990\" style=\"max-width: 100%\" /></a></p>\n\n\n<h3 id=\"social-graph-api\">API</h3>\n\n<p>You can fetch each site's data and individual social graph, ie other sites it links to and from, by fetching <code>/<em>DOMAIN</em>.json</code> from this site. For example, my own personal web site is <a href=\"https://indiemap.org/snarfed.org.json\"><code>https://indiemap.org/snarfed.org.json</code></a>. Here's an excerpt:</p>\n\n<pre>\n{\n  \"<span class=\"field\">domain</span>\": \"<span class=\"string\">snarfed.org</span>\",\n  \"<span class=\"field\">urls</span>\": [\"<span class=\"string\">https://snarfed.org/</span>\"],\n  \"<span class=\"field\">names</span>\": [\"<span class=\"string\">Ryan Barrett</span>\"],\n  \"<span class=\"field\">descriptions</span>\": [\"<span class=\"string\">Ryan Barrett's blog</span>\"],\n  \"<span class=\"field\">pictures</span>\": [\"<span class=\"string\">https://snarfed.org/ryan.jpg</span>\"],\n  \"<span class=\"field\">hcard</span>\": {...},\n  \"<span class=\"field\">rel_mes</span>\": [\"<span class=\"string\">https://twitter.com/schnarfed</span>\", ...]\n  \"<span class=\"field\">crawl_start</span>\": \"<span class=\"string\">2017-04-25T10:48:37</SPAN>\",\n  \"<span class=\"field\">crawl_end</span>\": \"<span class=\"string\">2017-04-26T10:56:19</SPAN>\",\n  \"<span class=\"field\">num_pages</span>\": <span class=\"number\">6929</span>,\n  \"<span class=\"field\">total_html_size</span>\": <span class=\"number\">169794664</span>,\n  \"<span class=\"field\">servers</span>\": [\"<span class=\"string\">Apache\", \"WordPress\", \"S5</span>\"],\n  \"<span class=\"field\">mf2_classes</span>\": [\"<span class=\"string\">h-feed\", \"h-card\", \"h-entry\", \"h-event</span>\", ...]\n  \"<span class=\"field\">endpoints</span>\": {\n    \"<span class=\"field\">webmention</span>\": [\"<span class=\"string\">https://snarfed.org/wp-json/webmention</span>\"],\n    \"<span class=\"field\">micropub</span>\": [\"<span class=\"string\">http://snarfed.org/w/?micropub=endpoint</span>\"],\n    \"<span class=\"field\">authorization</span>\": [\"<span class=\"string\">https://indieauth.com/auth</span>\"],\n    \"<span class=\"field\">token</span>\": [\"<span class=\"string\">https://tokens.indieauth.com/token</span>\"],\n  },\n  \"<span class=\"field\">links_out</span>\": <span class=\"number\">102689</span>,\n  \"<span class=\"field\">links_in</span>\": <span class=\"number\">81519</span>,\n  \"<span class=\"field\">links</span>\": {\n    \"<span class=\"string\">indieweb.org</span>\": {\n      \"<span class=\"field\">out</span>\": {\"<span class=\"string\">other</span>\": <span class=\"number\">6750</span>},\n      \"<span class=\"field\">in</span>\": {\"<span class=\"string\">other</span>\": <span class=\"number\">46800</span>},\n      \"<span class=\"field\">score</span>\": <span class=\"number\">1</span>\n    },\n    \"<span class=\"string\">kylewm.com</span>\": {\n      \"<span class=\"field\">out</span>\": {\"<span class=\"string\">like-of</span>\": <span class=\"number\">267</span>, \"<span class=\"string\">in-reply-to</span>\": <span class=\"number\">172</span>, ...},\n      \"<span class=\"field\">in</span>\": {\"<span class=\"string\">other</span>\": <span class=\"number\">1041</span>, \"<span class=\"string\">invitee</span>\": <span class=\"number\">5</span>, \"<span class=\"string\">bookmark-of</span>\": <span class=\"number\">4</span>, ...},\n      \"<span class=\"field\">score</span>\": <span class=\"number\">0.783</span>\n    },\n    \"<span class=\"string\">werd.io</span>\": {\n      \"<span class=\"field\">out</span>\": {\"<span class=\"string\">in-reply-to</span>\": <span class=\"number\">68</span>, \"<span class=\"string\">like-of</span>\": <span class=\"number\">93</span>, \"<span class=\"string\">other</span>\": <span class=\"number\">51</span>},\n      \"<span class=\"field\">in</span>\": {\"<span class=\"string\">other</span>\": <span class=\"number\">602</span>, \"<span class=\"string\">in-reply-to</span>\": <span class=\"number\">218</span>},\n      \"<span class=\"field\">score</span>\": <span class=\"number\">0.723</span>\n    },\n  ...\n</pre>\n\n\n<p>The <code>hcard</code> field is the <a href=\"\">representative h-card</a> from the site's home page, extracted by <a href=\"https://github.com/kylewm/mf2util\">mf2util</a> 0.5.0's <code>representative_hcard()</code>.</p>\n\n<p>The <code>links</code> field is a list of other sites with links to and from this site, ordered by <code>score</code>, a calculated estimate of the connection strength. The formula is <code>ln(links) / ln (max links)</code>, where links is the total number of links to and from the site, <a href=\"https://github.com/snarfed/indie-map/blob/master/bigquery/make_web.py#L35\">weighted by type</a>, and max links is the highest link count across all sites in this site's list. The weights are:</p>\n\nDirection:\n<ul>\n<li>outbound: 2x</li>\n<li>inbound: 1x</li>\n</ul>\n\nMicroformats2 class:\n<ul>\n<li><code>u-in-reply-to, u-invitee</code>: 5x</li>\n<li><code>u-repost-of, u-quotation-of</code>: 3x</li>\n<li><code>u-like-of, u-favorite-of, u-bookmark-of</code>: 2x</li>\n<li>other or none: 2x</li>\n</ul>\n\n<p>Social network profile URLs are inferred for links to Facebook, Twitter, and Google+ profiles and posts. Those links will appear as e.g. separate objects for <code>twitter.com/schnarfed</code>, <code>twitter.com/indiewebcamp</code>, etc. instead of lumped together in a single <code>twitter.com</code> object. This is best effort only.</p>\n\n<p>The <code>links</code> object is limited to the top 500 linked sites, by score. If there are more, the <code>links_truncated</code> field will be <code>true</code>. You can get the full list of sites by fetching <code>/full/<em>DOMAIN</em>.json</code>. You can also get just the links to/from the sites within this dataset by fetching <code>/indie/<em>DOMAIN</em>.json</code>.</p>\n\n<p><a href=\"https://webmention.net/\">Webmention</a>, <a href=\"https://micropub.net/\">Micropub</a>, <a href=\"https://www.w3.org/TR/websub/\">WebSub</a>, and <a href=\"https://indieweb.org/IndieAuth\">IndieAuth</a> endpoints are only extracted from the first matching HTML <code>&lt;link&gt;</code> tag, not all, and not from HTTP headers. These bugs may be fixed in the future.</p>\n\n\n<h3 id=\"social-graph-data\">Data</h3>\n\n<p>You can <a href=\"https://indiemap.org/all.zip\">download a zip file with the full set of JSON files</a>. You can also look at the individual files in <a href=\"https://cloud.google.com/storage/\">Google Cloud Storage</a>, in the <code>gs://www.indiemap.org</code> bucket. You can access them <a href=\"https://console.cloud.google.com/storage/browser/indie-map/\">via the web UI</a> and the <a href=\"https://cloud.google.com/storage/docs/quickstart-gsutil\"><code>gsutil</code> CLI utility</a>, e.g. <code>gsutil cp gs://www.indiemap.org/\\*.json .</code> You'll need a Google account, but there's no cost.</p>\n\n\n<h2 id=\"stats\">Statistics and graphs</h2>\n\n<p>Here are a few interesting breakdowns of the data, visualized with <a href=\"https://metabase.com/\">Metabase</a>:</p>\n\n<div class=\"graphs\">\n<a href=\"graphs/crawl.png\"><img id=\"graph-crawl\" src=\"graphs/crawl.png\"></a>\n<a href=\"graphs/sites.png\"><img id=\"graph-sites\" src=\"graphs/sites.png\"></a>\n<a href=\"graphs/tlds.png\"><img id=\"graph-tlds\" src=\"graphs/tlds.png\"></a>\n<a href=\"graphs/domain_segments.png\"><img id=\"domain_segments\" src=\"graphs/domain_segments.png\"></a>\n<a href=\"graphs/mf2_by_sites.png\"><img id=\"mf2_by_sites\" src=\"graphs/mf2_by_sites.png\"></a>\n<a href=\"graphs/mf2_by_pages.png\"><img id=\"mf2_by_pages\" src=\"graphs/mf2_by_pages.png\"></a>\n<a href=\"graphs/link_rels.png\"><img id=\"link_rels\" src=\"graphs/link_rels.png\"></a>\n<a href=\"graphs/rel_me_sites.png\"><img id=\"rel_me_sites\" src=\"graphs/rel_me_sites.png\"></a>\n<a href=\"graphs/rel_me_histogram.png\"><img id=\"rel_me_histogram\" src=\"graphs/rel_me_histogram.png\"></a>\n<a href=\"graphs/servers.png\"><img id=\"graph-servers\" src=\"graphs/servers.png\"></a>\n</div>\n\n\n<h2 id=\"data-mining\">Data mining</h2>\n\n<p>The Indie Map dataset is available in Google's <a href=\"https://cloud.google.com/bigquery/\">BigQuery</a> data warehouse, which supports Standard SQL queries and integrates with <a href=\"https://cloud.google.com/bigquery/partners/#bianalytics-partners\">many powerful analytics tools</a>. The dataset is <a href=\"https://console.cloud.google.com/bigquery?project=indie-map&d=indiemap&page=dataset&p=indie-map\"><code>indie-map:indiemap</code></a>. You'll need a Google account. <a href=\"https://cloud.google.com/bigquery/pricing#free-tier\">You can query up to 1TB/month for free, but it costs $5/TB after that.</a></p>\n\n<p>The dataset consists of two tables, <a href=\"#schema-pages\"><code>pages</code></a> and <a href=\"#schema-pages\"><code>sites</code></a>, and three views, <a href=\"#schema-canonical-pages\"><code>canonical_pages</code></a>, <a href=\"#schema-links\"><code>links</code></a>, and <a href=\"#schema-links-social-graph\"><code>links_social_graph</code></a>. Each page's HTML was parsed for mf2 by <a href=\"https://github.com/tommorris/mf2py\">mf2py</a> 1.0.5, which was then used to populate many fields. Some fields are JSON encoded strings, which you can query in BiqQuery with <a href=\"https://cloud.google.com/bigquery/docs/reference/legacy-sql#json_extract\"><code>JSON_EXTRACT</code></a> and <a href=\"https://code.google.com/p/jsonpath\">JSONPath</a>.</p>\n\n\n<h3 id=\"query-example\">Example query</h3>\n\n<p>Here's an example BigQuery SQL query that finds the most common <code>rel-me</code> link domains, by number of sites:</p>\n\n<pre>\nSELECT NET.REG_DOMAIN(<span class=\"keyword\">url</span>) <span class=\"keyword\">silo</span>, COUNT(DISTINCT <span class=\"keyword\">domain</span>) <span class=\"keyword\">sites</span>\nFROM <span class=\"keyword\">indiemap.pages p, p.rels r, r.urls url</span>\nWHERE <span class=\"keyword\">r.value</span> = <span class=\"string\">'me'</span> AND NET.REG_DOMAIN(<span class=\"keyword\">url</span>) IS NOT NULL\nGROUP BY <span class=\"keyword\">silo</span>\nORDER BY <span class=\"keyword\">sites</span> DESC\nLIMIT 15\n</pre>\n\n<p>And here's a <a href=\"http://www.metabase.com/\">Metabase</a> visualization of that query:</p>\n\n<p class=\"graphs\">\n<a href=\"graphs/rel_me_sites.png\">\n<img alt=\"rel-me link domains per site\" src=\"graphs/rel_me_sites.png\">\n</a></p>\n\n\n<h3 id=\"schema-pages\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&p=indie-map&d=indiemap&t=pages&page=table\">pages</a></code></h3>\n\n<p>All HTML pages crawled, from all sites in the dataset.</p>\n\n<table class=\"schema\">\n<tr>\n  <th>Field name</th>\n  <th>Type</th>\n  <th>Description</th>\n</tr><tr>\n  <td>url</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>fetch_time</td>\n  <td>timestamp</td>\n  <td></td>\n</tr><tr>\n  <td>headers</td>\n  <td>array&lt; <br />\n      &nbsp;<span class=\"field\">name</span>&nbsp;string, <br />\n      &nbsp;<span class=\"field\">value</span>&nbsp;string <br />\n      &gt;</td>\n  <td>All HTTP response headers.</td>\n</tr><tr>\n  <td>html</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>mf2</td>\n  <td>string</td>\n  <td>Full parsed mf2, JSON encoded.</td>\n</tr><tr>\n  <td>links</td>\n  <td>array&lt;<br />\n      &nbsp;<span class=\"field\">tag</span>&nbsp;string, <br />\n      &nbsp;<span class=\"field\">url</span>&nbsp;string, <br />\n      &nbsp;<span class=\"field\">classes</span>&nbsp;array&lt;string&gt;, <br />\n      &nbsp;<span class=\"field\">rels</span>&nbsp;array&lt;string&gt;, <br />\n      &nbsp;<span class=\"field\">inner_html</span>&nbsp;string <br />\n      &gt;</td>\n  <td>All outbound <code>&lt;a&gt;</code> links.</td>\n</tr><tr>\n  <td>mf2_classes</td>\n  <td>array&lt;string&gt;</td>\n  <td>All mf2 classes present in the page.</td>\n</tr><tr>\n  <td>rels</td>\n  <td>array&lt; <br />\n      &nbsp;<span class=\"field\">value</span>&nbsp;string, <br />\n      &nbsp;<span class=\"field\">urls</span>&nbsp;array&lt;string&gt; <br />\n      &gt;</td>\n  <td>All links with <code>rel</code> values.</td>\n</tr><tr>\n  <td>u_urls</td>\n  <td>array&lt;string&gt;</td>\n  <td>Unique top-level mf2 <code>u-url</code>(s) on the page.</td>\n</tr>\n</table>\n\n\n<h3 id=\"schema-sites\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&p=indie-map&d=indiemap&t=sites&page=table\">sites</a></code></h3>\n\n<p>All sites in the dataset. The <code>names, urls, descriptions,</code> and <code>pictures</code> fields are extracted from the site's home page's representative h-card, HTML title, <a href=\"http://ogp.me/\">Open Graph</a> tags, and <a href=\"https://dev.twitter.com/cards/overview\">Twitter card</a> tags.</p>\n\n<table class=\"schema\">\n<tr>\n  <th>Field name</th>\n  <th>Type</th>\n  <th>Description</th>\n</tr><tr>\n  <td>domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>urls</td>\n  <td>array&lt;string&gt;</td>\n  <td>This site's home page URL(s).</td>\n</tr><tr>\n  <td>names</td>\n  <td>array&lt;string&gt;</td>\n  <td></td>\n</tr><tr>\n  <td>descriptions</td>\n  <td>array&lt;string&gt;</td>\n  <td></td>\n</tr><tr>\n  <td>pictures</td>\n  <td>array&lt;string&gt;</td>\n  <td></td>\n</tr><tr>\n  <td>hcard</td>\n  <td>string</td>\n  <td><a href=\"http://microformats.org/wiki/representative-h-card-parsing\">Representative h-card</a> for this site's home page, if any. JSON encoded.</td>\n</tr><tr>\n  <td>rel_mes</td>\n  <td>array&lt;string&gt;</td>\n  <td>All <code>rel-me</code> links on this site's home page.</td>\n</tr><tr>\n  <td>crawl_start</td>\n  <td>timestamp</td>\n  <td></td>\n</tr><tr>\n  <td>crawl_end</td>\n  <td>timestamp</td>\n  <td></td>\n</tr><tr>\n  <td>num_pages</td>\n  <td>integer</td>\n  <td>Total number of pages crawled on this site.</td>\n</tr><tr>\n  <td>links_out</td>\n  <td>integer</td>\n  <td>Total number of <code>&lt;a&gt;</code> links in crawled pages on this site to another domain.</td>\n</tr><tr>\n  <td>links_in</td>\n  <td>integer</td>\n  <td>Total number of <code>&lt;a&gt;</code> links in crawled pages on other sites to this site.</td>\n</tr><tr>\n  <td>endpoints</td>\n  <td>array&lt;<br />\n      &nbsp;<span class=\"field\">authorization</span>&nbsp;array&lt;string&gt;, <br />\n      &nbsp;<span class=\"field\">token</span>&nbsp;array&lt;string&gt;, <br />\n      &nbsp;<span class=\"field\">webmention</span>&nbsp;array&lt;string&gt;, <br />\n      &nbsp;<span class=\"field\">micropub</span>&nbsp;array&lt;string&gt;, <br />\n      &nbsp;<span class=\"field\">generator</span>&nbsp;array&lt;string&gt; <br />\n      &gt;</td>\n  <td>All discovered URL endpoints in this site's pages for these five <code>link rel</code> values.</td>\n</tr><tr>\n  <td>tags</td>\n  <td>array&lt;string&gt;</td>\n  <td>Curated list of tags that describe this site. Possible values: <code class=\"string\">bridgy community elder founder IRC IWS2017 tool webmention.io Known WordPress relme</code></td>\n</tr><tr>\n  <td>servers</td>\n  <td>array&lt;string&gt;</td>\n  <td>List of possible web servers that serve this site. Inferred from the <code>Server</code> HTTP response header, <code>rel-generator</code> links, and <code>meta generator</code> tags.</td>\n</tr><tr>\n  <td>total_html_size</td>\n  <td>integer</td>\n  <td>Total size of all crawled pages on this site, in bytes.</td>\n</tr><tr>\n  <td>mf2_classes</td>\n  <td>array&lt;string&gt;</td>\n  <td>All mf2 classes observed on pages on this site.</td>\n</tr>\n</table>\n\n\n\n<h3 id=\"schema-canonical-pages\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&p=indie-map&d=indiemap&t=canonical_pages&page=table\">canonical_pages</a></code></h3>\n\n<p>A view of <a href=\"#schema-pages\">pages</a>. Same schema, but only includes canonical pages, ie that don't have a <code>rel-canonical</code> link pointing to a different page.\n\n<h3 id=\"schema-links\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&p=indie-map&d=indiemap&t=links&page=table\">links</a></code></h3>\n\n<p>A view of <a href=\"#schema-pages\">pages</a>. Every <code>&lt;a&gt;</code> link in a page in the dataset, one row per link.</p>\n\n<table class=\"schema\">\n<tr>\n  <td>from_url</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>from_domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>to_url</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>to_site</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>mf2_class</td>\n  <td>string</td>\n  <td>Possible values: <code class=\"string\">u-in-reply-to u-repost-of u-like-of u-favorite-of u-invitee u-quotation-of u-bookmark-of NULL</code></td>\n</tr>\n</table>\n\n\n<h3 id=\"schema-links-social-graph\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&p=indie-map&d=indiemap&t=links_social_graph&page=table\">links_social_graph</a></code></h3>\n\n<p>A view of <a href=\"#schema-pages\">pages</a>. Counts of <code>&lt;a&gt;</code> links in pages in the dataset, grouped by source and destination domain and mf2 class (or none).</p>\n\n<table class=\"schema\">\n<tr>\n  <td>from_domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>to_site</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>mf2_class</td>\n  <td>string</td>\n  <td>Possible values: <code class=\"string\">u-in-reply-to u-repost-of u-like-of u-favorite-of u-invitee u-quotation-of u-bookmark-of NULL</code></td>\n</tr><tr>\n  <td>num</td>\n  <td>integer</td>\n  <td>Number of links with the given mf2 class between these two domains.</td>\n</tr>\n</table>\n\n\n\n<h2 id=\"crawl\">Crawl</h2>\n\n<h3 id=\"crawl-data\">Data</h3>\n\n<p>The raw crawl data is available as a set of <a href=\"http://bibnum.bnf.fr/WARC/\">WARC</a> files, one per site, which include full HTTP request and response metadata, headers, and raw response bodies. It's also available as JSON files with the same metadata and parsed mf2.</p>\n\n<p>The files are stored in <a href=\"https://cloud.google.com/storage/\">Google Cloud Storage</a>, in the <code>gs://indie-map</code> bucket. You can access them <a href=\"https://console.cloud.google.com/storage/browser/indie-map/\">via the web UI</a> and the <a href=\"https://cloud.google.com/storage/docs/quickstart-gsutil\"><code>gsutil</code> CLI utility</a>, e.g. <code>gsutil cp gs://indie-map/crawl/\\*.warc.gz</code> or <code>gsutil cp gs://indie-map/bigquery/\\*.json.gz</code>. You'll need a Google account, but there's no cost.</p>\n\n<p>Individual pages and sites are timestamped. Indie Map may be extended and updated in the future with new crawls.</p>\n\n<h3 id=\"crawl-methodology\">Methodology</h3>\n\n<p>Sites were crawled with with <a href=\"https://www.gnu.org/software/wget/\">GNU <code>wget</code></a> v1.19.1, on Mac OS X 10.11.6 on a mid-2014 MacBook Pro, over a Comcast 100Mbps residential account in San Francisco, <a href=\"graphs/crawl.png\">between April and June 2017</a>. Notable details:</p>\n\n<ul>\n<li><a href=\"http://robotstxt.org/\"><code>robots.txt</code> files</a> were respected.</li>\n<li><code>wget</code>'s <code>--recursive</code> flag was used to follow links.</li>\n<li><code>&lt;a&gt;</code> tags were followed. <code>&lt;link&gt;</code> tags were not followed.</li>\n<li>Failed requests due to network connections, etc. were retried 5-10 times.</li>\n<li>HTTP requests timed out after 60-120s.</li>\n<li>Most sites were crawled at ~.3 <a href=\"http://en.wikipedia.org/wiki/Queries_per_second\">qps</a> to prevent overloading them.</li>\n<li>Most HTTP requests used <code>User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:53.0) Gecko/20100101 Firefox/53.0</code>. Requests for some initial sites used <code>User-Agent: Wget/1.19.1</code>.</li>\n<li>URLS ending in these file extensions were ignored: <code>as atom avi bz2 bzip bzip2 css csv doc docx dvf epub exe gif GIF gz GZ gzip ico iso jar jpeg JPEG jpg JPG js json m4a m4b m4v mov mp3 mp4 mpg odt ogg pdf PDF png PNG ppt pptx ps rar rdf rss svg swf SWF tar txt text wav wma wmv xml xls xlsx xpi Z zip</code>.</li>\n<li><a href=\"https://github.com/snarfed/indie-map/blob/master/src/blacklist.py\">Other URL patterns were ignored</a> to avoid infinite loop, randomly generated, duplicate, and otherwise low value pages.</li>\n<li><code>wget</code>'s <code>--warc-file</code> flag was used to output <a href=\"http://bibnum.bnf.fr/WARC/\">WARC</a> files.</li>\n<li>Sent <code>Accept: text/html</code> to <a href=\"https://rhiaro.co.uk/\">rhiaro.co.uk</a> for content negotiation, since it returns RDF by default. Otherwise, didn't send the <code>Accept</code> header to any other sites.\n</ul>\n\n<p>Full invocation details in <a href=\"https://github.com/snarfed/indie-map/blob/master/crawl/wget.sh\"><code>wget.sh</code></a>.</p>\n\n<h3 id=\"common-crawl\">Common Crawl (historical)</h3>\n\n<p>I originally tried extracting IndieWeb sites from the <a href=\"http://commoncrawl.org/\">Common Crawl</a>, but it turned out to be too incomplete and sparse. Each individual monthly crawl (averaging 2-3B pages) only includes a handful of sites, and only a handful of pages from those sites. They <a href=\"https://github.com/commoncrawl/cc-crawl-statistics/blob/master/plots/crawloverlap.md\">deliberately spread out the URL space</a>, so I would have needed to process <em>all</em> of their crawls, and even then I probably wouldn't get all pages on the sites I care about.</p>\n\n<p>I considered ignoring domains in a blacklist that I know aren't IndieWeb, e.g. facebook.com and twitter.com. <a href=\"https://github.com/snarfed/bridgy/blob/master/domain_blacklist.txt\">Bridgy's blacklist</a> and the Common Crawl's top 500 domains (<code>s3://commoncrawl/crawl-analysis/CC-MAIN-2017-13/stats/part-00000.gz</code>) were good sources. However, in the March 2017 crawl, those top 500 domains comprise just ~505M of the 3B total pages (ie 1/6), which isn't substantial enough to justify the risk of missing anything.</p>\n\n<p>Related:</p>\n<ul>\n<li><a href=\"http://webdatacommons.org/structureddata/#toc1\">Web Data Commons</a>: microformats etc</li>\n<li><a href=\"http://manu.sporny.org/2012/structured-data-searching/\">Searching for Microformats, RDFa, and Microdata Usage in the Wild</a></li>\n<li><a href=\"http://postneo.com/2011/05/04/social-graph-analysis-using-elastic-mapreduce-and-pypy\">Social Graph Analysis using Elastic MapReduce and PyPy</a></li>\n<li><a href=\"https://github.com/iipc/webarchive-commons\">webarchive-commons</a></li>\n</ul>\n\n\n<h2 id=\"sites\">Sites included</h2>\n\n<p>Any personal web site is IndieWeb in spirit! And many organization and company web sites too. <em>Especially</em> if the owner uses it as some or all of their primary online identity.</p>\n\n<p>For this dataset, I focused on web sites that have interacted with the IndieWeb community in some meaningful way. I tried to include as many of those as I could. The full list is in <a href=\"https://github.com/snarfed/indie-map/blob/master/crawl/2017/domains.txt\"><code>crawl/2017/domains.txt</code></a>, which was compiled from:</p>\n\n<ul>\n<!-- <li><a href=\"https://indieweb.org/IRC_People\">indieweb.org/IRC_People</a>, as of 2017-04-23.</li> -->\n<li>People who have logged into the <a href=\"https://indieweb.org/\">IndieWeb wiki</a> as of 2017-06-09, pulled from <a href=\"https://indieweb.org/Special:ListUsers\">indieweb.org/Special:ListUsers</a>.</li>\n<li>Sites <a href=\"https://webmention.io/\">webmention.io</a> has successfully sent at least one webmention to, as of 2017-04-29.</li>\n<li>Sites <a href=\"https://brid.gy/\">Bridgy</a> has successfully sent at least one webmention to, as of 2017-04-23.</li>\n</ul>\n\n<p>Notable <em>missing</em> collections of sites that I'd love to include:</p>\n\n<ul>\n<li>All hosted subdomains under <a href=\"https://withknown.com/\">withknown.com</a>.</li>\n<li>All hosted subdomains under <a href=\"https://micro.blog/\">micro.blog</a>.</li>\n</ul>\n\n<p>I also propose the modest criteria that a site is IndieWeb in a technical <a href=\"http://indieweb.org/plumbing\">plumbing</a> sense if it has either <a href=\"http://microformats.org/wiki/microformats2\">microformats2</a>, a webmention endpoint, or a micropub endpoint. Indie Map doesn't actually use that criteria anywhere, though.</p>\n\n\n<h3 id=\"notable\">Notable sites</h3>\n\n<ul>\n<li><a href=\"https://www.museum-digital.de/\">museum-digital.de</a>: massive digital catalog of over 34k museum artifacts from 84 museums. Includes h-cards and h-geos for many of the artifacts.</li>\n<li><a href=\"https://huffduffer.com/\">huffduffer.com</a>: over 400k podcast links marked up with mf2.</li>\n<li><a href=\"https://www.contrepoints.org/\">contrepoints.org</a>: online French newspaper with h-entrys and h-cards.</li>\n<li><a href=\"https://loadaverage.org/\">loadaverage.org</a>: fairly big GNU Social instance with mf2. <a href=\"https://wiki.loadaverage.org/about\">Details.</a></li>\n<li><a href=\"https://wirres.net/\">wirres.net</a>: large personal site with over 300k pages.</li>\n<li><a href=\"https://shkspr.mobi/\">shkspr.mobi</a>: All of Shakespeare's plays and sonnets, paginated and formatted for mobile.</li>\n<li><a href=\"https://indieweb.org/\">indieweb.org</a>, naturally.</li>\n<li><a href=\"https://chat.indieweb.org/\">chat.indieweb.org</a>: <a href=\"https://indieweb.org/discuss\">IRC</a> transcripts from #indieweb[camp], #indieweb-dev, #microformats, and more.</li>\n<li><a href=\"https://aaronparecki.com/\">aaronparecki.com</a>,\n<a href=\"https://adactio.com/\">adactio.com</a>,\n<a href=\"http://caseorganic.com/\">caseorganic.com</a>,\n<a href=\"http://crystalbeasley.com/\">crystalbeasley.com</a>,\n<a href=\"http://www.kevinmarks.com/\">kevinmarks.com</a>,\n<a href=\"http://tantek.com/\">tantek.com</a>,\n<a href=\"http://werd.io/\">werd.io</a>: IndieWebCamp founders and elders.</li>\n</ul>\n\n\n<h3 id=\"exceptions\">Exceptions</h3>\n\nSites or parts of sites that were excluded from the dataset.\n\n<ul>\n<li><a href=\"http://achor.net/\">achor.net</a>: huge forum site with mf2.</li>\n<li><a href=\"http://adactio.com/extras/talklikeapirate/\">adactio.com/extras/talklikeapirate/translate.php</a>: accepts any URL as input, transforms every link in output.</li>\n<li><a href=\"http://airbornesurfer.com/gallery/\">airbornesurfer.com/gallery/...</a>: massive set of photo galleries generated by <a href=\"http://piwigo.org\">Piwigo</a>.</li>\n<li><a href=\"http://c2.com/%7Eward/sudokant.cgi\">c2.com/~ward/sudokant.cgi</a>: Sudoku solver CGI app, generates sudoku boards forever.</li>\n<li><a href=\"https://chat.indieweb.org/\">chat.indieweb.org</a>: pages for single IRC messages, e.g. <code>/????-??-??/...</code>.</li>\n<li><a href=\"http://chriswarbo.net/git/\">chriswarbo.net/git/...</a>: web UI to large code repos.</li>\n<li><a href=\"http://csarven.ca/\">csarven.ca</a>: <a href=\"https://github.com/snarfed/indie-map/issues/2\">requested to be removed on 2018-06-14</a>.</li>\n<li><a href=\"http://cyborganthropology.com/\">cyborganthropology.com</a>: MediaWiki special pages, e.g. revision history.</li>\n<li><a href=\"https://dentaku.wazong.de/\">dentaku.wazong.de</a>: incomplete, but we do have 98k pages!</li>\n<li><a href=\"http://dev.subversive.audio/agenda\">dev.subversive.audio/agenda/...</a>: calendar that navigates into the future forever.</li>\n<li><a href=\"http://dracos.co.uk/made/bbc-news-archive/tardis/search-headline/\">dracos.co.uk/made/bbc-news-archive/tardis/search-headline/...</a>: searchable archive of BBC News headlines.</li>\n<li><a href=\"http://fastwonderblog.com/category/ebook/speaking/consulting/speaking/speaking/\">fastwonderblog.com/category/.../speaking/consulting/.../</a>: recursive URLs.</li>\n<li><a href=\"http://halfanhour.blogspot.com/search\">halfanhour.blogspot.com/search</a>: search UI with infinite loop.</li>\n<li><a href=\"https://huffduffer.com/\">huffduffer.com</a>: incomplete. Crawl only found 330k of estimated 410k items and 8k users. Tag and login pages are omitted.</li>\n<li><a href=\"https://indieweb.org/\">indieweb.org</a>: pages for single IRC messages, e.g. <code>/irc/????-??-??/line/...</code>.</li>\n<li><a href=\"http://jothut.com/cgi-bin/junco.pl/\">jothut.com/cgi-bin/junco.pl/blogpost/...%5C%22http://toledowinter.com/</a> (and toledotalk.com): odd recursive URL mirror.</li>\n<li><a href=\"http://kinderfilmblog.de/\">kinderfilmblog.de/?yr=...</a>,</li>\n<li><a href=\"http://kinderfilmblog.de/feed/my-calendar-ics\">kinderfilmblog.de/feed/my-calendar-ics?yr=...</a>,</li>\n<li><a href=\"http://kinderfilmblog.de/tolle-kinderfilme/neuerscheinungen-dvd-und-blu-ray/\">kinderfilmblog.de/tolle-kinderfilme/neuerscheinungen-dvd-und-blu-ray/?yr=...</a>: infinite loops.</li>\n<li><a href=\"http://kirilind.me/%5C%22/%5C%22/faq/%5C%22/\">kirilind.me/%5C%22/%5C%22/faq/%5C%22/...</a>: infinite loop.</li>\n<li><a href=\"http://michael.gorven.za.net/bzr/\">michael.gorven.za.net/bzr/...</a>:  web UI to large code repos.</li>\n<li><a href=\"http://nullroute.eu.org/mirrors/shoujoai.com/\">nullroute.eu.org/mirrors/shoujoai.com/...</a>: large mirror of another unrelated site.</li>\n<!-- <li><a href=\"http://rhiaro.co.uk/\">rhiaro.co.uk</a> defaults response content type to RDF (JSON), not HTML, so I sent it the Accept: text/html HTTP header to use content negotiation and get HTML. That header breaks Known, though, so I didn’t send it to any other sites.</li> -->\n<li><a href=\"http://thecommandline.net/wiki/\">thecommandline.net/wiki/...</a>: MediaWiki special pages, e.g. revision history.</li>\n<li><a href=\"http://tilde.club/~odwyer/maze/...\">tilde.club/~odwyer/maze/...</a>: random auto-generated maze.</li>\n<li><a href=\"https://unrelenting.technology/git/\">unrelenting.technology/git/...</a>: web UI to large code repos.</li>\n<li><a href=\"http://vasilis.nl/random/daily/\">vasilis.nl/random/daily/.../*.svg</a>: random generated images.</li>\n<li><a href=\"https://waterpigs.co.uk/mentions/webmention/\">waterpigs.co.uk/mentions/webmention/?wmtoken=...</a>: infinite loop, with a new token each time.</li>\n<li><a href=\"https://webdesign.weisshart.de/suchen.php?\">webdesign.weisshart.de/suchen.php?...</a>: search results.</li>\n<li><a href=\"http://wiki.projectnerdhaus.com/\">wiki.projectnerdhaus.com</a>: MediaWiki special pages (e.g. revision history) are incomplete.</li>\n<li><a href=\"http://www.bakera.de/dokuwiki/doku.php/\">www.bakera.de/dokuwiki/...</a>: wiki with lots of query params. Kept actual pages.</li>\n<li><a href=\"http://www.barbic.com.au/\">www.barbic.com.au</a>: online shoe store.</li>\n<li><a href=\"http://www.downes.ca/\">www.downes.ca</a>: a number of CGI pages that consistently 404ed all URLs: <code>dwiki/?id=...</code> and <code>/cgi-bin/.../*.cgi?...</code></li>\n<li><a href=\"http://www.ogok.de/\">www.ogok.de</a>: <code>/search?...</code>, combinatoric explosion of parameter values.</li>\n<li><a href=\"https://www.rmendes.net/\">www.rmendes.net/tag/...</a>: incomplete.</li>\n<li><a href=\"http://www.xmlab.org/news/blog-post/\">www.xmlab.org/news/blog-post/.../news/blog-post/...</a>: recursive URLs.</li>\n</ul>\n\n<h2 id=\"listings\">External listings</h2>\n\n<p>Indie Map is listed in a number of dataset directories and catalogs. Here are a few:</p>\n\n<ul>\n<li><a href=\"https://figshare.com/account/projects/23005/articles/5160793\">figshare</a> (DOI: 10.6084/m9.figshare.5160793)</li>\n<li><a href=\"https://www.kaggle.com/snarfed/indiemap\">Kaggle</a></li>\n<li><a href=\"https://datahub.io/dataset/indie-map\">datahub</a></li>\n<li><a href=\"https://data.world/snarfed/indie-map\">data.world</a></li>\n<li><a href=\"https://www.reddit.com/r/datasets/comments/6ljm6m/indie_map_a_social_network_of_the_most_active/\">Reddit: /r/datasets</a></li>\n<li><a href=\"https://github.com/caesar0301/awesome-public-datasets#social-networks/\">Awesome Public Datasets</a></li>\n</ul>\n\n</div>\n</div>\n\n<script src=\"fragmention.js\"></script>\n<script>\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-11785301-3', 'auto');\n  ga('send', 'pageview');\n</script>\n\n</body>\n</html>\n","oembed":false,"readabilityObject":{"title":"Indie Map: Docs","content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"docs-body\">\n\n\n<h2 id=\"intro\">Introduction</h2>\n\n<p><span>Indie Map</span> is a complete crawl of 2300 of the most active <a href=\"https://indieweb.org/\">IndieWeb</a> sites as of June 2017, sliced and diced and rolled up in a few useful ways:</p>\n\n<ul>\n<li>Social graph <a href=\"#social-graph-api\">API</a> and <a href=\"https://kumu.io/snarfed/indie-map\">interactive map</a>.</li>\n<li><a href=\"#data-mining\">SQL queryable dataset</a> and <a href=\"#stats\">example stats.</a>\n</li><li><a href=\"docs.html#crawl\">Raw crawl data</a> in <a href=\"http://bibnum.bnf.fr/WARC/\">WARC</a> format: <a href=\"https://github.com/snarfed/indie-map/blob/main/crawl/2017/domains.txt\">2300 sites</a>, 5.7M pages, 380GB HTML with <a href=\"http://microformats.org/wiki/microformats2\">microformats2</a>.</li>\n</ul>\n\n<p>Indie Map <a href=\"https://snarfed.org/2017-06-24_new-side-project-indie-map\">was announced</a> at <a href=\"https://2017.indieweb.org/\">IndieWeb Summit 2017</a>. Check out the <a href=\"https://www.youtube.com/watch?v=bkc5afFohmI\">video of the talk</a> and <a href=\"https://snarfed.org/indiemap_iws2017/\">slide deck</a> for an introduction.</p>\n\n<p>Indie Map is free, <a href=\"https://github.com/snarfed/indie-map\">open source</a>, and placed into the public domain via the <a href=\"https://creativecommons.org/share-your-work/public-domain/cc0/\">CC0 public domain dedication</a>. Crawled content remains the property of each site's owner and author, and subject to their existing copyrights.</p>\n\n<p>The photo above and on the home page is <a href=\"https://pixabay.com/en/map-of-the-world-old-historically-2241469/\">Map Of The World, by Geralt</a>, reused under CC0.</p>\n\n<p>Indie Map was created by . Support Indie Map by <a href=\"https://opencollective.com/indieweb\">donating to the IndieWeb</a>!</p>\n\n\n<h2 id=\"toc\">Contents</h2>\n\n<ul>\n<li><a href=\"#social-graph\">Social graph</a>\n  <ul>\n  <li><a href=\"#social-graph-viz\">Interactive visualization</a></li>\n  <li><a href=\"#social-graph-api\">API</a></li>\n  <li><a href=\"#social-graph-data\">Data</a></li>\n  </ul></li>\n<li><a href=\"#stats\">Statistics and graphs</a>\n  </li>\n<li><a href=\"#data-mining\">Data mining</a>\n  <ul>\n  <li><a href=\"#query-example\">Example query</a></li>\n  <li><a href=\"#schema-pages\"><code>pages</code></a></li>\n  <li><a href=\"#schema-sites\"><code>sites</code></a></li>\n  <li><a href=\"#schema-canonical-pages\"><code>canonical_pages</code></a></li>\n  <li><a href=\"#schema-links\"><code>links</code></a></li>\n  <li><a href=\"#schema-links-social-graph\"><code>links_social_graph</code></a></li>\n  </ul></li>\n<li><a href=\"#crawl\">Crawl</a>\n  <ul>\n  <li><a href=\"#crawl-data\">Data</a></li>\n  <li><a href=\"#crawl-methodology\">Methodology</a></li>\n  <li><a href=\"#common-crawl\">Common Crawl (historical)</a></li>\n  </ul></li>\n<li><a href=\"#sites\">Sites included</a>\n  <ul>\n  <li><a href=\"#notable\">Notable sites</a></li>\n  <li><a href=\"#exceptions\">Exceptions</a></li>\n  </ul></li>\n<li><a href=\"#listings\">External listings</a></li>\n</ul>\n\n\n\n\n\n\n<p><a href=\"https://kumu.io/snarfed/indie-map\">Click here for an interactive map of the Indie Web social graph</a>, powered by <a href=\"https://kumu.io/\">Kumu</a>. It renders all sites and links, by score, and lets you navigate and filter by connections, type, server, microformats2 classes, protocols supported (e.g. <a href=\"https://webmention.net/\">Webmention</a> and <a href=\"https://micropub.net/\">Micropub</a>), and more.</p>\n\n<p><a href=\"https://kumu.io/snarfed/indie-map\"><img alt=\"social graph\" src=\"social_graph.jpg\" width=\"990\"></a></p>\n\n\n\n\n<p>You can fetch each site's data and individual social graph, ie other sites it links to and from, by fetching <code>/<em>DOMAIN</em>.json</code> from this site. For example, my own personal web site is <a href=\"https://indiemap.org/snarfed.org.json\"><code>https://indiemap.org/snarfed.org.json</code></a>. Here's an excerpt:</p>\n\n<pre>{\n  \"<span>domain</span>\": \"<span>snarfed.org</span>\",\n  \"<span>urls</span>\": [\"<span>https://snarfed.org/</span>\"],\n  \"<span>names</span>\": [\"<span>Ryan Barrett</span>\"],\n  \"<span>descriptions</span>\": [\"<span>Ryan Barrett's blog</span>\"],\n  \"<span>pictures</span>\": [\"<span>https://snarfed.org/ryan.jpg</span>\"],\n  \"<span>hcard</span>\": {...},\n  \"<span>rel_mes</span>\": [\"<span>https://twitter.com/schnarfed</span>\", ...]\n  \"<span>crawl_start</span>\": \"<span>2017-04-25T10:48:37</span>\",\n  \"<span>crawl_end</span>\": \"<span>2017-04-26T10:56:19</span>\",\n  \"<span>num_pages</span>\": <span>6929</span>,\n  \"<span>total_html_size</span>\": <span>169794664</span>,\n  \"<span>servers</span>\": [\"<span>Apache\", \"WordPress\", \"S5</span>\"],\n  \"<span>mf2_classes</span>\": [\"<span>h-feed\", \"h-card\", \"h-entry\", \"h-event</span>\", ...]\n  \"<span>endpoints</span>\": {\n    \"<span>webmention</span>\": [\"<span>https://snarfed.org/wp-json/webmention</span>\"],\n    \"<span>micropub</span>\": [\"<span>http://snarfed.org/w/?micropub=endpoint</span>\"],\n    \"<span>authorization</span>\": [\"<span>https://indieauth.com/auth</span>\"],\n    \"<span>token</span>\": [\"<span>https://tokens.indieauth.com/token</span>\"],\n  },\n  \"<span>links_out</span>\": <span>102689</span>,\n  \"<span>links_in</span>\": <span>81519</span>,\n  \"<span>links</span>\": {\n    \"<span>indieweb.org</span>\": {\n      \"<span>out</span>\": {\"<span>other</span>\": <span>6750</span>},\n      \"<span>in</span>\": {\"<span>other</span>\": <span>46800</span>},\n      \"<span>score</span>\": <span>1</span>\n    },\n    \"<span>kylewm.com</span>\": {\n      \"<span>out</span>\": {\"<span>like-of</span>\": <span>267</span>, \"<span>in-reply-to</span>\": <span>172</span>, ...},\n      \"<span>in</span>\": {\"<span>other</span>\": <span>1041</span>, \"<span>invitee</span>\": <span>5</span>, \"<span>bookmark-of</span>\": <span>4</span>, ...},\n      \"<span>score</span>\": <span>0.783</span>\n    },\n    \"<span>werd.io</span>\": {\n      \"<span>out</span>\": {\"<span>in-reply-to</span>\": <span>68</span>, \"<span>like-of</span>\": <span>93</span>, \"<span>other</span>\": <span>51</span>},\n      \"<span>in</span>\": {\"<span>other</span>\": <span>602</span>, \"<span>in-reply-to</span>\": <span>218</span>},\n      \"<span>score</span>\": <span>0.723</span>\n    },\n  ...\n</pre>\n\n\n<p>The <code>hcard</code> field is the <a href=\"\">representative h-card</a> from the site's home page, extracted by <a href=\"https://github.com/kylewm/mf2util\">mf2util</a> 0.5.0's <code>representative_hcard()</code>.</p>\n\n<p>The <code>links</code> field is a list of other sites with links to and from this site, ordered by <code>score</code>, a calculated estimate of the connection strength. The formula is <code>ln(links) / ln (max links)</code>, where links is the total number of links to and from the site, <a href=\"https://github.com/snarfed/indie-map/blob/master/bigquery/make_web.py#L35\">weighted by type</a>, and max links is the highest link count across all sites in this site's list. The weights are:</p><p>\n\nDirection:\n</p><ul>\n<li>outbound: 2x</li>\n<li>inbound: 1x</li>\n</ul><p>\n\nMicroformats2 class:\n</p><ul>\n<li><code>u-in-reply-to, u-invitee</code>: 5x</li>\n<li><code>u-repost-of, u-quotation-of</code>: 3x</li>\n<li><code>u-like-of, u-favorite-of, u-bookmark-of</code>: 2x</li>\n<li>other or none: 2x</li>\n</ul>\n\n<p>Social network profile URLs are inferred for links to Facebook, Twitter, and Google+ profiles and posts. Those links will appear as e.g. separate objects for <code>twitter.com/schnarfed</code>, <code>twitter.com/indiewebcamp</code>, etc. instead of lumped together in a single <code>twitter.com</code> object. This is best effort only.</p>\n\n<p>The <code>links</code> object is limited to the top 500 linked sites, by score. If there are more, the <code>links_truncated</code> field will be <code>true</code>. You can get the full list of sites by fetching <code>/full/<em>DOMAIN</em>.json</code>. You can also get just the links to/from the sites within this dataset by fetching <code>/indie/<em>DOMAIN</em>.json</code>.</p>\n\n<p><a href=\"https://webmention.net/\">Webmention</a>, <a href=\"https://micropub.net/\">Micropub</a>, <a href=\"https://www.w3.org/TR/websub/\">WebSub</a>, and <a href=\"https://indieweb.org/IndieAuth\">IndieAuth</a> endpoints are only extracted from the first matching HTML <code>&lt;link&gt;</code> tag, not all, and not from HTTP headers. These bugs may be fixed in the future.</p>\n\n\n\n\n<p>You can <a href=\"https://indiemap.org/all.zip\">download a zip file with the full set of JSON files</a>. You can also look at the individual files in <a href=\"https://cloud.google.com/storage/\">Google Cloud Storage</a>, in the <code>gs://www.indiemap.org</code> bucket. You can access them <a href=\"https://console.cloud.google.com/storage/browser/indie-map/\">via the web UI</a> and the <a href=\"https://cloud.google.com/storage/docs/quickstart-gsutil\"><code>gsutil</code> CLI utility</a>, e.g. <code>gsutil cp gs://www.indiemap.org/\\*.json .</code> You'll need a Google account, but there's no cost.</p>\n\n\n<h2 id=\"stats\">Statistics and graphs</h2>\n\n<p>Here are a few interesting breakdowns of the data, visualized with <a href=\"https://metabase.com/\">Metabase</a>:</p>\n\n<p><a href=\"graphs/crawl.png\"><img id=\"graph-crawl\" src=\"graphs/crawl.png\"></a>\n<a href=\"graphs/sites.png\"><img id=\"graph-sites\" src=\"graphs/sites.png\"></a>\n<a href=\"graphs/tlds.png\"><img id=\"graph-tlds\" src=\"graphs/tlds.png\"></a>\n<a href=\"graphs/domain_segments.png\"><img id=\"domain_segments\" src=\"graphs/domain_segments.png\"></a>\n<a href=\"graphs/mf2_by_sites.png\"><img id=\"mf2_by_sites\" src=\"graphs/mf2_by_sites.png\"></a>\n<a href=\"graphs/mf2_by_pages.png\"><img id=\"mf2_by_pages\" src=\"graphs/mf2_by_pages.png\"></a>\n<a href=\"graphs/link_rels.png\"><img id=\"link_rels\" src=\"graphs/link_rels.png\"></a>\n<a href=\"graphs/rel_me_sites.png\"><img id=\"rel_me_sites\" src=\"graphs/rel_me_sites.png\"></a>\n<a href=\"graphs/rel_me_histogram.png\"><img id=\"rel_me_histogram\" src=\"graphs/rel_me_histogram.png\"></a>\n<a href=\"graphs/servers.png\"><img id=\"graph-servers\" src=\"graphs/servers.png\"></a>\n</p>\n\n\n<h2 id=\"data-mining\">Data mining</h2>\n\n<p>The Indie Map dataset is available in Google's <a href=\"https://cloud.google.com/bigquery/\">BigQuery</a> data warehouse, which supports Standard SQL queries and integrates with <a href=\"https://cloud.google.com/bigquery/partners/#bianalytics-partners\">many powerful analytics tools</a>. The dataset is <a href=\"https://console.cloud.google.com/bigquery?project=indie-map&amp;d=indiemap&amp;page=dataset&amp;p=indie-map\"><code>indie-map:indiemap</code></a>. You'll need a Google account. <a href=\"https://cloud.google.com/bigquery/pricing#free-tier\">You can query up to 1TB/month for free, but it costs $5/TB after that.</a></p>\n\n<p>The dataset consists of two tables, <a href=\"#schema-pages\"><code>pages</code></a> and <a href=\"#schema-pages\"><code>sites</code></a>, and three views, <a href=\"#schema-canonical-pages\"><code>canonical_pages</code></a>, <a href=\"#schema-links\"><code>links</code></a>, and <a href=\"#schema-links-social-graph\"><code>links_social_graph</code></a>. Each page's HTML was parsed for mf2 by <a href=\"https://github.com/tommorris/mf2py\">mf2py</a> 1.0.5, which was then used to populate many fields. Some fields are JSON encoded strings, which you can query in BiqQuery with <a href=\"https://cloud.google.com/bigquery/docs/reference/legacy-sql#json_extract\"><code>JSON_EXTRACT</code></a> and <a href=\"https://code.google.com/p/jsonpath\">JSONPath</a>.</p>\n\n\n<h3 id=\"query-example\">Example query</h3>\n\n<p>Here's an example BigQuery SQL query that finds the most common <code>rel-me</code> link domains, by number of sites:</p>\n\n<pre>SELECT NET.REG_DOMAIN(<span>url</span>) <span>silo</span>, COUNT(DISTINCT <span>domain</span>) <span>sites</span>\nFROM <span>indiemap.pages p, p.rels r, r.urls url</span>\nWHERE <span>r.value</span> = <span>'me'</span> AND NET.REG_DOMAIN(<span>url</span>) IS NOT NULL\nGROUP BY <span>silo</span>\nORDER BY <span>sites</span> DESC\nLIMIT 15\n</pre>\n\n<p>And here's a <a href=\"http://www.metabase.com/\">Metabase</a> visualization of that query:</p>\n\n<p>\n<a href=\"graphs/rel_me_sites.png\">\n<img alt=\"rel-me link domains per site\" src=\"graphs/rel_me_sites.png\">\n</a></p>\n\n\n<h3 id=\"schema-pages\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&amp;p=indie-map&amp;d=indiemap&amp;t=pages&amp;page=table\">pages</a></code></h3>\n\n<p>All HTML pages crawled, from all sites in the dataset.</p>\n\n<table>\n<tbody><tr>\n  <th>Field name</th>\n  <th>Type</th>\n  <th>Description</th>\n</tr><tr>\n  <td>url</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>fetch_time</td>\n  <td>timestamp</td>\n  <td></td>\n</tr><tr>\n  <td>headers</td>\n  <td>array&lt; <br>\n      &nbsp;<span>name</span>&nbsp;string, <br>\n      &nbsp;<span>value</span>&nbsp;string <br>\n      &gt;</td>\n  <td>All HTTP response headers.</td>\n</tr><tr>\n  <td>html</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>mf2</td>\n  <td>string</td>\n  <td>Full parsed mf2, JSON encoded.</td>\n</tr><tr>\n  <td>links</td>\n  <td>array&lt;<br>\n      &nbsp;<span>tag</span>&nbsp;string, <br>\n      &nbsp;<span>url</span>&nbsp;string, <br>\n      &nbsp;<span>classes</span>&nbsp;array&lt;string&gt;, <br>\n      &nbsp;<span>rels</span>&nbsp;array&lt;string&gt;, <br>\n      &nbsp;<span>inner_html</span>&nbsp;string <br>\n      &gt;</td>\n  <td>All outbound <code>&lt;a&gt;</code> links.</td>\n</tr><tr>\n  <td>mf2_classes</td>\n  <td>array&lt;string&gt;</td>\n  <td>All mf2 classes present in the page.</td>\n</tr><tr>\n  <td>rels</td>\n  <td>array&lt; <br>\n      &nbsp;<span>value</span>&nbsp;string, <br>\n      &nbsp;<span>urls</span>&nbsp;array&lt;string&gt; <br>\n      &gt;</td>\n  <td>All links with <code>rel</code> values.</td>\n</tr><tr>\n  <td>u_urls</td>\n  <td>array&lt;string&gt;</td>\n  <td>Unique top-level mf2 <code>u-url</code>(s) on the page.</td>\n</tr>\n</tbody></table>\n\n\n<h3 id=\"schema-sites\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&amp;p=indie-map&amp;d=indiemap&amp;t=sites&amp;page=table\">sites</a></code></h3>\n\n<p>All sites in the dataset. The <code>names, urls, descriptions,</code> and <code>pictures</code> fields are extracted from the site's home page's representative h-card, HTML title, <a href=\"http://ogp.me/\">Open Graph</a> tags, and <a href=\"https://dev.twitter.com/cards/overview\">Twitter card</a> tags.</p>\n\n<table>\n<tbody><tr>\n  <th>Field name</th>\n  <th>Type</th>\n  <th>Description</th>\n</tr><tr>\n  <td>domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>urls</td>\n  <td>array&lt;string&gt;</td>\n  <td>This site's home page URL(s).</td>\n</tr><tr>\n  <td>names</td>\n  <td>array&lt;string&gt;</td>\n  <td></td>\n</tr><tr>\n  <td>descriptions</td>\n  <td>array&lt;string&gt;</td>\n  <td></td>\n</tr><tr>\n  <td>pictures</td>\n  <td>array&lt;string&gt;</td>\n  <td></td>\n</tr><tr>\n  <td>hcard</td>\n  <td>string</td>\n  <td><a href=\"http://microformats.org/wiki/representative-h-card-parsing\">Representative h-card</a> for this site's home page, if any. JSON encoded.</td>\n</tr><tr>\n  <td>rel_mes</td>\n  <td>array&lt;string&gt;</td>\n  <td>All <code>rel-me</code> links on this site's home page.</td>\n</tr><tr>\n  <td>crawl_start</td>\n  <td>timestamp</td>\n  <td></td>\n</tr><tr>\n  <td>crawl_end</td>\n  <td>timestamp</td>\n  <td></td>\n</tr><tr>\n  <td>num_pages</td>\n  <td>integer</td>\n  <td>Total number of pages crawled on this site.</td>\n</tr><tr>\n  <td>links_out</td>\n  <td>integer</td>\n  <td>Total number of <code>&lt;a&gt;</code> links in crawled pages on this site to another domain.</td>\n</tr><tr>\n  <td>links_in</td>\n  <td>integer</td>\n  <td>Total number of <code>&lt;a&gt;</code> links in crawled pages on other sites to this site.</td>\n</tr><tr>\n  <td>endpoints</td>\n  <td>array&lt;<br>\n      &nbsp;<span>authorization</span>&nbsp;array&lt;string&gt;, <br>\n      &nbsp;<span>token</span>&nbsp;array&lt;string&gt;, <br>\n      &nbsp;<span>webmention</span>&nbsp;array&lt;string&gt;, <br>\n      &nbsp;<span>micropub</span>&nbsp;array&lt;string&gt;, <br>\n      &nbsp;<span>generator</span>&nbsp;array&lt;string&gt; <br>\n      &gt;</td>\n  <td>All discovered URL endpoints in this site's pages for these five <code>link rel</code> values.</td>\n</tr><tr>\n  <td>tags</td>\n  <td>array&lt;string&gt;</td>\n  <td>Curated list of tags that describe this site. Possible values: <code>bridgy community elder founder IRC IWS2017 tool webmention.io Known WordPress relme</code></td>\n</tr><tr>\n  <td>servers</td>\n  <td>array&lt;string&gt;</td>\n  <td>List of possible web servers that serve this site. Inferred from the <code>Server</code> HTTP response header, <code>rel-generator</code> links, and <code>meta generator</code> tags.</td>\n</tr><tr>\n  <td>total_html_size</td>\n  <td>integer</td>\n  <td>Total size of all crawled pages on this site, in bytes.</td>\n</tr><tr>\n  <td>mf2_classes</td>\n  <td>array&lt;string&gt;</td>\n  <td>All mf2 classes observed on pages on this site.</td>\n</tr>\n</tbody></table>\n\n\n\n<h3 id=\"schema-canonical-pages\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&amp;p=indie-map&amp;d=indiemap&amp;t=canonical_pages&amp;page=table\">canonical_pages</a></code></h3>\n\n<p>A view of <a href=\"#schema-pages\">pages</a>. Same schema, but only includes canonical pages, ie that don't have a <code>rel-canonical</code> link pointing to a different page.\n\n</p><h3 id=\"schema-links\"><code><a href=\"https://console.cloud.google.com/bigquery?project=indie-map&amp;p=indie-map&amp;d=indiemap&amp;t=links&amp;page=table\">links</a></code></h3>\n\n<p>A view of <a href=\"#schema-pages\">pages</a>. Every <code>&lt;a&gt;</code> link in a page in the dataset, one row per link.</p>\n\n<table>\n<tbody><tr>\n  <td>from_url</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>from_domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>to_url</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>to_site</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>mf2_class</td>\n  <td>string</td>\n  <td>Possible values: <code>u-in-reply-to u-repost-of u-like-of u-favorite-of u-invitee u-quotation-of u-bookmark-of NULL</code></td>\n</tr>\n</tbody></table>\n\n\n\n\n<p>A view of <a href=\"#schema-pages\">pages</a>. Counts of <code>&lt;a&gt;</code> links in pages in the dataset, grouped by source and destination domain and mf2 class (or none).</p>\n\n<table>\n<tbody><tr>\n  <td>from_domain</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>to_site</td>\n  <td>string</td>\n  <td></td>\n</tr><tr>\n  <td>mf2_class</td>\n  <td>string</td>\n  <td>Possible values: <code>u-in-reply-to u-repost-of u-like-of u-favorite-of u-invitee u-quotation-of u-bookmark-of NULL</code></td>\n</tr><tr>\n  <td>num</td>\n  <td>integer</td>\n  <td>Number of links with the given mf2 class between these two domains.</td>\n</tr>\n</tbody></table>\n\n\n\n<h2 id=\"crawl\">Crawl</h2>\n\n<h3 id=\"crawl-data\">Data</h3>\n\n<p>The raw crawl data is available as a set of <a href=\"http://bibnum.bnf.fr/WARC/\">WARC</a> files, one per site, which include full HTTP request and response metadata, headers, and raw response bodies. It's also available as JSON files with the same metadata and parsed mf2.</p>\n\n<p>The files are stored in <a href=\"https://cloud.google.com/storage/\">Google Cloud Storage</a>, in the <code>gs://indie-map</code> bucket. You can access them <a href=\"https://console.cloud.google.com/storage/browser/indie-map/\">via the web UI</a> and the <a href=\"https://cloud.google.com/storage/docs/quickstart-gsutil\"><code>gsutil</code> CLI utility</a>, e.g. <code>gsutil cp gs://indie-map/crawl/\\*.warc.gz</code> or <code>gsutil cp gs://indie-map/bigquery/\\*.json.gz</code>. You'll need a Google account, but there's no cost.</p>\n\n<p>Individual pages and sites are timestamped. Indie Map may be extended and updated in the future with new crawls.</p>\n\n<h3 id=\"crawl-methodology\">Methodology</h3>\n\n<p>Sites were crawled with with <a href=\"https://www.gnu.org/software/wget/\">GNU <code>wget</code></a> v1.19.1, on Mac OS X 10.11.6 on a mid-2014 MacBook Pro, over a Comcast 100Mbps residential account in San Francisco, <a href=\"graphs/crawl.png\">between April and June 2017</a>. Notable details:</p>\n\n<ul>\n<li><a href=\"http://robotstxt.org/\"><code>robots.txt</code> files</a> were respected.</li>\n<li><code>wget</code>'s <code>--recursive</code> flag was used to follow links.</li>\n<li><code>&lt;a&gt;</code> tags were followed. <code>&lt;link&gt;</code> tags were not followed.</li>\n<li>Failed requests due to network connections, etc. were retried 5-10 times.</li>\n<li>HTTP requests timed out after 60-120s.</li>\n<li>Most sites were crawled at ~.3 <a href=\"http://en.wikipedia.org/wiki/Queries_per_second\">qps</a> to prevent overloading them.</li>\n<li>Most HTTP requests used <code>User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:53.0) Gecko/20100101 Firefox/53.0</code>. Requests for some initial sites used <code>User-Agent: Wget/1.19.1</code>.</li>\n<li>URLS ending in these file extensions were ignored: <code>as atom avi bz2 bzip bzip2 css csv doc docx dvf epub exe gif GIF gz GZ gzip ico iso jar jpeg JPEG jpg JPG js json m4a m4b m4v mov mp3 mp4 mpg odt ogg pdf PDF png PNG ppt pptx ps rar rdf rss svg swf SWF tar txt text wav wma wmv xml xls xlsx xpi Z zip</code>.</li>\n<li><a href=\"https://github.com/snarfed/indie-map/blob/master/src/blacklist.py\">Other URL patterns were ignored</a> to avoid infinite loop, randomly generated, duplicate, and otherwise low value pages.</li>\n<li><code>wget</code>'s <code>--warc-file</code> flag was used to output <a href=\"http://bibnum.bnf.fr/WARC/\">WARC</a> files.</li>\n<li>Sent <code>Accept: text/html</code> to <a href=\"https://rhiaro.co.uk/\">rhiaro.co.uk</a> for content negotiation, since it returns RDF by default. Otherwise, didn't send the <code>Accept</code> header to any other sites.\n</li></ul>\n\n<p>Full invocation details in <a href=\"https://github.com/snarfed/indie-map/blob/master/crawl/wget.sh\"><code>wget.sh</code></a>.</p>\n\n<h3 id=\"common-crawl\">Common Crawl (historical)</h3>\n\n<p>I originally tried extracting IndieWeb sites from the <a href=\"http://commoncrawl.org/\">Common Crawl</a>, but it turned out to be too incomplete and sparse. Each individual monthly crawl (averaging 2-3B pages) only includes a handful of sites, and only a handful of pages from those sites. They <a href=\"https://github.com/commoncrawl/cc-crawl-statistics/blob/master/plots/crawloverlap.md\">deliberately spread out the URL space</a>, so I would have needed to process <em>all</em> of their crawls, and even then I probably wouldn't get all pages on the sites I care about.</p>\n\n<p>I considered ignoring domains in a blacklist that I know aren't IndieWeb, e.g. facebook.com and twitter.com. <a href=\"https://github.com/snarfed/bridgy/blob/master/domain_blacklist.txt\">Bridgy's blacklist</a> and the Common Crawl's top 500 domains (<code>s3://commoncrawl/crawl-analysis/CC-MAIN-2017-13/stats/part-00000.gz</code>) were good sources. However, in the March 2017 crawl, those top 500 domains comprise just ~505M of the 3B total pages (ie 1/6), which isn't substantial enough to justify the risk of missing anything.</p>\n\n<p>Related:</p>\n<ul>\n<li><a href=\"http://webdatacommons.org/structureddata/#toc1\">Web Data Commons</a>: microformats etc</li>\n<li><a href=\"http://manu.sporny.org/2012/structured-data-searching/\">Searching for Microformats, RDFa, and Microdata Usage in the Wild</a></li>\n<li><a href=\"http://postneo.com/2011/05/04/social-graph-analysis-using-elastic-mapreduce-and-pypy\">Social Graph Analysis using Elastic MapReduce and PyPy</a></li>\n<li><a href=\"https://github.com/iipc/webarchive-commons\">webarchive-commons</a></li>\n</ul>\n\n\n<h2 id=\"sites\">Sites included</h2>\n\n<p>Any personal web site is IndieWeb in spirit! And many organization and company web sites too. <em>Especially</em> if the owner uses it as some or all of their primary online identity.</p>\n\n<p>For this dataset, I focused on web sites that have interacted with the IndieWeb community in some meaningful way. I tried to include as many of those as I could. The full list is in <a href=\"https://github.com/snarfed/indie-map/blob/master/crawl/2017/domains.txt\"><code>crawl/2017/domains.txt</code></a>, which was compiled from:</p>\n\n<ul>\n<!-- <li><a href=\"https://indieweb.org/IRC_People\">indieweb.org/IRC_People</a>, as of 2017-04-23.</li> -->\n<li>People who have logged into the <a href=\"https://indieweb.org/\">IndieWeb wiki</a> as of 2017-06-09, pulled from <a href=\"https://indieweb.org/Special:ListUsers\">indieweb.org/Special:ListUsers</a>.</li>\n<li>Sites <a href=\"https://webmention.io/\">webmention.io</a> has successfully sent at least one webmention to, as of 2017-04-29.</li>\n<li>Sites <a href=\"https://brid.gy/\">Bridgy</a> has successfully sent at least one webmention to, as of 2017-04-23.</li>\n</ul>\n\n<p>Notable <em>missing</em> collections of sites that I'd love to include:</p>\n\n<ul>\n<li>All hosted subdomains under <a href=\"https://withknown.com/\">withknown.com</a>.</li>\n<li>All hosted subdomains under <a href=\"https://micro.blog/\">micro.blog</a>.</li>\n</ul>\n\n<p>I also propose the modest criteria that a site is IndieWeb in a technical <a href=\"http://indieweb.org/plumbing\">plumbing</a> sense if it has either <a href=\"http://microformats.org/wiki/microformats2\">microformats2</a>, a webmention endpoint, or a micropub endpoint. Indie Map doesn't actually use that criteria anywhere, though.</p>\n\n\n<h3 id=\"notable\">Notable sites</h3>\n\n<ul>\n<li><a href=\"https://www.museum-digital.de/\">museum-digital.de</a>: massive digital catalog of over 34k museum artifacts from 84 museums. Includes h-cards and h-geos for many of the artifacts.</li>\n<li><a href=\"https://huffduffer.com/\">huffduffer.com</a>: over 400k podcast links marked up with mf2.</li>\n<li><a href=\"https://www.contrepoints.org/\">contrepoints.org</a>: online French newspaper with h-entrys and h-cards.</li>\n<li><a href=\"https://loadaverage.org/\">loadaverage.org</a>: fairly big GNU Social instance with mf2. <a href=\"https://wiki.loadaverage.org/about\">Details.</a></li>\n<li><a href=\"https://wirres.net/\">wirres.net</a>: large personal site with over 300k pages.</li>\n<li><a href=\"https://shkspr.mobi/\">shkspr.mobi</a>: All of Shakespeare's plays and sonnets, paginated and formatted for mobile.</li>\n<li><a href=\"https://indieweb.org/\">indieweb.org</a>, naturally.</li>\n<li><a href=\"https://chat.indieweb.org/\">chat.indieweb.org</a>: <a href=\"https://indieweb.org/discuss\">IRC</a> transcripts from #indieweb[camp], #indieweb-dev, #microformats, and more.</li>\n<li><a href=\"https://aaronparecki.com/\">aaronparecki.com</a>,\n<a href=\"https://adactio.com/\">adactio.com</a>,\n<a href=\"http://caseorganic.com/\">caseorganic.com</a>,\n<a href=\"http://crystalbeasley.com/\">crystalbeasley.com</a>,\n<a href=\"http://www.kevinmarks.com/\">kevinmarks.com</a>,\n<a href=\"http://tantek.com/\">tantek.com</a>,\n<a href=\"http://werd.io/\">werd.io</a>: IndieWebCamp founders and elders.</li>\n</ul>\n\n\n<h3 id=\"exceptions\">Exceptions</h3><p>\n\nSites or parts of sites that were excluded from the dataset.\n\n</p><ul>\n<li><a href=\"http://achor.net/\">achor.net</a>: huge forum site with mf2.</li>\n<li><a href=\"http://adactio.com/extras/talklikeapirate/\">adactio.com/extras/talklikeapirate/translate.php</a>: accepts any URL as input, transforms every link in output.</li>\n<li><a href=\"http://airbornesurfer.com/gallery/\">airbornesurfer.com/gallery/...</a>: massive set of photo galleries generated by <a href=\"http://piwigo.org/\">Piwigo</a>.</li>\n<li><a href=\"http://c2.com/%7Eward/sudokant.cgi\">c2.com/~ward/sudokant.cgi</a>: Sudoku solver CGI app, generates sudoku boards forever.</li>\n<li><a href=\"https://chat.indieweb.org/\">chat.indieweb.org</a>: pages for single IRC messages, e.g. <code>/????-??-??/...</code>.</li>\n<li><a href=\"http://chriswarbo.net/git/\">chriswarbo.net/git/...</a>: web UI to large code repos.</li>\n<li><a href=\"http://csarven.ca/\">csarven.ca</a>: <a href=\"https://github.com/snarfed/indie-map/issues/2\">requested to be removed on 2018-06-14</a>.</li>\n<li><a href=\"http://cyborganthropology.com/\">cyborganthropology.com</a>: MediaWiki special pages, e.g. revision history.</li>\n<li><a href=\"https://dentaku.wazong.de/\">dentaku.wazong.de</a>: incomplete, but we do have 98k pages!</li>\n<li><a href=\"http://dev.subversive.audio/agenda\">dev.subversive.audio/agenda/...</a>: calendar that navigates into the future forever.</li>\n<li><a href=\"http://dracos.co.uk/made/bbc-news-archive/tardis/search-headline/\">dracos.co.uk/made/bbc-news-archive/tardis/search-headline/...</a>: searchable archive of BBC News headlines.</li>\n<li><a href=\"http://fastwonderblog.com/category/ebook/speaking/consulting/speaking/speaking/\">fastwonderblog.com/category/.../speaking/consulting/.../</a>: recursive URLs.</li>\n<li><a href=\"http://halfanhour.blogspot.com/search\">halfanhour.blogspot.com/search</a>: search UI with infinite loop.</li>\n<li><a href=\"https://huffduffer.com/\">huffduffer.com</a>: incomplete. Crawl only found 330k of estimated 410k items and 8k users. Tag and login pages are omitted.</li>\n<li><a href=\"https://indieweb.org/\">indieweb.org</a>: pages for single IRC messages, e.g. <code>/irc/????-??-??/line/...</code>.</li>\n<li><a href=\"http://jothut.com/cgi-bin/junco.pl/\">jothut.com/cgi-bin/junco.pl/blogpost/...%5C%22http://toledowinter.com/</a> (and toledotalk.com): odd recursive URL mirror.</li>\n<li><a href=\"http://kinderfilmblog.de/\">kinderfilmblog.de/?yr=...</a>,</li>\n<li><a href=\"http://kinderfilmblog.de/feed/my-calendar-ics\">kinderfilmblog.de/feed/my-calendar-ics?yr=...</a>,</li>\n<li><a href=\"http://kinderfilmblog.de/tolle-kinderfilme/neuerscheinungen-dvd-und-blu-ray/\">kinderfilmblog.de/tolle-kinderfilme/neuerscheinungen-dvd-und-blu-ray/?yr=...</a>: infinite loops.</li>\n<li><a href=\"http://kirilind.me/%5C%22/%5C%22/faq/%5C%22/\">kirilind.me/%5C%22/%5C%22/faq/%5C%22/...</a>: infinite loop.</li>\n<li><a href=\"http://michael.gorven.za.net/bzr/\">michael.gorven.za.net/bzr/...</a>:  web UI to large code repos.</li>\n<li><a href=\"http://nullroute.eu.org/mirrors/shoujoai.com/\">nullroute.eu.org/mirrors/shoujoai.com/...</a>: large mirror of another unrelated site.</li>\n<!-- <li><a href=\"http://rhiaro.co.uk/\">rhiaro.co.uk</a> defaults response content type to RDF (JSON), not HTML, so I sent it the Accept: text/html HTTP header to use content negotiation and get HTML. That header breaks Known, though, so I didn’t send it to any other sites.</li> -->\n<li><a href=\"http://thecommandline.net/wiki/\">thecommandline.net/wiki/...</a>: MediaWiki special pages, e.g. revision history.</li>\n<li><a href=\"http://tilde.club/~odwyer/maze/...\">tilde.club/~odwyer/maze/...</a>: random auto-generated maze.</li>\n<li><a href=\"https://unrelenting.technology/git/\">unrelenting.technology/git/...</a>: web UI to large code repos.</li>\n<li><a href=\"http://vasilis.nl/random/daily/\">vasilis.nl/random/daily/.../*.svg</a>: random generated images.</li>\n<li><a href=\"https://waterpigs.co.uk/mentions/webmention/\">waterpigs.co.uk/mentions/webmention/?wmtoken=...</a>: infinite loop, with a new token each time.</li>\n<li><a href=\"https://webdesign.weisshart.de/suchen.php?\">webdesign.weisshart.de/suchen.php?...</a>: search results.</li>\n<li><a href=\"http://wiki.projectnerdhaus.com/\">wiki.projectnerdhaus.com</a>: MediaWiki special pages (e.g. revision history) are incomplete.</li>\n<li><a href=\"http://www.bakera.de/dokuwiki/doku.php/\">www.bakera.de/dokuwiki/...</a>: wiki with lots of query params. Kept actual pages.</li>\n<li><a href=\"http://www.barbic.com.au/\">www.barbic.com.au</a>: online shoe store.</li>\n<li><a href=\"http://www.downes.ca/\">www.downes.ca</a>: a number of CGI pages that consistently 404ed all URLs: <code>dwiki/?id=...</code> and <code>/cgi-bin/.../*.cgi?...</code></li>\n<li><a href=\"http://www.ogok.de/\">www.ogok.de</a>: <code>/search?...</code>, combinatoric explosion of parameter values.</li>\n<li><a href=\"https://www.rmendes.net/\">www.rmendes.net/tag/...</a>: incomplete.</li>\n<li><a href=\"http://www.xmlab.org/news/blog-post/\">www.xmlab.org/news/blog-post/.../news/blog-post/...</a>: recursive URLs.</li>\n</ul>\n\n<h2 id=\"listings\">External listings</h2>\n\n<p>Indie Map is listed in a number of dataset directories and catalogs. Here are a few:</p>\n\n<ul>\n<li><a href=\"https://figshare.com/account/projects/23005/articles/5160793\">figshare</a> (DOI: 10.6084/m9.figshare.5160793)</li>\n<li><a href=\"https://www.kaggle.com/snarfed/indiemap\">Kaggle</a></li>\n<li><a href=\"https://datahub.io/dataset/indie-map\">datahub</a></li>\n<li><a href=\"https://data.world/snarfed/indie-map\">data.world</a></li>\n<li><a href=\"https://www.reddit.com/r/datasets/comments/6ljm6m/indie_map_a_social_network_of_the_most_active/\">Reddit: /r/datasets</a></li>\n<li><a href=\"https://github.com/caesar0301/awesome-public-datasets#social-networks/\">Awesome Public Datasets</a></li>\n</ul>\n\n</div></div>","textContent":"\n\n\nIntroduction\n\nIndie Map is a complete crawl of 2300 of the most active IndieWeb sites as of June 2017, sliced and diced and rolled up in a few useful ways:\n\n\nSocial graph API and interactive map.\nSQL queryable dataset and example stats.\nRaw crawl data in WARC format: 2300 sites, 5.7M pages, 380GB HTML with microformats2.\n\n\nIndie Map was announced at IndieWeb Summit 2017. Check out the video of the talk and slide deck for an introduction.\n\nIndie Map is free, open source, and placed into the public domain via the CC0 public domain dedication. Crawled content remains the property of each site's owner and author, and subject to their existing copyrights.\n\nThe photo above and on the home page is Map Of The World, by Geralt, reused under CC0.\n\nIndie Map was created by . Support Indie Map by donating to the IndieWeb!\n\n\nContents\n\n\nSocial graph\n  \n  Interactive visualization\n  API\n  Data\n  \nStatistics and graphs\n  \nData mining\n  \n  Example query\n  pages\n  sites\n  canonical_pages\n  links\n  links_social_graph\n  \nCrawl\n  \n  Data\n  Methodology\n  Common Crawl (historical)\n  \nSites included\n  \n  Notable sites\n  Exceptions\n  \nExternal listings\n\n\n\n\n\n\n\nClick here for an interactive map of the Indie Web social graph, powered by Kumu. It renders all sites and links, by score, and lets you navigate and filter by connections, type, server, microformats2 classes, protocols supported (e.g. Webmention and Micropub), and more.\n\n\n\n\n\n\nYou can fetch each site's data and individual social graph, ie other sites it links to and from, by fetching /DOMAIN.json from this site. For example, my own personal web site is https://indiemap.org/snarfed.org.json. Here's an excerpt:\n\n{\n  \"domain\": \"snarfed.org\",\n  \"urls\": [\"https://snarfed.org/\"],\n  \"names\": [\"Ryan Barrett\"],\n  \"descriptions\": [\"Ryan Barrett's blog\"],\n  \"pictures\": [\"https://snarfed.org/ryan.jpg\"],\n  \"hcard\": {...},\n  \"rel_mes\": [\"https://twitter.com/schnarfed\", ...]\n  \"crawl_start\": \"2017-04-25T10:48:37\",\n  \"crawl_end\": \"2017-04-26T10:56:19\",\n  \"num_pages\": 6929,\n  \"total_html_size\": 169794664,\n  \"servers\": [\"Apache\", \"WordPress\", \"S5\"],\n  \"mf2_classes\": [\"h-feed\", \"h-card\", \"h-entry\", \"h-event\", ...]\n  \"endpoints\": {\n    \"webmention\": [\"https://snarfed.org/wp-json/webmention\"],\n    \"micropub\": [\"http://snarfed.org/w/?micropub=endpoint\"],\n    \"authorization\": [\"https://indieauth.com/auth\"],\n    \"token\": [\"https://tokens.indieauth.com/token\"],\n  },\n  \"links_out\": 102689,\n  \"links_in\": 81519,\n  \"links\": {\n    \"indieweb.org\": {\n      \"out\": {\"other\": 6750},\n      \"in\": {\"other\": 46800},\n      \"score\": 1\n    },\n    \"kylewm.com\": {\n      \"out\": {\"like-of\": 267, \"in-reply-to\": 172, ...},\n      \"in\": {\"other\": 1041, \"invitee\": 5, \"bookmark-of\": 4, ...},\n      \"score\": 0.783\n    },\n    \"werd.io\": {\n      \"out\": {\"in-reply-to\": 68, \"like-of\": 93, \"other\": 51},\n      \"in\": {\"other\": 602, \"in-reply-to\": 218},\n      \"score\": 0.723\n    },\n  ...\n\n\n\nThe hcard field is the representative h-card from the site's home page, extracted by mf2util 0.5.0's representative_hcard().\n\nThe links field is a list of other sites with links to and from this site, ordered by score, a calculated estimate of the connection strength. The formula is ln(links) / ln (max links), where links is the total number of links to and from the site, weighted by type, and max links is the highest link count across all sites in this site's list. The weights are:\n\nDirection:\n\noutbound: 2x\ninbound: 1x\n\n\nMicroformats2 class:\n\nu-in-reply-to, u-invitee: 5x\nu-repost-of, u-quotation-of: 3x\nu-like-of, u-favorite-of, u-bookmark-of: 2x\nother or none: 2x\n\n\nSocial network profile URLs are inferred for links to Facebook, Twitter, and Google+ profiles and posts. Those links will appear as e.g. separate objects for twitter.com/schnarfed, twitter.com/indiewebcamp, etc. instead of lumped together in a single twitter.com object. This is best effort only.\n\nThe links object is limited to the top 500 linked sites, by score. If there are more, the links_truncated field will be true. You can get the full list of sites by fetching /full/DOMAIN.json. You can also get just the links to/from the sites within this dataset by fetching /indie/DOMAIN.json.\n\nWebmention, Micropub, WebSub, and IndieAuth endpoints are only extracted from the first matching HTML <link> tag, not all, and not from HTTP headers. These bugs may be fixed in the future.\n\n\n\n\nYou can download a zip file with the full set of JSON files. You can also look at the individual files in Google Cloud Storage, in the gs://www.indiemap.org bucket. You can access them via the web UI and the gsutil CLI utility, e.g. gsutil cp gs://www.indiemap.org/\\*.json . You'll need a Google account, but there's no cost.\n\n\nStatistics and graphs\n\nHere are a few interesting breakdowns of the data, visualized with Metabase:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nData mining\n\nThe Indie Map dataset is available in Google's BigQuery data warehouse, which supports Standard SQL queries and integrates with many powerful analytics tools. The dataset is indie-map:indiemap. You'll need a Google account. You can query up to 1TB/month for free, but it costs $5/TB after that.\n\nThe dataset consists of two tables, pages and sites, and three views, canonical_pages, links, and links_social_graph. Each page's HTML was parsed for mf2 by mf2py 1.0.5, which was then used to populate many fields. Some fields are JSON encoded strings, which you can query in BiqQuery with JSON_EXTRACT and JSONPath.\n\n\nExample query\n\nHere's an example BigQuery SQL query that finds the most common rel-me link domains, by number of sites:\n\nSELECT NET.REG_DOMAIN(url) silo, COUNT(DISTINCT domain) sites\nFROM indiemap.pages p, p.rels r, r.urls url\nWHERE r.value = 'me' AND NET.REG_DOMAIN(url) IS NOT NULL\nGROUP BY silo\nORDER BY sites DESC\nLIMIT 15\n\n\nAnd here's a Metabase visualization of that query:\n\n\n\n\n\n\n\npages\n\nAll HTML pages crawled, from all sites in the dataset.\n\n\n\n  Field name\n  Type\n  Description\n\n  url\n  string\n  \n\n  domain\n  string\n  \n\n  fetch_time\n  timestamp\n  \n\n  headers\n  array< \n       name string, \n       value string \n      >\n  All HTTP response headers.\n\n  html\n  string\n  \n\n  mf2\n  string\n  Full parsed mf2, JSON encoded.\n\n  links\n  array<\n       tag string, \n       url string, \n       classes array<string>, \n       rels array<string>, \n       inner_html string \n      >\n  All outbound <a> links.\n\n  mf2_classes\n  array<string>\n  All mf2 classes present in the page.\n\n  rels\n  array< \n       value string, \n       urls array<string> \n      >\n  All links with rel values.\n\n  u_urls\n  array<string>\n  Unique top-level mf2 u-url(s) on the page.\n\n\n\n\nsites\n\nAll sites in the dataset. The names, urls, descriptions, and pictures fields are extracted from the site's home page's representative h-card, HTML title, Open Graph tags, and Twitter card tags.\n\n\n\n  Field name\n  Type\n  Description\n\n  domain\n  string\n  \n\n  urls\n  array<string>\n  This site's home page URL(s).\n\n  names\n  array<string>\n  \n\n  descriptions\n  array<string>\n  \n\n  pictures\n  array<string>\n  \n\n  hcard\n  string\n  Representative h-card for this site's home page, if any. JSON encoded.\n\n  rel_mes\n  array<string>\n  All rel-me links on this site's home page.\n\n  crawl_start\n  timestamp\n  \n\n  crawl_end\n  timestamp\n  \n\n  num_pages\n  integer\n  Total number of pages crawled on this site.\n\n  links_out\n  integer\n  Total number of <a> links in crawled pages on this site to another domain.\n\n  links_in\n  integer\n  Total number of <a> links in crawled pages on other sites to this site.\n\n  endpoints\n  array<\n       authorization array<string>, \n       token array<string>, \n       webmention array<string>, \n       micropub array<string>, \n       generator array<string> \n      >\n  All discovered URL endpoints in this site's pages for these five link rel values.\n\n  tags\n  array<string>\n  Curated list of tags that describe this site. Possible values: bridgy community elder founder IRC IWS2017 tool webmention.io Known WordPress relme\n\n  servers\n  array<string>\n  List of possible web servers that serve this site. Inferred from the Server HTTP response header, rel-generator links, and meta generator tags.\n\n  total_html_size\n  integer\n  Total size of all crawled pages on this site, in bytes.\n\n  mf2_classes\n  array<string>\n  All mf2 classes observed on pages on this site.\n\n\n\n\n\ncanonical_pages\n\nA view of pages. Same schema, but only includes canonical pages, ie that don't have a rel-canonical link pointing to a different page.\n\nlinks\n\nA view of pages. Every <a> link in a page in the dataset, one row per link.\n\n\n\n  from_url\n  string\n  \n\n  from_domain\n  string\n  \n\n  to_url\n  string\n  \n\n  to_site\n  string\n  \n\n  mf2_class\n  string\n  Possible values: u-in-reply-to u-repost-of u-like-of u-favorite-of u-invitee u-quotation-of u-bookmark-of NULL\n\n\n\n\n\n\nA view of pages. Counts of <a> links in pages in the dataset, grouped by source and destination domain and mf2 class (or none).\n\n\n\n  from_domain\n  string\n  \n\n  to_site\n  string\n  \n\n  mf2_class\n  string\n  Possible values: u-in-reply-to u-repost-of u-like-of u-favorite-of u-invitee u-quotation-of u-bookmark-of NULL\n\n  num\n  integer\n  Number of links with the given mf2 class between these two domains.\n\n\n\n\n\nCrawl\n\nData\n\nThe raw crawl data is available as a set of WARC files, one per site, which include full HTTP request and response metadata, headers, and raw response bodies. It's also available as JSON files with the same metadata and parsed mf2.\n\nThe files are stored in Google Cloud Storage, in the gs://indie-map bucket. You can access them via the web UI and the gsutil CLI utility, e.g. gsutil cp gs://indie-map/crawl/\\*.warc.gz or gsutil cp gs://indie-map/bigquery/\\*.json.gz. You'll need a Google account, but there's no cost.\n\nIndividual pages and sites are timestamped. Indie Map may be extended and updated in the future with new crawls.\n\nMethodology\n\nSites were crawled with with GNU wget v1.19.1, on Mac OS X 10.11.6 on a mid-2014 MacBook Pro, over a Comcast 100Mbps residential account in San Francisco, between April and June 2017. Notable details:\n\n\nrobots.txt files were respected.\nwget's --recursive flag was used to follow links.\n<a> tags were followed. <link> tags were not followed.\nFailed requests due to network connections, etc. were retried 5-10 times.\nHTTP requests timed out after 60-120s.\nMost sites were crawled at ~.3 qps to prevent overloading them.\nMost HTTP requests used User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:53.0) Gecko/20100101 Firefox/53.0. Requests for some initial sites used User-Agent: Wget/1.19.1.\nURLS ending in these file extensions were ignored: as atom avi bz2 bzip bzip2 css csv doc docx dvf epub exe gif GIF gz GZ gzip ico iso jar jpeg JPEG jpg JPG js json m4a m4b m4v mov mp3 mp4 mpg odt ogg pdf PDF png PNG ppt pptx ps rar rdf rss svg swf SWF tar txt text wav wma wmv xml xls xlsx xpi Z zip.\nOther URL patterns were ignored to avoid infinite loop, randomly generated, duplicate, and otherwise low value pages.\nwget's --warc-file flag was used to output WARC files.\nSent Accept: text/html to rhiaro.co.uk for content negotiation, since it returns RDF by default. Otherwise, didn't send the Accept header to any other sites.\n\n\nFull invocation details in wget.sh.\n\nCommon Crawl (historical)\n\nI originally tried extracting IndieWeb sites from the Common Crawl, but it turned out to be too incomplete and sparse. Each individual monthly crawl (averaging 2-3B pages) only includes a handful of sites, and only a handful of pages from those sites. They deliberately spread out the URL space, so I would have needed to process all of their crawls, and even then I probably wouldn't get all pages on the sites I care about.\n\nI considered ignoring domains in a blacklist that I know aren't IndieWeb, e.g. facebook.com and twitter.com. Bridgy's blacklist and the Common Crawl's top 500 domains (s3://commoncrawl/crawl-analysis/CC-MAIN-2017-13/stats/part-00000.gz) were good sources. However, in the March 2017 crawl, those top 500 domains comprise just ~505M of the 3B total pages (ie 1/6), which isn't substantial enough to justify the risk of missing anything.\n\nRelated:\n\nWeb Data Commons: microformats etc\nSearching for Microformats, RDFa, and Microdata Usage in the Wild\nSocial Graph Analysis using Elastic MapReduce and PyPy\nwebarchive-commons\n\n\n\nSites included\n\nAny personal web site is IndieWeb in spirit! And many organization and company web sites too. Especially if the owner uses it as some or all of their primary online identity.\n\nFor this dataset, I focused on web sites that have interacted with the IndieWeb community in some meaningful way. I tried to include as many of those as I could. The full list is in crawl/2017/domains.txt, which was compiled from:\n\n\n\nPeople who have logged into the IndieWeb wiki as of 2017-06-09, pulled from indieweb.org/Special:ListUsers.\nSites webmention.io has successfully sent at least one webmention to, as of 2017-04-29.\nSites Bridgy has successfully sent at least one webmention to, as of 2017-04-23.\n\n\nNotable missing collections of sites that I'd love to include:\n\n\nAll hosted subdomains under withknown.com.\nAll hosted subdomains under micro.blog.\n\n\nI also propose the modest criteria that a site is IndieWeb in a technical plumbing sense if it has either microformats2, a webmention endpoint, or a micropub endpoint. Indie Map doesn't actually use that criteria anywhere, though.\n\n\nNotable sites\n\n\nmuseum-digital.de: massive digital catalog of over 34k museum artifacts from 84 museums. Includes h-cards and h-geos for many of the artifacts.\nhuffduffer.com: over 400k podcast links marked up with mf2.\ncontrepoints.org: online French newspaper with h-entrys and h-cards.\nloadaverage.org: fairly big GNU Social instance with mf2. Details.\nwirres.net: large personal site with over 300k pages.\nshkspr.mobi: All of Shakespeare's plays and sonnets, paginated and formatted for mobile.\nindieweb.org, naturally.\nchat.indieweb.org: IRC transcripts from #indieweb[camp], #indieweb-dev, #microformats, and more.\naaronparecki.com,\nadactio.com,\ncaseorganic.com,\ncrystalbeasley.com,\nkevinmarks.com,\ntantek.com,\nwerd.io: IndieWebCamp founders and elders.\n\n\n\nExceptions\n\nSites or parts of sites that were excluded from the dataset.\n\n\nachor.net: huge forum site with mf2.\nadactio.com/extras/talklikeapirate/translate.php: accepts any URL as input, transforms every link in output.\nairbornesurfer.com/gallery/...: massive set of photo galleries generated by Piwigo.\nc2.com/~ward/sudokant.cgi: Sudoku solver CGI app, generates sudoku boards forever.\nchat.indieweb.org: pages for single IRC messages, e.g. /????-??-??/....\nchriswarbo.net/git/...: web UI to large code repos.\ncsarven.ca: requested to be removed on 2018-06-14.\ncyborganthropology.com: MediaWiki special pages, e.g. revision history.\ndentaku.wazong.de: incomplete, but we do have 98k pages!\ndev.subversive.audio/agenda/...: calendar that navigates into the future forever.\ndracos.co.uk/made/bbc-news-archive/tardis/search-headline/...: searchable archive of BBC News headlines.\nfastwonderblog.com/category/.../speaking/consulting/.../: recursive URLs.\nhalfanhour.blogspot.com/search: search UI with infinite loop.\nhuffduffer.com: incomplete. Crawl only found 330k of estimated 410k items and 8k users. Tag and login pages are omitted.\nindieweb.org: pages for single IRC messages, e.g. /irc/????-??-??/line/....\njothut.com/cgi-bin/junco.pl/blogpost/...%5C%22http://toledowinter.com/ (and toledotalk.com): odd recursive URL mirror.\nkinderfilmblog.de/?yr=...,\nkinderfilmblog.de/feed/my-calendar-ics?yr=...,\nkinderfilmblog.de/tolle-kinderfilme/neuerscheinungen-dvd-und-blu-ray/?yr=...: infinite loops.\nkirilind.me/%5C%22/%5C%22/faq/%5C%22/...: infinite loop.\nmichael.gorven.za.net/bzr/...:  web UI to large code repos.\nnullroute.eu.org/mirrors/shoujoai.com/...: large mirror of another unrelated site.\n\nthecommandline.net/wiki/...: MediaWiki special pages, e.g. revision history.\ntilde.club/~odwyer/maze/...: random auto-generated maze.\nunrelenting.technology/git/...: web UI to large code repos.\nvasilis.nl/random/daily/.../*.svg: random generated images.\nwaterpigs.co.uk/mentions/webmention/?wmtoken=...: infinite loop, with a new token each time.\nwebdesign.weisshart.de/suchen.php?...: search results.\nwiki.projectnerdhaus.com: MediaWiki special pages (e.g. revision history) are incomplete.\nwww.bakera.de/dokuwiki/...: wiki with lots of query params. Kept actual pages.\nwww.barbic.com.au: online shoe store.\nwww.downes.ca: a number of CGI pages that consistently 404ed all URLs: dwiki/?id=... and /cgi-bin/.../*.cgi?...\nwww.ogok.de: /search?..., combinatoric explosion of parameter values.\nwww.rmendes.net/tag/...: incomplete.\nwww.xmlab.org/news/blog-post/.../news/blog-post/...: recursive URLs.\n\n\nExternal listings\n\nIndie Map is listed in a number of dataset directories and catalogs. Here are a few:\n\n\nfigshare (DOI: 10.6084/m9.figshare.5160793)\nKaggle\ndatahub\ndata.world\nReddit: /r/datasets\nAwesome Public Datasets\n\n\n","length":16955,"excerpt":"Indie Map is a complete crawl of 2300 of the most active IndieWeb sites as of June 2017, sliced and diced and rolled up in a few useful ways:","byline":"Ryan Barrett","dir":null,"siteName":null,"lang":"en"},"finalizedMeta":{"title":"Indie Map: Docs","description":"Indie Map is a complete crawl of 2300 of the most active IndieWeb sites as of June 2017, sliced and diced and rolled up in a few useful ways:","author":false,"creator":"","publisher":false,"date":"2022-07-05T17:48:52.229Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"Indie Map: Docs","description":false,"canonical":"https://indiemap.org/docs.html#common-crawl","keywords":[],"image":"social_graph.jpg","firstParagraph":"Indie Map is a complete crawl of 2300 of the most active IndieWeb sites as of June 2017, sliced and diced and rolled up in a few useful ways:"},"dublinCore":{},"opengraph":{"title":false,"description":false,"url":false,"site_name":false,"locale":false,"type":false,"typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":false},"twitter":{"site":false,"description":false,"card":false,"creator":false,"title":false,"image":false},"archivedData":{"link":"https://web.archive.org/web/20220705172521/https://indiemap.org/docs.html","wayback":"https://web.archive.org/web/20220705172521/https://indiemap.org/docs.html"}}}