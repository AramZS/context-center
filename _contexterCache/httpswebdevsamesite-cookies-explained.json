{"initialLink":"https://web.dev/samesite-cookies-explained/","sanitizedLink":"https://web.dev/samesite-cookies-explained/","finalLink":"https://web.dev/samesite-cookies-explained/","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://web.dev/samesite-cookies-explained/\" itemprop=\"url\">SameSite cookies explained</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2023-06-29T19:03:12.223Z\">6/29/2023</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. </p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a is=\"contexter-link\" href=\"https://web.dev/samesite-cookies-explained/\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"1eda1e9d27f11ba658277c60210cda3a70df18cc","data":{"originalLink":"https://web.dev/samesite-cookies-explained/","sanitizedLink":"https://web.dev/samesite-cookies-explained/","canonical":"https://web.dev/samesite-cookies-explained/","htmlText":"<!doctype html><html lang=en><meta charset=utf-8><meta content=\"width=device-width,initial-scale=1.0\" name=viewport><script>window.applyThemeSetting=function(e){const t=window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"light\",o=e||localStorage.getItem(\"user-color-scheme\")||t,r=document.documentElement.getAttribute(\"data-user-theme\");if(o){o!==r&&document.documentElement.setAttribute(\"data-user-theme\",o);const e=document.querySelector(\"web-lighthouse-viewer article.lh-root\");e&&e.classList.toggle(\"lh-dark\",\"dark\"===o)}},window.applyThemeSetting();</script><link href=\"/css/next.css?v=a9386d79\" rel=stylesheet><link as=font crossorigin=anonymous href=/fonts/material-icons/regular.woff2 rel=preload><link as=font crossorigin=anonymous href=/fonts/google-sans/regular/latin.woff2 rel=preload><link as=font crossorigin=anonymous href=/fonts/google-sans/bold/latin.woff2 rel=preload><link href=https://web-dev.imgix.net rel=preconnect><meta content=#fff name=theme-color><title>SameSite cookies explained</title><meta content=\"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. \" name=description><link href=https://web.dev/samesite-cookies-explained/ rel=canonical><link href=https://web.dev/i18n/de/samesite-cookies-explained/ hreflang=de rel=alternate><link href=https://web.dev/i18n/es/samesite-cookies-explained/ hreflang=es rel=alternate><link href=https://web.dev/i18n/fr/samesite-cookies-explained/ hreflang=fr rel=alternate><link href=https://web.dev/i18n/ja/samesite-cookies-explained/ hreflang=ja rel=alternate><link href=https://web.dev/i18n/ko/samesite-cookies-explained/ hreflang=ko rel=alternate><link href=https://web.dev/i18n/pt/samesite-cookies-explained/ hreflang=pt rel=alternate><link href=https://web.dev/i18n/ru/samesite-cookies-explained/ hreflang=ru rel=alternate><link href=https://web.dev/i18n/zh/samesite-cookies-explained/ hreflang=zh rel=alternate><link href=https://web.dev/samesite-cookies-explained/ hreflang=en rel=alternate><meta content=\"SameSite cookies explained\" itemprop=name><meta content=\"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. \" itemprop=description><meta content=\"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&fit=max&w=1200&fm=auto\" itemprop=image><meta content=en_US property=og:locale><meta content=article property=og:type><meta content=https://web.dev/samesite-cookies-explained/ property=og:url><meta content=web.dev property=og:site_name><meta content=\"SameSite cookies explained\" property=og:title><meta content=\"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. \" property=og:description><meta content=\"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&fit=max&w=1200&fm=auto\" property=og:image><meta property=og:image:alt><meta content=security property=tag><meta content=cookies property=tag><meta content=chrome-80 property=tag><meta content=summary_large_image name=twitter:card><meta content=\"SameSite cookies explained\" name=twitter:title><meta content=\"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. \" name=twitter:description><meta content=\"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&fit=max&w=1200&fm=auto\" name=twitter:image><link data-title=\"web.dev feed\" href=/feed.xml rel=alternate type=application/atom+xml><meta content=rowan_m name=authors><meta content=secure name=paths><meta content=chrome-80,cookies,security name=tags><link href=/manifest.webmanifest rel=manifest><link rel=\"shortcut icon\" href=/images/favicon.ico><link href=/images/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/images/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link color=#0054ff href=/images/safari-pinned-tab.svg rel=mask-icon><script>function loadScript(e,d){const n=document.createElement(\"script\");if(n.src=e,n.onload=()=>{document.dispatchEvent(new CustomEvent(\"scriptLoaded\",{detail:{url:e}}))},d&&(n.type=d),\"module\"===d){n.async=!1;const d=document.createElement(\"link\");d.rel=\"modulepreload\",d.href=e,document.head.append(d),window.addEventListener(\"DOMContentLoaded\",(()=>{document.head.append(n)}))}else document.head.append(n)}</script><script>loadScript(\"/js/app.js?v=fedf5fbe\",\"module\");let pageScripts=[\"/js/content.js\"];document.addEventListener(\"scriptLoaded\",(e=>{const t=e.detail.url.split(\"?\")[0],p=pageScripts.indexOf(t);p>-1&&pageScripts.splice(p,1),0===pageScripts.length&&document.dispatchEvent(new CustomEvent(\"pageScriptsLoaded\"))})),loadScript(\"/js/content.js?v=b75cd294\",\"module\");</script><script>loadScript(\"https://shared-storage-demo-content-producer.web.app/paa/scripts/private-aggregation-test.js\",null);</script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],window.dataLayer.push({\"gtm.start\":(new Date).getTime(),event:\"gtm.js\"}),window.dataLayer.push({user_agent:navigator.userAgent}),window.dataLayer.push({\"gtm.blocklist\":[\"html\",\"d\",\"jsm\",\"j\"]});</script><meta content=\"Ah3H7DwyoUUsaRQdSySa1hMCS/JFQn/VVmrQODVDnRJGH9mU/uG6G0Uhh+4atnFGAoiEwDq+r9TzCyBi7f7wRw4AAABfeyJvcmlnaW4iOiJodHRwczovL3dlYi5kZXY6NDQzIiwiZmVhdHVyZSI6IlNwZWN1bGF0aW9uUnVsZXNQcmVmZXRjaEZ1dHVyZSIsImV4cGlyeSI6MTY5NDEzMTE5OX0=\" http-equiv=origin-trial><script type=speculationrules>{\"prerender\":[{\"source\":\"document\",\"where\":{\"and\":[{\"href_matches\":\"/*\\\\?*\",\"relative_to\":\"document\"},{\"not\":{\"href_matches\":\"/patterns/*\\\\?*\",\"relative_to\":\"document\"}}]},\"eagerness\":\"moderate\"}]}</script><body class=unresolved><web-snackbar-container></web-snackbar-container><a class=\"skip-link button\" data-type=primary href=#main>Skip to content</a><web-header class=site-header role=banner> <div class=\"cluster gutter-base\"><button class=\"icon-button tooltip color-core-text md:hidden-yes\" aria-labelledby=menu-button-toolip data-alignment=right data-open-drawer-button role=tooltip><svg viewbox=\"0 0 24 24\" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M0 0h24v24H0z\" fill=none /><path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/></svg> <span class=tooltip__content id=menu-button-tooltip>Open menu</span></button><a class=\"site-header__brand brand\" href=/> <svg viewbox=\"0 0 125 24\" aria-label=web.dev fill=currentColor height=24 role=img width=125 xmlns=http://www.w3.org/2000/svg><path d=\"M0.625 19.9489C0.625 18.2638 1.99102 16.8977 3.67614 16.8977H19.9489C21.634 16.8977 23 18.2638 23 19.9489C23 21.634 21.634 23 19.9489 23H3.67614C1.99102 23 0.625 21.634 0.625 19.9489Z\" fill=#66CCFF /><path d=\"M1.51866 1.51866C2.7102 0.327114 4.64208 0.327114 5.83361 1.51866L13.97 9.65503C15.1615 10.8466 15.1615 12.7784 13.97 13.97L5.83361 22.1063C4.64208 23.2979 2.7102 23.2979 1.51866 22.1063C0.327114 20.9148 0.327114 18.9829 1.51866 17.7914L7.13797 12.1721C7.33655 11.9735 7.33655 11.6515 7.13797 11.4529L1.51866 5.83361C0.327114 4.64208 0.327114 2.7102 1.51866 1.51866Z\" clip-rule=evenodd fill=#0066FF fill-rule=evenodd /><path d=\"M11.0422 16.8977L5.83361 22.1063C4.64208 23.2979 2.7102 23.2979 1.51866 22.1063C0.327114 20.9148 0.327114 18.9829 1.51866 17.7914L2.41233 16.8977H11.0422Z\" fill=#CC66FF /><path d=\"M19.9488 23C21.6339 23 23 21.634 23 19.9489C23 18.2638 21.6339 16.8977 19.9488 16.8977C18.2637 16.8977 16.8977 18.2638 16.8977 19.9489C16.8977 21.634 18.2637 23 19.9488 23Z\" fill=#0066FF /><path d=\"M116.6 20.1H114.4L109.6 8.20005H112L115.5 17.4L119 8.20005H121.4L116.6 20.1V20.1ZM99.8 12.8H106.6C106.5 11.2 105.2 9.90005 103.2 9.90005C101.5 9.90005 100.2 11 99.8 12.8V12.8ZM103.4 20.5C99.9 20.5 97.4 17.8 97.4 14.2C97.4 10.6 99.9 7.90005 103.3 7.90005C106.8 7.90005 109.1 10.3 109.1 14.4V14.6H99.8C99.9 16.9 101.6 18.5 103.6 18.5C105 18.5 106.2 17.8 106.9 16.4L108.9 17.4C107.8 19.3 105.8 20.5 103.4 20.5V20.5ZM89.4 20.5C86.3 20.5 83.7 17.7 83.7 14.2C83.7 10.7 86.3 7.90005 89.4 7.90005C91.1 7.90005 92.7 8.70005 93.5 9.90005H93.6L93.5 8.30005V2.80005H95.7V20.1H93.6V18.5H93.5C92.6 19.7 91.1 20.5 89.4 20.5V20.5ZM89.7 18.5C91.9 18.5 93.5 16.8 93.5 14.2C93.5 11.7 91.9 9.90005 89.7 9.90005C87.6 9.90005 85.9 11.7 85.9 14.2C85.9 16.7 87.6 18.5 89.7 18.5ZM82.9 18.6C82.9 19.5 82.2 20.2001 81.2 20.2001C80.3 20.2001 79.5 19.4 79.5 18.6C79.5 17.7 80.3 17 81.2 17C82.2 17 82.9 17.7 82.9 18.6ZM72.4 18.5C74.5 18.5 76.2 16.7 76.2 14.2C76.2 11.7 74.5 9.90005 72.4 9.90005C70.2 9.90005 68.6 11.7 68.6 14.2C68.6 16.7 70.2 18.5 72.4 18.5ZM72.8 20.5C71.1 20.5 69.5 19.7 68.7 18.5H68.6V20.1H66.5V2.80005H68.7V8.30005L68.6 9.90005H68.7C69.5 8.70005 71 7.90005 72.8 7.90005C75.9 7.90005 78.5 10.7 78.5 14.2C78.4 17.7 75.9 20.5 72.8 20.5V20.5ZM55.4 12.8H62.2C62.1 11.2 60.8 9.90005 58.8 9.90005C57.1 9.90005 55.8 11 55.4 12.8V12.8ZM59 20.5C55.5 20.5 53 17.8 53 14.2C53 10.6 55.5 7.90005 58.9 7.90005C62.4 7.90005 64.7 10.3 64.7 14.4V14.6H55.4C55.5 16.9 57.2 18.5 59.2 18.5C60.6 18.5 61.7 17.8 62.5 16.4L64.5 17.4C63.4 19.3 61.4 20.5 59 20.5V20.5ZM52.7 8.30005L48.9 20.2001H46.6L43.6 11.1L40.7 20.2001H38.4L34.5 8.30005H36.8L39.4 17.3L42.3 8.30005H44.6L47.5 17.3L50.1 8.30005H52.7V8.30005Z\" clip-rule=evenodd fill-rule=evenodd /></svg> </a></div> <web-navigation-drawer type=standard> <nav aria-label=\"main navigation\" class=site-header__nav data-drawer-container><a data-category=\"Site-Wide Custom Events\" data-label=\"Tab: About\" class=site-header__link href=/about/> About </a><a data-category=\"Site-Wide Custom Events\" data-label=\"Tab: Blog\" class=site-header__link href=/blog/> Blog </a><a data-category=\"Site-Wide Custom Events\" data-label=\"Tab: Learn\" class=site-header__link href=/learn/> Learn </a><a data-category=\"Site-Wide Custom Events\" data-label=\"Tab: Explore\" class=site-header__link href=/explore/> Explore </a><a data-category=\"Site-Wide Custom Events\" data-label=\"Tab: Patterns\" class=site-header__link href=/patterns/> Patterns </a><a data-category=\"Site-Wide Custom Events\" data-label=\"Tab: Case Studies\" class=site-header__link href=/tags/case-study/> Case studies </a><button class=\"icon-button tooltip color-core-text md:hidden-yes\" data-drawer-close-button><svg viewbox=\"0 0 24 24\" aria-label=close class=icon height=24 role=img width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M0 0h24v24H0z\" fill=none /><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg> <span class=tooltip__content>Close</span></button></nav> </web-navigation-drawer> <div class=\"site-header__actions cluster\"><div class=site-header__search><web-search i18n='{\"search\":{\"en\":\"Search\"},\"open_search\":{\"en\":\"Open search\"},\"all_articles\":{\"en\":\"All articles\"},\"close_search\":{\"en\":\"Close search\"}}' results-id=search-main-results></web-search><web-search-results id=search-main-results></web-search-results></div></div> </web-header><main id=main><div class=\"banner bg-state-info-bg color-core-text\" role=banner><div class=\"banner__content flow\">Thanks for tuning in to Google I/O. <a href=\"https://io.google/2023/program/?q=web-topic,web/&utm_source=web&utm_medium=embedded_marketing&utm_campaign=hpp_ondemand_banner&utm_content=\">Watch the Chrome content on-demand.</a></div></div><img src=\"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format\" srcset=\"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&w=1600 1600w\" alt class=hero-image fetchpriority=high height=480 sizes=100vw width=1600><div class=\"post wrapper\" data-flush><div class=\"sidebar region flex-align-start flex-dir-rev flex-wrap-no\"><nav aria-label=\"On this page\" class=\"course__toc toc over-scroll hidden-yes lg:hidden-no\" data-type=side><div class=\"course-toc__heading font-google-sans weight-medium\">On this page</div><web-scroll-spy> <div class=\"toc__wrapper flow-recursive\"><ul class=toc__list><li class=toc__listitem><a class=toc__anchor href=#explicitly-state-cookie-usage-with-the-samesite-attribute>Explicitly state cookie usage with the SameSite attribute</a><li class=toc__listitem><a class=toc__anchor href=#changes-to-the-default-behavior-without-samesite>Changes to the default behavior without SameSite</a><ul class=toc__list><li class=toc__listitem><a href=\"#samesite=lax-by-default\" class=toc__anchor>SameSite=Lax by default</a><li class=toc__listitem><a href=\"#samesite=none-must-be-secure\" class=toc__anchor>SameSite=None must be secure</a></ul><li class=toc__listitem><a class=toc__anchor href=#samesite-cookie-recipes>SameSite cookie recipes</a></ul></div> </web-scroll-spy></nav><article class=\"prose legacy-rollout\"><header class=\"flow gap-bottom-size-3\"><nav aria-label=breadcrumbs class=breadcrumbs><ul class=breadcrumbs__list role=list><li><a data-label=\"post, home breadcrumb\" class=gc-analytics-event data-action=click data-category=web.dev href=/> Home </a><li><a data-label=\"post, path breadcrumb\" class=gc-analytics-event data-action=click data-category=web.dev href=/blog> All articles </a></ul></nav><h1>SameSite cookies explained</h1><p class=\"color-mid-text flow-space-base\">Secure your site by learning how to explicitly mark your cross-site cookies.<div class=\"flow-space-size-1 color-mid-text text-size-0\"><time>May 7, 2019</time> — Updated <time>Mar 20, 2023</time></div><div class=flow><span class=post-signpost__title> Available in: <span> <a class=post-signpost__link href=/i18n/de/samesite-cookies-explained/ lang=de translate=no>Deutsch</a>, </span> <span> <a class=post-signpost__link href=/i18n/en/samesite-cookies-explained/ lang=en translate=no>English</a>, </span> <span> <a class=post-signpost__link href=/i18n/es/samesite-cookies-explained/ lang=es translate=no>Español</a>, </span> <span> <a class=post-signpost__link href=/i18n/fr/samesite-cookies-explained/ lang=fr translate=no>Français</a>, </span> <span> <a class=post-signpost__link href=/i18n/pt/samesite-cookies-explained/ lang=pt translate=no>Português</a>, </span> <span> <a class=post-signpost__link href=/i18n/ru/samesite-cookies-explained/ lang=ru translate=no>Русский</a>, </span> <span> <a class=post-signpost__link href=/i18n/zh/samesite-cookies-explained/ lang=zh translate=no>中文</a>, </span> <span> <a class=post-signpost__link href=/i18n/ja/samesite-cookies-explained/ lang=ja translate=no>日本語</a>, and </span> <span> <a class=post-signpost__link href=/i18n/ko/samesite-cookies-explained/ lang=ko translate=no>한국어</a> </span> </span></div><div class=flow><div class=\"flow post-signpost\"><span class=post-signpost__title> Appears in: </span><a class=post-signpost__link href=/secure/>Safe and secure</a></div></div><div class=\"cluster flow-space-size-2\"><div class=author><a class=avatar href=/authors/rowan_m/> <img alt=\"Rowan Merewood\" sizes=\"(min-width: 64px) 64px, calc(100vw - 48px)\" src=\"https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?auto=format&fit=crop&h=64&w=64\" srcset=\"https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x\" decoding=async height=64 loading=lazy width=64> </a><div class=flow><cite class=author__name> <a href=/authors/rowan_m/>Rowan Merewood</a> </cite><div class=\"author__links cluster\"><a href=https://twitter.com/rowan_m>Twitter</a><a href=https://github.com/rowan-m>GitHub</a><a href=https://glitch.com/@rowan-m>Glitch</a></div></div></div></div></header><div class=\"lg:hidden-yes flow-space-size-1\"><details aria-label=\"On this page\" data-type=inner role=navigation><summary>On this page</summary> <div class=toc><ul class=toc__list><li class=toc__listitem><a class=toc__anchor href=#explicitly-state-cookie-usage-with-the-samesite-attribute>Explicitly state cookie usage with the SameSite attribute</a><li class=toc__listitem><a class=toc__anchor href=#changes-to-the-default-behavior-without-samesite>Changes to the default behavior without SameSite</a><ul class=toc__list><li class=toc__listitem><a href=\"#samesite=lax-by-default\" class=toc__anchor>SameSite=Lax by default</a><li class=toc__listitem><a href=\"#samesite=none-must-be-secure\" class=toc__anchor>SameSite=None must be secure</a></ul><li class=toc__listitem><a class=toc__anchor href=#samesite-cookie-recipes>SameSite cookie recipes</a></ul></div></details></div><aside class=\"aside flow bg-state-info-bg color-state-info-text\"><div class=flow>This article is part of a series on the <code>SameSite</code> cookie attribute changes that includes: <ul><li><a href=/understanding-cookies/>Understanding cookies</a><li><a href=/samesite-cookie-recipes/>SameSite cookies recipes</a><li><a href=/schemeful-samesite/>Schemeful Same-Site</a></ul></div></aside><p>Each cookie contains a key-value pair along with a number of attributes that control when and where that cookie is used.<p>The introduction of the <code>SameSite</code> attribute (defined in <a href=https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00 rel=noopener>RFC6265bis</a>) allows you to declare if your cookie should be restricted to a first-party or same-site context. It's helpful to understand exactly what 'site' means here. The site is the combination of the domain suffix and the part of the domain just before it. For example, the <code>www.web.dev</code> domain is part of the <code>web.dev</code> site.<aside class=\"aside flow color-secondary-box-text bg-secondary-box-bg\"><p class=cluster><span class=\"aside__icon box-block\"><svg aria-label=\"Highlighter pen\" viewbox=\"0 0 24 24\" fill=currentColor height=24 role=img width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M10.22 9.49l-5.91 6c-.77.8-.7 2.05.08 2.85L.77 22h5.68l.74-.75c.78.81 1.95.86 2.73.05l5.96-6.05-5.66-5.76zm12.46-4l-2.82-2.87c-.78-.8-2.07-.84-2.84-.04l-5.75 5.85 5.66 5.75 5.69-5.78c.77-.81.83-2.11.06-2.91z\" clip-rule=evenodd fill-rule=evenodd /></svg></span><strong>Key Term</strong><div class=flow>If the user is on <code>www.web.dev</code> and requests an image from <code>static.web.dev</code> then that is a <strong>same-site</strong> request.</div></aside><p>The <a href=https://publicsuffix.org/ rel=noopener>public suffix list</a> defines this, so it's not just top-level domains like <code>.com</code> but also includes services like <code>github.io</code>. That enables <code>your-project.github.io</code> and <code>my-project.github.io</code> to count as separate sites.<aside class=\"aside flow color-secondary-box-text bg-secondary-box-bg\"><p class=cluster><span class=\"aside__icon box-block\"><svg aria-label=\"Highlighter pen\" viewbox=\"0 0 24 24\" fill=currentColor height=24 role=img width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M10.22 9.49l-5.91 6c-.77.8-.7 2.05.08 2.85L.77 22h5.68l.74-.75c.78.81 1.95.86 2.73.05l5.96-6.05-5.66-5.76zm12.46-4l-2.82-2.87c-.78-.8-2.07-.84-2.84-.04l-5.75 5.85 5.66 5.75 5.69-5.78c.77-.81.83-2.11.06-2.91z\" clip-rule=evenodd fill-rule=evenodd /></svg></span><strong>Key Term</strong><div class=flow>If the user is on <code>your-project.github.io</code> and requests an image from <code>my-project.github.io</code> that's a <strong>cross-site</strong> request.</div></aside><h2 id=explicitly-state-cookie-usage-with-the-samesite-attribute>Explicitly state cookie usage with the <code>SameSite</code> attribute <a class=headline-link href=#explicitly-state-cookie-usage-with-the-samesite-attribute>#</a></h2><p>Introducing the <code>SameSite</code> attribute on a cookie provides three different ways to control this behaviour. You can choose to not specify the attribute, or you can use <code>Strict</code> or <code>Lax</code> to limit the cookie to same-site requests.<p>If you set <code>SameSite</code> to <code>Strict</code>, your cookie will only be sent in a first-party context. In user terms, the cookie will only be sent if the site for the cookie matches the site currently shown in the browser's URL bar. So, if the <code>promo_shown</code> cookie is set as follows:</p><web-copy-code><pre class=language-text><code class=language-text>Set-Cookie: promo_shown=1; SameSite=Strict</code></pre> </web-copy-code><p>When the user is on your site, then the cookie will be sent with the request as expected. However when following a link into your site, say from another site or via an email from a friend, on that initial request the cookie will not be sent. This is good when you have cookies relating to functionality that will always be behind an initial navigation, such as changing a password or making a purchase, but is too restrictive for <code>promo_shown</code>. If your reader follows the link into the site, they want the cookie sent so their preference can be applied.<p>That's where <code>SameSite=Lax</code> comes in by allowing the cookie to be sent with these top-level navigations. Let's revisit the cat article example from above where another site is referencing your content. They make use of your photo of the cat directly and provide a link through to your original article.</p><web-copy-code><pre class=language-html><code class=language-html><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\"><</span>p</span><span class=\"token punctuation\">></span></span>Look at this amazing cat!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&LT/</span>p</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\"><</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://blog.example/blog/img/amazing-cat.png<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\"><</span>p</span><span class=\"token punctuation\">></span></span>Read the <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\"><</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://blog.example/blog/cat.html<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>article<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&LT/</span>a</span><span class=\"token punctuation\">></span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&LT/</span>p</span><span class=\"token punctuation\">></span></span></code></pre> </web-copy-code><p>And the cookie has been set as so:</p><web-copy-code><pre class=language-text><code class=language-text>Set-Cookie: promo_shown=1; SameSite=Lax</code></pre> </web-copy-code><p>When the reader is on the other person's blog the cookie <strong>will not be sent</strong> when the browser requests <code>amazing-cat.png</code>. However when the reader follows the link through to <code>cat.html</code> on your blog, that request <strong>will include</strong> the cookie. This makes <code>Lax</code> a good choice for cookies affecting the display of the site with <code>Strict</code> being useful for cookies related to actions your user is taking.<aside class=\"aside flow bg-state-bad-bg color-state-bad-text\"><p class=\"cluster color-state-bad-text\"><span class=\"aside__icon box-block\"><svg aria-label=\"Error sign\" viewbox=\"0 0 24 24\" fill=currentColor height=24 role=img width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z\" clip-rule=evenodd fill-rule=evenodd /></svg></span><strong>Caution</strong><div class=flow>Neither <code>Strict</code> nor <code>Lax</code> are a complete solution for your site's security. Cookies are sent as part of the user's request and you should treat them the same as any other user input. That means sanitizing and validating the input. Never use a cookie to store data you consider a server-side secret.</div></aside><p>Finally there is the option of not specifying the value which has previously been the way of implicitly stating that you want the cookie to be sent in all contexts. In the latest draft of <a href=https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-03 rel=noopener>RFC6265bis</a> this is being made explicit by introducing a new value of <code>SameSite=None</code>. This means you can use <code>None</code> to clearly communicate that you intentionally want the cookie sent in a third-party context.<figure><img alt=\"Three cookies labelled None, Lax, or Strict depending on their context\" sizes=\"(min-width: 800px) 800px, calc(100vw - 48px)\" src=\"https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format\" srcset=\"https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&w=1600 1600w\" style=\"max-width: 35vw\" decoding=async height=456 loading=lazy width=800><figcaption>Explicitly mark the context of a cookie as <code>None</code>, <code>Lax</code>, or <code>Strict</code>.</figcaption></figure><aside class=\"aside flow bg-state-info-bg color-state-info-text\"><div class=flow>If you provide a service that other sites consume such as widgets, embedded content, affiliate programs, advertising, or sign-in across multiple sites then you should use <code>None</code> to ensure your intent is clear.</div></aside><h2 id=changes-to-the-default-behavior-without-samesite>Changes to the default behavior without SameSite <a class=headline-link href=#changes-to-the-default-behavior-without-samesite>#</a></h2><p>While the <code>SameSite</code> attribute is widely supported, it has unfortunately not been widely adopted by developers. The open default of sending cookies everywhere means all use cases work but leaves the user vulnerable to CSRF and unintentional information leakage. To encourage developers to state their intent and provide users with a safer experience, the IETF proposal, <a href=https://tools.ietf.org/html/draft-west-cookie-incrementalism-00 rel=noopener>Incrementally Better Cookies</a> lays out two key changes:<ul><li>Cookies without a <code>SameSite</code> attribute will be treated as <code>SameSite=Lax</code>.<li>Cookies with <code>SameSite=None</code> must also specify <code>Secure</code>, meaning they require a secure context.</ul><p>Chrome implements this default behavior as of version 84. <a href=https://groups.google.com/d/msg/mozilla.dev.platform/nx2uP0CzA9k/BNVPWDHsAQAJ rel=noopener>Firefox</a> has them available to test as of Firefox 69 and will make them default behaviors in the future. To test these behaviors in Firefox, open <a href=http://kb.mozillazine.org/About:config rel=noopener><code>about:config</code></a> and set <code>network.cookie.sameSite.laxByDefault</code>. <a href=https://groups.google.com/a/chromium.org/d/msg/blink-dev/AknSSyQTGYs/8lMmI5DwEAAJ rel=noopener>Edge</a> also plans to change its default behaviors.<aside class=\"aside flow bg-state-info-bg color-state-info-text\"><div class=flow>This article will be updated as additional browsers announce support.</div></aside><h3 id=\"samesite=lax-by-default\"><code>SameSite=Lax</code> by default <a href=\"#samesite=lax-by-default\" class=headline-link>#</a></h3><figure class=\"compare flow\" data-size=full data-type=worse><p class=compare__label>No attribute set</p><web-copy-code><pre class=language-text><code class=language-text>Set-Cookie: promo_shown=1</code></pre> </web-copy-code><figcaption class=compare__caption><p>If you send a cookie without any <code>SameSite</code> attribute specified…</p></figcaption></figure><figure class=\"compare flow\" data-size=full data-type=better><p class=compare__label>Default behavior applied</p><web-copy-code><pre class=language-text><code class=language-text>Set-Cookie: promo_shown=1; SameSite=Lax</code></pre> </web-copy-code><figcaption class=compare__caption><p>The browser will treat that cookie as if <code>SameSite=Lax</code> was specified.</p></figcaption></figure><p>While this is intended to apply a more secure default, you should ideally set an explicit <code>SameSite</code> attribute rather than relying on the browser to apply that for you. This makes your intent for the cookie explicit and improves the chances of a consistent experience across browsers.<aside class=\"aside flow bg-state-bad-bg color-state-bad-text\"><p class=\"cluster color-state-bad-text\"><span class=\"aside__icon box-block\"><svg aria-label=\"Error sign\" viewbox=\"0 0 24 24\" fill=currentColor height=24 role=img width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z\" clip-rule=evenodd fill-rule=evenodd /></svg></span><strong>Caution</strong><div class=flow>The default behaviour applied by Chrome is slightly more permissive than an explicit <code>SameSite=Lax</code> as it will allow certain cookies to be sent on top-level POST requests. You can see the exact details on <a href=https://groups.google.com/a/chromium.org/d/msg/blink-dev/AknSSyQTGYs/YKBxPCScCwAJ>the blink-dev announcement</a>. This is intended as a temporary mitigation, you should still be fixing your cross-site cookies to use <code>SameSite=None; Secure</code>.</div></aside><h3 id=\"samesite=none-must-be-secure\"><code>SameSite=None</code> must be secure <a href=\"#samesite=none-must-be-secure\" class=headline-link>#</a></h3><figure class=\"compare flow\" data-size=full data-type=worse><p class=compare__label>Rejected</p><web-copy-code><pre class=language-text><code class=language-text>Set-Cookie: widget_session=abc123; SameSite=None</code></pre> </web-copy-code><figcaption class=compare__caption><p>Setting a cookie without <code>Secure</code> <strong>will be rejected</strong>.</p></figcaption></figure><figure class=\"compare flow\" data-size=full data-type=better><p class=compare__label>Accepted</p><web-copy-code><pre class=language-text><code class=language-text>Set-Cookie: widget_session=abc123; SameSite=None; Secure</code></pre> </web-copy-code><figcaption class=compare__caption><p>You must ensure that you pair <code>SameSite=None</code> with the <code>Secure</code> attribute.</p></figcaption></figure><p>You can test this behavior as of Chrome 76 by enabling <code>about://flags/#cookies-without-same-site-must-be-secure</code> and from Firefox 69 in <a href=http://kb.mozillazine.org/About:config rel=noopener><code>about:config</code></a> by setting <code>network.cookie.sameSite.noneRequiresSecure</code>.<p>You will want to apply this when setting new cookies and actively refresh existing cookies even if they are not approaching their expiry date.<aside class=\"aside flow bg-state-info-bg color-state-info-text\"><div class=flow>If you rely on any services that provide third-party content on your site, you should also check with the provider that they are updating their services. You may need to update your dependencies or snippets to ensure that your site picks up the new behavior.</div></aside><p>Both of these changes are backwards-compatible with browsers that have correctly implemented the previous version of the <code>SameSite</code> attribute, or just do not support it at all. By applying these changes to your cookies, you are making their intended use explicit rather than relying on the default behavior of the browser. Likewise, any clients that do not recognize <code>SameSite=None</code> as of yet should ignore it and carry on as if the attribute was not set.<aside class=\"aside flow bg-state-warn-bg color-state-warn-text\"><p class=cluster><span class=\"aside__icon box-block color-state-warn-text\"><svg aria-label=\"Warning sign\" viewbox=\"0 0 24 24\" fill=currentColor height=24 role=img width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M23 21L12 2 1 21h22zm-12-3v-2h2v2h-2zm0-4h2v-4h-2v4z\" clip-rule=evenodd fill-rule=evenodd /></svg></span><strong>Warning</strong><div class=flow>A number of older versions of browsers including Chrome, Safari, and UC browser are incompatible with the new <code>None</code> attribute and may ignore or restrict the cookie. This behavior is fixed in current versions, but you should check your traffic to determine what proportion of your users are affected. You can see the <a href=https://www.chromium.org/updates/same-site/incompatible-clients>list of known incompatible clients on the Chromium site</a>.</div></aside><h2 id=samesite-cookie-recipes><code>SameSite</code> cookie recipes <a class=headline-link href=#samesite-cookie-recipes>#</a></h2><p>For further detail on exactly how to update your cookies to successfully handle these changes to <code>SameSite=None</code> and the difference in browser behavior, head to the follow up article, <a href=/samesite-cookie-recipes>SameSite cookie recipes</a>.<p><em>Kind thanks for contributions and feedback from Lily Chen, Malte Ubl, Mike West, Rob Dodson, Tom Steiner, and Vivek Sekhar</em><p><em>Cookie hero image by <a href=\"https://unsplash.com/photos/UiP3uF5JRWM?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\" rel=noopener>Pille-Riin Priske</a> on <a href=\"https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\" rel=noopener>Unsplash</a></em><nav class=\"cluster gutter-base flow-space-size-2\" aria-label=tags><a class=pill href=/tags/security/>Security</a><a class=pill href=/tags/cookies/>Cookies</a><a class=pill href=/tags/chrome-80/>Chrome 80</a></nav><div class=post-credits><div><h3>Last updated</h3><span> <time>Mar 20, 2023</time> </span> — <a href=https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/samesite-cookies-explained/index.md> Improve article </a></div></div><div class=flow-space-size-2><a class=button data-type=secondary href=/blog> <svg viewbox=\"0 0 24 24\" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M0 0h24v24H0z\" fill=none /><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg> <span>Return to all articles</span> </a></div><div class=\"docked-actions flow flow-space-base\"><div><share-action class=\"gc-analytics-event fab\" authors=@rowan_m data-action=click data-category=web.dev data-icon=share data-label=share data-type=primary role=button tabindex=0> <svg viewbox=\"0 0 24 24\" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M0 0h24v24H0V0z\" fill=none /><path d=\"M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z\" fill=currentColor /></svg> <span class=fab__label>Share</span> </share-action></div><div></div></div></article></div></div></main><footer class=site-footer role=contentinfo><nav aria-label=\"footer navigation\" class=\"site-footer__primary-nav auto-grid\"><div class=site-footer__primary-nav-content><a class=\"site-footer__brand brand\" href=/> <svg viewbox=\"0 0 125 24\" aria-label=web.dev fill=currentColor height=24 role=img width=125 xmlns=http://www.w3.org/2000/svg><path d=\"M0.625 19.9489C0.625 18.2638 1.99102 16.8977 3.67614 16.8977H19.9489C21.634 16.8977 23 18.2638 23 19.9489C23 21.634 21.634 23 19.9489 23H3.67614C1.99102 23 0.625 21.634 0.625 19.9489Z\" fill=#66CCFF /><path d=\"M1.51866 1.51866C2.7102 0.327114 4.64208 0.327114 5.83361 1.51866L13.97 9.65503C15.1615 10.8466 15.1615 12.7784 13.97 13.97L5.83361 22.1063C4.64208 23.2979 2.7102 23.2979 1.51866 22.1063C0.327114 20.9148 0.327114 18.9829 1.51866 17.7914L7.13797 12.1721C7.33655 11.9735 7.33655 11.6515 7.13797 11.4529L1.51866 5.83361C0.327114 4.64208 0.327114 2.7102 1.51866 1.51866Z\" clip-rule=evenodd fill=#0066FF fill-rule=evenodd /><path d=\"M11.0422 16.8977L5.83361 22.1063C4.64208 23.2979 2.7102 23.2979 1.51866 22.1063C0.327114 20.9148 0.327114 18.9829 1.51866 17.7914L2.41233 16.8977H11.0422Z\" fill=#CC66FF /><path d=\"M19.9488 23C21.6339 23 23 21.634 23 19.9489C23 18.2638 21.6339 16.8977 19.9488 16.8977C18.2637 16.8977 16.8977 18.2638 16.8977 19.9489C16.8977 21.634 18.2637 23 19.9488 23Z\" fill=#0066FF /><path d=\"M116.6 20.1H114.4L109.6 8.20005H112L115.5 17.4L119 8.20005H121.4L116.6 20.1V20.1ZM99.8 12.8H106.6C106.5 11.2 105.2 9.90005 103.2 9.90005C101.5 9.90005 100.2 11 99.8 12.8V12.8ZM103.4 20.5C99.9 20.5 97.4 17.8 97.4 14.2C97.4 10.6 99.9 7.90005 103.3 7.90005C106.8 7.90005 109.1 10.3 109.1 14.4V14.6H99.8C99.9 16.9 101.6 18.5 103.6 18.5C105 18.5 106.2 17.8 106.9 16.4L108.9 17.4C107.8 19.3 105.8 20.5 103.4 20.5V20.5ZM89.4 20.5C86.3 20.5 83.7 17.7 83.7 14.2C83.7 10.7 86.3 7.90005 89.4 7.90005C91.1 7.90005 92.7 8.70005 93.5 9.90005H93.6L93.5 8.30005V2.80005H95.7V20.1H93.6V18.5H93.5C92.6 19.7 91.1 20.5 89.4 20.5V20.5ZM89.7 18.5C91.9 18.5 93.5 16.8 93.5 14.2C93.5 11.7 91.9 9.90005 89.7 9.90005C87.6 9.90005 85.9 11.7 85.9 14.2C85.9 16.7 87.6 18.5 89.7 18.5ZM82.9 18.6C82.9 19.5 82.2 20.2001 81.2 20.2001C80.3 20.2001 79.5 19.4 79.5 18.6C79.5 17.7 80.3 17 81.2 17C82.2 17 82.9 17.7 82.9 18.6ZM72.4 18.5C74.5 18.5 76.2 16.7 76.2 14.2C76.2 11.7 74.5 9.90005 72.4 9.90005C70.2 9.90005 68.6 11.7 68.6 14.2C68.6 16.7 70.2 18.5 72.4 18.5ZM72.8 20.5C71.1 20.5 69.5 19.7 68.7 18.5H68.6V20.1H66.5V2.80005H68.7V8.30005L68.6 9.90005H68.7C69.5 8.70005 71 7.90005 72.8 7.90005C75.9 7.90005 78.5 10.7 78.5 14.2C78.4 17.7 75.9 20.5 72.8 20.5V20.5ZM55.4 12.8H62.2C62.1 11.2 60.8 9.90005 58.8 9.90005C57.1 9.90005 55.8 11 55.4 12.8V12.8ZM59 20.5C55.5 20.5 53 17.8 53 14.2C53 10.6 55.5 7.90005 58.9 7.90005C62.4 7.90005 64.7 10.3 64.7 14.4V14.6H55.4C55.5 16.9 57.2 18.5 59.2 18.5C60.6 18.5 61.7 17.8 62.5 16.4L64.5 17.4C63.4 19.3 61.4 20.5 59 20.5V20.5ZM52.7 8.30005L48.9 20.2001H46.6L43.6 11.1L40.7 20.2001H38.4L34.5 8.30005H36.8L39.4 17.3L42.3 8.30005H44.6L47.5 17.3L50.1 8.30005H52.7V8.30005Z\" clip-rule=evenodd fill-rule=evenodd /></svg> </a><p class=text-size-0>We want to help you build beautiful, accessible, fast, and secure websites that work cross-browser, and for all of your users. This site is our home for content to help you on that journey, written by members of the Chrome team, and external experts.</div><div class=\"site-footer__primary-nav-links auto-grid\"><div><h3 class=\"text-size-2 color-mid-text\">Contribute</h3><ul class=site-footer__linkbox-list role=list><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Link (index 1)\" href=\"https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title=\"> File a bug </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Link (index 2)\" href=https://github.com/googlechrome/web.dev> View source </a></ul></div><div><h3 class=\"text-size-2 color-mid-text\">Related content</h3><ul class=site-footer__linkbox-list role=list><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Link (index 1)\" href=https://developer.chrome.com/> developer.chrome.com </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Link (index 1)\" href=https://blog.chromium.org/> Chrome updates </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Link (index 3)\" href=/tags/case-study/> Case studies </a><li><a data-label=\"Footer Link (index 5)\" data-category=Podcasts href=/podcasts/> Podcasts </a><li><a data-label=\"Footer Link (index 6)\" data-category=Shows href=/shows/> Shows </a></ul></div><div><h3 class=\"text-size-2 color-mid-text\">Connect</h3><ul class=site-footer__linkbox-list role=list><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Link (index 1)\" href=https://www.twitter.com/ChromiumDev> Twitter </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Link (index 2)\" href=https://www.youtube.com/user/ChromeDevelopers> YouTube </a></ul></div></div></nav><nav aria-label=\"Google developers\" class=\"site-footer__brand-nav repel\"><ul class=cluster role=list><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Google Developers Link\" href=https://developers.google.com/> <img alt=\"Google Developers\" class=site-footer__utility-logo height=33 loading=lazy src=/images/lockup-color.png width=185> </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Chrome Link\" href=https://developer.chrome.com/> Chrome </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Firebase Link\" href=https://firebase.google.com/> Firebase </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Google Cloud Platform Link\" href=https://cloud.google.com/> Google Cloud Platform </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer All products Link\" href=https://developers.google.com/products> All products </a></ul><div class=cluster><theme-toggle> <label class=toggle-switch for=theme-toggle><span class=toggle-switch__label>Dark theme</span> <input class=toggle-switch__input id=theme-toggle role=switch type=checkbox> <div class=\"toggle-switch__decor focus-ring\" aria-hidden=true><div class=toggle-switch__thumb></div></div></label> </theme-toggle><web-language-select current=en></web-language-select></div></nav><nav aria-label=\"terms and policies\" class=site-footer__misc-links><ul class=cluster role=list><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Terms and Privacy link\" href=https://policies.google.com/> Terms & Privacy </a><li><a data-category=\"Site-Wide Custom Events\" data-label=\"Footer Community Guidelines link\" href=/community-guidelines/> Community Guidelines </a></ul></nav><p class=\"gap-top-size-2 text-size-0\">Except as otherwise noted, the content of this page is licensed under the <a href=https://creativecommons.org/licenses/by/4.0/> Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href=https://www.apache.org/licenses/LICENSE-2.0> Apache 2.0 License</a>. For details, see the <a href=https://developers.google.com/terms/site-policies> Google Developers Site Policies</a>.</footer><web-devrel-ribbon class=devrel-ribbon> <a class=\"devrel-ribbon__ribbon bg-floating-ribbon-bg\" href=/about/> <span>By</span> <svg viewbox=\"0 0 24 24\" fill=none height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d=\"M12.0002 0.000198896C8.03654 0.000198896 4.52717 1.9163 2.34307 4.87283L6.04945 11.2927C6.22181 9.848 6.91291 8.51514 7.99463 7.54208C9.07636 6.56901 10.4747 6.0223 11.9296 6.00331C11.9529 6.00073 11.9767 5.99962 12.0005 5.99981L22.3939 5.99981C20.3207 2.41237 16.4471 0.000198896 12.0002 0.000198896ZM1.60671 5.99906C0.586498 7.76412 0 9.81226 0 12.0003C0 18.1811 4.65658 23.2593 10.6575 23.9249L14.3581 17.5155C13.6129 17.8346 12.8109 17.9998 12.0001 18.0003C9.89088 17.9976 7.93796 16.8875 6.85643 15.0765C6.83691 15.0526 6.81923 15.027 6.80376 15.0003L1.60671 5.99906ZM12.0002 7.20025C10.7271 7.20025 9.50625 7.70609 8.60612 8.60622C7.70598 9.50636 7.20033 10.7273 7.20033 12.0003C7.20033 13.2733 7.70603 14.4942 8.60612 15.3943C9.50621 16.2945 10.7271 16.8001 12.0002 16.8001C13.2732 16.8001 14.4941 16.2944 15.3942 15.3943C16.2944 14.4943 16.8 13.2733 16.8 12.0003C16.8 10.7273 16.2943 9.50636 15.3942 8.60622C14.4941 7.70609 13.2732 7.20025 12.0002 7.20025ZM15.5902 7.20025C17.1048 8.33129 17.9977 10.11 18.0001 12.0003C17.9977 13.0181 17.7364 14.0185 17.2409 14.9076C17.2289 14.9397 17.2142 14.9706 17.1969 15.0003L12.0009 24.0002C18.6352 23.9998 24 18.6345 24 12.0001C24 10.2923 23.6427 8.66976 23.0015 7.2001L15.5902 7.20025Z\" fill=white /></svg> <span>Chrome DevRel</span> </a> </web-devrel-ribbon>","oembed":false,"readabilityObject":{"title":"SameSite cookies explained","content":"<div id=\"readability-page-1\" class=\"page\"><article><header><nav aria-label=\"breadcrumbs\"><ul role=\"list\"><li><a data-label=\"post, home breadcrumb\" data-action=\"click\" data-category=\"web.dev\" href=\"/\"> Home </a></li><li><a data-label=\"post, path breadcrumb\" data-action=\"click\" data-category=\"web.dev\" href=\"/blog\"> All articles </a></li></ul></nav><p>Secure your site by learning how to explicitly mark your cross-site cookies.</p><p><time>May 7, 2019</time> — Updated <time>Mar 20, 2023</time></p><div><p><a href=\"/authors/rowan_m/\"> <img alt=\"Rowan Merewood\" sizes=\"(min-width: 64px) 64px, calc(100vw - 48px)\" src=\"https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?auto=format&amp;fit=crop&amp;h=64&amp;w=64\" srcset=\"https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=1&amp;q=75 1x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=2&amp;q=50 2x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=3&amp;q=35 3x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=4&amp;q=23 4x,     https://web-dev.imgix.net/image/admin/TASwqsVceW68MrM7bjt8.jpg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=5&amp;q=20 5x\" decoding=\"async\" height=\"64\" loading=\"lazy\" width=\"64\"> </a></p></div></header><div><details aria-label=\"On this page\" data-type=\"inner\" role=\"navigation\"><summary>On this page</summary> <div><ul><li><a href=\"#explicitly-state-cookie-usage-with-the-samesite-attribute\">Explicitly state cookie usage with the SameSite attribute</a></li><li><a href=\"#changes-to-the-default-behavior-without-samesite\">Changes to the default behavior without SameSite</a><ul><li><a href=\"#samesite=lax-by-default\">SameSite=Lax by default</a></li><li><a href=\"#samesite=none-must-be-secure\">SameSite=None must be secure</a></li></ul></li><li><a href=\"#samesite-cookie-recipes\">SameSite cookie recipes</a></li></ul></div></details></div><p>Each cookie contains a key-value pair along with a number of attributes that control when and where that cookie is used.</p><p>The introduction of the <code>SameSite</code> attribute (defined in <a href=\"https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00\" rel=\"noopener\">RFC6265bis</a>) allows you to declare if your cookie should be restricted to a first-party or same-site context. It's helpful to understand exactly what 'site' means here. The site is the combination of the domain suffix and the part of the domain just before it. For example, the <code>www.web.dev</code> domain is part of the <code>web.dev</code> site.</p><p>The <a href=\"https://publicsuffix.org/\" rel=\"noopener\">public suffix list</a> defines this, so it's not just top-level domains like <code>.com</code> but also includes services like <code>github.io</code>. That enables <code>your-project.github.io</code> and <code>my-project.github.io</code> to count as separate sites.</p><h2 id=\"explicitly-state-cookie-usage-with-the-samesite-attribute\">Explicitly state cookie usage with the <code>SameSite</code> attribute <a href=\"#explicitly-state-cookie-usage-with-the-samesite-attribute\">#</a></h2><p>Introducing the <code>SameSite</code> attribute on a cookie provides three different ways to control this behaviour. You can choose to not specify the attribute, or you can use <code>Strict</code> or <code>Lax</code> to limit the cookie to same-site requests.</p><p>If you set <code>SameSite</code> to <code>Strict</code>, your cookie will only be sent in a first-party context. In user terms, the cookie will only be sent if the site for the cookie matches the site currently shown in the browser's URL bar. So, if the <code>promo_shown</code> cookie is set as follows:</p><web-copy-code><pre><code>Set-Cookie: promo_shown=1; SameSite=Strict</code></pre> </web-copy-code><p>When the user is on your site, then the cookie will be sent with the request as expected. However when following a link into your site, say from another site or via an email from a friend, on that initial request the cookie will not be sent. This is good when you have cookies relating to functionality that will always be behind an initial navigation, such as changing a password or making a purchase, but is too restrictive for <code>promo_shown</code>. If your reader follows the link into the site, they want the cookie sent so their preference can be applied.</p><p>That's where <code>SameSite=Lax</code> comes in by allowing the cookie to be sent with these top-level navigations. Let's revisit the cat article example from above where another site is referencing your content. They make use of your photo of the cat directly and provide a link through to your original article.</p><web-copy-code><pre><code><span><span><span>&lt;</span>p</span><span>&gt;</span></span>Look at this amazing cat!<span><span><span>&lt;/</span>p</span><span>&gt;</span></span><br><span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>\"</span>https://blog.example/blog/img/amazing-cat.png<span>\"</span></span> <span>/&gt;</span></span><br><span><span><span>&lt;</span>p</span><span>&gt;</span></span>Read the <span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>\"</span>https://blog.example/blog/cat.html<span>\"</span></span><span>&gt;</span></span>article<span><span><span>&lt;/</span>a</span><span>&gt;</span></span>.<span><span><span>&lt;/</span>p</span><span>&gt;</span></span></code></pre> </web-copy-code><p>And the cookie has been set as so:</p><web-copy-code><pre><code>Set-Cookie: promo_shown=1; SameSite=Lax</code></pre> </web-copy-code><p>When the reader is on the other person's blog the cookie <strong>will not be sent</strong> when the browser requests <code>amazing-cat.png</code>. However when the reader follows the link through to <code>cat.html</code> on your blog, that request <strong>will include</strong> the cookie. This makes <code>Lax</code> a good choice for cookies affecting the display of the site with <code>Strict</code> being useful for cookies related to actions your user is taking.</p><p>Finally there is the option of not specifying the value which has previously been the way of implicitly stating that you want the cookie to be sent in all contexts. In the latest draft of <a href=\"https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-03\" rel=\"noopener\">RFC6265bis</a> this is being made explicit by introducing a new value of <code>SameSite=None</code>. This means you can use <code>None</code> to clearly communicate that you intentionally want the cookie sent in a third-party context.</p><figure><img alt=\"Three cookies labelled None, Lax, or Strict depending on their context\" sizes=\"(min-width: 800px) 800px, calc(100vw - 48px)\" src=\"https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format\" srcset=\"https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/1MhNdg9exp0rKnHpwCWT.png?auto=format&amp;w=1600 1600w\" decoding=\"async\" height=\"456\" loading=\"lazy\" width=\"800\"><figcaption>Explicitly mark the context of a cookie as <code>None</code>, <code>Lax</code>, or <code>Strict</code>.</figcaption></figure><h2 id=\"changes-to-the-default-behavior-without-samesite\">Changes to the default behavior without SameSite <a href=\"#changes-to-the-default-behavior-without-samesite\">#</a></h2><p>While the <code>SameSite</code> attribute is widely supported, it has unfortunately not been widely adopted by developers. The open default of sending cookies everywhere means all use cases work but leaves the user vulnerable to CSRF and unintentional information leakage. To encourage developers to state their intent and provide users with a safer experience, the IETF proposal, <a href=\"https://tools.ietf.org/html/draft-west-cookie-incrementalism-00\" rel=\"noopener\">Incrementally Better Cookies</a> lays out two key changes:</p><ul><li>Cookies without a <code>SameSite</code> attribute will be treated as <code>SameSite=Lax</code>.</li><li>Cookies with <code>SameSite=None</code> must also specify <code>Secure</code>, meaning they require a secure context.</li></ul><p>Chrome implements this default behavior as of version 84. <a href=\"https://groups.google.com/d/msg/mozilla.dev.platform/nx2uP0CzA9k/BNVPWDHsAQAJ\" rel=\"noopener\">Firefox</a> has them available to test as of Firefox 69 and will make them default behaviors in the future. To test these behaviors in Firefox, open <a href=\"http://kb.mozillazine.org/About:config\" rel=\"noopener\"><code>about:config</code></a> and set <code>network.cookie.sameSite.laxByDefault</code>. <a href=\"https://groups.google.com/a/chromium.org/d/msg/blink-dev/AknSSyQTGYs/8lMmI5DwEAAJ\" rel=\"noopener\">Edge</a> also plans to change its default behaviors.</p><h3 id=\"samesite=lax-by-default\"><code>SameSite=Lax</code> by default <a href=\"#samesite=lax-by-default\">#</a></h3><figure data-size=\"full\" data-type=\"worse\"><p>No attribute set</p><web-copy-code><pre><code>Set-Cookie: promo_shown=1</code></pre> </web-copy-code><figcaption><p>If you send a cookie without any <code>SameSite</code> attribute specified…</p></figcaption></figure><figure data-size=\"full\" data-type=\"better\"><p>Default behavior applied</p><web-copy-code><pre><code>Set-Cookie: promo_shown=1; SameSite=Lax</code></pre> </web-copy-code><figcaption><p>The browser will treat that cookie as if <code>SameSite=Lax</code> was specified.</p></figcaption></figure><p>While this is intended to apply a more secure default, you should ideally set an explicit <code>SameSite</code> attribute rather than relying on the browser to apply that for you. This makes your intent for the cookie explicit and improves the chances of a consistent experience across browsers.</p><h3 id=\"samesite=none-must-be-secure\"><code>SameSite=None</code> must be secure <a href=\"#samesite=none-must-be-secure\">#</a></h3><figure data-size=\"full\" data-type=\"worse\"><p>Rejected</p><web-copy-code><pre><code>Set-Cookie: widget_session=abc123; SameSite=None</code></pre> </web-copy-code><figcaption><p>Setting a cookie without <code>Secure</code> <strong>will be rejected</strong>.</p></figcaption></figure><figure data-size=\"full\" data-type=\"better\"><p>Accepted</p><web-copy-code><pre><code>Set-Cookie: widget_session=abc123; SameSite=None; Secure</code></pre> </web-copy-code><figcaption><p>You must ensure that you pair <code>SameSite=None</code> with the <code>Secure</code> attribute.</p></figcaption></figure><p>You can test this behavior as of Chrome 76 by enabling <code>about://flags/#cookies-without-same-site-must-be-secure</code> and from Firefox 69 in <a href=\"http://kb.mozillazine.org/About:config\" rel=\"noopener\"><code>about:config</code></a> by setting <code>network.cookie.sameSite.noneRequiresSecure</code>.</p><p>You will want to apply this when setting new cookies and actively refresh existing cookies even if they are not approaching their expiry date.</p><p>Both of these changes are backwards-compatible with browsers that have correctly implemented the previous version of the <code>SameSite</code> attribute, or just do not support it at all. By applying these changes to your cookies, you are making their intended use explicit rather than relying on the default behavior of the browser. Likewise, any clients that do not recognize <code>SameSite=None</code> as of yet should ignore it and carry on as if the attribute was not set.</p><h2 id=\"samesite-cookie-recipes\"><code>SameSite</code> cookie recipes <a href=\"#samesite-cookie-recipes\">#</a></h2><p>For further detail on exactly how to update your cookies to successfully handle these changes to <code>SameSite=None</code> and the difference in browser behavior, head to the follow up article, <a href=\"/samesite-cookie-recipes\">SameSite cookie recipes</a>.</p><p><em>Kind thanks for contributions and feedback from Lily Chen, Malte Ubl, Mike West, Rob Dodson, Tom Steiner, and Vivek Sekhar</em></p><p><em>Cookie hero image by <a href=\"https://unsplash.com/photos/UiP3uF5JRWM?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\" rel=\"noopener\">Pille-Riin Priske</a> on <a href=\"https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\" rel=\"noopener\">Unsplash</a></em></p><nav aria-label=\"tags\"><a href=\"/tags/security/\">Security</a><a href=\"/tags/cookies/\">Cookies</a><a href=\"/tags/chrome-80/\">Chrome 80</a></nav><p><a data-type=\"secondary\" href=\"/blog\"> <svg viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"></path></svg> <span>Return to all articles</span> </a></p></article></div>","textContent":" Home  All articles Secure your site by learning how to explicitly mark your cross-site cookies.May 7, 2019 — Updated Mar 20, 2023  On this page Explicitly state cookie usage with the SameSite attributeChanges to the default behavior without SameSiteSameSite=Lax by defaultSameSite=None must be secureSameSite cookie recipesEach cookie contains a key-value pair along with a number of attributes that control when and where that cookie is used.The introduction of the SameSite attribute (defined in RFC6265bis) allows you to declare if your cookie should be restricted to a first-party or same-site context. It's helpful to understand exactly what 'site' means here. The site is the combination of the domain suffix and the part of the domain just before it. For example, the www.web.dev domain is part of the web.dev site.The public suffix list defines this, so it's not just top-level domains like .com but also includes services like github.io. That enables your-project.github.io and my-project.github.io to count as separate sites.Explicitly state cookie usage with the SameSite attribute #Introducing the SameSite attribute on a cookie provides three different ways to control this behaviour. You can choose to not specify the attribute, or you can use Strict or Lax to limit the cookie to same-site requests.If you set SameSite to Strict, your cookie will only be sent in a first-party context. In user terms, the cookie will only be sent if the site for the cookie matches the site currently shown in the browser's URL bar. So, if the promo_shown cookie is set as follows:Set-Cookie: promo_shown=1; SameSite=Strict When the user is on your site, then the cookie will be sent with the request as expected. However when following a link into your site, say from another site or via an email from a friend, on that initial request the cookie will not be sent. This is good when you have cookies relating to functionality that will always be behind an initial navigation, such as changing a password or making a purchase, but is too restrictive for promo_shown. If your reader follows the link into the site, they want the cookie sent so their preference can be applied.That's where SameSite=Lax comes in by allowing the cookie to be sent with these top-level navigations. Let's revisit the cat article example from above where another site is referencing your content. They make use of your photo of the cat directly and provide a link through to your original article.<p>Look at this amazing cat!</p><img src=\"https://blog.example/blog/img/amazing-cat.png\" /><p>Read the <a href=\"https://blog.example/blog/cat.html\">article</a>.</p> And the cookie has been set as so:Set-Cookie: promo_shown=1; SameSite=Lax When the reader is on the other person's blog the cookie will not be sent when the browser requests amazing-cat.png. However when the reader follows the link through to cat.html on your blog, that request will include the cookie. This makes Lax a good choice for cookies affecting the display of the site with Strict being useful for cookies related to actions your user is taking.Finally there is the option of not specifying the value which has previously been the way of implicitly stating that you want the cookie to be sent in all contexts. In the latest draft of RFC6265bis this is being made explicit by introducing a new value of SameSite=None. This means you can use None to clearly communicate that you intentionally want the cookie sent in a third-party context.Explicitly mark the context of a cookie as None, Lax, or Strict.Changes to the default behavior without SameSite #While the SameSite attribute is widely supported, it has unfortunately not been widely adopted by developers. The open default of sending cookies everywhere means all use cases work but leaves the user vulnerable to CSRF and unintentional information leakage. To encourage developers to state their intent and provide users with a safer experience, the IETF proposal, Incrementally Better Cookies lays out two key changes:Cookies without a SameSite attribute will be treated as SameSite=Lax.Cookies with SameSite=None must also specify Secure, meaning they require a secure context.Chrome implements this default behavior as of version 84. Firefox has them available to test as of Firefox 69 and will make them default behaviors in the future. To test these behaviors in Firefox, open about:config and set network.cookie.sameSite.laxByDefault. Edge also plans to change its default behaviors.SameSite=Lax by default #No attribute setSet-Cookie: promo_shown=1 If you send a cookie without any SameSite attribute specified…Default behavior appliedSet-Cookie: promo_shown=1; SameSite=Lax The browser will treat that cookie as if SameSite=Lax was specified.While this is intended to apply a more secure default, you should ideally set an explicit SameSite attribute rather than relying on the browser to apply that for you. This makes your intent for the cookie explicit and improves the chances of a consistent experience across browsers.SameSite=None must be secure #RejectedSet-Cookie: widget_session=abc123; SameSite=None Setting a cookie without Secure will be rejected.AcceptedSet-Cookie: widget_session=abc123; SameSite=None; Secure You must ensure that you pair SameSite=None with the Secure attribute.You can test this behavior as of Chrome 76 by enabling about://flags/#cookies-without-same-site-must-be-secure and from Firefox 69 in about:config by setting network.cookie.sameSite.noneRequiresSecure.You will want to apply this when setting new cookies and actively refresh existing cookies even if they are not approaching their expiry date.Both of these changes are backwards-compatible with browsers that have correctly implemented the previous version of the SameSite attribute, or just do not support it at all. By applying these changes to your cookies, you are making their intended use explicit rather than relying on the default behavior of the browser. Likewise, any clients that do not recognize SameSite=None as of yet should ignore it and carry on as if the attribute was not set.SameSite cookie recipes #For further detail on exactly how to update your cookies to successfully handle these changes to SameSite=None and the difference in browser behavior, head to the follow up article, SameSite cookie recipes.Kind thanks for contributions and feedback from Lily Chen, Malte Ubl, Mike West, Rob Dodson, Tom Steiner, and Vivek SekharCookie hero image by Pille-Riin Priske on UnsplashSecurityCookiesChrome 80  Return to all articles ","length":6552,"excerpt":"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage.","byline":"Rowan Merewood TwitterGitHubGlitch","dir":null,"siteName":"web.dev","lang":"en"},"finalizedMeta":{"title":"SameSite cookies explained","description":"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. ","author":false,"creator":"","publisher":false,"date":"2023-06-29T19:03:12.223Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"SameSite cookies explained","description":"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. ","canonical":"https://web.dev/samesite-cookies-explained/","keywords":[],"image":"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format","firstParagraph":"Secure your site by learning how to explicitly mark your cross-site cookies."},"dublinCore":{},"opengraph":{"title":"SameSite cookies explained","description":"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. ","url":"https://web.dev/samesite-cookies-explained/","site_name":"web.dev","locale":"en_US","type":"article","typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&fit=max&w=1200&fm=auto","image:alt":""},"twitter":{"site":false,"description":"Learn how to mark your cookies for first-party and third-party usage with the SameSite attribute. You can enhance your site's security by using SameSite's Lax and Strict values to improve protection against CSRF attacks. Specifying the new None attribute allows you to explicitly mark your cookies for cross-site usage. ","card":"summary_large_image","creator":false,"title":"SameSite cookies explained","image":"https://web-dev.imgix.net/image/admin/UTOC41rgCccAqVNbJlyK.jpg?auto=format&fit=max&w=1200&fm=auto"},"archivedData":{"link":false,"wayback":false}}}