{"initialLink":"https://developer.android.com/design-for-safety/ads/attribution","sanitizedLink":"https://developer.android.com/design-for-safety/ads/attribution","finalLink":"https://developer.android.com/design-for-safety/ads/attribution","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://developer.android.com/design-for-safety/ads/attribution\" itemprop=\"url\">Attribution reporting  |  Android Developers</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-04-07T13:51:40.137Z\">3/7/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>Provide feedback</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a href=\"https://web.archive.org/web/20220407135144/https://developer.android.com/design-for-safety/ads/attribution\" is=\"contexter-link\" target=\"_blank\" rel=\"timemap\" class=\"read-link archive-link\" itemprop=\"archivedAt\" slot=\"archive-link\">Archived</a><a is=\"contexter-link\" href=\"https://developer.android.com/design-for-safety/ads/attribution\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"afedd2646f9863ddf17bd5ee75b25a05d0fceaaf","data":{"originalLink":"https://developer.android.com/design-for-safety/ads/attribution","sanitizedLink":"https://developer.android.com/design-for-safety/ads/attribution","canonical":"https://developer.android.com/design-for-safety/ads/attribution","htmlText":"<!doctype html>\n<html \n      lang=\"en\"\n      dir=\"ltr\">\n  <head>\n    <meta name=\"google-signin-client-id\" content=\"721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com\">\n    <meta name=\"google-signin-scope\"\n          content=\"profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award\">\n    <meta property=\"og:site_name\" content=\"Android Developers\">\n    <meta property=\"og:type\" content=\"website\"><meta name=\"theme-color\" content=\"#3ddc84\"><meta charset=\"utf-8\">\n    <meta content=\"IE=Edge\" http-equiv=\"X-UA-Compatible\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    \n\n    <link rel=\"manifest\" href=\"/_pwa/android/manifest.json\"\n          crossorigin=\"use-credentials\">\n    <link rel=\"preconnect\" href=\"//www.gstatic.com\" crossorigin>\n    <link rel=\"preconnect\" href=\"//fonts.gstatic.com\" crossorigin>\n    <link rel=\"preconnect\" href=\"//fonts.googleapis.com\" crossorigin>\n    <link rel=\"preconnect\" href=\"//apis.google.com\" crossorigin>\n    <link rel=\"preconnect\" href=\"//www.google-analytics.com\" crossorigin><link rel=\"stylesheet\" href=\"//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap\">\n      <link rel=\"stylesheet\" href=\"//fonts.googleapis.com/css?family=Material+Icons&display=block\"><link rel=\"stylesheet\" href=\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/css/app.css\">\n      <link rel=\"shortcut icon\" href=\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/favicon.png\">\n    <link rel=\"apple-touch-icon\" href=\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/touchicon-180.png\"><link rel=\"canonical\" href=\"https://developer.android.com/design-for-safety/ads/attribution\"><link rel=\"search\" type=\"application/opensearchdescription+xml\"\n            title=\"Android Developers\" href=\"https://developer.android.com/s/opensearch.xml\">\n      \n\n<title>Attribution reporting &nbsp;|&nbsp; Android Developers</title>\n\n<meta property=\"og:title\" content=\"Attribution reporting &nbsp;|&nbsp; Android Developers\"><meta property=\"og:url\" content=\"https://developer.android.com/design-for-safety/ads/attribution\"><meta property=\"og:image\" content=\"https://developer.android.com/images/social/android-developers.png\">\n  <meta property=\"og:image:width\" content=\"1200\">\n  <meta property=\"og:image:height\" content=\"675\"><meta property=\"og:locale\" content=\"en\"><meta name=\"twitter:card\" content=\"summary_large_image\">\n  \n\n  \n\n  \n\n\n    </head>\n  <body class=\"\"\n        template=\"page\"\n        theme=\"android-theme\"\n        type=\"article\"\n        \n        \n        layout=\"docs\"\n        \n        \n        pending>\n    <devsite-progress type=\"indeterminate\" id=\"app-progress\"></devsite-progress>\n  \n    <section class=\"devsite-wrapper\"><devsite-header>\n  \n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"devsite-header--inner nocontent\">\n  <div class=\"devsite-top-logo-row-wrapper-wrapper\">\n    <div class=\"devsite-top-logo-row-wrapper\">\n      <div class=\"devsite-top-logo-row\">\n        <button type=\"button\" id=\"devsite-hamburger-menu\"\n          class=\"devsite-header-icon-button button-flat material-icons gc-analytics-event\"\n          data-category=\"Site-Wide Custom Events\"\n          data-label=\"Navigation menu button\"\n          visually-hidden\n          aria-label=\"Open menu\">\n        </button>\n        <div class=\"devsite-product-name-wrapper\">\n\n  <a href=\"/\" class=\"devsite-site-logo-link gc-analytics-event\"\n   data-category=\"Site-Wide Custom Events\" data-label=\"Site logo\" track-type=\"globalNav\"\n   track-name=\"androidDevelopers\" track-metadata-position=\"nav\"\n   track-metadata-eventDetail=\"nav\">\n\n  \n    <img src=\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/lockup.svg\" class=\"devsite-site-logo\" alt=\"Android Developers\">\n  \n\n</a>\n\n\n\n  \n  \n  <span class=\"devsite-product-name\">\n    <ul class=\"devsite-breadcrumb-list\"\n  >\n  \n  <li class=\"devsite-breadcrumb-item\n             \">\n    \n    \n    \n      \n      \n    \n  </li>\n  \n</ul>\n  </span>\n\n</div>\n        <div class=\"devsite-top-logo-row-middle\">\n          <div class=\"devsite-header-upper-tabs\">\n            \n              \n              \n  <devsite-tabs class=\"upper-tabs\">\n\n    <nav class=\"devsite-tabs-wrapper\" aria-label=\"Upper tabs\">\n      \n        \n          <tab  active>\n            <a href=\"https://developer.android.com/about\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/about\"\n   track-metadata-position=\"nav - platform\"\n   track-metadata-module=\"primary nav\"\n   aria-label=\"Platform, selected\" \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Platform\"\n    \n      track-name=\"platform\"\n    \n  >\n  Platform\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/studio\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/studio\"\n   track-metadata-position=\"nav - android studio\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Android Studio\"\n    \n      track-name=\"android studio\"\n    \n  >\n  Android Studio\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/distribute\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/distribute\"\n   track-metadata-position=\"nav - google play\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Google Play\"\n    \n      track-name=\"google play\"\n    \n  >\n  Google Play\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/jetpack\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/jetpack\"\n   track-metadata-position=\"nav - jetpack\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Jetpack\"\n    \n      track-name=\"jetpack\"\n    \n  >\n  Jetpack\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/kotlin\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/kotlin\"\n   track-metadata-position=\"nav - kotlin\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Kotlin\"\n    \n      track-name=\"kotlin\"\n    \n  >\n  Kotlin\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/docs\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/docs\"\n   track-metadata-position=\"nav - docs\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Docs\"\n    \n      track-name=\"docs\"\n    \n  >\n  Docs\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/games\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/games\"\n   track-metadata-position=\"nav - games\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Games\"\n    \n      track-name=\"games\"\n    \n  >\n  Games\n</a>\n\n          </tab>\n        \n      \n    </nav>\n\n  </devsite-tabs>\n\n            \n           </div>\n          \n<devsite-search\n    aria-expanded=\"false\"\n    aria-haspopup=\"listbox\"\n    enable-signin\n    enable-search\n    enable-suggestions\n      enable-query-completion\n    \n    project-name=\"Android Developers\"\n    tenant-name=\"Android Developers\"\n    \n    \n    \n    \n    \n    \n    role=\"combobox\">\n  <form class=\"devsite-search-form\" action=\"https://developer.android.com/s/results\" method=\"GET\">\n    <div class=\"devsite-search-container\">\n      <div class=\"devsite-searchbox\">\n        <input\n          aria-activedescendant=\"\"\n          aria-autocomplete=\"list\"\n          \n          aria-label=\"Search\"\n          aria-haspopup=\"false\"\n          aria-multiline=\"false\"\n          aria-label=\"Search box\"\n          autocomplete=\"off\"\n          class=\"devsite-search-field devsite-search-query\"\n          name=\"q\"\n          \n          placeholder=\"Search\"\n          role=\"searchbox\"\n          type=\"text\"\n          value=\"\"\n          >\n        <div class=\"devsite-search-image material-icons\" aria-hidden=\"true\"></div>\n      </div>\n      <button type=\"button\"\n              search-open\n              class=\"devsite-search-button devsite-header-icon-button button-flat material-icons\"\n              \n              aria-label=\"Open search\"></button>\n    </div>\n  </form>\n  <button type=\"button\"\n          search-close\n          class=\"devsite-search-button devsite-header-icon-button button-flat material-icons\"\n          \n          aria-label=\"Close search\"></button>\n</devsite-search>\n\n        </div>\n\n        \n\n        \n\n        \n<devsite-language-selector>\n  <devsite-select class=\"devsite-language-selector-menu\">\n    \n    <select aria-label=\"Select your language preference.\"\n            class=\"devsite-language-selector-select\"\n            name=\"language\"\n            track-name=\"click\"\n            track-type=\"languageSelector\">\n    \n      \n      <option>Language</option>\n    \n    \n      <option value=\"en\"\n              lang=\"en\"\n            >\n        English\n      </option>\n    \n      <option value=\"id\"\n              lang=\"id\"\n            >\n        Bahasa Indonesia\n      </option>\n    \n      <option value=\"es_419\"\n              lang=\"es_419\"\n            >\n        Español – América Latina\n      </option>\n    \n      <option value=\"pt_br\"\n              lang=\"pt_br\"\n            >\n        Português – Brasil\n      </option>\n    \n      <option value=\"vi\"\n              lang=\"vi\"\n            >\n        Tiếng Việt\n      </option>\n    \n      <option value=\"zh_cn\"\n              lang=\"zh_cn\"\n            >\n        中文 – 简体\n      </option>\n    \n      <option value=\"zh_tw\"\n              lang=\"zh_tw\"\n            >\n        中文 – 繁體\n      </option>\n    \n      <option value=\"ja\"\n              lang=\"ja\"\n            >\n        日本語\n      </option>\n    \n      <option value=\"ko\"\n              lang=\"ko\"\n            >\n        한국어\n      </option>\n    \n    </select>\n  </devsite-select>\n</devsite-language-selector>\n\n\n        \n\n        \n          \n          \n          <devsite-user \n                        \n                        \n                          enable-profiles\n                        \n                        \n                        id=\"devsite-user\">\n            \n              \n              <span class=\"button devsite-top-button\" aria-hidden=\"true\" visually-hidden>Sign in</span>\n            \n        </devsite-user>\n           \n        \n      </div>\n    </div>\n  </div>\n\n\n\n  <div class=\"devsite-collapsible-section\n    \">\n    <div class=\"devsite-header-background\">\n      \n        \n          <div class=\"devsite-product-id-row\"\n           >\n            <div class=\"devsite-product-description-row\">\n              \n                \n                  \n                  \n                  <ul class=\"devsite-breadcrumb-list\"\n  >\n  \n  <li class=\"devsite-breadcrumb-item\n             \">\n    \n    \n    \n      \n  <a href=\"https://developer.android.com/about\"\n      \n        class=\"devsite-breadcrumb-link gc-analytics-event\"\n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Lower Header\"\n      \n        data-value=\"1\"\n      \n        track-type=\"globalNav\"\n      \n        track-name=\"breadcrumb\"\n      \n        track-metadata-position=\"1\"\n      \n        track-metadata-eventdetail=\"\"\n      \n    >\n    \n        Platform\n      \n  </a>\n  \n    \n  </li>\n  \n</ul>\n                \n              \n              \n            </div>\n            \n          </div>\n          \n        \n      \n      \n        <div class=\"devsite-doc-set-nav-row\">\n          \n          \n            \n            \n  <devsite-tabs class=\"lower-tabs\">\n\n    <nav class=\"devsite-tabs-wrapper\" aria-label=\"Lower tabs\">\n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/about\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/about\"\n   track-metadata-position=\"nav - overview\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Overview\"\n    \n      track-name=\"overview\"\n    \n  >\n  Overview\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/about/versions\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/about/versions\"\n   track-metadata-position=\"nav - releases\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Releases\"\n    \n      track-name=\"releases\"\n    \n  >\n  Releases\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/tv\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/tv\"\n   track-metadata-position=\"nav - devices\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Devices\"\n    \n      track-name=\"devices\"\n    \n  >\n  Devices\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/wear\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/wear\"\n   track-metadata-position=\"nav - wear\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Wear\"\n    \n      track-name=\"wear\"\n    \n  >\n  Wear\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/guide/platform\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/guide/platform\"\n   track-metadata-position=\"nav - technology\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Technology\"\n    \n      track-name=\"technology\"\n    \n  >\n  Technology\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/large-screens\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/large-screens\"\n   track-metadata-position=\"nav - large screens\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Large Screens\"\n    \n      track-name=\"large screens\"\n    \n  >\n  Large Screens\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/ml\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/ml\"\n   track-metadata-position=\"nav - machine learning\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Machine Learning\"\n    \n      track-name=\"machine learning\"\n    \n  >\n  Machine Learning\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  active>\n            <a href=\"https://developer.android.com/design-for-safety\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/design-for-safety\"\n   track-metadata-position=\"nav - privacy\"\n   track-metadata-module=\"primary nav\"\n   aria-label=\"Privacy, selected\" \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Privacy\"\n    \n      track-name=\"privacy\"\n    \n  >\n  Privacy\n</a>\n\n          </tab>\n        \n      \n        \n          <tab  >\n            <a href=\"https://developer.android.com/training/connectivity/5g\"\n   class=\"gc-analytics-event \"\n   track-type=\"nav\"\n   track-metadata-eventdetail=\"https://developer.android.com/training/connectivity/5g\"\n   track-metadata-position=\"nav - android 5g\"\n   track-metadata-module=\"primary nav\"\n   \n   \n    \n      data-category=\"Site-Wide Custom Events\"\n    \n      data-label=\"Tab: Android 5G\"\n    \n      track-name=\"android 5g\"\n    \n  >\n  Android 5G\n</a>\n\n          </tab>\n        \n      \n    </nav>\n\n  </devsite-tabs>\n\n          \n          \n        </div>\n      \n    </div>\n  </div>\n\n</div>\n\n\n\n  \n\n  \n</devsite-header>\n      <devsite-book-nav scrollbars >\n        \n          \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"devsite-book-nav-filter\n            \">\n  <input type=\"text\"\n         placeholder=\"Filter\"\n         \n         aria-label=\"Type to filter\"\n         role=\"searchbox\">\n  \n  <span class=\"filter-clear-button hidden\"\n        data-title=\"Clear filter\"\n        aria-label=\"Clear filter\"\n        role=\"button\"\n        tabindex=\"0\"></span>\n</div>\n\n<nav class=\"devsite-book-nav devsite-nav nocontent\"\n     aria-label=\"Side menu\">\n  <div class=\"devsite-mobile-header\">\n    <button type=\"button\"\n            id=\"devsite-close-nav\"\n            class=\"devsite-header-icon-button button-flat material-icons gc-analytics-event\"\n            data-category=\"Site-Wide Custom Events\"\n            data-label=\"Close navigation\"\n            aria-label=\"Close navigation\">\n    </button>\n    <div class=\"devsite-product-name-wrapper\">\n\n  <a href=\"/\" class=\"devsite-site-logo-link gc-analytics-event\"\n   data-category=\"Site-Wide Custom Events\" data-label=\"Site logo\" track-type=\"globalNav\"\n   track-name=\"androidDevelopers\" track-metadata-position=\"nav\"\n   track-metadata-eventDetail=\"nav\">\n\n  \n    <img src=\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/lockup.svg\" class=\"devsite-site-logo\" alt=\"Android Developers\">\n  \n\n</a>\n\n\n  \n      <span class=\"devsite-product-name\">\n        \n        \n        <ul class=\"devsite-breadcrumb-list\"\n  >\n  \n  <li class=\"devsite-breadcrumb-item\n             \">\n    \n    \n    \n      \n      \n    \n  </li>\n  \n</ul>\n      </span>\n    \n\n</div>\n  </div>\n\n  <div class=\"devsite-book-nav-wrapper\">\n    <div class=\"devsite-mobile-nav-top\">\n      \n        <ul class=\"devsite-nav-list\">\n          \n            <li class=\"devsite-nav-item\">\n              \n  \n  <a href=\"/about\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              devsite-nav-active\"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Platform\"\n      \n        track-name=\"platform\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Platform\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Platform\n   </span>\n    \n  \n  </a>\n  \n\n  \n              \n                <ul class=\"devsite-nav-responsive-tabs\">\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/about\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Overview\"\n      \n        track-name=\"overview\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Overview\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Overview\n   </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/about/versions\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              devsite-nav-has-children\n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Releases\"\n      \n        track-name=\"releases\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Releases\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Releases\n   </span>\n    \n    <span class=\"devsite-nav-icon material-icons\" data-icon=\"forward\"\n          >\n    </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/tv\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              devsite-nav-has-children\n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Devices\"\n      \n        track-name=\"devices\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Devices\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Devices\n   </span>\n    \n    <span class=\"devsite-nav-icon material-icons\" data-icon=\"forward\"\n          >\n    </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/wear\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Wear\"\n      \n        track-name=\"wear\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Wear\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Wear\n   </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/guide/platform\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              devsite-nav-has-children\n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Technology\"\n      \n        track-name=\"technology\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Technology\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Technology\n   </span>\n    \n    <span class=\"devsite-nav-icon material-icons\" data-icon=\"forward\"\n          >\n    </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/large-screens\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Large Screens\"\n      \n        track-name=\"large screens\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Large Screens\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Large Screens\n   </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/ml\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              devsite-nav-has-children\n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Machine Learning\"\n      \n        track-name=\"machine learning\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Machine Learning\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Machine Learning\n   </span>\n    \n    <span class=\"devsite-nav-icon material-icons\" data-icon=\"forward\"\n          >\n    </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/design-for-safety\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              devsite-nav-has-children\n              devsite-nav-active\"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Privacy\"\n      \n        track-name=\"privacy\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Privacy\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip menu=\"_book\">\n      Privacy\n   </span>\n    \n    <span class=\"devsite-nav-icon material-icons\" data-icon=\"forward\"\n          menu=\"_book\">\n    </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                    \n                    \n                    \n                    <li class=\"devsite-nav-item\">\n                      \n  \n  <a href=\"/training/connectivity/5g\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Android 5G\"\n      \n        track-name=\"android 5g\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Android 5G\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Android 5G\n   </span>\n    \n  \n  </a>\n  \n\n  \n                    </li>\n                  \n                </ul>\n              \n            </li>\n          \n            <li class=\"devsite-nav-item\">\n              \n  \n  <a href=\"/studio\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Android Studio\"\n      \n        track-name=\"android studio\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Android Studio\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Android Studio\n   </span>\n    \n  \n  </a>\n  \n\n  \n              \n            </li>\n          \n            <li class=\"devsite-nav-item\">\n              \n  \n  <a href=\"/distribute\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Google Play\"\n      \n        track-name=\"google play\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Google Play\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Google Play\n   </span>\n    \n  \n  </a>\n  \n\n  \n              \n            </li>\n          \n            <li class=\"devsite-nav-item\">\n              \n  \n  <a href=\"/jetpack\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Jetpack\"\n      \n        track-name=\"jetpack\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Jetpack\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Jetpack\n   </span>\n    \n  \n  </a>\n  \n\n  \n              \n            </li>\n          \n            <li class=\"devsite-nav-item\">\n              \n  \n  <a href=\"/kotlin\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Kotlin\"\n      \n        track-name=\"kotlin\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Kotlin\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Kotlin\n   </span>\n    \n  \n  </a>\n  \n\n  \n              \n            </li>\n          \n            <li class=\"devsite-nav-item\">\n              \n  \n  <a href=\"/docs\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Docs\"\n      \n        track-name=\"docs\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Docs\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Docs\n   </span>\n    \n  \n  </a>\n  \n\n  \n              \n            </li>\n          \n            <li class=\"devsite-nav-item\">\n              \n  \n  <a href=\"/games\"\n    \n       class=\"devsite-nav-title gc-analytics-event\n              \n              \"\n    \n\n    \n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Tab: Games\"\n      \n        track-name=\"games\"\n      \n    \n     data-category=\"Site-Wide Custom Events\"\n     data-label=\"Responsive Tab: Games\"\n     track-type=\"globalNav\"\n     track-metadata-eventDetail=\"globalMenu\"\n     track-metadata-position=\"nav\">\n  \n    <span class=\"devsite-nav-text\" tooltip >\n      Games\n   </span>\n    \n  \n  </a>\n  \n\n  \n              \n            </li>\n          \n          \n          \n        </ul>\n      \n    </div>\n    \n      <div class=\"devsite-mobile-nav-bottom\" role=\"navigation\">\n        \n          \n          <ul class=\"devsite-nav-list\" menu=\"_book\">\n            <li class=\"devsite-nav-item\"><a href=\"/design-for-safety\"\n        class=\"devsite-nav-title\"\n      ><span class=\"devsite-nav-text\" tooltip>Design for safety</span></a></li>\n\n  <li class=\"devsite-nav-item\n           devsite-nav-heading\"><div class=\"devsite-nav-title devsite-nav-title-no-path\">\n        <span class=\"devsite-nav-text\" tooltip>Privacy Sandbox on Android</span>\n      </div></li>\n\n  <li class=\"devsite-nav-item\"><a href=\"/design-for-safety/ads\"\n        class=\"devsite-nav-title\"\n      ><span class=\"devsite-nav-text\" tooltip>Overview</span></a></li>\n\n  <li class=\"devsite-nav-item\"><a href=\"/design-for-safety/ads/introduction\"\n        class=\"devsite-nav-title\"\n      ><span class=\"devsite-nav-text\" tooltip>Introduction</span></a></li>\n\n  <li class=\"devsite-nav-item\n           devsite-nav-expandable\"><div class=\"devsite-expandable-nav\">\n      <a class=\"devsite-nav-toggle\" aria-hidden=\"true\"></a><div class=\"devsite-nav-title devsite-nav-title-no-path\" tabindex=\"0\" role=\"button\">\n        <span class=\"devsite-nav-text\" tooltip>Design proposals</span>\n      </div><ul class=\"devsite-nav-section\"><li class=\"devsite-nav-item\"><a href=\"/design-for-safety/ads/sdk-runtime\"\n        class=\"devsite-nav-title\"\n      ><span class=\"devsite-nav-text\" tooltip>SDK Runtime</span></a></li><li class=\"devsite-nav-item\"><a href=\"/design-for-safety/ads/topics\"\n        class=\"devsite-nav-title\"\n      ><span class=\"devsite-nav-text\" tooltip>Topics</span></a></li><li class=\"devsite-nav-item\"><a href=\"/design-for-safety/ads/fledge\"\n        class=\"devsite-nav-title\"\n      ><span class=\"devsite-nav-text\" tooltip>FLEDGE on Android</span></a></li><li class=\"devsite-nav-item\"><a href=\"/design-for-safety/ads/attribution\"\n        class=\"devsite-nav-title\"\n      ><span class=\"devsite-nav-text\" tooltip>Attribution Reporting</span></a></li></ul></div></li>\n          </ul>\n        \n        \n          \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n        \n        \n          \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n    \n  \n        \n      </div>\n    \n  </div>\n</nav>\n        \n      </devsite-book-nav>\n      <section id=\"gc-wrapper\">\n        <main role=\"main\" class=\"devsite-main-content\"\n            has-book-nav\n            has-sidebar>\n          \n          <div class=\"devsite-sidebar\">\n            <div class=\"devsite-sidebar-content\">\n              <devsite-toc class=\"devsite-nav\"\n                           role=\"navigation\"\n                           aria-label=\"On this page\"\n                           depth=\"2\"\n                           scrollbars\n                ></devsite-toc>\n              <devsite-recommendations-sidebar class=\"nocontent devsite-nav\">\n              </devsite-recommendations-sidebar>\n            </div>\n          </div>\n          \n          <devsite-content >\n            \n              \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<article class=\"devsite-article\">\n  \n  \n  \n\n  <div class=\"devsite-article-meta nocontent\" role=\"navigation\">\n    \n    \n    <ul class=\"devsite-breadcrumb-list\"\n  \n    aria-label=\"Breadcrumb\">\n  \n  <li class=\"devsite-breadcrumb-item\n             \">\n    \n    \n    \n      \n  <a href=\"https://developer.android.com/\"\n      \n        class=\"devsite-breadcrumb-link gc-analytics-event\"\n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Breadcrumbs\"\n      \n        data-value=\"1\"\n      \n        track-type=\"globalNav\"\n      \n        track-name=\"breadcrumb\"\n      \n        track-metadata-position=\"1\"\n      \n        track-metadata-eventdetail=\"Android Developers\"\n      \n    >\n    \n        Android Developers\n      \n  </a>\n  \n    \n  </li>\n  \n  <li class=\"devsite-breadcrumb-item\n             \">\n    \n      \n      <div class=\"devsite-breadcrumb-guillemet material-icons\" aria-hidden=\"true\"></div>\n    \n    \n    \n      \n  <a href=\"https://developer.android.com/about\"\n      \n        class=\"devsite-breadcrumb-link gc-analytics-event\"\n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Breadcrumbs\"\n      \n        data-value=\"2\"\n      \n        track-type=\"globalNav\"\n      \n        track-name=\"breadcrumb\"\n      \n        track-metadata-position=\"2\"\n      \n        track-metadata-eventdetail=\"\"\n      \n    >\n    \n        Platform\n      \n  </a>\n  \n    \n  </li>\n  \n  <li class=\"devsite-breadcrumb-item\n             \">\n    \n      \n      <div class=\"devsite-breadcrumb-guillemet material-icons\" aria-hidden=\"true\"></div>\n    \n    \n    \n      \n  <a href=\"https://developer.android.com/design-for-safety\"\n      \n        class=\"devsite-breadcrumb-link gc-analytics-event\"\n      \n        data-category=\"Site-Wide Custom Events\"\n      \n        data-label=\"Breadcrumbs\"\n      \n        data-value=\"3\"\n      \n        track-type=\"globalNav\"\n      \n        track-name=\"breadcrumb\"\n      \n        track-metadata-position=\"3\"\n      \n        track-metadata-eventdetail=\"\"\n      \n    >\n    \n        Privacy\n      \n  </a>\n  \n    \n  </li>\n  \n</ul>\n    \n      \n    <devsite-thumb-rating position=\"header\">\n    </devsite-thumb-rating>\n  \n    \n  </div>\n  \n  \n    <h1 class=\"devsite-page-title\">Attribution reporting</h1>\n  \n  <devsite-bookmark></devsite-bookmark>\n  <devsite-toc class=\"devsite-nav\"\n               depth=\"2\"\n               devsite-toc-embedded\n               >\n  </devsite-toc>\n\n  \n  <devsite-recommendations-dropdown class=\"nocontent\"></devsite-recommendations-dropdown>\n  \n\n  <div class=\"devsite-article-body clearfix\n    \">\n\n    \n      \n\n\n<p><devsite-mathjax config=\"TeX-AMS-MML_SVG\"></devsite-mathjax></p>\n\n<aside class=\"note\" style=\"margin-bottom: 0px;\">\n  <b>Note: </b> This article reflects the Privacy Sandbox on Android's current\n  design proposals and is subject to further change. We encourage your feedback\n  and comments to assist in these efforts.\n</aside>\n\n<p style=\"margin-top: 8px; margin-bottom: 32px;\">\n  <a href=\"https://issuetracker.google.com/issues/new?component=1116743&template=1642601\"\n  class=\"button\">Provide feedback</a>\n</p>\n\n<p>Today, it&#39;s common for mobile attribution and measurement solutions to use\ncross-party identifiers, such as Advertising ID. The Attribution Reporting API\nis designed to provide improved user privacy by removing reliance on cross-party\nuser identifiers, and to support key use cases for attribution and conversion\nmeasurement across apps and the web.</p>\n\n<p>This API has the following structural mechanisms that offer a\nframework for improving privacy, which later sections in this document describe\nin more detail:</p>\n\n<ul>\n<li>Limits the number of bits available for\n<a href=\"#event-level-reports\">event-level reports</a></li>\n<li>Enables higher-fidelity conversion data only in\n<a href=\"#aggregatable-reports\">aggregatable reports</a></li>\n<li>Introduces\n<a href=\"#limits-available-triggers\">rate limits for available triggers (conversions)</a>\nand the\n<a href=\"#limits-ad-tech-platforms-per-attribution-source\">number of ad tech platforms that can be associated with a single attribution\nsource</a></li>\n<li>Incorporates various noise adding techniques</li>\n</ul>\n\n<p>The preceding mechanisms limit the ability to link user identity across two\ndifferent apps or domains.</p>\n\n<p>The Attribution Reporting API supports the following use cases:</p>\n\n<ul>\n<li><strong>Conversion reporting:</strong> Help advertisers measure the performance of their\ncampaigns by showing them conversion (trigger) counts and conversion (trigger)\nvalues across various dimensions, such as by campaign, ad group, and ad creative.</li>\n<li><strong>Optimization:</strong> Provide event-level reports that support optimization of ad\nspend, by providing per-impression attribution data that can be used to train ML\nmodels.</li>\n<li><strong>Invalid activity detection:</strong> Provide reports that can be used in invalid\ntraffic and ad fraud detection and analysis.</li>\n</ul>\n\n<p>At a high level, the Attribution Reporting API works as follows, which later\nsections of this document describe in more detail:</p>\n\n<ol>\n<li>The ad tech platform\n<a href=\"#enroll-ad-tech-platform\">completes an enrollment process</a> to use the\nAttribution Reporting API.</li>\n<li>The ad tech platform\n<a href=\"#register-attribution-source\">registers attribution sources</a>—ad clicks or\nviews—with the Attribution Reporting API.</li>\n<li>The ad tech platform <a href=\"#register-trigger\">registers triggers</a>—user conversions\non the advertiser app or website—with the Attribution Reporting API.</li>\n<li>The Attribution Reporting API matches triggers to attribution sources—a\nconversion attribution—and one or more triggers are sent off-device through\n<a href=\"#event-level-reports\">event-level</a> and <a href=\"#aggregatable-reports\">aggregatable</a>\nreports to ad tech platforms.</li>\n</ol>\n\n<h2 id=\"enroll-ad-tech-platform\" data-text=\"Enroll an ad tech platform\">Enroll an ad tech platform</h2>\n\n<p>To access the Attribution Reporting API and to ensure that privacy\nmechanisms work as intended, all ad tech platforms (including Google&#39;s) need to\ncomplete a lightweight enrollment process. The details of this process are still\nin development, and we welcome your feedback.</p>\n\n<p>The enrollment process ensures that ad tech platforms don&#39;t unnecessarily\nduplicate themselves to gain more information about a user&#39;s site and app\nactivities. For example, the Attribution Reporting API limits the amount of\ntracking and information an ad tech platform can view for a given attribution\nsource and trigger. More details on these limits appear in the section on\n<a href=\"#view-measurement-data\">viewing measurement data in attribution reports</a> later\nin this document.</p>\n\n<p>Businesses may register multiple times if there is a legitimate business need\n(such as operating multiple independent product lines), and they do not combine\ndata from their multiple enrollments to bypass privacy restrictions.</p>\n\n<p>During the enrollment process, ad tech platforms provide information such as the\nfollowing:</p>\n\n<ul>\n<li>Contact and business information</li>\n<li>Postback URLs used for registering attribution sources, trigger attribution\nand receiving event-level and aggregatable reports</li>\n<li>Attribution Reporting API use cases</li>\n</ul>\n\n<h2 id=\"register-attribution-source\" data-text=\"Register an attribution source (click or view)\">Register an attribution source (click or view)</h2>\n\n<p>The Attribution Reporting API refers to ad clicks and views as\n<em>attribution sources</em>. To register an ad click or ad view, call\n<code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code>. This API expects the following parameters:</p>\n\n<ul>\n<li><strong>Attribution source URI:</strong> The platform issues a request to this URI in order\nto fetch metadata associated with the attribution source.</li>\n<li><strong>Input event:</strong> Either an <a href=\"/reference/android/view/InputEvent\"><code translate=\"no\" dir=\"ltr\">InputEvent</code></a>\nobject (for a click event) or <code translate=\"no\" dir=\"ltr\">null</code> (for a view event).</li>\n</ul>\n\n<p>When the API makes a request to the Attribution Source URI, the ad tech platform\nshould respond with the attribution source metadata in a new HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source</code>, with the following fields:</p>\n\n<ul>\n<li><strong>Source event ID:</strong> A DOMString that encodes a 64-bit unsigned integer. This\nvalue represents the event-level data associated with this attribution source\n(ad click or view).</li>\n<li><strong>Destination:</strong> An origin whose eTLD+1 or app package name where the trigger\nevent happens.</li>\n<li><strong>Expiry (optional):</strong> Expiry, in seconds, for when the source should be\ndeleted off the device. Default is 30 days, with a minimum value of 2 days and a\nmaximum value of 30 days. This is rounded to the nearest day.</li>\n<li><p><strong>Source priority (optional):</strong> A signed 64-bit integer used to select which\nattribution source a given trigger should be associated with, in case multiple\nattribution sources could be associated with the trigger.</p>\n\n<p>When a trigger is received, the API finds the matching attribution source\nwith the highest source priority value and generates a report. Each ad tech\nplatform can define its own prioritization strategy.</p>\n\n<p>A higher value indicates a higher priority.</p></li>\n<li><p><strong>Install and post-install attribution windows (optional):</strong> Used to determine\nattribution for <a href=\"#post-install-attribution\">post-install events</a>, described\nlater in this document.</p></li>\n</ul>\n\n<p>The attribution source metadata response may include additional data in the\nfollowing separate headers:</p>\n\n<ul>\n<li><strong>Aggregation keys (optional):</strong> Specify\n<a href=\"#aggregatable-reports-register-source-data\">segmentation</a> to be used for\n<a href=\"#aggregatable-reports\">aggregatable reports</a>.</li>\n<li><strong>Attribution reporting redirects (optional):</strong> Redirect URLs, to\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">allow multiple ad tech platforms to register a\nrequest</a>.</li>\n</ul>\n\n<p>The following snippet shows the current design for attribution source data:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source: {\n  &#34;source_event_id&#34;: &#34;[64 bit unsigned integer]&#34;,\n  &#34;destination&#34;: &#34;[eTLD+1 or app package name]&#34;,\n  &#34;expiry&#34;: &#34;[64 bit signed integer]&#34;,\n  &#34;source_priority&#34;: &#34;[64 bit signed integer]&#34;\n}\nAttribution-Reporting-Register-Aggregate-Source: &lt;aggregation-key-data&gt;\nAttribution-Reporting-Redirects: &#34;https://adtechpartner.example&#34;\n</code></pre>\n<p>The following steps show an example workflow:</p>\n\n<ol>\n<li><p>The ad tech SDK calls the API to initiate attribution source registration:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">registerAttributionSource(\n    Uri.parse(&#34;https://adtech.example/attribution_source?my_ad_click_id=123&#34;),\n    myClickEvent);\n</code></pre></li>\n<li><p>The API makes a request to\n<code translate=\"no\" dir=\"ltr\">https://adtech.example/attribution_source?my_ad_click_id=123</code>, using this\nheader:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Source-Info: navigation\n</code></pre></li>\n<li><p>This ad tech platform&#39;s HTTPS server replies with headers containing the\nfollowing:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source: {\n    &#34;destination&#34;: &#34;android-app://com.advertiser.example&#34;,\n    &#34;source_event_id&#34;: &#34;234&#34;,\n    &#34;expiry&#34;: &#34;60000&#34;,\n    &#34;source_priority&#34;: &#34;5&#34;\n}\nAttribution-Reporting-Redirects: https://adtechpartner.example?their_ad_click_id=567\nAttribution-Reporting-Source-Info: navigation\n</code></pre></li>\n<li><p>The API makes a request to each URL specified in\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code>. In this example, only one URL is specified,\nso the API makes a request to <code translate=\"no\" dir=\"ltr\">https://adtechpartner.example?their_ad_click_id=567</code>.</p></li>\n<li><p>This ad tech platform&#39;s HTTPS server replies with headers containing the\nfollowing:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source: {\n    &#34;destination&#34;: &#34;android-app://com.advertiser.example&#34;,\n    &#34;source_event_id&#34;: &#34;789&#34;,\n    &#34;expiry&#34;: &#34;120000&#34;,\n    &#34;source_priority&#34;: &#34;2&#34;\n}\n</code></pre></li>\n</ol>\n\n<p>Two navigation (click) attribution sources are registered based on the requests\nshown in the previous steps.</p>\n\n<h2 id=\"register-trigger\" data-text=\"Register a trigger (conversion)\">Register a trigger (conversion)</h2>\n\n<p>Ad tech platforms can register <em>triggers</em>—conversions such as installs or\npost-install events—using the <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method.</p>\n\n<p>The <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method expects the <strong>Trigger URI</strong> parameter. The API\nissues a request to this URI to fetch metadata associated with the trigger.</p>\n\n<p>The API follows redirects. The ad tech server response should include an HTTP\nheader called <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger</code>, which represents\ninformation on one or more registered triggers. The header&#39;s content should be\n<a href=\"https://datatracker.ietf.org/doc/html/draft-reschke-http-jfv#section-2\" class=\"external\">JSON-encoded</a> \nand include the following fields:</p>\n\n<ul>\n<li><strong>Trigger data:</strong> Data to identify the trigger event (3 bits for clicks, 1 bit\nfor views)</li>\n<li><strong>Trigger priority (optional):</strong> Signed 64-bit integer which represents the\npriority of this trigger compared to other triggers for the same attribution\nsource</li>\n<li><strong>Deduplication key (optional):</strong> Signed 64-bit integer which is used to\nidentify cases where the same trigger is registered multiple times by the same\nad tech platform, for the same attribution source</li>\n</ul>\n\n<p>The ad tech server response may include additional data in the following\nheaders:</p>\n\n<ul>\n<li><strong>Aggregation keys (optional):</strong> A <a href=\"#aggregatable-reports-register-trigger\">list of dictionaries which specifies\naggregation keys</a> and which aggregatable\nreports should have their value aggregated.</li>\n<li><strong>Aggregation values (optional):</strong> A list of amounts of value which contribute\nto each key.</li>\n<li><strong>Attribution Reporting Redirects (optional):</strong> Redirect URLs, to\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">allow multiple ad tech platforms to register a\nrequest</a>.</li>\n</ul>\n\n<p><a id=\"deduplication-key\"></a></p>\n\n<p>Multiple ad tech platforms can register the same trigger event using either\nredirects in the <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field or multiple calls to\nthe <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method. We recommend that you use the\n<strong>deduplication key</strong> field to avoid including duplicate triggers in reports in\nthe case that the same ad tech platform provides multiple responses for the same\ntrigger event.</p>\n\n<p>The following snippet shows the current design for trigger data:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger: {\n    &#34;trigger_data&#34;: &#34;[unsigned 64-bit integer]&#34;,\n    &#34;trigger_priority&#34;: &#34;[signed 64-bit integer]&#34;,\n    &#34;deduplication_key&#34;: &#34;[signed 64-bit integer]&#34;\n}\nAttribution-Reporting-Aggregate-Trigger-Data: &lt;aggregation-key-data&gt;\nAttribution-Reporting-Aggregate-Values: &lt;aggregation-value-data&gt;\nAttribution-Reporting-Redirects: &#34;https://adtechpartner.example&#34;\n</code></pre>\n<p>The following steps show an example workflow:</p>\n\n<ol>\n<li><p>The Ad tech SDK calls the API to initiate trigger registration:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">triggerAttribution(\n    Uri.parse(&#34;https://adtech.example/attribution_trigger?app_install=123&#34;));\n</code></pre></li>\n<li><p>The API makes a request to <code translate=\"no\" dir=\"ltr\">https://adtech.example/attribution_trigger?app_install=123</code>.</p></li>\n<li><p>This ad tech platform&#39;s HTTPS server replies with headers containing the\nfollowing:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger: {\n    &#34;trigger_data&#34;: &#34;1122&#34;,\n    &#34;trigger_priority&#34;: &#34;3&#34;,\n    &#34;deduplication_key&#34;: &#34;3344&#34;,\n}\nAttribution-Reporting-Redirects: https://adtechpartner.example?app_install=567\n</code></pre></li>\n<li><p>The API makes a request to each URL specified in\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code>. In this example, only one URL is specified,\nso the API makes a request to <code translate=\"no\" dir=\"ltr\">https://adtechpartner.example?app_install=567</code>.</p></li>\n<li><p>This ad tech platform&#39;s HTTPS server replies with headers containing the\nfollowing:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger: {\n    &#34;trigger_data&#34;: &#34;5566&#34;,\n    &#34;trigger_priority&#34;: &#34;3&#34;,\n    &#34;deduplication_key&#34;: &#34;3344&#34;\n}\n</code></pre>\n<p>Two triggers are registered based on the requests in the previous steps.</p></li>\n</ol>\n\n<h3 id=\"source-prioritized-attribution-algorithm\" data-text=\"Source-prioritized attribution algorithm applied\">Source-prioritized attribution algorithm applied</h3>\n\n<p>The Attribution Reporting API employs a\n<em>source-prioritized attribution algorithm</em> to match a trigger (conversion) to an\nattribution source. In the case where\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">multiple ad tech platforms register an attribution\nsource</a>, as described later\nin this document, this attribution\nhappens independently for each ad tech platform. For each ad tech platform, the\nattribution source with the highest priority is attributed with the trigger\nevent. If there are multiple attribution sources with the same priority, the API\npicks the last registered attribution source. Any other attribution sources,\nthat aren&#39;t picked are discarded and are no longer eligible for future trigger\nattribution.</p>\n\n<h3 id=\"post-install-attribution\" data-text=\"Post-install attribution\">Post-install attribution</h3>\n\n<p>In some cases, there is a need for post-install triggers to be attributed to the\nsame attribution source that drove the install, even if there are other eligible\nattribution sources that occurred more recently.</p>\n\n<p>The API can support this use case by allowing ad tech platforms to set a\npost-install attribution period:</p>\n\n<ul>\n<li>When registering an attribution source, specify an install attribution window\nduring which installs are expected (generally 2-7 days).</li>\n<li>When registering an attribution source, specify a post-install attribution\nwindow where any post-install trigger events should be associated with the\nattribution source that drove the install (generally 7-30 days).</li>\n<li>The Attribution Reporting API validates when an app install happens and\ninternally attribute the install to the source-prioritized attribution source.\nHowever, the install isn&#39;t sent to ad tech platforms and doesn&#39;t count against\nthe platforms&#39; respective rate limits.</li>\n<li><p>Any future triggers that happen within the post-install attribution window are\nattributed to the same attribution source as the validated install, as long as\nthat attribution source is eligible.</p>\n\n<p>We are looking into ways to support use cases where the user uninstalls and\nreinstalls the app.</p></li>\n</ul>\n\n<p>In the future, we might explore extending the design to support more advanced attribution models.</p>\n\n<h3 id=\"app-web-based-trigger-paths\" data-text=\"All combinations of app- and web-based trigger paths are supported\">All combinations of app- and web-based trigger paths are supported</h3>\n\n<p>The Attribution Reporting API enables attribution of the following trigger paths\non a single Android device:</p>\n\n<ul>\n<li><strong>App-to-app:</strong> The user sees an ad in an app, then converts in either that\napp or another installed app.</li>\n<li><strong>App-to-web:</strong> The user sees an ad in an app, then converts in a mobile or\napp browser.</li>\n<li><strong>Web-to-app:</strong> The user sees an ad in a mobile or app browser, then converts\nin an app.</li>\n<li><strong>Web-to-web:</strong> The user sees an ad in a mobile or app browser, then converts\nin either the same browser or another browser on the same device.</li>\n</ul>\n\n<p>We allow web browsers to support new web-exposed functionality, such as\nfunctionality that&#39;s similar to the\n<a href=\"https://github.com/WICG/conversion-measurement-api\" class=\"external\">Privacy Sandbox for the Web&#39;s Attribution Reporting\nAPI</a>, which can\ncall the Android APIs to enable attribution across app and web.</p>\n\n<h3 id=\"prioritize-multiple-triggers-single-attribution-source\" data-text=\"Prioritize multiple triggers for a single attribution source\">Prioritize multiple triggers for a single attribution source</h3>\n\n<p>A single attribution source can lead to multiple triggers. For example, a\npurchase flow could involve an &quot;app install&quot; trigger, one or more &quot;add-to-cart&quot;\ntriggers, and a &quot;purchase&quot; trigger. Each trigger is attributed to one or more\nattribution sources according to the\n<a href=\"#source-prioritized-attribution-algorithm\">source-prioritized attribution\nalgorithm</a>, described later in this document.</p>\n\n<p>There are\n<a href=\"#limits-ad-tech-platforms-per-attribution-source\">limits on how many triggers can be attributed to a single attribution\nsource</a>; for more details,\nread the section on\n<a href=\"#view-measurement-data\">viewing measurement data in attribution reports</a> later\nin this document. In\nthe cases where there are multiple triggers beyond these limits, it&#39;s useful to\nintroduce prioritization logic to get back the most valuable triggers. For\nexample, the developers of an ad tech platform might want to prioritize getting\n&quot;purchase&quot; triggers over &quot;add-to-cart&quot; triggers.</p>\n\n<p>To support this logic, a separate priority field can be set on the\ntrigger, and the highest priority triggers are picked before limits are applied,\nwithin a given reporting window.</p>\n<aside class=\"note\"><strong>Note:</strong><span> Lower-priority triggers which have already been reported always consume\nthe budget.</span></aside>\n<h3 id=\"allow-multiple-ad-tech-platforms-register-request\" data-text=\"Allow multiple ad tech platforms to register attribution sources or triggers\">Allow multiple ad tech platforms to register attribution sources or triggers</h3>\n\n<p>It&#39;s common for more than one ad tech platform to receive attribution reports.\nTherefore, the API allows multiple ad tech platforms to register the same\nattribution source or trigger.</p>\n\n<h4 id=\"multiple-ad-tech-platforms-register-attribution-source\" data-text=\"Attribution sources\">Attribution sources</h4>\n\n<p>Attribution source redirects are supported in the <code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code>\nmethod:</p>\n\n<ol>\n<li>The ad tech platform that calls the <code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code> method\ncan provide an additional <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field in their\nresponse, which represents the set of partner ad tech&#39;s redirect URLs.</li>\n<li>The API\nthen calls the redirect URLs so the attribution source can be registered by the\npartner ad tech platforms.</li>\n</ol>\n\n<p>Multiple partner ad tech platform URLs can be listed in the\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field, and partner ad tech platforms cannot\nspecify their own <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field.</p>\n\n<p>The API also allows different ad tech platforms to each call\n<code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code>.</p>\n\n<h4 id=\"multiple-ad-tech-platforms-register-trigger\" data-text=\"Triggers\">Triggers</h4>\n\n<p>For trigger registration, third parties are supported in a similar way: ad tech\nplatforms can either use the additional <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field,\nor they can each call the <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method.</p>\n\n<p>When an advertiser uses multiple ad tech platforms to register the same trigger\nevent, a <em>deduplication key</em> should be used. The deduplication key serves to\ndisambiguate these repeated reports of the same event. If no deduplication key\nis provided, duplicate triggers may be reported back to each ad tech platform as\nunique.</p>\n\n<h2 id=\"view-measurement-data\" data-text=\"View measurement data in attribution reports\">View measurement data in attribution reports</h2>\n\n<p>The Attribution Reporting API enables the following types of reports, described\nin more detail later in this document:</p>\n\n<ul>\n<li><a href=\"#event-level-reports\"><strong>Event-level reports</strong></a> associate a particular\nattribution source (click or view) with limited bits of high-fidelity trigger\ndata.</li>\n<li><a href=\"#aggregatable-reports\"><strong>Aggregatable reports</strong></a> aren&#39;t necessarily tied with\na specific attribution source. These reports provide richer, higher-fidelity\ntrigger data than event-level reports, but this data is only available in an\naggregate form.</li>\n</ul>\n\n<p>These two report types are complementary to each other and can be used\nsimultaneously.</p>\n\n<h3 id=\"event-level-reports\" data-text=\"Event-level reports\">Event-level reports</h3>\n\n<p>After a trigger is attributed to an attribution source, an event-level report is\ngenerated and stored on the device until it can be sent back to each ad tech\nplatform&#39;s postback URL during one of the\n<a href=\"#specific-time-windows-sending-reports\">time windows for sending reports</a>,\ndescribed in more detail later in this document.</p>\n\n<p>Event-level reports are useful when very little information is needed about the\ntrigger. Event-level trigger data is limited to 3 bits of trigger data for\nclicks—which means that a trigger can be assigned one of eight categories—and\n1 bit for views. In addition, event-level reports don&#39;t support encoding of\nhigh-fidelity trigger-side data, such as a specific price or trigger time.</p>\n\n<p>The event-level report contains data such as the following:</p>\n\n<ul>\n<li><strong>Destination:</strong> Advertiser app package name or eTLD+1 where the trigger\nhappened</li>\n<li><strong>Attribution Source ID:</strong> The same attribution source ID that was used for\n<a href=\"#register-attribution-source\">registering an attribution source</a></li>\n<li><strong>Trigger type:</strong> 1 or 3 bits of low-fidelity trigger data, depending on the\ntype of attribution source</li>\n</ul>\n\n<h3 id=\"privacy-preserving-mechanisms-event-level-reports\" data-text=\"Privacy-preserving mechanisms applied to event-level reports\">Privacy-preserving mechanisms applied to event-level reports</h3>\n\n<h4 id=\"limited-fidelity-trigger-data\" data-text=\"Limited fidelity of trigger data\">Limited fidelity of trigger data</h4>\n\n<p>The API provides 1 bit for view-through triggers and 3 bits for click-through\ntriggers. Attribution sources continue to support the full 64 bits of metadata.</p>\n\n<p>You should evaluate if and how to reduce the information expressed in\ntriggers so they work with the limited number of bits available in event-level\nreports.</p>\n\n<h4 id=\"framework-differential-privacy-noise\" data-text=\"Framework for differential privacy noise\">Framework for differential privacy noise</h4>\n\n<p>A goal of this API is to allow event-level measurement to satisfy local\ndifferential privacy requirements by using k-randomized responses to generate a\nnoisy output for each source event.</p>\n\n<p>Noise is applied on whether an attribution source event is reported truthfully.\nAn attribution source is registered on the device with probability $ p $\nthat the attribution source is registered as normal, and with probability\n$ 1-p $ that the device randomly chooses among all possible output states of the\nAPI (including not reporting anything at all, or reporting multiple fake\nreports).</p>\n\n<p>The k-randomized response is an algorithm that is <em>epsilon differentially\nprivate</em> if the following equation is satisfied:</p>\n\n<div>\n\\[\np = \\frac{k}{k + e^&epsilon; - 1}\n\\]\n</div>\n\n<p>For low values of &epsilon;, the true output is protected by the k-randomized\nresponse mechanism. Exact noise parameters are works in progress and are subject\nto change based on feedback.</p>\n\n<h4 id=\"limits-available-triggers\" data-text=\"Limits on available triggers (conversions)\">Limits on available triggers (conversions)</h4>\n\n<p>There are limits on the number of triggers per attribution source, with a\ncurrent proposal of the following:</p>\n\n<ul>\n<li>1-2 triggers for view ad attribution sources</li>\n<li>3 triggers for click ad attribution sources</li>\n</ul>\n\n<p>These limits are applied after priorities regarding attribution sources and\ntriggers are taken into consideration.</p>\n\n<h4 id=\"limits-ad-tech-platforms-per-attribution-source\" data-text=\"Limits on number of ad tech platforms per attribution source\">Limits on number of ad tech platforms per attribution source</h4>\n\n<p>There are limits on the number of ad tech platforms that can be associated with\na single attribution source. These limits are applied after priorities regarding\nattribution sources and triggers are taken into consideration.</p>\n\n<h4 id=\"specific-time-windows-sending-reports\" data-text=\"Specific time windows for sending reports\">Specific time windows for sending reports</h4>\n\n<p>Reports for ad view attribution sources are sent 1 hour after the source expires.\nThis expiry date can be configured, but it cannot be fewer than 2 days or more\nthan 30 days.</p>\n\n<p>Reports for ad click attribution sources cannot be configured and are sent\nbefore the source expires, at specified points in time relative to when the\nsource was registered. The time between the attribution source and expiry is\nsplit into multiple reporting windows. Each reporting window has a deadline\n(from the attribution source time). At the end of each reporting window, the\ndevice collects all the triggers that have occurred since the previous reporting\nwindow and sends a scheduled report. The API supports the following reporting\nwindows:</p>\n\n<ul>\n<li><strong>2 days:</strong> The device collects all the triggers that occurred at most 2 days\nafter the attribution source was registered. The report is sent 2 days and\n1 hour after the attribution source is registered.</li>\n<li><strong>7 days:</strong> The device collects all the triggers that occurred more than\n2 days but no more than 7 days after the attribution source was registered. The\nreport is sent 7 days and 1 hour after the attribution source is registered.</li>\n<li><strong>A custom length of time,</strong> defined by the &quot;expiry&quot; attribute of an\nattribution source. The report is sent 1 hour after the specified expiry time.\nThis value cannot be fewer than 2 days or more than 30 days.</li>\n</ul>\n\n<h3 id=\"aggregatable-reports\" data-text=\"Aggregatable reports\">Aggregatable reports</h3>\n\n<p>Aggregatable reports provide higher-fidelity trigger data from the device more\nquickly, beyond what is offered for <a href=\"#event-level-reports\">event-level reports</a>.\nThis higher-fidelity data can only be learned in <em>aggregate</em>, and isn&#39;t\nassociated with a particular trigger or user. Aggregation keys are up to\n128 bits, and this allows aggregatable reports to support reporting use cases\nsuch as the following:</p>\n\n<ul>\n<li>Reports for trigger values, such as revenue</li>\n<li>Handling more trigger types</li>\n</ul>\n\n<p>In addition, aggregatable reports have the following characteristics:</p>\n\n<ul>\n<li>An attribution window of 30 days</li>\n<li>The same\n<a href=\"#source-prioritized-attribution-algorithm\">source-prioritized attribution\nlogic</a> as the event-level API,\ndescribed earlier in this document</li>\n</ul>\n\n<p>The overall design of how the Attribution Reporting API prepares and sends\naggregatable reports, shown in figure 1, is as follows:</p>\n\n<ol>\n<li>The device sends encrypted aggregatable reports to the ad tech platform.</li>\n<li>The ad tech platform sends a batch of aggregatable reports to the aggregation\nservice for aggregation.</li>\n<li>The aggregation service reads a batch of aggregatable reports, decrypts and\naggregates them.</li>\n<li>The final aggregates are sent back to the ad tech platform.</li>\n</ol>\n\n<figure>\n  <img src=\"/images/design-for-safety/ads/aggregatable-report-design.svg\" alt=\"\"\n  width=\"800\">\n  <figcaption><b>Figure 1.</b> Process that the Attribution Reporting API uses\n  to prepare and send aggregatable reports.</figcaption>\n</figure>\n\n<p>Aggregatable reports contain the following data related to attribution sources:</p>\n\n<ul>\n<li><strong>Source:</strong> The app&#39;s package name or eTLD+1 web URL where the ad was served.</li>\n<li><strong>Destination:</strong> The app&#39;s package name or eTLD+1 web URL where the trigger\nhappened.</li>\n<li><strong>Date:</strong> The date when the event represented by the attribution source\noccurred.</li>\n<li><strong>Payload:</strong> Trigger values, collected as encrypted key/value pairs, which is\nused in the trusted <a href=\"#aggregation-service\">aggregation service</a> to compute\naggregations.</li>\n</ul>\n\n<h4 id=\"aggregation-services\" data-text=\"Aggregation services\">Aggregation services</h4>\n\n<p>The following services provide aggregation functionality and help protect\nagainst inappropriate access of aggregation data.</p>\n\n<p>These services are managed by different parties, which are described in more\ndetail later in this document:</p>\n\n<ul>\n<li>The aggregation service is the only one that ad tech platforms are expected to\ndeploy.</li>\n<li>The\n<a href=\"#key-management-service\">key management</a> and\n<a href=\"#privacy-budget-service\">privacy budget</a> services are run by trusted parties\ncalled <em>verifiers</em>. These verifiers attest that the code running the aggregation\nservice is the publicly-available code provided by Google and that\nall aggregation service users have the same key and budget services applied to\nthem.</li>\n</ul>\n\n<h5 id=\"aggregation-service\" data-text=\"Aggregation service\">Aggregation service</h5>\n\n<p>Ad tech platforms must, in advance, deploy an <em>aggregation service</em> that&#39;s\nbased on binaries provided by Google.</p>\n\n<p>This aggregation service operates in a Trusted Execution Environment (TEE)\nhosted in the cloud. A TEE offers the following security benefits:</p>\n\n<ul>\n<li>It ensures that the code operating in the TEE is the specific binary offered\nby Google. Unless this condition is satisfied, the aggregation\nservice can&#39;t access the decryption keys it needs to operate.</li>\n<li>It offers security around the running process, isolating it from external\nmonitoring or tampering.</li>\n</ul>\n\n<p>These security benefits make it safer for an aggregation service to perform\nsensitive operations, such as accessing encrypted data.</p>\n\n<p>For more information on the design, workflow, and security considerations of the\naggregation service, see the\n<a href=\"https://github.com/WICG/conversion-measurement-api/blob/main/AGGREGATION_SERVICE_TEE.md\" class=\"external\">aggregation service document</a> \non GitHub.</p>\n\n<h5 id=\"key-management-service\" data-text=\"Key management service\">Key management service</h5>\n\n<p>This service verifies that an aggregation service is running an approved version\nof the binary and then provides the aggregation service in the ad tech platform\nwith the correct decryption keys for their trigger data.</p>\n\n<h5 id=\"privacy-budget-service\" data-text=\"Privacy budget service\">Privacy budget service</h5>\n\n<p>This service tracks how often an ad tech platform&#39;s aggregation service accesses\na specific trigger—which can contain multiple aggregation keys—and limits access\nto the appropriate number of decryptions. One decryption per trigger is\npermitted.</p>\n\n<h3 id=\"aggregatable-reports-api\" data-text=\"Aggregatable Reports API\">Aggregatable Reports API</h3>\n\n<p>The API for creating contributions to aggregatable reports uses the same base\nAPI as when <a href=\"#register-attribution-source\">registering an attribution source</a>\nfor event-level reports. The following sections describe the extensions of the\nAPI.</p>\n\n<h4 id=\"aggregatable-reports-register-source-data\" data-text=\"Register the aggregatable source data\">Register the aggregatable source data</h4>\n\n<p>When the API makes a request to the Attribution Source URI, the ad tech platform\ncan register a list of aggregation keys by responding with a new HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Aggregate-Source</code>, with the following fields for\neach aggregation key in the list:</p>\n\n<ul>\n<li><strong>Source event ID:</strong> A string for the name of the key. Used as a join key to\ncombine with trigger-side keys to form the final key.</li>\n<li><strong>Key piece:</strong> A bitstring value for the key.</li>\n<li><strong>Key offset:</strong> An integer value of offset index for combining this key piece\nwith the trigger-side key piece.</li>\n</ul>\n\n<p>The final key is a combination of this piece and the trigger-side pieces, using\nthe <strong>key offset</strong> field to concatenate the bitstrings. Final keys are\nrestricted to a maximum of 128 bits; keys longer than this are truncated.</p>\n\n<p>In the following example, an ad tech platform uses the API to collect the\nfollowing:</p>\n\n<ul>\n<li>Aggregate conversion counts at a campaign level</li>\n<li>Aggregate purchase values at a geo level</li>\n</ul>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Aggregate-Source:\n[{\n  // Generates a &#34;101011001&#34; key prefix named &#34;campaignCounts&#34;.\n  &#34;source_event_id&#34;: &#34;campaignCounts&#34;,\n  &#34;key_piece&#34;: &#34;101011001&#34;, // User saw ad from campaign 345 (out of 511).\n  &#34;key_offset&#34;: 0 // The first part of the key\n                  // when combined with trigger-side keys.\n},\n{\n  // Generates a &#34;101&#34; key prefix named &#34;geoValue&#34;.\n  &#34;source_event_id&#34;: &#34;geoValue&#34;,\n  // Source-side geo region = 5 (US) but pad with 0s since the shop operates in\n  // ~100 separate countries.\n  &#34;key_piece&#34;: &#34;0000101&#34;,\n  &#34;key_offset&#34;: 0 // The first part of the key\n                  // when combined with trigger-side keys.\n}]\n</code></pre>\n<h4 id=\"aggregatable-reports-register-trigger\" data-text=\"Register the aggregatable trigger\">Register the aggregatable trigger</h4>\n\n<p>Trigger registration includes two additional headers.</p>\n\n<p>The first header is used to register a list of aggregate keys on the trigger\nside. The ad tech platform should respond back with the HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Trigger-Data</code>, with the following fields for\neach aggregate key in the list:</p>\n\n<ul>\n<li><strong>Key piece:</strong> A bitstring value for the key.</li>\n<li><strong>Key offset:</strong> An integer value, used as the offset index when combining the\nattribution source key piece with the trigger key piece.</li>\n<li><strong>Source keys:</strong> A list of strings with the names of attribution source side\nkeys that the trigger key should be combined with to form the final keys.</li>\n</ul>\n\n<p>The following snippet continues the example from\n<a href=\"#aggregatable-reports-register-source-data\">registering aggregate source data in aggregatable\nreports</a>:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Trigger-Data:\n[\n  // Each dictionary independently adds pieces to multiple source keys.\n  {\n    &#34;key_piece&#34;: &#34;10&#34;,// Conversion type purchase = 2\n    // Combine key piece at offset index 9 with attribution source key piece.\n    &#34;key_offset&#34;: 9,\n    // Apply this suffix to:\n    &#34;source_keys&#34;: [&#34;campaignCounts&#34;]\n  },\n  {\n    &#34;key_piece&#34;: &#34;10101&#34;,// Purchase category shirts = 21\n    // Combine key piece at offset index 9 with attribution source key piece.\n    &#34;key_offset&#34;: 7,\n    // Apply this suffix to:\n    &#34;source_keys&#34;: [&#34;geoValue&#34; ]\n  }\n]\n</code></pre>\n<p>The second header is used to register a list of values which should contribute\nto each key. The ad tech platform should respond back with the HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Values</code>.</p>\n\n<p>Each trigger can make multiple contributions to the aggregatable reports. The\ntotal amount of contributions to any given attribution source is bound by an\n$ L1 $ parameter, which is the maximum sum of contributions (values) across all\naggregate keys for a given attribution source. Exceeding these limits causes\nfuture contributions to silently drop. The initial proposal is to set $ L1 $ to\n$ 2^{16} $ (65536). The noise in the aggregation service is scaled in proportion\nto this parameter. Given this, it is recommended to appropriately scale the\nvalues reported for a given aggregate key, based on the portion of $ L1 $\nprivacy budget allocated to it. This approach helps ensure that the aggregate\nreports retain the highest possible fidelity when noise is applied. This\nmechanism is highly flexible and can support many aggregation strategies.</p>\n\n<p>In the following example, the privacy budget is split equally between\n<code translate=\"no\" dir=\"ltr\">campaignCounts</code> and <code translate=\"no\" dir=\"ltr\">geoValue</code> by splitting the $ L1 $ contribution to each:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Values:\n{\n    // Privacy budget for each key is L1 / 2 = 2^15 (32768).\n    // Conversion count was 1.\n    // Scale the count to use the full budget allocated: 1 * 32768 = 32768.\n    &#34;campaignCounts&#34;: 32768,\n\n    // Purchase price was $52.\n    // Purchase values for the app range from $1 to $1,024 (integers only).\n    // Scaling factor applied is 32768 / 1024 = 32.\n    // For $52 purchase, scale the value by 32 ($52 * 32 = $1,664).\n    &#34;geoValue&#34;: 1664\n}\n</code></pre>\n<p>The preceding example generates the following aggregate counts:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">[\n  // campaignCounts:\n  {\n    // The attribution source key piece &#34;101011001&#34; (offset 0)\n    // is concatenated with  &#34;10&#34; (offset 9) trigger key piece to form\n    // the final key &#34;10101100110&#34; = 1382.\n    &#34;key&#34;: &#34;1382&#34;,\n    &#34;value&#34;: 32768\n  },\n  // geoValue:\n  {\n    // The attribution source key piece &#34;0000101&#34; (offset 0)\n    // is concatenated with  &#34;10101&#34; (offset 7) trigger key piece to form\n    // the final key &#34;000010110101&#34; = 181.\n    &#34;key&#34;: &#34;181&#34;,\n    &#34;value&#34;: &#34;1664&#34;\n  }\n]\n</code></pre>\n<p>The scaling factors can be inverted in order to obtain the correct values,\nmodulo noise that is applied:</p>\n<pre class=\"devsite-click-to-copy\" translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">L1 = 65536\ntrueCampaignCounts = campaignCounts / (L1 / 2)\ntrueGeoValue = geoValue / (L1 / 2) * 1024\n</code></pre>\n<h4 id=\"differential-privacy\" data-text=\"Differential privacy\">Differential privacy</h4>\n\n<p>A goal of this API is to have a framework which can support differentially\nprivate aggregate measurement. This can be achieved by adding noise proportional\nto the $ L1 $ budget, such as picking noise with the following distribution:</p>\n\n<div>\n\\[\nLaplace(\\frac{&epsilon;}{L1})\n\\]\n</div>\n\n<h2 id=\"future-considerations-open-questions\" data-text=\"Future considerations &amp; open questions\">Future considerations &amp; open questions</h2>\n\n<p>The Attribution Reporting API is a work in progress. We&#39;re also exploring future\npotential features, such as non-last-click attribution models and cross-device\nmeasurement use cases.</p>\n\n<p>Additionally, we&#39;d like to seek feedback from the community on a few issues:</p>\n\n<ol>\n<li>We plan to\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">allow multiple ad tech platforms to register attribution\nsources</a> and triggers to\nenable third-party measurement. With our current proposal, only the ad tech\nplatform originating the API calls can specify a list of third-party ad tech\nplatforms. To simplify our API design, we could instead allow ad tech platforms\nto daisy-chain redirects by specifying only the next ad tech platform.</li>\n<li>To\n<a href=\"#app-web-based-trigger-paths\">enable app-to-web measurement</a> where the trigger\ncan happen on either app or web, ad tech platforms need to provide the same\n<strong>destination</strong> field in attribution source and trigger registration. We&#39;re\nevaluating whether it&#39;s reasonable to use the web eTLD+1, even if the trigger\nhappened in the app.</li>\n<li>To prevent duplicate trigger reports, in the event that an ad tech platform\nregisters the same trigger multiple times, we recommend that you\n<a href=\"#deduplication-key\">use a deduplication key</a>. We&#39;re evaluating whether apps can\npass this deduplication key to all ad tech platforms, including third-party\nplatforms.</li>\n</ol>\n\n    \n\n    \n      <devsite-hats-survey class=\"nocontent\"\n        hats-id=\"onAFgYxTD0kxBYCLVTd0Z41p75CM\"\n        listnr-id=\"5207477\"></devsite-hats-survey>\n    \n  </div>\n\n  \n\n  \n    \n      <devsite-recommendations display=\"in-page\" hidden yield>\n      </devsite-recommendations>\n    \n    \n      \n    <devsite-thumb-rating position=\"footer\">\n    </devsite-thumb-rating>\n  \n       \n    \n    \n      <devsite-recommendations id=\"recommendations-link\" yield></devsite-recommendations>\n    \n  \n\n  \n  \n</article>\n\n\n<devsite-content-footer class=\"nocontent\">\n  <p>Content and code samples on this page are subject to the licenses described in the <a href=\"/license\">Content License</a>. Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.</p>\n  <p>Last updated 2022-03-07 UTC.</p>\n</devsite-content-footer>\n\n\n<devsite-notification\n>\n</devsite-notification>\n\n\n  \n<div class=\"devsite-content-data\">\n  <template class=\"devsite-thumb-rating-down-categories\">\n  [{\n      \"type\": \"thumb-down\",\n      \"id\": \"missingTheInformationINeed\",\n      \"label\":\"Missing the information I need\"\n    },{\n      \"type\": \"thumb-down\",\n      \"id\": \"tooComplicatedTooManySteps\",\n      \"label\":\"Too complicated / too many steps\"\n    },{\n      \"type\": \"thumb-down\",\n      \"id\": \"outOfDate\",\n      \"label\":\"Out of date\"\n    },{\n      \"type\": \"thumb-down\",\n      \"id\": \"samplesCodeIssue\",\n      \"label\":\"Samples / code issue\"\n    },{\n      \"type\": \"thumb-down\",\n      \"id\": \"otherDown\",\n      \"label\":\"Other\"\n    }]\n  </template>\n  <template class=\"devsite-thumb-rating-up-categories\">\n  [{\n      \"type\": \"thumb-up\",\n      \"id\": \"easyToUnderstand\",\n      \"label\":\"Easy to understand\"\n    },{\n      \"type\": \"thumb-up\",\n      \"id\": \"solvedMyProblem\",\n      \"label\":\"Solved my problem\"\n    },{\n      \"type\": \"thumb-up\",\n      \"id\": \"otherUp\",\n      \"label\":\"Other\"\n    }]\n  </template>\n  \n</div>\n            \n          </devsite-content>\n        </main>\n        <devsite-footer-promos class=\"devsite-footer\">\n          \n            \n\n<nav class=\"devsite-footer-promos nocontent\" aria-label=\"Promotions\">\n  <ul class=\"devsite-footer-promos-list\">\n    \n    <li class=\"devsite-footer-promo\">\n      <a href=\"//twitter.com/AndroidDev\"\n         class=\"devsite-footer-promo-title gc-analytics-event\"\n         data-category=\"Site-Wide Custom Events\"\n       \n       \n         data-label=\"Footer Twitter Promo\"\n       >\n        \n        \n          \n            <img class=\"devsite-footer-promo-icon\"\n                 src=\"/_static/android/images/logo-twitter.svg\"\n                 loading=\"lazy\"\n                 alt=\"Twitter\">\n          \n        \n        Twitter\n      </a>\n      <div class=\"devsite-footer-promo-description\">Follow @AndroidDev on Twitter</div>\n    </li>\n    \n    <li class=\"devsite-footer-promo\">\n      <a href=\"//www.youtube.com/user/androiddevelopers\"\n         class=\"devsite-footer-promo-title gc-analytics-event\"\n         data-category=\"Site-Wide Custom Events\"\n       \n       \n         data-label=\"Footer YouTube Promo\"\n       >\n        \n        \n          \n            <img class=\"devsite-footer-promo-icon\"\n                 src=\"//www.gstatic.com/images/icons/material/product/2x/youtube_48dp.png\"\n                 loading=\"lazy\"\n                 alt=\"YouTube\">\n          \n        \n        YouTube\n      </a>\n      <div class=\"devsite-footer-promo-description\">Check out Android Developers on YouTube</div>\n    </li>\n    \n    <li class=\"devsite-footer-promo\">\n      <a href=\"//www.linkedin.com/showcase/androiddev\"\n         class=\"devsite-footer-promo-title gc-analytics-event\"\n         data-category=\"Site-Wide Custom Events\"\n       \n       \n         data-label=\"Footer LinkedIn Promo\"\n       >\n        \n        \n          \n            <img class=\"devsite-footer-promo-icon\"\n                 src=\"/_static/android/images/logo-linkedin.svg\"\n                 loading=\"lazy\"\n                 alt=\"LinkedIn\">\n          \n        \n        LinkedIn\n      </a>\n      <div class=\"devsite-footer-promo-description\">Connect with the Android Developers community on LinkedIn</div>\n    </li>\n    \n  </ul>\n</nav>\n\n          \n        </devsite-footer-promos>\n        <devsite-footer-linkboxes class=\"devsite-footer\">\n          \n            \n<nav class=\"devsite-footer-linkboxes nocontent\" aria-label=\"Footer links\">\n  \n  <ul class=\"devsite-footer-linkboxes-list\">\n    \n    <li class=\"devsite-footer-linkbox \">\n    <h3 class=\"devsite-footer-linkbox-heading no-link\">More Android</h3>\n      <ul class=\"devsite-footer-linkbox-list\">\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//www.android.com\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 1)\"\n            >\n          \n            Android\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//www.android.com/enterprise/\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 2)\"\n            >\n          \n            Android for Enterprise\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//www.android.com/security-center/\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 3)\"\n            >\n          \n            Security\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//source.android.com\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 4)\"\n            >\n          \n            Source\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/news\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 5)\"\n            >\n          \n            News\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//android-developers.googleblog.com/\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 6)\"\n            >\n          \n            Blog\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/podcasts\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 7)\"\n            >\n          \n            Podcasts\n          \n          </a>\n          \n        </li>\n        \n      </ul>\n    </li>\n    \n    <li class=\"devsite-footer-linkbox \">\n    <h3 class=\"devsite-footer-linkbox-heading no-link\">Discover</h3>\n      <ul class=\"devsite-footer-linkbox-list\">\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/games\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 1)\"\n            >\n          \n            Gaming\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/ml\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 2)\"\n            >\n          \n            Machine Learning\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/privacy\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 3)\"\n            >\n          \n            Privacy\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/training/connectivity/5g\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 4)\"\n            >\n          \n            5G\n          \n          </a>\n          \n        </li>\n        \n      </ul>\n    </li>\n    \n    <li class=\"devsite-footer-linkbox \">\n    <h3 class=\"devsite-footer-linkbox-heading no-link\">Android Devices</h3>\n      <ul class=\"devsite-footer-linkbox-list\">\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/large-screens\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 1)\"\n            >\n          \n            Large screens\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/wear\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 2)\"\n            >\n          \n            Wear OS\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/tv\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 3)\"\n            >\n          \n            Android TV\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/cars\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 4)\"\n            >\n          \n            Android for cars\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/things\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 5)\"\n            >\n          \n            Android Things\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/chrome-os\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 6)\"\n            >\n          \n            Chrome OS devices\n          \n          </a>\n          \n        </li>\n        \n      </ul>\n    </li>\n    \n    <li class=\"devsite-footer-linkbox \">\n    <h3 class=\"devsite-footer-linkbox-heading no-link\">Releases</h3>\n      <ul class=\"devsite-footer-linkbox-list\">\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/11\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 1)\"\n            >\n          \n            Android 11\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/10\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 2)\"\n            >\n          \n            Android 10\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/pie\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 3)\"\n            >\n          \n            Pie\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/oreo\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 4)\"\n            >\n          \n            Oreo\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/nougat\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 5)\"\n            >\n          \n            Nougat\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/marshmallow\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 6)\"\n            >\n          \n            Marshmallow\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/lollipop\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 7)\"\n            >\n          \n            Lollipop\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/about/versions/kitkat\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 8)\"\n            >\n          \n            KitKat\n          \n          </a>\n          \n        </li>\n        \n      </ul>\n    </li>\n    \n    <li class=\"devsite-footer-linkbox \">\n    <h3 class=\"devsite-footer-linkbox-heading no-link\">Documentation and Downloads</h3>\n      <ul class=\"devsite-footer-linkbox-list\">\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/studio/intro\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 1)\"\n            >\n          \n            Android Studio guide\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/guide\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 2)\"\n            >\n          \n            Developers guides\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/reference\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 3)\"\n            >\n          \n            API reference\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/studio\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 4)\"\n            >\n          \n            Download Studio\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"/ndk\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 5)\"\n            >\n          \n            Android NDK\n          \n          </a>\n          \n        </li>\n        \n      </ul>\n    </li>\n    \n    <li class=\"devsite-footer-linkbox \">\n    <h3 class=\"devsite-footer-linkbox-heading no-link\">Support</h3>\n      <ul class=\"devsite-footer-linkbox-list\">\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//issuetracker.google.com/issues/new?component=190923&amp;template=841312\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 1)\"\n            >\n          \n            Report platform bug\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//issuetracker.google.com/issues/new?component=192697\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 2)\"\n            >\n          \n            Report documentation bug\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"//support.google.com/googleplay/android-developer\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 3)\"\n            >\n          \n            Google Play support\n          \n          </a>\n          \n        </li>\n        \n        <li class=\"devsite-footer-linkbox-item\">\n          \n          <a href=\"https://google.qualtrics.com/jfe/form/SV_ewWXIoEVLBcyp7f??reserved=1&amp;utm_source=FooterLink&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=developer.android.com&amp;utm_term=0&amp;utm_content=0&amp;productTag=reg&amp;campaignDate=may19&amp;pType=devel&amp;referral_code=gV420370\"\n             class=\"devsite-footer-linkbox-link gc-analytics-event\"\n             data-category=\"Site-Wide Custom Events\"\n            \n             data-label=\"Footer Link (index 4)\"\n            >\n          \n            Join research studies\n          \n          </a>\n          \n        </li>\n        \n      </ul>\n    </li>\n    \n  </ul>\n  \n</nav>\n          \n        </devsite-footer-linkboxes>\n        <devsite-footer-utility class=\"devsite-footer\">\n          \n            \n\n<div class=\"devsite-footer-utility nocontent\">\n  \n  \n  <nav class=\"devsite-footer-sites\" aria-label=\"Other Google Developers websites\">\n    <a href=\"https://developers.google.com/\"\n       class=\"devsite-footer-sites-logo-link gc-analytics-event\"\n       data-category=\"Site-Wide Custom Events\"\n       data-label=\"Footer Google Developers Link\">\n      <img class=\"devsite-footer-sites-logo\"\n           src=\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/lockup-developers.svg\"\n           loading=\"lazy\"\n           alt=\"Google Developers\">\n    </a>\n    <ul class=\"devsite-footer-sites-list\">\n      \n      <li class=\"devsite-footer-sites-item\">\n        <a href=\"//developer.android.com\"\n           class=\"devsite-footer-sites-link\n                  gc-analytics-event\"\n           data-category=\"Site-Wide Custom Events\"\n         \n           data-label=\"Footer Android Link\"\n         \n         >\n          Android\n        </a>\n      </li>\n      \n      <li class=\"devsite-footer-sites-item\">\n        <a href=\"//developer.chrome.com/home\"\n           class=\"devsite-footer-sites-link\n                  gc-analytics-event\"\n           data-category=\"Site-Wide Custom Events\"\n         \n           data-label=\"Footer Chrome Link\"\n         \n         >\n          Chrome\n        </a>\n      </li>\n      \n      <li class=\"devsite-footer-sites-item\">\n        <a href=\"//firebase.google.com\"\n           class=\"devsite-footer-sites-link\n                  gc-analytics-event\"\n           data-category=\"Site-Wide Custom Events\"\n         \n           data-label=\"Footer Firebase Link\"\n         \n         >\n          Firebase\n        </a>\n      </li>\n      \n      <li class=\"devsite-footer-sites-item\">\n        <a href=\"//cloud.google.com\"\n           class=\"devsite-footer-sites-link\n                  gc-analytics-event\"\n           data-category=\"Site-Wide Custom Events\"\n         \n           data-label=\"Footer Google Cloud Platform Link\"\n         \n         >\n          Google Cloud Platform\n        </a>\n      </li>\n      \n      <li class=\"devsite-footer-sites-item\">\n        <a href=\"//developers.google.com/products/\"\n           class=\"devsite-footer-sites-link\n                  gc-analytics-event\"\n           data-category=\"Site-Wide Custom Events\"\n         \n           data-label=\"Footer All products Link\"\n         \n         >\n          All products\n        </a>\n      </li>\n      \n    </ul>\n  </nav>\n  \n\n  \n  <nav class=\"devsite-footer-utility-links\" aria-label=\"Utility links\">\n    \n    <ul class=\"devsite-footer-utility-list\">\n      \n      <li class=\"devsite-footer-utility-item\n                 \">\n        \n        \n        <a class=\"devsite-footer-utility-link gc-analytics-event\"\n           href=\"//policies.google.com/privacy\"\n           data-category=\"Site-Wide Custom Events\"\n           data-label=\"Footer Privacy link\"\n         >\n          Privacy\n        </a>\n        \n      </li>\n      \n      <li class=\"devsite-footer-utility-item\n                 \">\n        \n        \n        <a class=\"devsite-footer-utility-link gc-analytics-event\"\n           href=\"/license\"\n           data-category=\"Site-Wide Custom Events\"\n           data-label=\"Footer License link\"\n         >\n          License\n        </a>\n        \n      </li>\n      \n      <li class=\"devsite-footer-utility-item\n                 \">\n        \n        \n        <a class=\"devsite-footer-utility-link gc-analytics-event\"\n           href=\"/distribute/marketing-tools/brand-guidelines\"\n           data-category=\"Site-Wide Custom Events\"\n           data-label=\"Footer Brand guidelines link\"\n         >\n          Brand guidelines\n        </a>\n        \n      </li>\n      \n      <li class=\"devsite-footer-utility-item\n                 devsite-footer-utility-button\">\n        \n        <span class=\"devsite-footer-utility-description\">Get news and tips by email</span>\n        \n        \n        <a class=\"devsite-footer-utility-link gc-analytics-event\"\n           href=\"/updates\"\n           data-category=\"Site-Wide Custom Events\"\n           data-label=\"Footer Subscribe link\"\n         >\n          Subscribe\n        </a>\n        \n      </li>\n      \n    </ul>\n    \n    \n    \n<devsite-language-selector>\n  <devsite-select class=\"devsite-language-selector-menu\">\n    \n    <select aria-label=\"Select your language preference.\"\n            class=\"devsite-language-selector-select\"\n            name=\"language\"\n            track-name=\"click\"\n            track-type=\"languageSelector\">\n    \n      \n      <option>Language</option>\n    \n    \n      <option value=\"en\"\n              lang=\"en\"\n            >\n        English\n      </option>\n    \n      <option value=\"id\"\n              lang=\"id\"\n            >\n        Bahasa Indonesia\n      </option>\n    \n      <option value=\"es_419\"\n              lang=\"es_419\"\n            >\n        Español – América Latina\n      </option>\n    \n      <option value=\"pt_br\"\n              lang=\"pt_br\"\n            >\n        Português – Brasil\n      </option>\n    \n      <option value=\"vi\"\n              lang=\"vi\"\n            >\n        Tiếng Việt\n      </option>\n    \n      <option value=\"zh_cn\"\n              lang=\"zh_cn\"\n            >\n        中文 – 简体\n      </option>\n    \n      <option value=\"zh_tw\"\n              lang=\"zh_tw\"\n            >\n        中文 – 繁體\n      </option>\n    \n      <option value=\"ja\"\n              lang=\"ja\"\n            >\n        日本語\n      </option>\n    \n      <option value=\"ko\"\n              lang=\"ko\"\n            >\n        한국어\n      </option>\n    \n    </select>\n  </devsite-select>\n</devsite-language-selector>\n\n  </nav>\n</div>\n          \n        </devsite-footer-utility>\n        <devsite-panel></devsite-panel>\n      </section></section>\n    <devsite-sitemask></devsite-sitemask>\n    <devsite-snackbar\n    \n    >\n</devsite-snackbar>\n    <devsite-tooltip ></devsite-tooltip>\n    <devsite-heading-link></devsite-heading-link>\n    <devsite-analytics analytics-iframe>\n      \n        <script type=\"application/json\" analytics>[{\"dimensions\": {\"dimension3\": false, \"dimension1\": \"Signed out\", \"dimension6\": \"en\", \"dimension11\": false, \"dimension4\": \"Android Developers\", \"dimension5\": \"en\"}, \"gaid\": \"UA-5831155-1\", \"metrics\": {\"ratings_count\": \"metric2\", \"ratings_value\": \"metric1\"}}]</script>\n<script type=\"application/json\" gtm>{\"parameters\": {\"freeTrialEligibleUser\": \"True\", \"internalUser\": \"False\", \"language\": {\"machineTranslated\": \"False\", \"requested\": \"en\", \"served\": \"en\"}, \"pageType\": \"article\", \"projectName\": \"Android Developers\", \"signedIn\": \"False\", \"tenant\": \"android\", \"recommendations\": {\"sourcePage\": \"\", \"sourceType\": 0, \"sourceRank\": 0, \"sourceIdenticalDescriptions\": 0, \"sourceTitleWords\": 0, \"sourceDescriptionWords\": 0, \"experiment\": \"\"}}, \"tags\": [\"GTM-KMSWPCJ\"]}</script>\n      \n    </devsite-analytics>\n    \n      <devsite-badger></devsite-badger>\n    \n    \n<android-fully-clickable\n    target=\"\n        .android-grouped-resources .devsite-landing-row-item,\n        .android-illustrated-resources-index .devsite-landing-row-item,\n        .android-illustrated-resources-primary .devsite-landing-row-item,\n        .android-illustrated-resources-secondary .devsite-landing-row-item,\n        .android-illustrated-resources-secondary-small .devsite-landing-row-item,\n        .android-illustrated-resources-tertiary .devsite-landing-row-item,\n        .android-illustrated-resources-tertiary-small .devsite-landing-row-item,\n        .android-promo .devsite-landing-row-item,\n        .android-quick-link,\n        .android-samples .devsite-card-wrapper,\n        .fully-clickable\"\n    watch=\".android-samples, devsite-content\"></android-fully-clickable>\n    <script nonce=\"OVdB6HrQ2bBBDrV5bDuc7jcGvPrN5P\">\n  \n  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;\n    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];\n    E.parentNode.insertBefore(t,E);})(window, document, 'script',\n    'https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/js/app_loader.js', '[3,\"en\",null,\"/js/devsite_app_module.js\",\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea\",\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android\",\"https://android-dot-devsite-v2-prod.appspot.com\",null,null,[\"/_pwa/android/manifest.json\",\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/images/video-placeholder.svg\",\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/favicon.png\",\"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/lockup.svg\",\"https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap\"],1,null,[1,6,8,12,14,17,18,21,25,40,50,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,111,112,113,115,116,117,118,120,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,138,140,141,144,147,148,149,150,151,152,153,154,155,156,157,159,161,163,164,165,168,169,170,173,179,182,186,191],\"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8\",\"AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg\",\"developer.android.com\",\"AIzaSyAQk0fBONSGUqCNznf6Krs82Ap1-NV6J4o\",\"AIzaSyCCxcqdrZ_7QMeLCRY20bh_SXdAYqy70KY\"]')\n  \n</script>\n    <devsite-a11y-announce></devsite-a11y-announce>\n  </body>\n</html>","oembed":false,"readabilityObject":{"title":"Attribution reporting  |  Android Developers","content":"<div id=\"readability-page-1\" class=\"page\"><div>\n\n    \n      \n\n\n\n\n\n\n<p>\n  <a href=\"https://issuetracker.google.com/issues/new?component=1116743&amp;template=1642601\">Provide feedback</a>\n</p>\n\n<p>Today, it's common for mobile attribution and measurement solutions to use\ncross-party identifiers, such as Advertising ID. The Attribution Reporting API\nis designed to provide improved user privacy by removing reliance on cross-party\nuser identifiers, and to support key use cases for attribution and conversion\nmeasurement across apps and the web.</p>\n\n<p>This API has the following structural mechanisms that offer a\nframework for improving privacy, which later sections in this document describe\nin more detail:</p>\n\n<ul>\n<li>Limits the number of bits available for\n<a href=\"#event-level-reports\">event-level reports</a></li>\n<li>Enables higher-fidelity conversion data only in\n<a href=\"#aggregatable-reports\">aggregatable reports</a></li>\n<li>Introduces\n<a href=\"#limits-available-triggers\">rate limits for available triggers (conversions)</a>\nand the\n<a href=\"#limits-ad-tech-platforms-per-attribution-source\">number of ad tech platforms that can be associated with a single attribution\nsource</a></li>\n<li>Incorporates various noise adding techniques</li>\n</ul>\n\n<p>The preceding mechanisms limit the ability to link user identity across two\ndifferent apps or domains.</p>\n\n<p>The Attribution Reporting API supports the following use cases:</p>\n\n<ul>\n<li><strong>Conversion reporting:</strong> Help advertisers measure the performance of their\ncampaigns by showing them conversion (trigger) counts and conversion (trigger)\nvalues across various dimensions, such as by campaign, ad group, and ad creative.</li>\n<li><strong>Optimization:</strong> Provide event-level reports that support optimization of ad\nspend, by providing per-impression attribution data that can be used to train ML\nmodels.</li>\n<li><strong>Invalid activity detection:</strong> Provide reports that can be used in invalid\ntraffic and ad fraud detection and analysis.</li>\n</ul>\n\n<p>At a high level, the Attribution Reporting API works as follows, which later\nsections of this document describe in more detail:</p>\n\n<ol>\n<li>The ad tech platform\n<a href=\"#enroll-ad-tech-platform\">completes an enrollment process</a> to use the\nAttribution Reporting API.</li>\n<li>The ad tech platform\n<a href=\"#register-attribution-source\">registers attribution sources</a>—ad clicks or\nviews—with the Attribution Reporting API.</li>\n<li>The ad tech platform <a href=\"#register-trigger\">registers triggers</a>—user conversions\non the advertiser app or website—with the Attribution Reporting API.</li>\n<li>The Attribution Reporting API matches triggers to attribution sources—a\nconversion attribution—and one or more triggers are sent off-device through\n<a href=\"#event-level-reports\">event-level</a> and <a href=\"#aggregatable-reports\">aggregatable</a>\nreports to ad tech platforms.</li>\n</ol>\n\n\n\n<p>To access the Attribution Reporting API and to ensure that privacy\nmechanisms work as intended, all ad tech platforms (including Google's) need to\ncomplete a lightweight enrollment process. The details of this process are still\nin development, and we welcome your feedback.</p>\n\n<p>The enrollment process ensures that ad tech platforms don't unnecessarily\nduplicate themselves to gain more information about a user's site and app\nactivities. For example, the Attribution Reporting API limits the amount of\ntracking and information an ad tech platform can view for a given attribution\nsource and trigger. More details on these limits appear in the section on\n<a href=\"#view-measurement-data\">viewing measurement data in attribution reports</a> later\nin this document.</p>\n\n<p>Businesses may register multiple times if there is a legitimate business need\n(such as operating multiple independent product lines), and they do not combine\ndata from their multiple enrollments to bypass privacy restrictions.</p>\n\n<p>During the enrollment process, ad tech platforms provide information such as the\nfollowing:</p>\n\n<ul>\n<li>Contact and business information</li>\n<li>Postback URLs used for registering attribution sources, trigger attribution\nand receiving event-level and aggregatable reports</li>\n<li>Attribution Reporting API use cases</li>\n</ul>\n\n<h2 id=\"register-attribution-source\" data-text=\"Register an attribution source (click or view)\">Register an attribution source (click or view)</h2>\n\n<p>The Attribution Reporting API refers to ad clicks and views as\n<em>attribution sources</em>. To register an ad click or ad view, call\n<code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code>. This API expects the following parameters:</p>\n\n<ul>\n<li><strong>Attribution source URI:</strong> The platform issues a request to this URI in order\nto fetch metadata associated with the attribution source.</li>\n<li><strong>Input event:</strong> Either an <a href=\"/reference/android/view/InputEvent\"><code translate=\"no\" dir=\"ltr\">InputEvent</code></a>\nobject (for a click event) or <code translate=\"no\" dir=\"ltr\">null</code> (for a view event).</li>\n</ul>\n\n<p>When the API makes a request to the Attribution Source URI, the ad tech platform\nshould respond with the attribution source metadata in a new HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source</code>, with the following fields:</p>\n\n<ul>\n<li><strong>Source event ID:</strong> A DOMString that encodes a 64-bit unsigned integer. This\nvalue represents the event-level data associated with this attribution source\n(ad click or view).</li>\n<li><strong>Destination:</strong> An origin whose eTLD+1 or app package name where the trigger\nevent happens.</li>\n<li><strong>Expiry (optional):</strong> Expiry, in seconds, for when the source should be\ndeleted off the device. Default is 30 days, with a minimum value of 2 days and a\nmaximum value of 30 days. This is rounded to the nearest day.</li>\n<li><p><strong>Source priority (optional):</strong> A signed 64-bit integer used to select which\nattribution source a given trigger should be associated with, in case multiple\nattribution sources could be associated with the trigger.</p>\n\n<p>When a trigger is received, the API finds the matching attribution source\nwith the highest source priority value and generates a report. Each ad tech\nplatform can define its own prioritization strategy.</p>\n\n<p>A higher value indicates a higher priority.</p></li>\n<li><p><strong>Install and post-install attribution windows (optional):</strong> Used to determine\nattribution for <a href=\"#post-install-attribution\">post-install events</a>, described\nlater in this document.</p></li>\n</ul>\n\n<p>The attribution source metadata response may include additional data in the\nfollowing separate headers:</p>\n\n<ul>\n<li><strong>Aggregation keys (optional):</strong> Specify\n<a href=\"#aggregatable-reports-register-source-data\">segmentation</a> to be used for\n<a href=\"#aggregatable-reports\">aggregatable reports</a>.</li>\n<li><strong>Attribution reporting redirects (optional):</strong> Redirect URLs, to\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">allow multiple ad tech platforms to register a\nrequest</a>.</li>\n</ul>\n\n<p>The following snippet shows the current design for attribution source data:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source: {\n  \"source_event_id\": \"[64 bit unsigned integer]\",\n  \"destination\": \"[eTLD+1 or app package name]\",\n  \"expiry\": \"[64 bit signed integer]\",\n  \"source_priority\": \"[64 bit signed integer]\"\n}\nAttribution-Reporting-Register-Aggregate-Source: &lt;aggregation-key-data&gt;\nAttribution-Reporting-Redirects: \"https://adtechpartner.example\"\n</code></pre>\n<p>The following steps show an example workflow:</p>\n\n<ol>\n<li><p>The ad tech SDK calls the API to initiate attribution source registration:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">registerAttributionSource(\n    Uri.parse(\"https://adtech.example/attribution_source?my_ad_click_id=123\"),\n    myClickEvent);\n</code></pre></li>\n<li><p>The API makes a request to\n<code translate=\"no\" dir=\"ltr\">https://adtech.example/attribution_source?my_ad_click_id=123</code>, using this\nheader:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Source-Info: navigation\n</code></pre></li>\n<li><p>This ad tech platform's HTTPS server replies with headers containing the\nfollowing:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source: {\n    \"destination\": \"android-app://com.advertiser.example\",\n    \"source_event_id\": \"234\",\n    \"expiry\": \"60000\",\n    \"source_priority\": \"5\"\n}\nAttribution-Reporting-Redirects: https://adtechpartner.example?their_ad_click_id=567\nAttribution-Reporting-Source-Info: navigation\n</code></pre></li>\n<li><p>The API makes a request to each URL specified in\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code>. In this example, only one URL is specified,\nso the API makes a request to <code translate=\"no\" dir=\"ltr\">https://adtechpartner.example?their_ad_click_id=567</code>.</p></li>\n<li><p>This ad tech platform's HTTPS server replies with headers containing the\nfollowing:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Source: {\n    \"destination\": \"android-app://com.advertiser.example\",\n    \"source_event_id\": \"789\",\n    \"expiry\": \"120000\",\n    \"source_priority\": \"2\"\n}\n</code></pre></li>\n</ol>\n\n<p>Two navigation (click) attribution sources are registered based on the requests\nshown in the previous steps.</p>\n\n<h2 id=\"register-trigger\" data-text=\"Register a trigger (conversion)\">Register a trigger (conversion)</h2>\n\n<p>Ad tech platforms can register <em>triggers</em>—conversions such as installs or\npost-install events—using the <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method.</p>\n\n<p>The <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method expects the <strong>Trigger URI</strong> parameter. The API\nissues a request to this URI to fetch metadata associated with the trigger.</p>\n\n<p>The API follows redirects. The ad tech server response should include an HTTP\nheader called <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger</code>, which represents\ninformation on one or more registered triggers. The header's content should be\n<a href=\"https://datatracker.ietf.org/doc/html/draft-reschke-http-jfv#section-2\">JSON-encoded</a> \nand include the following fields:</p>\n\n<ul>\n<li><strong>Trigger data:</strong> Data to identify the trigger event (3 bits for clicks, 1 bit\nfor views)</li>\n<li><strong>Trigger priority (optional):</strong> Signed 64-bit integer which represents the\npriority of this trigger compared to other triggers for the same attribution\nsource</li>\n<li><strong>Deduplication key (optional):</strong> Signed 64-bit integer which is used to\nidentify cases where the same trigger is registered multiple times by the same\nad tech platform, for the same attribution source</li>\n</ul>\n\n<p>The ad tech server response may include additional data in the following\nheaders:</p>\n\n<ul>\n<li><strong>Aggregation keys (optional):</strong> A <a href=\"#aggregatable-reports-register-trigger\">list of dictionaries which specifies\naggregation keys</a> and which aggregatable\nreports should have their value aggregated.</li>\n<li><strong>Aggregation values (optional):</strong> A list of amounts of value which contribute\nto each key.</li>\n<li><strong>Attribution Reporting Redirects (optional):</strong> Redirect URLs, to\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">allow multiple ad tech platforms to register a\nrequest</a>.</li>\n</ul>\n\n\n\n<p>Multiple ad tech platforms can register the same trigger event using either\nredirects in the <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field or multiple calls to\nthe <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method. We recommend that you use the\n<strong>deduplication key</strong> field to avoid including duplicate triggers in reports in\nthe case that the same ad tech platform provides multiple responses for the same\ntrigger event.</p>\n\n<p>The following snippet shows the current design for trigger data:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger: {\n    \"trigger_data\": \"[unsigned 64-bit integer]\",\n    \"trigger_priority\": \"[signed 64-bit integer]\",\n    \"deduplication_key\": \"[signed 64-bit integer]\"\n}\nAttribution-Reporting-Aggregate-Trigger-Data: &lt;aggregation-key-data&gt;\nAttribution-Reporting-Aggregate-Values: &lt;aggregation-value-data&gt;\nAttribution-Reporting-Redirects: \"https://adtechpartner.example\"\n</code></pre>\n<p>The following steps show an example workflow:</p>\n\n<ol>\n<li><p>The Ad tech SDK calls the API to initiate trigger registration:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">triggerAttribution(\n    Uri.parse(\"https://adtech.example/attribution_trigger?app_install=123\"));\n</code></pre></li>\n<li><p>The API makes a request to <code translate=\"no\" dir=\"ltr\">https://adtech.example/attribution_trigger?app_install=123</code>.</p></li>\n<li><p>This ad tech platform's HTTPS server replies with headers containing the\nfollowing:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger: {\n    \"trigger_data\": \"1122\",\n    \"trigger_priority\": \"3\",\n    \"deduplication_key\": \"3344\",\n}\nAttribution-Reporting-Redirects: https://adtechpartner.example?app_install=567\n</code></pre></li>\n<li><p>The API makes a request to each URL specified in\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code>. In this example, only one URL is specified,\nso the API makes a request to <code translate=\"no\" dir=\"ltr\">https://adtechpartner.example?app_install=567</code>.</p></li>\n<li><p>This ad tech platform's HTTPS server replies with headers containing the\nfollowing:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Event-Trigger: {\n    \"trigger_data\": \"5566\",\n    \"trigger_priority\": \"3\",\n    \"deduplication_key\": \"3344\"\n}\n</code></pre>\n<p>Two triggers are registered based on the requests in the previous steps.</p></li>\n</ol>\n\n<h3 id=\"source-prioritized-attribution-algorithm\" data-text=\"Source-prioritized attribution algorithm applied\">Source-prioritized attribution algorithm applied</h3>\n\n<p>The Attribution Reporting API employs a\n<em>source-prioritized attribution algorithm</em> to match a trigger (conversion) to an\nattribution source. In the case where\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">multiple ad tech platforms register an attribution\nsource</a>, as described later\nin this document, this attribution\nhappens independently for each ad tech platform. For each ad tech platform, the\nattribution source with the highest priority is attributed with the trigger\nevent. If there are multiple attribution sources with the same priority, the API\npicks the last registered attribution source. Any other attribution sources,\nthat aren't picked are discarded and are no longer eligible for future trigger\nattribution.</p>\n\n<h3 id=\"post-install-attribution\" data-text=\"Post-install attribution\">Post-install attribution</h3>\n\n<p>In some cases, there is a need for post-install triggers to be attributed to the\nsame attribution source that drove the install, even if there are other eligible\nattribution sources that occurred more recently.</p>\n\n<p>The API can support this use case by allowing ad tech platforms to set a\npost-install attribution period:</p>\n\n<ul>\n<li>When registering an attribution source, specify an install attribution window\nduring which installs are expected (generally 2-7 days).</li>\n<li>When registering an attribution source, specify a post-install attribution\nwindow where any post-install trigger events should be associated with the\nattribution source that drove the install (generally 7-30 days).</li>\n<li>The Attribution Reporting API validates when an app install happens and\ninternally attribute the install to the source-prioritized attribution source.\nHowever, the install isn't sent to ad tech platforms and doesn't count against\nthe platforms' respective rate limits.</li>\n<li><p>Any future triggers that happen within the post-install attribution window are\nattributed to the same attribution source as the validated install, as long as\nthat attribution source is eligible.</p>\n\n<p>We are looking into ways to support use cases where the user uninstalls and\nreinstalls the app.</p></li>\n</ul>\n\n<p>In the future, we might explore extending the design to support more advanced attribution models.</p>\n\n<h3 id=\"app-web-based-trigger-paths\" data-text=\"All combinations of app- and web-based trigger paths are supported\">All combinations of app- and web-based trigger paths are supported</h3>\n\n<p>The Attribution Reporting API enables attribution of the following trigger paths\non a single Android device:</p>\n\n<ul>\n<li><strong>App-to-app:</strong> The user sees an ad in an app, then converts in either that\napp or another installed app.</li>\n<li><strong>App-to-web:</strong> The user sees an ad in an app, then converts in a mobile or\napp browser.</li>\n<li><strong>Web-to-app:</strong> The user sees an ad in a mobile or app browser, then converts\nin an app.</li>\n<li><strong>Web-to-web:</strong> The user sees an ad in a mobile or app browser, then converts\nin either the same browser or another browser on the same device.</li>\n</ul>\n\n<p>We allow web browsers to support new web-exposed functionality, such as\nfunctionality that's similar to the\n<a href=\"https://github.com/WICG/conversion-measurement-api\">Privacy Sandbox for the Web's Attribution Reporting\nAPI</a>, which can\ncall the Android APIs to enable attribution across app and web.</p>\n\n<h3 id=\"prioritize-multiple-triggers-single-attribution-source\" data-text=\"Prioritize multiple triggers for a single attribution source\">Prioritize multiple triggers for a single attribution source</h3>\n\n<p>A single attribution source can lead to multiple triggers. For example, a\npurchase flow could involve an \"app install\" trigger, one or more \"add-to-cart\"\ntriggers, and a \"purchase\" trigger. Each trigger is attributed to one or more\nattribution sources according to the\n<a href=\"#source-prioritized-attribution-algorithm\">source-prioritized attribution\nalgorithm</a>, described later in this document.</p>\n\n<p>There are\n<a href=\"#limits-ad-tech-platforms-per-attribution-source\">limits on how many triggers can be attributed to a single attribution\nsource</a>; for more details,\nread the section on\n<a href=\"#view-measurement-data\">viewing measurement data in attribution reports</a> later\nin this document. In\nthe cases where there are multiple triggers beyond these limits, it's useful to\nintroduce prioritization logic to get back the most valuable triggers. For\nexample, the developers of an ad tech platform might want to prioritize getting\n\"purchase\" triggers over \"add-to-cart\" triggers.</p>\n\n<p>To support this logic, a separate priority field can be set on the\ntrigger, and the highest priority triggers are picked before limits are applied,\nwithin a given reporting window.</p>\n\n\n\n<p>It's common for more than one ad tech platform to receive attribution reports.\nTherefore, the API allows multiple ad tech platforms to register the same\nattribution source or trigger.</p>\n\n\n\n<p>Attribution source redirects are supported in the <code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code>\nmethod:</p>\n\n<ol>\n<li>The ad tech platform that calls the <code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code> method\ncan provide an additional <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field in their\nresponse, which represents the set of partner ad tech's redirect URLs.</li>\n<li>The API\nthen calls the redirect URLs so the attribution source can be registered by the\npartner ad tech platforms.</li>\n</ol>\n\n<p>Multiple partner ad tech platform URLs can be listed in the\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field, and partner ad tech platforms cannot\nspecify their own <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field.</p>\n\n<p>The API also allows different ad tech platforms to each call\n<code translate=\"no\" dir=\"ltr\">registerAttributionSource()</code>.</p>\n\n\n\n<p>For trigger registration, third parties are supported in a similar way: ad tech\nplatforms can either use the additional <code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Redirects</code> field,\nor they can each call the <code translate=\"no\" dir=\"ltr\">triggerAttribution()</code> method.</p>\n\n<p>When an advertiser uses multiple ad tech platforms to register the same trigger\nevent, a <em>deduplication key</em> should be used. The deduplication key serves to\ndisambiguate these repeated reports of the same event. If no deduplication key\nis provided, duplicate triggers may be reported back to each ad tech platform as\nunique.</p>\n\n<h2 id=\"view-measurement-data\" data-text=\"View measurement data in attribution reports\">View measurement data in attribution reports</h2>\n\n<p>The Attribution Reporting API enables the following types of reports, described\nin more detail later in this document:</p>\n\n<ul>\n<li><a href=\"#event-level-reports\"><strong>Event-level reports</strong></a> associate a particular\nattribution source (click or view) with limited bits of high-fidelity trigger\ndata.</li>\n<li><a href=\"#aggregatable-reports\"><strong>Aggregatable reports</strong></a> aren't necessarily tied with\na specific attribution source. These reports provide richer, higher-fidelity\ntrigger data than event-level reports, but this data is only available in an\naggregate form.</li>\n</ul>\n\n<p>These two report types are complementary to each other and can be used\nsimultaneously.</p>\n\n<h3 id=\"event-level-reports\" data-text=\"Event-level reports\">Event-level reports</h3>\n\n<p>After a trigger is attributed to an attribution source, an event-level report is\ngenerated and stored on the device until it can be sent back to each ad tech\nplatform's postback URL during one of the\n<a href=\"#specific-time-windows-sending-reports\">time windows for sending reports</a>,\ndescribed in more detail later in this document.</p>\n\n<p>Event-level reports are useful when very little information is needed about the\ntrigger. Event-level trigger data is limited to 3 bits of trigger data for\nclicks—which means that a trigger can be assigned one of eight categories—and\n1 bit for views. In addition, event-level reports don't support encoding of\nhigh-fidelity trigger-side data, such as a specific price or trigger time.</p>\n\n<p>The event-level report contains data such as the following:</p>\n\n<ul>\n<li><strong>Destination:</strong> Advertiser app package name or eTLD+1 where the trigger\nhappened</li>\n<li><strong>Attribution Source ID:</strong> The same attribution source ID that was used for\n<a href=\"#register-attribution-source\">registering an attribution source</a></li>\n<li><strong>Trigger type:</strong> 1 or 3 bits of low-fidelity trigger data, depending on the\ntype of attribution source</li>\n</ul>\n\n<h3 id=\"privacy-preserving-mechanisms-event-level-reports\" data-text=\"Privacy-preserving mechanisms applied to event-level reports\">Privacy-preserving mechanisms applied to event-level reports</h3>\n\n<h4 id=\"limited-fidelity-trigger-data\" data-text=\"Limited fidelity of trigger data\">Limited fidelity of trigger data</h4>\n\n<p>The API provides 1 bit for view-through triggers and 3 bits for click-through\ntriggers. Attribution sources continue to support the full 64 bits of metadata.</p>\n\n<p>You should evaluate if and how to reduce the information expressed in\ntriggers so they work with the limited number of bits available in event-level\nreports.</p>\n\n<h4 id=\"framework-differential-privacy-noise\" data-text=\"Framework for differential privacy noise\">Framework for differential privacy noise</h4>\n\n<p>A goal of this API is to allow event-level measurement to satisfy local\ndifferential privacy requirements by using k-randomized responses to generate a\nnoisy output for each source event.</p>\n\n<p>Noise is applied on whether an attribution source event is reported truthfully.\nAn attribution source is registered on the device with probability $ p $\nthat the attribution source is registered as normal, and with probability\n$ 1-p $ that the device randomly chooses among all possible output states of the\nAPI (including not reporting anything at all, or reporting multiple fake\nreports).</p>\n\n<p>The k-randomized response is an algorithm that is <em>epsilon differentially\nprivate</em> if the following equation is satisfied:</p>\n\n<p>\n\\[\np = \\frac{k}{k + e^ε - 1}\n\\]\n</p>\n\n<p>For low values of ε, the true output is protected by the k-randomized\nresponse mechanism. Exact noise parameters are works in progress and are subject\nto change based on feedback.</p>\n\n<h4 id=\"limits-available-triggers\" data-text=\"Limits on available triggers (conversions)\">Limits on available triggers (conversions)</h4>\n\n<p>There are limits on the number of triggers per attribution source, with a\ncurrent proposal of the following:</p>\n\n<ul>\n<li>1-2 triggers for view ad attribution sources</li>\n<li>3 triggers for click ad attribution sources</li>\n</ul>\n\n<p>These limits are applied after priorities regarding attribution sources and\ntriggers are taken into consideration.</p>\n\n\n\n<p>There are limits on the number of ad tech platforms that can be associated with\na single attribution source. These limits are applied after priorities regarding\nattribution sources and triggers are taken into consideration.</p>\n\n<h4 id=\"specific-time-windows-sending-reports\" data-text=\"Specific time windows for sending reports\">Specific time windows for sending reports</h4>\n\n<p>Reports for ad view attribution sources are sent 1 hour after the source expires.\nThis expiry date can be configured, but it cannot be fewer than 2 days or more\nthan 30 days.</p>\n\n<p>Reports for ad click attribution sources cannot be configured and are sent\nbefore the source expires, at specified points in time relative to when the\nsource was registered. The time between the attribution source and expiry is\nsplit into multiple reporting windows. Each reporting window has a deadline\n(from the attribution source time). At the end of each reporting window, the\ndevice collects all the triggers that have occurred since the previous reporting\nwindow and sends a scheduled report. The API supports the following reporting\nwindows:</p>\n\n<ul>\n<li><strong>2 days:</strong> The device collects all the triggers that occurred at most 2 days\nafter the attribution source was registered. The report is sent 2 days and\n1 hour after the attribution source is registered.</li>\n<li><strong>7 days:</strong> The device collects all the triggers that occurred more than\n2 days but no more than 7 days after the attribution source was registered. The\nreport is sent 7 days and 1 hour after the attribution source is registered.</li>\n<li><strong>A custom length of time,</strong> defined by the \"expiry\" attribute of an\nattribution source. The report is sent 1 hour after the specified expiry time.\nThis value cannot be fewer than 2 days or more than 30 days.</li>\n</ul>\n\n<h3 id=\"aggregatable-reports\" data-text=\"Aggregatable reports\">Aggregatable reports</h3>\n\n<p>Aggregatable reports provide higher-fidelity trigger data from the device more\nquickly, beyond what is offered for <a href=\"#event-level-reports\">event-level reports</a>.\nThis higher-fidelity data can only be learned in <em>aggregate</em>, and isn't\nassociated with a particular trigger or user. Aggregation keys are up to\n128 bits, and this allows aggregatable reports to support reporting use cases\nsuch as the following:</p>\n\n<ul>\n<li>Reports for trigger values, such as revenue</li>\n<li>Handling more trigger types</li>\n</ul>\n\n<p>In addition, aggregatable reports have the following characteristics:</p>\n\n<ul>\n<li>An attribution window of 30 days</li>\n<li>The same\n<a href=\"#source-prioritized-attribution-algorithm\">source-prioritized attribution\nlogic</a> as the event-level API,\ndescribed earlier in this document</li>\n</ul>\n\n<p>The overall design of how the Attribution Reporting API prepares and sends\naggregatable reports, shown in figure 1, is as follows:</p>\n\n<ol>\n<li>The device sends encrypted aggregatable reports to the ad tech platform.</li>\n<li>The ad tech platform sends a batch of aggregatable reports to the aggregation\nservice for aggregation.</li>\n<li>The aggregation service reads a batch of aggregatable reports, decrypts and\naggregates them.</li>\n<li>The final aggregates are sent back to the ad tech platform.</li>\n</ol>\n\n<figure>\n  <img src=\"/images/design-for-safety/ads/aggregatable-report-design.svg\" alt=\"\" width=\"800\">\n  <figcaption><b>Figure 1.</b> Process that the Attribution Reporting API uses\n  to prepare and send aggregatable reports.</figcaption>\n</figure>\n\n<p>Aggregatable reports contain the following data related to attribution sources:</p>\n\n<ul>\n<li><strong>Source:</strong> The app's package name or eTLD+1 web URL where the ad was served.</li>\n<li><strong>Destination:</strong> The app's package name or eTLD+1 web URL where the trigger\nhappened.</li>\n<li><strong>Date:</strong> The date when the event represented by the attribution source\noccurred.</li>\n<li><strong>Payload:</strong> Trigger values, collected as encrypted key/value pairs, which is\nused in the trusted <a href=\"#aggregation-service\">aggregation service</a> to compute\naggregations.</li>\n</ul>\n\n<h4 id=\"aggregation-services\" data-text=\"Aggregation services\">Aggregation services</h4>\n\n<p>The following services provide aggregation functionality and help protect\nagainst inappropriate access of aggregation data.</p>\n\n<p>These services are managed by different parties, which are described in more\ndetail later in this document:</p>\n\n<ul>\n<li>The aggregation service is the only one that ad tech platforms are expected to\ndeploy.</li>\n<li>The\n<a href=\"#key-management-service\">key management</a> and\n<a href=\"#privacy-budget-service\">privacy budget</a> services are run by trusted parties\ncalled <em>verifiers</em>. These verifiers attest that the code running the aggregation\nservice is the publicly-available code provided by Google and that\nall aggregation service users have the same key and budget services applied to\nthem.</li>\n</ul>\n\n<h5 id=\"aggregation-service\" data-text=\"Aggregation service\">Aggregation service</h5>\n\n<p>Ad tech platforms must, in advance, deploy an <em>aggregation service</em> that's\nbased on binaries provided by Google.</p>\n\n<p>This aggregation service operates in a Trusted Execution Environment (TEE)\nhosted in the cloud. A TEE offers the following security benefits:</p>\n\n<ul>\n<li>It ensures that the code operating in the TEE is the specific binary offered\nby Google. Unless this condition is satisfied, the aggregation\nservice can't access the decryption keys it needs to operate.</li>\n<li>It offers security around the running process, isolating it from external\nmonitoring or tampering.</li>\n</ul>\n\n<p>These security benefits make it safer for an aggregation service to perform\nsensitive operations, such as accessing encrypted data.</p>\n\n<p>For more information on the design, workflow, and security considerations of the\naggregation service, see the\n<a href=\"https://github.com/WICG/conversion-measurement-api/blob/main/AGGREGATION_SERVICE_TEE.md\">aggregation service document</a> \non GitHub.</p>\n\n<h5 id=\"key-management-service\" data-text=\"Key management service\">Key management service</h5>\n\n<p>This service verifies that an aggregation service is running an approved version\nof the binary and then provides the aggregation service in the ad tech platform\nwith the correct decryption keys for their trigger data.</p>\n\n<h5 id=\"privacy-budget-service\" data-text=\"Privacy budget service\">Privacy budget service</h5>\n\n<p>This service tracks how often an ad tech platform's aggregation service accesses\na specific trigger—which can contain multiple aggregation keys—and limits access\nto the appropriate number of decryptions. One decryption per trigger is\npermitted.</p>\n\n<h3 id=\"aggregatable-reports-api\" data-text=\"Aggregatable Reports API\">Aggregatable Reports API</h3>\n\n<p>The API for creating contributions to aggregatable reports uses the same base\nAPI as when <a href=\"#register-attribution-source\">registering an attribution source</a>\nfor event-level reports. The following sections describe the extensions of the\nAPI.</p>\n\n<h4 id=\"aggregatable-reports-register-source-data\" data-text=\"Register the aggregatable source data\">Register the aggregatable source data</h4>\n\n<p>When the API makes a request to the Attribution Source URI, the ad tech platform\ncan register a list of aggregation keys by responding with a new HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Aggregate-Source</code>, with the following fields for\neach aggregation key in the list:</p>\n\n<ul>\n<li><strong>Source event ID:</strong> A string for the name of the key. Used as a join key to\ncombine with trigger-side keys to form the final key.</li>\n<li><strong>Key piece:</strong> A bitstring value for the key.</li>\n<li><strong>Key offset:</strong> An integer value of offset index for combining this key piece\nwith the trigger-side key piece.</li>\n</ul>\n\n<p>The final key is a combination of this piece and the trigger-side pieces, using\nthe <strong>key offset</strong> field to concatenate the bitstrings. Final keys are\nrestricted to a maximum of 128 bits; keys longer than this are truncated.</p>\n\n<p>In the following example, an ad tech platform uses the API to collect the\nfollowing:</p>\n\n<ul>\n<li>Aggregate conversion counts at a campaign level</li>\n<li>Aggregate purchase values at a geo level</li>\n</ul>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Register-Aggregate-Source:\n[{\n  // Generates a \"101011001\" key prefix named \"campaignCounts\".\n  \"source_event_id\": \"campaignCounts\",\n  \"key_piece\": \"101011001\", // User saw ad from campaign 345 (out of 511).\n  \"key_offset\": 0 // The first part of the key\n                  // when combined with trigger-side keys.\n},\n{\n  // Generates a \"101\" key prefix named \"geoValue\".\n  \"source_event_id\": \"geoValue\",\n  // Source-side geo region = 5 (US) but pad with 0s since the shop operates in\n  // ~100 separate countries.\n  \"key_piece\": \"0000101\",\n  \"key_offset\": 0 // The first part of the key\n                  // when combined with trigger-side keys.\n}]\n</code></pre>\n<h4 id=\"aggregatable-reports-register-trigger\" data-text=\"Register the aggregatable trigger\">Register the aggregatable trigger</h4>\n\n<p>Trigger registration includes two additional headers.</p>\n\n<p>The first header is used to register a list of aggregate keys on the trigger\nside. The ad tech platform should respond back with the HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Trigger-Data</code>, with the following fields for\neach aggregate key in the list:</p>\n\n<ul>\n<li><strong>Key piece:</strong> A bitstring value for the key.</li>\n<li><strong>Key offset:</strong> An integer value, used as the offset index when combining the\nattribution source key piece with the trigger key piece.</li>\n<li><strong>Source keys:</strong> A list of strings with the names of attribution source side\nkeys that the trigger key should be combined with to form the final keys.</li>\n</ul>\n\n<p>The following snippet continues the example from\n<a href=\"#aggregatable-reports-register-source-data\">registering aggregate source data in aggregatable\nreports</a>:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Trigger-Data:\n[\n  // Each dictionary independently adds pieces to multiple source keys.\n  {\n    \"key_piece\": \"10\",// Conversion type purchase = 2\n    // Combine key piece at offset index 9 with attribution source key piece.\n    \"key_offset\": 9,\n    // Apply this suffix to:\n    \"source_keys\": [\"campaignCounts\"]\n  },\n  {\n    \"key_piece\": \"10101\",// Purchase category shirts = 21\n    // Combine key piece at offset index 9 with attribution source key piece.\n    \"key_offset\": 7,\n    // Apply this suffix to:\n    \"source_keys\": [\"geoValue\" ]\n  }\n]\n</code></pre>\n<p>The second header is used to register a list of values which should contribute\nto each key. The ad tech platform should respond back with the HTTP header\n<code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Values</code>.</p>\n\n<p>Each trigger can make multiple contributions to the aggregatable reports. The\ntotal amount of contributions to any given attribution source is bound by an\n$ L1 $ parameter, which is the maximum sum of contributions (values) across all\naggregate keys for a given attribution source. Exceeding these limits causes\nfuture contributions to silently drop. The initial proposal is to set $ L1 $ to\n$ 2^{16} $ (65536). The noise in the aggregation service is scaled in proportion\nto this parameter. Given this, it is recommended to appropriately scale the\nvalues reported for a given aggregate key, based on the portion of $ L1 $\nprivacy budget allocated to it. This approach helps ensure that the aggregate\nreports retain the highest possible fidelity when noise is applied. This\nmechanism is highly flexible and can support many aggregation strategies.</p>\n\n<p>In the following example, the privacy budget is split equally between\n<code translate=\"no\" dir=\"ltr\">campaignCounts</code> and <code translate=\"no\" dir=\"ltr\">geoValue</code> by splitting the $ L1 $ contribution to each:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">Attribution-Reporting-Aggregate-Values:\n{\n    // Privacy budget for each key is L1 / 2 = 2^15 (32768).\n    // Conversion count was 1.\n    // Scale the count to use the full budget allocated: 1 * 32768 = 32768.\n    \"campaignCounts\": 32768,\n\n    // Purchase price was $52.\n    // Purchase values for the app range from $1 to $1,024 (integers only).\n    // Scaling factor applied is 32768 / 1024 = 32.\n    // For $52 purchase, scale the value by 32 ($52 * 32 = $1,664).\n    \"geoValue\": 1664\n}\n</code></pre>\n<p>The preceding example generates the following aggregate counts:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">[\n  // campaignCounts:\n  {\n    // The attribution source key piece \"101011001\" (offset 0)\n    // is concatenated with  \"10\" (offset 9) trigger key piece to form\n    // the final key \"10101100110\" = 1382.\n    \"key\": \"1382\",\n    \"value\": 32768\n  },\n  // geoValue:\n  {\n    // The attribution source key piece \"0000101\" (offset 0)\n    // is concatenated with  \"10101\" (offset 7) trigger key piece to form\n    // the final key \"000010110101\" = 181.\n    \"key\": \"181\",\n    \"value\": \"1664\"\n  }\n]\n</code></pre>\n<p>The scaling factors can be inverted in order to obtain the correct values,\nmodulo noise that is applied:</p>\n<pre translate=\"no\" dir=\"ltr\"><code translate=\"no\" dir=\"ltr\">L1 = 65536\ntrueCampaignCounts = campaignCounts / (L1 / 2)\ntrueGeoValue = geoValue / (L1 / 2) * 1024\n</code></pre>\n<h4 id=\"differential-privacy\" data-text=\"Differential privacy\">Differential privacy</h4>\n\n<p>A goal of this API is to have a framework which can support differentially\nprivate aggregate measurement. This can be achieved by adding noise proportional\nto the $ L1 $ budget, such as picking noise with the following distribution:</p>\n\n<p>\n\\[\nLaplace(\\frac{ε}{L1})\n\\]\n</p>\n\n<h2 id=\"future-considerations-open-questions\" data-text=\"Future considerations &amp; open questions\">Future considerations &amp; open questions</h2>\n\n<p>The Attribution Reporting API is a work in progress. We're also exploring future\npotential features, such as non-last-click attribution models and cross-device\nmeasurement use cases.</p>\n\n<p>Additionally, we'd like to seek feedback from the community on a few issues:</p>\n\n<ol>\n<li>We plan to\n<a href=\"#allow-multiple-ad-tech-platforms-register-request\">allow multiple ad tech platforms to register attribution\nsources</a> and triggers to\nenable third-party measurement. With our current proposal, only the ad tech\nplatform originating the API calls can specify a list of third-party ad tech\nplatforms. To simplify our API design, we could instead allow ad tech platforms\nto daisy-chain redirects by specifying only the next ad tech platform.</li>\n<li>To\n<a href=\"#app-web-based-trigger-paths\">enable app-to-web measurement</a> where the trigger\ncan happen on either app or web, ad tech platforms need to provide the same\n<strong>destination</strong> field in attribution source and trigger registration. We're\nevaluating whether it's reasonable to use the web eTLD+1, even if the trigger\nhappened in the app.</li>\n<li>To prevent duplicate trigger reports, in the event that an ad tech platform\nregisters the same trigger multiple times, we recommend that you\n<a href=\"#deduplication-key\">use a deduplication key</a>. We're evaluating whether apps can\npass this deduplication key to all ad tech platforms, including third-party\nplatforms.</li>\n</ol>\n\n    \n\n    \n      <devsite-hats-survey hats-id=\"onAFgYxTD0kxBYCLVTd0Z41p75CM\" listnr-id=\"5207477\"></devsite-hats-survey>\n    \n  </div></div>","textContent":"\n\n    \n      \n\n\n\n\n\n\n\n  Provide feedback\n\n\nToday, it's common for mobile attribution and measurement solutions to use\ncross-party identifiers, such as Advertising ID. The Attribution Reporting API\nis designed to provide improved user privacy by removing reliance on cross-party\nuser identifiers, and to support key use cases for attribution and conversion\nmeasurement across apps and the web.\n\nThis API has the following structural mechanisms that offer a\nframework for improving privacy, which later sections in this document describe\nin more detail:\n\n\nLimits the number of bits available for\nevent-level reports\nEnables higher-fidelity conversion data only in\naggregatable reports\nIntroduces\nrate limits for available triggers (conversions)\nand the\nnumber of ad tech platforms that can be associated with a single attribution\nsource\nIncorporates various noise adding techniques\n\n\nThe preceding mechanisms limit the ability to link user identity across two\ndifferent apps or domains.\n\nThe Attribution Reporting API supports the following use cases:\n\n\nConversion reporting: Help advertisers measure the performance of their\ncampaigns by showing them conversion (trigger) counts and conversion (trigger)\nvalues across various dimensions, such as by campaign, ad group, and ad creative.\nOptimization: Provide event-level reports that support optimization of ad\nspend, by providing per-impression attribution data that can be used to train ML\nmodels.\nInvalid activity detection: Provide reports that can be used in invalid\ntraffic and ad fraud detection and analysis.\n\n\nAt a high level, the Attribution Reporting API works as follows, which later\nsections of this document describe in more detail:\n\n\nThe ad tech platform\ncompletes an enrollment process to use the\nAttribution Reporting API.\nThe ad tech platform\nregisters attribution sources—ad clicks or\nviews—with the Attribution Reporting API.\nThe ad tech platform registers triggers—user conversions\non the advertiser app or website—with the Attribution Reporting API.\nThe Attribution Reporting API matches triggers to attribution sources—a\nconversion attribution—and one or more triggers are sent off-device through\nevent-level and aggregatable\nreports to ad tech platforms.\n\n\n\n\nTo access the Attribution Reporting API and to ensure that privacy\nmechanisms work as intended, all ad tech platforms (including Google's) need to\ncomplete a lightweight enrollment process. The details of this process are still\nin development, and we welcome your feedback.\n\nThe enrollment process ensures that ad tech platforms don't unnecessarily\nduplicate themselves to gain more information about a user's site and app\nactivities. For example, the Attribution Reporting API limits the amount of\ntracking and information an ad tech platform can view for a given attribution\nsource and trigger. More details on these limits appear in the section on\nviewing measurement data in attribution reports later\nin this document.\n\nBusinesses may register multiple times if there is a legitimate business need\n(such as operating multiple independent product lines), and they do not combine\ndata from their multiple enrollments to bypass privacy restrictions.\n\nDuring the enrollment process, ad tech platforms provide information such as the\nfollowing:\n\n\nContact and business information\nPostback URLs used for registering attribution sources, trigger attribution\nand receiving event-level and aggregatable reports\nAttribution Reporting API use cases\n\n\nRegister an attribution source (click or view)\n\nThe Attribution Reporting API refers to ad clicks and views as\nattribution sources. To register an ad click or ad view, call\nregisterAttributionSource(). This API expects the following parameters:\n\n\nAttribution source URI: The platform issues a request to this URI in order\nto fetch metadata associated with the attribution source.\nInput event: Either an InputEvent\nobject (for a click event) or null (for a view event).\n\n\nWhen the API makes a request to the Attribution Source URI, the ad tech platform\nshould respond with the attribution source metadata in a new HTTP header\nAttribution-Reporting-Register-Source, with the following fields:\n\n\nSource event ID: A DOMString that encodes a 64-bit unsigned integer. This\nvalue represents the event-level data associated with this attribution source\n(ad click or view).\nDestination: An origin whose eTLD+1 or app package name where the trigger\nevent happens.\nExpiry (optional): Expiry, in seconds, for when the source should be\ndeleted off the device. Default is 30 days, with a minimum value of 2 days and a\nmaximum value of 30 days. This is rounded to the nearest day.\nSource priority (optional): A signed 64-bit integer used to select which\nattribution source a given trigger should be associated with, in case multiple\nattribution sources could be associated with the trigger.\n\nWhen a trigger is received, the API finds the matching attribution source\nwith the highest source priority value and generates a report. Each ad tech\nplatform can define its own prioritization strategy.\n\nA higher value indicates a higher priority.\nInstall and post-install attribution windows (optional): Used to determine\nattribution for post-install events, described\nlater in this document.\n\n\nThe attribution source metadata response may include additional data in the\nfollowing separate headers:\n\n\nAggregation keys (optional): Specify\nsegmentation to be used for\naggregatable reports.\nAttribution reporting redirects (optional): Redirect URLs, to\nallow multiple ad tech platforms to register a\nrequest.\n\n\nThe following snippet shows the current design for attribution source data:\nAttribution-Reporting-Register-Source: {\n  \"source_event_id\": \"[64 bit unsigned integer]\",\n  \"destination\": \"[eTLD+1 or app package name]\",\n  \"expiry\": \"[64 bit signed integer]\",\n  \"source_priority\": \"[64 bit signed integer]\"\n}\nAttribution-Reporting-Register-Aggregate-Source: <aggregation-key-data>\nAttribution-Reporting-Redirects: \"https://adtechpartner.example\"\n\nThe following steps show an example workflow:\n\n\nThe ad tech SDK calls the API to initiate attribution source registration:\nregisterAttributionSource(\n    Uri.parse(\"https://adtech.example/attribution_source?my_ad_click_id=123\"),\n    myClickEvent);\n\nThe API makes a request to\nhttps://adtech.example/attribution_source?my_ad_click_id=123, using this\nheader:\nAttribution-Reporting-Source-Info: navigation\n\nThis ad tech platform's HTTPS server replies with headers containing the\nfollowing:\nAttribution-Reporting-Register-Source: {\n    \"destination\": \"android-app://com.advertiser.example\",\n    \"source_event_id\": \"234\",\n    \"expiry\": \"60000\",\n    \"source_priority\": \"5\"\n}\nAttribution-Reporting-Redirects: https://adtechpartner.example?their_ad_click_id=567\nAttribution-Reporting-Source-Info: navigation\n\nThe API makes a request to each URL specified in\nAttribution-Reporting-Redirects. In this example, only one URL is specified,\nso the API makes a request to https://adtechpartner.example?their_ad_click_id=567.\nThis ad tech platform's HTTPS server replies with headers containing the\nfollowing:\nAttribution-Reporting-Register-Source: {\n    \"destination\": \"android-app://com.advertiser.example\",\n    \"source_event_id\": \"789\",\n    \"expiry\": \"120000\",\n    \"source_priority\": \"2\"\n}\n\n\n\nTwo navigation (click) attribution sources are registered based on the requests\nshown in the previous steps.\n\nRegister a trigger (conversion)\n\nAd tech platforms can register triggers—conversions such as installs or\npost-install events—using the triggerAttribution() method.\n\nThe triggerAttribution() method expects the Trigger URI parameter. The API\nissues a request to this URI to fetch metadata associated with the trigger.\n\nThe API follows redirects. The ad tech server response should include an HTTP\nheader called Attribution-Reporting-Register-Event-Trigger, which represents\ninformation on one or more registered triggers. The header's content should be\nJSON-encoded \nand include the following fields:\n\n\nTrigger data: Data to identify the trigger event (3 bits for clicks, 1 bit\nfor views)\nTrigger priority (optional): Signed 64-bit integer which represents the\npriority of this trigger compared to other triggers for the same attribution\nsource\nDeduplication key (optional): Signed 64-bit integer which is used to\nidentify cases where the same trigger is registered multiple times by the same\nad tech platform, for the same attribution source\n\n\nThe ad tech server response may include additional data in the following\nheaders:\n\n\nAggregation keys (optional): A list of dictionaries which specifies\naggregation keys and which aggregatable\nreports should have their value aggregated.\nAggregation values (optional): A list of amounts of value which contribute\nto each key.\nAttribution Reporting Redirects (optional): Redirect URLs, to\nallow multiple ad tech platforms to register a\nrequest.\n\n\n\n\nMultiple ad tech platforms can register the same trigger event using either\nredirects in the Attribution-Reporting-Redirects field or multiple calls to\nthe triggerAttribution() method. We recommend that you use the\ndeduplication key field to avoid including duplicate triggers in reports in\nthe case that the same ad tech platform provides multiple responses for the same\ntrigger event.\n\nThe following snippet shows the current design for trigger data:\nAttribution-Reporting-Register-Event-Trigger: {\n    \"trigger_data\": \"[unsigned 64-bit integer]\",\n    \"trigger_priority\": \"[signed 64-bit integer]\",\n    \"deduplication_key\": \"[signed 64-bit integer]\"\n}\nAttribution-Reporting-Aggregate-Trigger-Data: <aggregation-key-data>\nAttribution-Reporting-Aggregate-Values: <aggregation-value-data>\nAttribution-Reporting-Redirects: \"https://adtechpartner.example\"\n\nThe following steps show an example workflow:\n\n\nThe Ad tech SDK calls the API to initiate trigger registration:\ntriggerAttribution(\n    Uri.parse(\"https://adtech.example/attribution_trigger?app_install=123\"));\n\nThe API makes a request to https://adtech.example/attribution_trigger?app_install=123.\nThis ad tech platform's HTTPS server replies with headers containing the\nfollowing:\nAttribution-Reporting-Register-Event-Trigger: {\n    \"trigger_data\": \"1122\",\n    \"trigger_priority\": \"3\",\n    \"deduplication_key\": \"3344\",\n}\nAttribution-Reporting-Redirects: https://adtechpartner.example?app_install=567\n\nThe API makes a request to each URL specified in\nAttribution-Reporting-Redirects. In this example, only one URL is specified,\nso the API makes a request to https://adtechpartner.example?app_install=567.\nThis ad tech platform's HTTPS server replies with headers containing the\nfollowing:\nAttribution-Reporting-Register-Event-Trigger: {\n    \"trigger_data\": \"5566\",\n    \"trigger_priority\": \"3\",\n    \"deduplication_key\": \"3344\"\n}\n\nTwo triggers are registered based on the requests in the previous steps.\n\n\nSource-prioritized attribution algorithm applied\n\nThe Attribution Reporting API employs a\nsource-prioritized attribution algorithm to match a trigger (conversion) to an\nattribution source. In the case where\nmultiple ad tech platforms register an attribution\nsource, as described later\nin this document, this attribution\nhappens independently for each ad tech platform. For each ad tech platform, the\nattribution source with the highest priority is attributed with the trigger\nevent. If there are multiple attribution sources with the same priority, the API\npicks the last registered attribution source. Any other attribution sources,\nthat aren't picked are discarded and are no longer eligible for future trigger\nattribution.\n\nPost-install attribution\n\nIn some cases, there is a need for post-install triggers to be attributed to the\nsame attribution source that drove the install, even if there are other eligible\nattribution sources that occurred more recently.\n\nThe API can support this use case by allowing ad tech platforms to set a\npost-install attribution period:\n\n\nWhen registering an attribution source, specify an install attribution window\nduring which installs are expected (generally 2-7 days).\nWhen registering an attribution source, specify a post-install attribution\nwindow where any post-install trigger events should be associated with the\nattribution source that drove the install (generally 7-30 days).\nThe Attribution Reporting API validates when an app install happens and\ninternally attribute the install to the source-prioritized attribution source.\nHowever, the install isn't sent to ad tech platforms and doesn't count against\nthe platforms' respective rate limits.\nAny future triggers that happen within the post-install attribution window are\nattributed to the same attribution source as the validated install, as long as\nthat attribution source is eligible.\n\nWe are looking into ways to support use cases where the user uninstalls and\nreinstalls the app.\n\n\nIn the future, we might explore extending the design to support more advanced attribution models.\n\nAll combinations of app- and web-based trigger paths are supported\n\nThe Attribution Reporting API enables attribution of the following trigger paths\non a single Android device:\n\n\nApp-to-app: The user sees an ad in an app, then converts in either that\napp or another installed app.\nApp-to-web: The user sees an ad in an app, then converts in a mobile or\napp browser.\nWeb-to-app: The user sees an ad in a mobile or app browser, then converts\nin an app.\nWeb-to-web: The user sees an ad in a mobile or app browser, then converts\nin either the same browser or another browser on the same device.\n\n\nWe allow web browsers to support new web-exposed functionality, such as\nfunctionality that's similar to the\nPrivacy Sandbox for the Web's Attribution Reporting\nAPI, which can\ncall the Android APIs to enable attribution across app and web.\n\nPrioritize multiple triggers for a single attribution source\n\nA single attribution source can lead to multiple triggers. For example, a\npurchase flow could involve an \"app install\" trigger, one or more \"add-to-cart\"\ntriggers, and a \"purchase\" trigger. Each trigger is attributed to one or more\nattribution sources according to the\nsource-prioritized attribution\nalgorithm, described later in this document.\n\nThere are\nlimits on how many triggers can be attributed to a single attribution\nsource; for more details,\nread the section on\nviewing measurement data in attribution reports later\nin this document. In\nthe cases where there are multiple triggers beyond these limits, it's useful to\nintroduce prioritization logic to get back the most valuable triggers. For\nexample, the developers of an ad tech platform might want to prioritize getting\n\"purchase\" triggers over \"add-to-cart\" triggers.\n\nTo support this logic, a separate priority field can be set on the\ntrigger, and the highest priority triggers are picked before limits are applied,\nwithin a given reporting window.\n\n\n\nIt's common for more than one ad tech platform to receive attribution reports.\nTherefore, the API allows multiple ad tech platforms to register the same\nattribution source or trigger.\n\n\n\nAttribution source redirects are supported in the registerAttributionSource()\nmethod:\n\n\nThe ad tech platform that calls the registerAttributionSource() method\ncan provide an additional Attribution-Reporting-Redirects field in their\nresponse, which represents the set of partner ad tech's redirect URLs.\nThe API\nthen calls the redirect URLs so the attribution source can be registered by the\npartner ad tech platforms.\n\n\nMultiple partner ad tech platform URLs can be listed in the\nAttribution-Reporting-Redirects field, and partner ad tech platforms cannot\nspecify their own Attribution-Reporting-Redirects field.\n\nThe API also allows different ad tech platforms to each call\nregisterAttributionSource().\n\n\n\nFor trigger registration, third parties are supported in a similar way: ad tech\nplatforms can either use the additional Attribution-Reporting-Redirects field,\nor they can each call the triggerAttribution() method.\n\nWhen an advertiser uses multiple ad tech platforms to register the same trigger\nevent, a deduplication key should be used. The deduplication key serves to\ndisambiguate these repeated reports of the same event. If no deduplication key\nis provided, duplicate triggers may be reported back to each ad tech platform as\nunique.\n\nView measurement data in attribution reports\n\nThe Attribution Reporting API enables the following types of reports, described\nin more detail later in this document:\n\n\nEvent-level reports associate a particular\nattribution source (click or view) with limited bits of high-fidelity trigger\ndata.\nAggregatable reports aren't necessarily tied with\na specific attribution source. These reports provide richer, higher-fidelity\ntrigger data than event-level reports, but this data is only available in an\naggregate form.\n\n\nThese two report types are complementary to each other and can be used\nsimultaneously.\n\nEvent-level reports\n\nAfter a trigger is attributed to an attribution source, an event-level report is\ngenerated and stored on the device until it can be sent back to each ad tech\nplatform's postback URL during one of the\ntime windows for sending reports,\ndescribed in more detail later in this document.\n\nEvent-level reports are useful when very little information is needed about the\ntrigger. Event-level trigger data is limited to 3 bits of trigger data for\nclicks—which means that a trigger can be assigned one of eight categories—and\n1 bit for views. In addition, event-level reports don't support encoding of\nhigh-fidelity trigger-side data, such as a specific price or trigger time.\n\nThe event-level report contains data such as the following:\n\n\nDestination: Advertiser app package name or eTLD+1 where the trigger\nhappened\nAttribution Source ID: The same attribution source ID that was used for\nregistering an attribution source\nTrigger type: 1 or 3 bits of low-fidelity trigger data, depending on the\ntype of attribution source\n\n\nPrivacy-preserving mechanisms applied to event-level reports\n\nLimited fidelity of trigger data\n\nThe API provides 1 bit for view-through triggers and 3 bits for click-through\ntriggers. Attribution sources continue to support the full 64 bits of metadata.\n\nYou should evaluate if and how to reduce the information expressed in\ntriggers so they work with the limited number of bits available in event-level\nreports.\n\nFramework for differential privacy noise\n\nA goal of this API is to allow event-level measurement to satisfy local\ndifferential privacy requirements by using k-randomized responses to generate a\nnoisy output for each source event.\n\nNoise is applied on whether an attribution source event is reported truthfully.\nAn attribution source is registered on the device with probability $ p $\nthat the attribution source is registered as normal, and with probability\n$ 1-p $ that the device randomly chooses among all possible output states of the\nAPI (including not reporting anything at all, or reporting multiple fake\nreports).\n\nThe k-randomized response is an algorithm that is epsilon differentially\nprivate if the following equation is satisfied:\n\n\n\\[\np = \\frac{k}{k + e^ε - 1}\n\\]\n\n\nFor low values of ε, the true output is protected by the k-randomized\nresponse mechanism. Exact noise parameters are works in progress and are subject\nto change based on feedback.\n\nLimits on available triggers (conversions)\n\nThere are limits on the number of triggers per attribution source, with a\ncurrent proposal of the following:\n\n\n1-2 triggers for view ad attribution sources\n3 triggers for click ad attribution sources\n\n\nThese limits are applied after priorities regarding attribution sources and\ntriggers are taken into consideration.\n\n\n\nThere are limits on the number of ad tech platforms that can be associated with\na single attribution source. These limits are applied after priorities regarding\nattribution sources and triggers are taken into consideration.\n\nSpecific time windows for sending reports\n\nReports for ad view attribution sources are sent 1 hour after the source expires.\nThis expiry date can be configured, but it cannot be fewer than 2 days or more\nthan 30 days.\n\nReports for ad click attribution sources cannot be configured and are sent\nbefore the source expires, at specified points in time relative to when the\nsource was registered. The time between the attribution source and expiry is\nsplit into multiple reporting windows. Each reporting window has a deadline\n(from the attribution source time). At the end of each reporting window, the\ndevice collects all the triggers that have occurred since the previous reporting\nwindow and sends a scheduled report. The API supports the following reporting\nwindows:\n\n\n2 days: The device collects all the triggers that occurred at most 2 days\nafter the attribution source was registered. The report is sent 2 days and\n1 hour after the attribution source is registered.\n7 days: The device collects all the triggers that occurred more than\n2 days but no more than 7 days after the attribution source was registered. The\nreport is sent 7 days and 1 hour after the attribution source is registered.\nA custom length of time, defined by the \"expiry\" attribute of an\nattribution source. The report is sent 1 hour after the specified expiry time.\nThis value cannot be fewer than 2 days or more than 30 days.\n\n\nAggregatable reports\n\nAggregatable reports provide higher-fidelity trigger data from the device more\nquickly, beyond what is offered for event-level reports.\nThis higher-fidelity data can only be learned in aggregate, and isn't\nassociated with a particular trigger or user. Aggregation keys are up to\n128 bits, and this allows aggregatable reports to support reporting use cases\nsuch as the following:\n\n\nReports for trigger values, such as revenue\nHandling more trigger types\n\n\nIn addition, aggregatable reports have the following characteristics:\n\n\nAn attribution window of 30 days\nThe same\nsource-prioritized attribution\nlogic as the event-level API,\ndescribed earlier in this document\n\n\nThe overall design of how the Attribution Reporting API prepares and sends\naggregatable reports, shown in figure 1, is as follows:\n\n\nThe device sends encrypted aggregatable reports to the ad tech platform.\nThe ad tech platform sends a batch of aggregatable reports to the aggregation\nservice for aggregation.\nThe aggregation service reads a batch of aggregatable reports, decrypts and\naggregates them.\nThe final aggregates are sent back to the ad tech platform.\n\n\n\n  \n  Figure 1. Process that the Attribution Reporting API uses\n  to prepare and send aggregatable reports.\n\n\nAggregatable reports contain the following data related to attribution sources:\n\n\nSource: The app's package name or eTLD+1 web URL where the ad was served.\nDestination: The app's package name or eTLD+1 web URL where the trigger\nhappened.\nDate: The date when the event represented by the attribution source\noccurred.\nPayload: Trigger values, collected as encrypted key/value pairs, which is\nused in the trusted aggregation service to compute\naggregations.\n\n\nAggregation services\n\nThe following services provide aggregation functionality and help protect\nagainst inappropriate access of aggregation data.\n\nThese services are managed by different parties, which are described in more\ndetail later in this document:\n\n\nThe aggregation service is the only one that ad tech platforms are expected to\ndeploy.\nThe\nkey management and\nprivacy budget services are run by trusted parties\ncalled verifiers. These verifiers attest that the code running the aggregation\nservice is the publicly-available code provided by Google and that\nall aggregation service users have the same key and budget services applied to\nthem.\n\n\nAggregation service\n\nAd tech platforms must, in advance, deploy an aggregation service that's\nbased on binaries provided by Google.\n\nThis aggregation service operates in a Trusted Execution Environment (TEE)\nhosted in the cloud. A TEE offers the following security benefits:\n\n\nIt ensures that the code operating in the TEE is the specific binary offered\nby Google. Unless this condition is satisfied, the aggregation\nservice can't access the decryption keys it needs to operate.\nIt offers security around the running process, isolating it from external\nmonitoring or tampering.\n\n\nThese security benefits make it safer for an aggregation service to perform\nsensitive operations, such as accessing encrypted data.\n\nFor more information on the design, workflow, and security considerations of the\naggregation service, see the\naggregation service document \non GitHub.\n\nKey management service\n\nThis service verifies that an aggregation service is running an approved version\nof the binary and then provides the aggregation service in the ad tech platform\nwith the correct decryption keys for their trigger data.\n\nPrivacy budget service\n\nThis service tracks how often an ad tech platform's aggregation service accesses\na specific trigger—which can contain multiple aggregation keys—and limits access\nto the appropriate number of decryptions. One decryption per trigger is\npermitted.\n\nAggregatable Reports API\n\nThe API for creating contributions to aggregatable reports uses the same base\nAPI as when registering an attribution source\nfor event-level reports. The following sections describe the extensions of the\nAPI.\n\nRegister the aggregatable source data\n\nWhen the API makes a request to the Attribution Source URI, the ad tech platform\ncan register a list of aggregation keys by responding with a new HTTP header\nAttribution-Reporting-Register-Aggregate-Source, with the following fields for\neach aggregation key in the list:\n\n\nSource event ID: A string for the name of the key. Used as a join key to\ncombine with trigger-side keys to form the final key.\nKey piece: A bitstring value for the key.\nKey offset: An integer value of offset index for combining this key piece\nwith the trigger-side key piece.\n\n\nThe final key is a combination of this piece and the trigger-side pieces, using\nthe key offset field to concatenate the bitstrings. Final keys are\nrestricted to a maximum of 128 bits; keys longer than this are truncated.\n\nIn the following example, an ad tech platform uses the API to collect the\nfollowing:\n\n\nAggregate conversion counts at a campaign level\nAggregate purchase values at a geo level\n\nAttribution-Reporting-Register-Aggregate-Source:\n[{\n  // Generates a \"101011001\" key prefix named \"campaignCounts\".\n  \"source_event_id\": \"campaignCounts\",\n  \"key_piece\": \"101011001\", // User saw ad from campaign 345 (out of 511).\n  \"key_offset\": 0 // The first part of the key\n                  // when combined with trigger-side keys.\n},\n{\n  // Generates a \"101\" key prefix named \"geoValue\".\n  \"source_event_id\": \"geoValue\",\n  // Source-side geo region = 5 (US) but pad with 0s since the shop operates in\n  // ~100 separate countries.\n  \"key_piece\": \"0000101\",\n  \"key_offset\": 0 // The first part of the key\n                  // when combined with trigger-side keys.\n}]\n\nRegister the aggregatable trigger\n\nTrigger registration includes two additional headers.\n\nThe first header is used to register a list of aggregate keys on the trigger\nside. The ad tech platform should respond back with the HTTP header\nAttribution-Reporting-Aggregate-Trigger-Data, with the following fields for\neach aggregate key in the list:\n\n\nKey piece: A bitstring value for the key.\nKey offset: An integer value, used as the offset index when combining the\nattribution source key piece with the trigger key piece.\nSource keys: A list of strings with the names of attribution source side\nkeys that the trigger key should be combined with to form the final keys.\n\n\nThe following snippet continues the example from\nregistering aggregate source data in aggregatable\nreports:\nAttribution-Reporting-Aggregate-Trigger-Data:\n[\n  // Each dictionary independently adds pieces to multiple source keys.\n  {\n    \"key_piece\": \"10\",// Conversion type purchase = 2\n    // Combine key piece at offset index 9 with attribution source key piece.\n    \"key_offset\": 9,\n    // Apply this suffix to:\n    \"source_keys\": [\"campaignCounts\"]\n  },\n  {\n    \"key_piece\": \"10101\",// Purchase category shirts = 21\n    // Combine key piece at offset index 9 with attribution source key piece.\n    \"key_offset\": 7,\n    // Apply this suffix to:\n    \"source_keys\": [\"geoValue\" ]\n  }\n]\n\nThe second header is used to register a list of values which should contribute\nto each key. The ad tech platform should respond back with the HTTP header\nAttribution-Reporting-Aggregate-Values.\n\nEach trigger can make multiple contributions to the aggregatable reports. The\ntotal amount of contributions to any given attribution source is bound by an\n$ L1 $ parameter, which is the maximum sum of contributions (values) across all\naggregate keys for a given attribution source. Exceeding these limits causes\nfuture contributions to silently drop. The initial proposal is to set $ L1 $ to\n$ 2^{16} $ (65536). The noise in the aggregation service is scaled in proportion\nto this parameter. Given this, it is recommended to appropriately scale the\nvalues reported for a given aggregate key, based on the portion of $ L1 $\nprivacy budget allocated to it. This approach helps ensure that the aggregate\nreports retain the highest possible fidelity when noise is applied. This\nmechanism is highly flexible and can support many aggregation strategies.\n\nIn the following example, the privacy budget is split equally between\ncampaignCounts and geoValue by splitting the $ L1 $ contribution to each:\nAttribution-Reporting-Aggregate-Values:\n{\n    // Privacy budget for each key is L1 / 2 = 2^15 (32768).\n    // Conversion count was 1.\n    // Scale the count to use the full budget allocated: 1 * 32768 = 32768.\n    \"campaignCounts\": 32768,\n\n    // Purchase price was $52.\n    // Purchase values for the app range from $1 to $1,024 (integers only).\n    // Scaling factor applied is 32768 / 1024 = 32.\n    // For $52 purchase, scale the value by 32 ($52 * 32 = $1,664).\n    \"geoValue\": 1664\n}\n\nThe preceding example generates the following aggregate counts:\n[\n  // campaignCounts:\n  {\n    // The attribution source key piece \"101011001\" (offset 0)\n    // is concatenated with  \"10\" (offset 9) trigger key piece to form\n    // the final key \"10101100110\" = 1382.\n    \"key\": \"1382\",\n    \"value\": 32768\n  },\n  // geoValue:\n  {\n    // The attribution source key piece \"0000101\" (offset 0)\n    // is concatenated with  \"10101\" (offset 7) trigger key piece to form\n    // the final key \"000010110101\" = 181.\n    \"key\": \"181\",\n    \"value\": \"1664\"\n  }\n]\n\nThe scaling factors can be inverted in order to obtain the correct values,\nmodulo noise that is applied:\nL1 = 65536\ntrueCampaignCounts = campaignCounts / (L1 / 2)\ntrueGeoValue = geoValue / (L1 / 2) * 1024\n\nDifferential privacy\n\nA goal of this API is to have a framework which can support differentially\nprivate aggregate measurement. This can be achieved by adding noise proportional\nto the $ L1 $ budget, such as picking noise with the following distribution:\n\n\n\\[\nLaplace(\\frac{ε}{L1})\n\\]\n\n\nFuture considerations & open questions\n\nThe Attribution Reporting API is a work in progress. We're also exploring future\npotential features, such as non-last-click attribution models and cross-device\nmeasurement use cases.\n\nAdditionally, we'd like to seek feedback from the community on a few issues:\n\n\nWe plan to\nallow multiple ad tech platforms to register attribution\nsources and triggers to\nenable third-party measurement. With our current proposal, only the ad tech\nplatform originating the API calls can specify a list of third-party ad tech\nplatforms. To simplify our API design, we could instead allow ad tech platforms\nto daisy-chain redirects by specifying only the next ad tech platform.\nTo\nenable app-to-web measurement where the trigger\ncan happen on either app or web, ad tech platforms need to provide the same\ndestination field in attribution source and trigger registration. We're\nevaluating whether it's reasonable to use the web eTLD+1, even if the trigger\nhappened in the app.\nTo prevent duplicate trigger reports, in the event that an ad tech platform\nregisters the same trigger multiple times, we recommend that you\nuse a deduplication key. We're evaluating whether apps can\npass this deduplication key to all ad tech platforms, including third-party\nplatforms.\n\n\n    \n\n    \n      \n    \n  ","length":32314,"excerpt":"Provide feedback","byline":null,"dir":"ltr","siteName":"Android Developers","lang":"en"},"finalizedMeta":{"title":"Attribution reporting  |  Android Developers","description":"Provide feedback","author":false,"creator":"","publisher":false,"date":"2022-04-07T13:51:40.137Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"Attribution reporting  |  Android Developers","description":false,"canonical":"https://developer.android.com/design-for-safety/ads/attribution","keywords":[],"image":"https://www.gstatic.com/devrel-devsite/prod/v8e85f2d232f57b3748940572c2507445fffb413f9b17c36b012cc05efc1a12ea/android/images/lockup.svg","firstParagraph":""},"dublinCore":{},"opengraph":{"title":"Attribution reporting  |  Android Developers","description":false,"url":"https://developer.android.com/design-for-safety/ads/attribution","site_name":"Android Developers","locale":"en","type":"website","typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":"https://developer.android.com/images/social/android-developers.png","image:width":"1200","image:height":"675"},"twitter":{"site":false,"description":false,"card":"summary_large_image","creator":false,"title":false,"image":false},"archivedData":{"link":"https://web.archive.org/web/20220407135144/https://developer.android.com/design-for-safety/ads/attribution","wayback":"https://web.archive.org/web/20220407135144/https://developer.android.com/design-for-safety/ads/attribution"}}}