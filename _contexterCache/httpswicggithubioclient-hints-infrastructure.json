{"initialLink":"https://wicg.github.io/client-hints-infrastructure/","sanitizedLink":"https://wicg.github.io/client-hints-infrastructure/","finalLink":"https://wicg.github.io/client-hints-infrastructure","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://wicg.github.io/client-hints-infrastructure\" itemprop=\"url\">Client Hints Infrastructure</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-04-05T17:38:39.215Z\">3/5/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>Client Hints is collection of HTTP and user-agent features that enablesprivacy-preserving, proactive content negotiation with an explicit third-partydelegation mechanism:</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a is=\"contexter-link\" href=\"https://wicg.github.io/client-hints-infrastructure\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"bc05ad4942d64484131669b721e12c33f3496f8e","data":{"originalLink":"https://wicg.github.io/client-hints-infrastructure/","sanitizedLink":"https://wicg.github.io/client-hints-infrastructure/","canonical":"https://wicg.github.io/client-hints-infrastructure","htmlText":"<!doctype html><html lang=\"en\">\n <head>\n  <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n  <title>Client Hints Infrastructure</title>\n  <meta content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" name=\"viewport\">\n  <link href=\"https://www.w3.org/StyleSheets/TR/2021/cg-draft\" rel=\"stylesheet\">\n  <meta content=\"Bikeshed version 2e3c4c68b, updated Fri Jan 14 14:49:00 2022 -0800\" name=\"generator\">\n  <link href=\"https://wicg.github.io/client-hints-infrastructure\" rel=\"canonical\">\n  <meta content=\"7ee781c67328bd70df5a6fc004d6729e118a3c2a\" name=\"document-revision\">\n<style>\ntable, th, td { border: 1px black solid; }\nthead {background-color: yellow; }\n</style>\n<style>/* style-autolinks */\n\n.css.css, .property.property, .descriptor.descriptor {\n    color: var(--a-normal-text);\n    font-size: inherit;\n    font-family: inherit;\n}\n.css::before, .property::before, .descriptor::before {\n    content: \"‘\";\n}\n.css::after, .property::after, .descriptor::after {\n    content: \"’\";\n}\n.property, .descriptor {\n    /* Don't wrap property and descriptor names */\n    white-space: nowrap;\n}\n.type { /* CSS value <type> */\n    font-style: italic;\n}\npre .property::before, pre .property::after {\n    content: \"\";\n}\n[data-link-type=\"property\"]::before,\n[data-link-type=\"propdesc\"]::before,\n[data-link-type=\"descriptor\"]::before,\n[data-link-type=\"value\"]::before,\n[data-link-type=\"function\"]::before,\n[data-link-type=\"at-rule\"]::before,\n[data-link-type=\"selector\"]::before,\n[data-link-type=\"maybe\"]::before {\n    content: \"‘\";\n}\n[data-link-type=\"property\"]::after,\n[data-link-type=\"propdesc\"]::after,\n[data-link-type=\"descriptor\"]::after,\n[data-link-type=\"value\"]::after,\n[data-link-type=\"function\"]::after,\n[data-link-type=\"at-rule\"]::after,\n[data-link-type=\"selector\"]::after,\n[data-link-type=\"maybe\"]::after {\n    content: \"’\";\n}\n\n[data-link-type].production::before,\n[data-link-type].production::after,\n.prod [data-link-type]::before,\n.prod [data-link-type]::after {\n    content: \"\";\n}\n\n[data-link-type=element],\n[data-link-type=element-attr] {\n    font-family: Menlo, Consolas, \"DejaVu Sans Mono\", monospace;\n    font-size: .9em;\n}\n[data-link-type=element]::before { content: \"<\" }\n[data-link-type=element]::after  { content: \">\" }\n\n[data-link-type=biblio] {\n    white-space: pre;\n}</style>\n<style>/* style-colors */\n\n/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */\n:root {\n    color-scheme: light dark;\n\n    --text: black;\n    --bg: white;\n\n    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);\n\n    --logo-bg: #1a5e9a;\n    --logo-active-bg: #c00;\n    --logo-text: white;\n\n    --tocnav-normal-text: #707070;\n    --tocnav-normal-bg: var(--bg);\n    --tocnav-hover-text: var(--tocnav-normal-text);\n    --tocnav-hover-bg: #f8f8f8;\n    --tocnav-active-text: #c00;\n    --tocnav-active-bg: var(--tocnav-normal-bg);\n\n    --tocsidebar-text: var(--text);\n    --tocsidebar-bg: #f7f8f9;\n    --tocsidebar-shadow: rgba(0,0,0,.1);\n    --tocsidebar-heading-text: hsla(203,20%,40%,.7);\n\n    --toclink-text: var(--text);\n    --toclink-underline: #3980b5;\n    --toclink-visited-text: var(--toclink-text);\n    --toclink-visited-underline: #054572;\n\n    --heading-text: #005a9c;\n\n    --hr-text: var(--text);\n\n    --algo-border: #def;\n\n    --del-text: red;\n    --del-bg: transparent;\n    --ins-text: #080;\n    --ins-bg: transparent;\n\n    --a-normal-text: #034575;\n    --a-normal-underline: #bbb;\n    --a-visited-text: var(--a-normal-text);\n    --a-visited-underline: #707070;\n    --a-hover-bg: rgba(75%, 75%, 75%, .25);\n    --a-active-text: #c00;\n    --a-active-underline: #c00;\n\n    --blockquote-border: silver;\n    --blockquote-bg: transparent;\n    --blockquote-text: currentcolor;\n\n    --issue-border: #e05252;\n    --issue-bg: #fbe9e9;\n    --issue-text: var(--text);\n    --issueheading-text: #831616;\n\n    --example-border: #e0cb52;\n    --example-bg: #fcfaee;\n    --example-text: var(--text);\n    --exampleheading-text: #574b0f;\n\n    --note-border: #52e052;\n    --note-bg: #e9fbe9;\n    --note-text: var(--text);\n    --noteheading-text: hsl(120, 70%, 30%);\n    --notesummary-underline: silver;\n\n    --assertion-border: #aaa;\n    --assertion-bg: #eee;\n    --assertion-text: black;\n\n    --advisement-border: orange;\n    --advisement-bg: #fec;\n    --advisement-text: var(--text);\n    --advisementheading-text: #b35f00;\n\n    --warning-border: red;\n    --warning-bg: hsla(40,100%,50%,0.95);\n    --warning-text: var(--text);\n\n    --amendment-border: #330099;\n    --amendment-bg: #F5F0FF;\n    --amendment-text: var(--text);\n    --amendmentheading-text: #220066;\n\n    --def-border: #8ccbf2;\n    --def-bg: #def;\n    --def-text: var(--text);\n    --defrow-border: #bbd7e9;\n\n    --datacell-border: silver;\n\n    --indexinfo-text: #707070;\n\n    --indextable-hover-text: black;\n    --indextable-hover-bg: #f7f8f9;\n\n    --outdatedspec-bg: rgba(0, 0, 0, .5);\n    --outdatedspec-text: black;\n    --outdated-bg: maroon;\n    --outdated-text: white;\n    --outdated-shadow: red;\n\n    --editedrec-bg: darkorange;\n}</style>\n<style>/* style-counters */\n\nbody {\n    counter-reset: example figure issue;\n}\n.issue {\n    counter-increment: issue;\n}\n.issue:not(.no-marker)::before {\n    content: \"Issue \" counter(issue);\n}\n\n.example {\n    counter-increment: example;\n}\n.example:not(.no-marker)::before {\n    content: \"Example \" counter(example);\n}\n.invalid.example:not(.no-marker)::before,\n.illegal.example:not(.no-marker)::before {\n    content: \"Invalid Example\" counter(example);\n}\n\nfigcaption {\n    counter-increment: figure;\n}\nfigcaption:not(.no-marker)::before {\n    content: \"Figure \" counter(figure) \" \";\n}</style>\n<style>/* style-dfn-panel */\n\n:root {\n    --dfnpanel-bg: #ddd;\n    --dfnpanel-text: var(--text);\n}\n.dfn-panel {\n    position: absolute;\n    z-index: 35;\n    height: auto;\n    width: -webkit-fit-content;\n    width: fit-content;\n    max-width: 300px;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0.5em 0.75em;\n    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;\n    background: var(--dfnpanel-bg);\n    color: var(--dfnpanel-text);\n    border: outset 0.2em;\n}\n.dfn-panel:not(.on) { display: none; }\n.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }\n.dfn-panel > b { display: block; }\n.dfn-panel a { color: var(--dfnpanel-text); }\n.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }\n.dfn-panel > b + b { margin-top: 0.25em; }\n.dfn-panel ul { padding: 0; }\n.dfn-panel li { list-style: inside; }\n.dfn-panel.activated {\n    display: inline-block;\n    position: fixed;\n    left: .5em;\n    bottom: 2em;\n    margin: 0 auto;\n    max-width: calc(100vw - 1.5em - .4em - .5em);\n    max-height: 30vh;\n}\n\n.dfn-paneled { cursor: pointer; }\n</style>\n<style>/* style-issues */\n\na[href].issue-return {\n    float: right;\n    float: inline-end;\n    color: var(--issueheading-text);\n    font-weight: bold;\n    text-decoration: none;\n}\n</style>\n<style>/* style-md-lists */\n\n/* This is a weird hack for me not yet following the commonmark spec\n   regarding paragraph and lists. */\n[data-md] > :first-child {\n    margin-top: 0;\n}\n[data-md] > :last-child {\n    margin-bottom: 0;\n}</style>\n<style>/* style-selflinks */\n\n:root {\n    --selflink-text: white;\n    --selflink-bg: gray;\n    --selflink-hover-text: black;\n}\n.heading, .issue, .note, .example, li, dt {\n    position: relative;\n}\na.self-link {\n    position: absolute;\n    top: 0;\n    left: calc(-1 * (3.5rem - 26px));\n    width: calc(3.5rem - 26px);\n    height: 2em;\n    text-align: center;\n    border: none;\n    transition: opacity .2s;\n    opacity: .5;\n}\na.self-link:hover {\n    opacity: 1;\n}\n.heading > a.self-link {\n    font-size: 83%;\n}\nli > a.self-link {\n    left: calc(-1 * (3.5rem - 26px) - 2em);\n}\ndfn > a.self-link {\n    top: auto;\n    left: auto;\n    opacity: 0;\n    width: 1.5em;\n    height: 1.5em;\n    background: var(--selflink-bg);\n    color: var(--selflink-text);\n    font-style: normal;\n    transition: opacity .2s, background-color .2s, color .2s;\n}\ndfn:hover > a.self-link {\n    opacity: 1;\n}\ndfn > a.self-link:hover {\n    color: var(--selflink-hover-text);\n}\n\na.self-link::before            { content: \"¶\"; }\n.heading > a.self-link::before { content: \"§\"; }\ndfn > a.self-link::before      { content: \"#\"; }\n</style>\n<style>/* style-darkmode */\n\n@media (prefers-color-scheme: dark) {\n    :root {\n        --text: #ddd;\n        --bg: black;\n\n        --unofficial-watermark: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E\");\n\n        --logo-bg: #1a5e9a;\n        --logo-active-bg: #c00;\n        --logo-text: white;\n\n        --tocnav-normal-text: #999;\n        --tocnav-normal-bg: var(--bg);\n        --tocnav-hover-text: var(--tocnav-normal-text);\n        --tocnav-hover-bg: #080808;\n        --tocnav-active-text: #f44;\n        --tocnav-active-bg: var(--tocnav-normal-bg);\n\n        --tocsidebar-text: var(--text);\n        --tocsidebar-bg: #080808;\n        --tocsidebar-shadow: rgba(255,255,255,.1);\n        --tocsidebar-heading-text: hsla(203,20%,40%,.7);\n\n        --toclink-text: var(--text);\n        --toclink-underline: #6af;\n        --toclink-visited-text: var(--toclink-text);\n        --toclink-visited-underline: #054572;\n\n        --heading-text: #8af;\n\n        --hr-text: var(--text);\n\n        --algo-border: #456;\n\n        --del-text: #f44;\n        --del-bg: transparent;\n        --ins-text: #4a4;\n        --ins-bg: transparent;\n\n        --a-normal-text: #6af;\n        --a-normal-underline: #555;\n        --a-visited-text: var(--a-normal-text);\n        --a-visited-underline: var(--a-normal-underline);\n        --a-hover-bg: rgba(25%, 25%, 25%, .2);\n        --a-active-text: #f44;\n        --a-active-underline: var(--a-active-text);\n\n        --borderedblock-bg: rgba(255, 255, 255, .05);\n\n        --blockquote-border: silver;\n        --blockquote-bg: var(--borderedblock-bg);\n        --blockquote-text: currentcolor;\n\n        --issue-border: #e05252;\n        --issue-bg: var(--borderedblock-bg);\n        --issue-text: var(--text);\n        --issueheading-text: hsl(0deg, 70%, 70%);\n\n        --example-border: hsl(50deg, 90%, 60%);\n        --example-bg: var(--borderedblock-bg);\n        --example-text: var(--text);\n        --exampleheading-text: hsl(50deg, 70%, 70%);\n\n        --note-border: hsl(120deg, 100%, 35%);\n        --note-bg: var(--borderedblock-bg);\n        --note-text: var(--text);\n        --noteheading-text: hsl(120, 70%, 70%);\n        --notesummary-underline: silver;\n\n        --assertion-border: #444;\n        --assertion-bg: var(--borderedblock-bg);\n        --assertion-text: var(--text);\n\n        --advisement-border: orange;\n        --advisement-bg: #222218;\n        --advisement-text: var(--text);\n        --advisementheading-text: #f84;\n\n        --warning-border: red;\n        --warning-bg: hsla(40,100%,20%,0.95);\n        --warning-text: var(--text);\n\n        --amendment-border: #330099;\n        --amendment-bg: #080010;\n        --amendment-text: var(--text);\n        --amendmentheading-text: #cc00ff;\n\n        --def-border: #8ccbf2;\n        --def-bg: #080818;\n        --def-text: var(--text);\n        --defrow-border: #136;\n\n        --datacell-border: silver;\n\n        --indexinfo-text: #aaa;\n\n        --indextable-hover-text: var(--text);\n        --indextable-hover-bg: #181818;\n\n        --outdatedspec-bg: rgba(255, 255, 255, .5);\n        --outdatedspec-text: black;\n        --outdated-bg: maroon;\n        --outdated-text: white;\n        --outdated-shadow: red;\n\n        --editedrec-bg: darkorange;\n    }\n    /* In case a transparent-bg image doesn't expect to be on a dark bg,\n       which is quite common in practice... */\n    img { background: white; }\n}\n@media (prefers-color-scheme: dark) {\n    :root {\n        --selflink-text: black;\n        --selflink-bg: silver;\n        --selflink-hover-text: white;\n    }\n}\n\n@media (prefers-color-scheme: dark) {\n    :root {\n        --dfnpanel-bg: #222;\n        --dfnpanel-text: var(--text);\n    }\n}</style>\n <body class=\"h-entry\">\n  <div class=\"head\">\n   <p data-fill-with=\"logo\"><a class=\"logo\" href=\"https://www.w3.org/\"> <img alt=\"W3C\" height=\"48\" src=\"https://www.w3.org/StyleSheets/TR/2021/logos/W3C\" width=\"72\"> </a> </p>\n   <h1 class=\"p-name no-ref\" id=\"title\">Client Hints Infrastructure</h1>\n   <p id=\"w3c-state\"><a href=\"https://www.w3.org/standards/types#CG-DRAFT\">Draft Community Group Report</a>, <time class=\"dt-updated\" datetime=\"2022-02-02\">2 February 2022</time></p>\n   <div data-fill-with=\"spec-metadata\">\n    <dl>\n     <dt>This version:\n     <dd><a class=\"u-url\" href=\"https://wicg.github.io/client-hints-infrastructure\">https://wicg.github.io/client-hints-infrastructure</a>\n     <dt>Issue Tracking:\n     <dd><a href=\"https://github.com/WICG/client-hints-infrastructure/issues/\">GitHub</a>\n     <dd><a href=\"#issues-index\">Inline In Spec</a>\n     <dt class=\"editor\">Editor:\n     <dd class=\"editor p-author h-card vcard\"><a class=\"p-name fn u-url url\" href=\"https://blog.yoav.ws\">Yoav Weiss</a> (<span class=\"p-org org\">Google</span>) <a class=\"u-email email\" href=\"mailto:yoav@yoav.ws\">yoav@yoav.ws</a>\n    </dl>\n   </div>\n   <div data-fill-with=\"warning\"></div>\n   <p class=\"copyright\" data-fill-with=\"copyright\"><a href=\"http://www.w3.org/Consortium/Legal/ipr-notice#Copyright\">Copyright</a> © 2022 the Contributors to the Client Hints Infrastructure Specification, published by the <a href=\"https://www.w3.org/community/wicg/\">Web Platform Incubator Community Group</a> under the <a href=\"https://www.w3.org/community/about/agreements/cla/\">W3C Community Contributor License Agreement (CLA)</a>.\nA human-readable <a href=\"http://www.w3.org/community/about/agreements/cla-deed/\">summary</a> is available. </p>\n   <hr title=\"Separator for header\">\n  </div>\n  <div class=\"p-summary\" data-fill-with=\"abstract\">\n   <h2 class=\"no-num no-toc no-ref heading settled\" id=\"abstract\"><span class=\"content\">Abstract</span></h2>\n   <p>Specification of the Client Hints infrastructure and its integration with Fetch and HTML</p>\n  </div>\n  <div data-fill-with=\"at-risk\"></div>\n  <h2 class=\"no-num no-toc no-ref heading settled\" id=\"status\"><span class=\"content\">Status of this document</span></h2>\n  <div data-fill-with=\"status\">\n   <p> This specification was published by the <a href=\"https://www.w3.org/community/wicg/\">Web Platform Incubator Community Group</a>.\n  It is not a W3C Standard nor is it on the W3C Standards Track.\n\n  Please note that under the <a href=\"https://www.w3.org/community/about/agreements/cla/\">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.\n\n  Learn more about <a href=\"http://www.w3.org/community/\">W3C Community and Business Groups</a>. </p>\n   <p></p>\n  </div>\n  <div data-fill-with=\"at-risk\"></div>\n  <nav data-fill-with=\"table-of-contents\" id=\"toc\">\n   <h2 class=\"no-num no-toc no-ref\" id=\"contents\">Table of Contents</h2>\n   <ol class=\"toc\" role=\"directory\">\n    <li><a href=\"#intro\"><span class=\"secno\">1</span> <span class=\"content\">Introduction</span></a>\n    <li><a href=\"#definition\"><span class=\"secno\">2</span> <span class=\"content\">Infrastructure definition</span></a>\n    <li>\n     <a href=\"#environment-settings-object-processing\"><span class=\"secno\">3</span> <span class=\"content\">Environment settings object processing</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#concept-client-hints-set\"><span class=\"secno\">3.1</span> <span class=\"content\">Client hints set</span></a>\n      <li><a href=\"#accept-ch-cache-definition\"><span class=\"secno\">3.2</span> <span class=\"content\">Accept-CH cache</span></a>\n      <li><a href=\"#accept-ch-state-algo\"><span class=\"secno\">3.3</span> <span class=\"content\"><span>Accept-CH state</span> (<code>name=\"accept-ch\"</code>)</span></a>\n     </ol>\n    <li>\n     <a href=\"#html\"><span class=\"secno\">4</span> <span class=\"content\">Integration with HTML</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#navigation-response\"><span class=\"secno\">4.1</span> <span class=\"content\">Navigation response</span></a>\n      <li><a href=\"#worker-init\"><span class=\"secno\">4.2</span> <span class=\"content\">Worker initialization</span></a>\n      <li><a href=\"#standard-metadata-names\"><span class=\"secno\">4.3</span> <span class=\"content\">Standard metadata names</span></a>\n      <li><a href=\"#extending-environment-settings-object\"><span class=\"secno\">4.4</span> <span class=\"content\">Extending environment settings object</span></a>\n     </ol>\n    <li><a href=\"#request-processing\"><span class=\"secno\">5</span> <span class=\"content\">Request processing</span></a>\n    <li><a href=\"#fetch\"><span class=\"secno\">6</span> <span class=\"content\">Integration with Fetch</span></a>\n    <li>\n     <a href=\"#registry\"><span class=\"secno\">7</span> <span class=\"content\">Feature Registry</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#client-hints-token-definition\"><span class=\"secno\">7.1</span> <span class=\"content\">Client hints token</span></a>\n      <li><a href=\"#policy-controlled-features\"><span class=\"secno\">7.2</span> <span class=\"content\">Policy-controlled features</span></a>\n      <li><a href=\"#low-entropy-table\"><span class=\"secno\">7.3</span> <span class=\"content\">Low entropy hint table</span></a>\n      <li><a href=\"#find-client-hint-value-section\"><span class=\"secno\">7.4</span> <span class=\"content\">Find client hint value</span></a>\n     </ol>\n    <li><a href=\"#privacy\"><span class=\"secno\">8</span> <span class=\"content\">Security and Privacy considerations</span></a>\n    <li><a href=\"#terms\"><span class=\"secno\">9</span> <span class=\"content\">Terms</span></a>\n    <li>\n     <a href=\"#w3c-conformance\"><span class=\"secno\"></span> <span class=\"content\">Conformance</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#w3c-conventions\"><span class=\"secno\"></span> <span class=\"content\">Document conventions</span></a>\n      <li><a href=\"#w3c-conformant-algorithms\"><span class=\"secno\"></span> <span class=\"content\">Conformant Algorithms</span></a>\n     </ol>\n    <li>\n     <a href=\"#index\"><span class=\"secno\"></span> <span class=\"content\">Index</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#index-defined-here\"><span class=\"secno\"></span> <span class=\"content\">Terms defined by this specification</span></a>\n      <li><a href=\"#index-defined-elsewhere\"><span class=\"secno\"></span> <span class=\"content\">Terms defined by reference</span></a>\n     </ol>\n    <li>\n     <a href=\"#references\"><span class=\"secno\"></span> <span class=\"content\">References</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#normative\"><span class=\"secno\"></span> <span class=\"content\">Normative References</span></a>\n     </ol>\n    <li><a href=\"#issues-index\"><span class=\"secno\"></span> <span class=\"content\">Issues Index</span></a>\n   </ol>\n  </nav>\n  <main>\n   <h2 class=\"heading settled\" data-level=\"1\" id=\"intro\"><span class=\"secno\">1. </span><span class=\"content\">Introduction</span><a class=\"self-link\" href=\"#intro\"></a></h2>\n   <p>Client Hints is collection of HTTP and user-agent features that enables\nprivacy-preserving, proactive content negotiation with an explicit third-party\ndelegation mechanism:</p>\n   <ul>\n    <li data-md>\n     <p>Proactive content negotiation at the HTTP layer enables servers to request\ndelivery of specific hints, in order to enable optimized and automated\nselection of resources based on a user’s device, conditions and preferences,\nand lets clients decide which hint requests they want to grant, with\nper-hint and per-origin granularity.</p>\n    <li data-md>\n     <p>Integration of said mechanism with web concepts, defined in this document,\nenables browsers to benefit from content adaptation, and have it play nicely with\ncurrent web restrictions (e.g. same-origin policy).</p>\n    <li data-md>\n     <p>The opt-in nature of the mechanism enables browsers to advertise requested\nhint data (e.g. user agent and device characteristics) selectively to\nsecure-transport origins, instead of appending such data on every outgoing\nrequest.</p>\n    <li data-md>\n     <p>Origin opt-in applies to same-origin assets only and delivery to third-party\norigins is subject to explicit first party delegation via Permissions Policy,\nenabling tight control over which third party origins can access requested\nhint data.</p>\n   </ul>\n   <p>The goal of Client Hints is to <strong>reduce passive fingerprinting</strong> on the web\nwhile <strong>enabling scalable and privacy preserving content adaptation</strong> between\nclient and server, via a standardized set of content negotiation primitives at\nthe HTTP and user agent levels.</p>\n   <h2 class=\"heading settled\" data-level=\"2\" id=\"definition\"><span class=\"secno\">2. </span><span class=\"content\">Infrastructure definition</span><a class=\"self-link\" href=\"#definition\"></a></h2>\n   <p>The specification of the Client Hints <strong>infrastructure</strong> is divided between the\nfollowing specifications and proposals:</p>\n   <ul>\n    <li data-md>\n     <p>IETF <a data-link-type=\"biblio\" href=\"#biblio-rfc8942\">[RFC8942]</a></p>\n     <ul>\n      <li data-md>\n       <p>Provides the motivation for Client Hints.</p>\n      <li data-md>\n       <p>Defines the fundamental Client Hints infrastructure:</p>\n       <ul>\n        <li data-md>\n         <p>The <code>Accept-CH</code> response header, which servers may use to advertise\nsupport for certain Client Hints.</p>\n       </ul>\n      <li data-md>\n       <p>Provides both general guidelines, and formal requirements, about Client\n Hints’ impact on caching, security, and privacy.</p>\n      <li data-md>\n       <p>Does <em>not</em> define any actual, particular hints – or say anything about how\n Client Hints works in web contexts.</p>\n     </ul>\n    <li data-md>\n     <p>Client Hints infrastructure - this document</p>\n     <ul>\n      <li data-md>\n       <p>Defines how web clients should process the <code>Accept-CH</code> headers sent by servers.</p>\n      <li data-md>\n       <p>Defines the environment settings object state related to <code>Accept-CH</code>,\n which stores information about which servers should get which hints.</p>\n      <li data-md>\n       <p>Defines how, and when, web clients should actually go about sending hints,\n based on the state of their environment settings object.</p>\n       <ul>\n        <li data-md>\n         <p>More specifically, it integrates the HTML web concepts with Fetch’s\nalgorithms to make sure that opted-in hints are added to requests for\nsame-origin or delegated-to cross-origin requests. It also makes sure\nhints are removed from not delegated-to cross-origin requests after\nredirections.</p>\n       </ul>\n      <li data-md>\n       <p>Integrates those concepts with the <a data-link-type=\"biblio\" href=\"#biblio-html\">[HTML]</a> and <a data-link-type=\"biblio\" href=\"#biblio-fetch\">[FETCH]</a> specifications,\n  by patching various concepts there.</p>\n     </ul>\n    <li data-md>\n     <p>W3C Permissions Policy specification (<a href=\"https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature\" id=\"termref-for-should-request-be-allowed-to-use-feature\">relevant section</a>)</p>\n     <ul>\n      <li data-md>\n       <p>In order to perform third party Client Hint delegation, Permissions Policy has\n been extended to control features within fetch requests (rather than just Documents).</p>\n     </ul>\n   </ul>\n   <h2 class=\"heading settled\" data-level=\"3\" id=\"environment-settings-object-processing\"><span class=\"secno\">3. </span><span class=\"content\">Environment settings object processing</span><a class=\"self-link\" href=\"#environment-settings-object-processing\"></a></h2>\n   <h3 class=\"heading settled\" data-level=\"3.1\" id=\"concept-client-hints-set\"><span class=\"secno\">3.1. </span><span class=\"content\">Client hints set</span><a class=\"self-link\" href=\"#concept-client-hints-set\"></a></h3>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"client-hints-set\">client hints set</dfn> is a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\" id=\"ref-for-ordered-set\">set</a> of <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token\">client hints token</a>s. </p>\n   <h3 class=\"heading settled\" data-level=\"3.2\" id=\"accept-ch-cache-definition\"><span class=\"secno\">3.2. </span><span class=\"content\">Accept-CH cache</span><a class=\"self-link\" href=\"#accept-ch-cache-definition\"></a></h3>\n   <p>An <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"accept-ch-cache\">Accept-CH cache</dfn> is owned by the user agent and is an <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-ordered-map\">ordered map</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-key\" id=\"ref-for-map-key\">keyed</a> on <dfn class=\"dfn-paneled\" data-dfn-for=\"accept-ch-cache\" data-dfn-type=\"dfn\" data-noexport id=\"accept-ch-cache-origin\">origin</dfn> (an <a data-link-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-origin\" id=\"ref-for-concept-url-origin\">origin</a>),\nwith a value of <dfn class=\"dfn-paneled\" data-dfn-for=\"accept-ch-cache\" data-dfn-type=\"dfn\" data-noexport id=\"accept-ch-cache-client-hints-set\">client hints set</dfn> (a <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set\">client hints set</a>).</p>\n   <p>The Accept-CH cache can effectively act as an alternative cookie store,\nsince sites can use each of the hints as a bit set on the client, and that information will be\ncommunicated to them on every request. As such, a user agent MUST evict that\ncache whenever the user clears their cookies or when session cookies expire.</p>\n   <p class=\"note\" role=\"note\"><span>Note:</span> A site can clear the browser’s <code>Accept-CH</code> cache for its origin by sending an empty <code>Accept-CH</code> header in a response. This sets the origin’s <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set①\">client hints set</a> to an empty set.</p>\n   <p class=\"note\" role=\"note\"><span>Note:</span> As the cache can only be modified by the top-level frame, it is considered to be partitioned.</p>\n   <p>To <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"add-a-new-accept-ch-cache-entry\">add a new Accept-CH cache entry</dfn> to the <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache\">Accept-CH cache</a>,\ngiven an <a data-link-type=\"dfn\" href=\"#accept-ch-cache-origin\" id=\"ref-for-accept-ch-cache-origin\">origin</a> <var>origin</var> and a <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set②\">client hints set</a> <var>hintSet</var>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-set\" id=\"ref-for-map-set\">set</a> <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache①\">Accept-CH cache</a>[<var>origin</var>] to <var>hintSet</var>.</p>\n   <p>When asked to <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"retrieve-the-client-hints-set\">retrieve the client hints set</dfn> given a <var>settingsObject</var>:</p>\n   <ol>\n    <li>Let <var>hintSet</var> be an empty <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\" id=\"ref-for-ordered-set①\">ordered set</a>. \n    <li>Let <var>originMatchingEntries</var> be the entries in the <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache②\">Accept-CH cache</a> whose <a data-link-type=\"dfn\" href=\"#accept-ch-cache-origin\" id=\"ref-for-accept-ch-cache-origin①\">origin</a> is <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#same-origin\" id=\"ref-for-same-origin\">same origin</a> with <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin\">origin</a>. \n    <li>For each entry in <var>originMatchingEntries</var>, for each token in its <a data-link-type=\"dfn\" href=\"#accept-ch-cache-client-hints-set\" id=\"ref-for-accept-ch-cache-client-hints-set\">client hints set</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append\">append</a> the token to <var>hintSet</var>. \n    <li>For each <var>hint</var> in <var>hintSet</var>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append①\">append</a> <var>hint</var> to <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set\">client hints set</a>. \n   </ol>\n   <p>When asked to <dfn class=\"dfn-paneled\" data-dfn-type=\"abstract-op\" data-export id=\"abstract-opdef-update-the-client-hints-set\">update the Client Hints set</dfn> given a <var>settingsObject</var> and <var>response</var>:</p>\n   <ol>\n    <li>Run <a data-link-type=\"dfn\" href=\"#retrieve-the-client-hints-set\" id=\"ref-for-retrieve-the-client-hints-set\">retrieve the client hints set</a> with <var>settingsObject</var>. \n    <li>If the result of executing <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context\">Is an environment settings object contextually secure?</a> on <var>settingsObject</var> is <code>\"Not Secure\"</code>, abort these steps. \n    <li>Let <var>browsingContext</var> be <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global\" id=\"ref-for-concept-settings-object-global\">global object</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/window-object.html#window-bc\" id=\"ref-for-window-bc\">browsing context</a>. \n    <li>If the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" id=\"ref-for-top-level-browsing-context\">top-level browsing context</a> does not equal <var>browsingContext</var>, abort these steps. \n    <li>If <var>response</var>’s <code>Accept-CH</code> header is present, parse the header field value according to the <code>Accept-CH</code> header parsing rules, as a <a data-link-type=\"dfn\" href=\"#field-name\" id=\"ref-for-field-name\">field-name</a>. Add each parsed <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token①\">client hints token</a> to <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set①\">client hints set</a>. \n    <li><a data-link-type=\"dfn\" href=\"#add-a-new-accept-ch-cache-entry\" id=\"ref-for-add-a-new-accept-ch-cache-entry\">Add a new Accept-CH cache entry</a> with <var>response</var>’s <a data-link-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-origin\" id=\"ref-for-concept-url-origin①\">origin</a> and <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set②\">client hints set</a>. \n   </ol>\n   <h3 class=\"heading settled\" data-level=\"3.3\" id=\"accept-ch-state-algo\"><span class=\"secno\">3.3. </span><span class=\"content\"><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"accept-ch-state\">Accept-CH state</dfn> (<code>name=\"accept-ch\"</code>)</span><a class=\"self-link\" href=\"#accept-ch-state-algo\"></a></h3>\n   <p class=\"note\" role=\"note\"><span>Note:</span> This metadata <em>appends</em> <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token②\">client hints token</a>s to the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object\">environment settings object</a>'s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set③\">client hints set</a>. It <em>does not</em> add those hints to the <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache③\">Accept-CH cache</a>. After this algorithm runs once, no further modification to the <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set④\">client hints set</a> can occur without reloading the page.</p>\n   <ol>\n    <li>Let <var>metaElement</var> be the <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#meta\" id=\"ref-for-meta\">meta</a></code> element. \n    <li>If <var>metaElement</var> is not a child of a <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-head-element\" id=\"ref-for-the-head-element\">head</a></code> element, then return. \n    <li>If <var>metaElement</var> has no <code><a data-link-type=\"element-sub\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-content\" id=\"ref-for-attr-meta-content\">content</a></code> attribute, or if that attribute’s value is the empty string, then return. \n    <li>If <var>metaElement</var> has any <a href=\"https://dom.spec.whatwg.org/#concept-tree-preceding\">preceding</a> <a href=\"https://dom.spec.whatwg.org/#concept-tree-sibling\">sibling</a> <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element\" id=\"ref-for-the-link-element\">link</a></code> or <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/scripting.html#script\" id=\"ref-for-script\">script</a></code> elements (or if any <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element\" id=\"ref-for-the-link-element①\">link</a></code> or <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/scripting.html#script\" id=\"ref-for-script①\">script</a></code> elements have begun to execute), then return. \n    <li>Let <var>acceptCHValue</var> be the value of <var>metaElement</var>’s <code><a data-link-type=\"element-sub\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-content\" id=\"ref-for-attr-meta-content①\">content</a></code> attribute. \n    <li>Let <var>settingsObject</var> be <var>metaElement</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\" id=\"ref-for-relevant-settings-object\">relevant settings object</a>. \n    <li>Let <var>permissionsPolicy</var> be <var>metaElement</var>’s node document’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy\" id=\"ref-for-concept-document-permissions-policy\">permissions policy</a> \n    <li>If the result of executing <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context①\">Is an environment settings object contextually secure?</a> on <var>settingsObject</var> is <code>\"Not Secure\"</code>, then return. \n    <li>Let <var>browsingContext</var> be <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global\" id=\"ref-for-concept-settings-object-global①\">global object</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/window-object.html#window-bc\" id=\"ref-for-window-bc①\">browsing context</a>. \n    <li>If the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" id=\"ref-for-top-level-browsing-context①\">top-level browsing context</a> does not equal <var>browsingContext</var>, abort these steps. \n    <li>\n     Let <var>policyDirective</var> be the result of running [$ parse-policy-directive $] on <var>acceptCHValue</var> and the <a data-link-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-origin\" id=\"ref-for-concept-url-origin②\">origin</a> of the <var>metaElement</var>’s node document. \n     <ol>\n      <li>For each <var>feature</var>-><var>allowList</var> of <var>policyDirective</var>: \n      <li>If <var>feature</var> is not a <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token③\">client hints token</a>, then continue. \n      <li>If <var>allowList</var> is the special value <code>*</code>, then continue. \n      <li><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append②\">Append</a> <var>feature</var> to <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑤\">client hints set</a> and <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append③\">Append</a> <var>allowList</var> to <var>permissionsPolicy</var>[<var>feature</var>]'s <a data-link-type=\"biblio\" href=\"#biblio-permissions-policy\">permissions policy</a>. \n     </ol>\n   </ol>\n   <p class=\"note\" role=\"note\"><span>Note:</span> <code>*</code> can still be inherited from the default policy or HTTP header permissions policy.</p>\n   <h2 class=\"heading settled\" data-level=\"4\" id=\"html\"><span class=\"secno\">4. </span><span class=\"content\">Integration with HTML</span><a class=\"self-link\" href=\"#html\"></a></h2>\n   <p>This specification integrates with the <a data-link-type=\"biblio\" href=\"#biblio-html\">[HTML]</a> specification by patching the algorithms below:</p>\n   <h3 class=\"heading settled\" data-level=\"4.1\" id=\"navigation-response\"><span class=\"secno\">4.1. </span><span class=\"content\">Navigation response</span><a class=\"self-link\" href=\"#navigation-response\"></a></h3>\n   <p>At <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsing-the-web.html#process-a-navigate-response\" id=\"ref-for-process-a-navigate-response\">process a navigate response</a>, after step 7 call <a data-link-type=\"abstract-op\" href=\"#abstract-opdef-update-the-client-hints-set\" id=\"ref-for-abstract-opdef-update-the-client-hints-set\">update the Client Hints set</a> with the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\" id=\"ref-for-relevant-settings-object①\">relevant settings object</a> and <var>response</var> as inputs.</p>\n   <h3 class=\"heading settled\" data-level=\"4.2\" id=\"worker-init\"><span class=\"secno\">4.2. </span><span class=\"content\">Worker initialization</span><a class=\"self-link\" href=\"#worker-init\"></a></h3>\n    At <a href=\"https://html.spec.whatwg.org/multipage/workers.html#set-up-a-worker-environment-settings-object\">set up a worker environment settings object</a>,\nafter step 6, add the following step: \n   <ol>\n    <li data-md>\n     <p>Set <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑥\">client hints set</a> to be a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-clone\" id=\"ref-for-list-clone\">clone</a> of <var>outside settings</var>’ <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑦\">client hints set</a>.</p>\n   </ol>\n   <h3 class=\"heading settled\" data-level=\"4.3\" id=\"standard-metadata-names\"><span class=\"secno\">4.3. </span><span class=\"content\">Standard metadata names</span><a class=\"self-link\" href=\"#standard-metadata-names\"></a></h3>\n    For the section <a href=\"https://html.spec.whatwg.org/multipage/#standard-metadata-names\">standard metadata names</a>,\nadd a subsection named <code>accept-ch</code> with the <a data-link-type=\"dfn\" href=\"#accept-ch-state\" id=\"ref-for-accept-ch-state\">outlined explanation</a>. \n   <h3 class=\"heading settled\" data-level=\"4.4\" id=\"extending-environment-settings-object\"><span class=\"secno\">4.4. </span><span class=\"content\">Extending environment settings object</span><a class=\"self-link\" href=\"#extending-environment-settings-object\"></a></h3>\n   <p>An <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object①\">environment settings object</a> has a <dfn class=\"dfn-paneled\" data-dfn-for=\"environment settings object\" data-dfn-type=\"dfn\" data-noexport id=\"environment-settings-object-client-hints-set\">client hints set</dfn>: a <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set③\">client hints set</a>, initially the empty set, used for <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-fetch\" id=\"ref-for-concept-fetch\">fetches</a> performed using the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object②\">environment settings object</a> as a <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-request\" id=\"ref-for-concept-request-request\">request</a> <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-client\" id=\"ref-for-concept-request-client\">client</a>.</p>\n   <h2 class=\"heading settled\" data-level=\"5\" id=\"request-processing\"><span class=\"secno\">5. </span><span class=\"content\">Request processing</span><a class=\"self-link\" href=\"#request-processing\"></a></h2>\n   <p>When asked to <dfn class=\"dfn-paneled\" data-dfn-type=\"abstract-op\" data-export id=\"abstract-opdef-append-client-hints-to-request\">append client hints to request</dfn> with <var>settingsObject</var> and <var>request</var> as input, run the\nfollowing steps:</p>\n   <ol>\n    <li>Let <var>hintSet</var> be an empty <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set④\">client hints set</a>. \n    <li>Run <a data-link-type=\"dfn\" href=\"#retrieve-the-client-hints-set\" id=\"ref-for-retrieve-the-client-hints-set①\">retrieve the client hints set</a> with <var>settingsObject</var>. \n    <li>For each <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token④\">client hints token</a> <var>lowEntropyHint</var> in the registry’s <a data-link-type=\"dfn\" href=\"#low-entropy-hint-table\" id=\"ref-for-low-entropy-hint-table\">low entropy hint table</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append④\">append</a> <var>lowEntropyHint</var> to <var>hintSet</var>. \n    <li>If <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-client\" id=\"ref-for-concept-request-client①\">client</a> is not null, then for each <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token⑤\">client hints token</a> <var>requestHint</var> in <var>request</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑧\">client hints set</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append⑤\">append</a> <var>requestHint</var> to <var>hintSet</var>. \n    <li>For each <var>possibleHint</var> in <var>hintSet</var>, if <var>request</var> is a <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#subresource-request\" id=\"ref-for-subresource-request\">subresource request</a> and the result of\nrunning <a href=\"https://www.w3.org/TR/permissions-policy/#algo-should-request-be-allowed-to-use-feature\"><cite>Permissions Policy</cite> § 9.11 Should request be allowed to use feature?</a> given <var>request</var> and <var>possibleHint</var>’s associated feature in <a href=\"#policy-controlled-features\">§ 7.2 Policy-controlled features</a> returns <code>false</code>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-remove\" id=\"ref-for-list-remove\">remove</a> <var>possibleHint</var> from <var>hintSet</var>. \n    <li>\n     For each <var>hintName</var> in <var>hintSet</var>, if the <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list\">header list</a> <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#header-list-contains\" id=\"ref-for-header-list-contains\">does not\ncontain</a> <var>hintName</var>: \n     <ol>\n      <li>Let <var>value</var> be the result of running <a data-link-type=\"dfn\" href=\"#find-client-hint-value\" id=\"ref-for-find-client-hint-value\">find client hint value</a> with <var>hintName</var>. \n      <li><a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-header-list-append\" id=\"ref-for-concept-header-list-append\">append</a> <var>hintName</var>/<var>value</var> to the <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list①\">header list</a> \n     </ol>\n   </ol>\n   <p>When asked to <dfn class=\"dfn-paneled\" data-dfn-type=\"abstract-op\" data-export id=\"abstract-opdef-update-client-hints-from-redirect-if-needed\">update client hints from redirect if needed</dfn> with <var>request</var> as input, run the following steps:</p>\n   <ol>\n    <li>If <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-client\" id=\"ref-for-concept-request-client②\">client</a> is null, then abort these steps. \n    <li>Let <var>clientHintsSet</var> be <var>request</var>’s <var>client</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑨\">client hints set</a>. \n    <li>\n     <p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-iterate\" id=\"ref-for-list-iterate\">For each</a> <var>hintName</var> of <var>clientHintsSet</var>: </p>\n     <ol>\n      <li>\n       <p>Set <var>hintName</var> to \"Sec-\" concatenated with <var>hintName</var>. </p>\n      <li>\n       <p>If <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list②\">header list</a> <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#header-list-contains\" id=\"ref-for-header-list-contains①\">contains</a> <var>hintName</var> and if the result of running <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature\" id=\"ref-for-should-request-be-allowed-to-use-feature\">Should request be allowed to use feature?</a>,\n  given <var>request</var> and <var>hintName</var>’s <a href=\"#policy-controlled-features\">associated\n  policy-controlled feature</a>, returns <code>false</code>, then remove <var>hintName</var> from <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list③\">header list</a>. </p>\n      <li>\n       <p>Else if <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list④\">header list</a> doesn’t <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#header-list-contains\" id=\"ref-for-header-list-contains②\">contain</a> <var>hintName</var> and if the result of running <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature\" id=\"ref-for-should-request-be-allowed-to-use-feature①\">Should request be allowed to use feature?</a>,\n  given <var>request</var> and <var>hintName</var>’s <a href=\"#policy-controlled-features\">associated\n  policy-controlled feature</a>, returns <code>true</code>, then add <var>hintName</var> to <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list⑤\">header list</a>. </p>\n     </ol>\n   </ol>\n   <h2 class=\"heading settled\" data-level=\"6\" id=\"fetch\"><span class=\"secno\">6. </span><span class=\"content\">Integration with Fetch</span><a class=\"self-link\" href=\"#fetch\"></a></h2>\n   <p>This specification integrates with the <a data-link-type=\"biblio\" href=\"#biblio-fetch\">[FETCH]</a> specification by patching the algorithms below:</p>\n   <p>In <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-fetch\" id=\"ref-for-concept-fetch①\">Fetching</a>, after step 1.6, run <a data-link-type=\"abstract-op\" href=\"#abstract-opdef-append-client-hints-to-request\" id=\"ref-for-abstract-opdef-append-client-hints-to-request\">append client hints to request</a> with the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\" id=\"ref-for-relevant-settings-object②\">relevant settings object</a> and <var>request</var> as input.</p>\n   <p>In <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-http-redirect-fetch\" id=\"ref-for-concept-http-redirect-fetch\">HTTP-redirect fetch</a>, after step 7, run <a data-link-type=\"abstract-op\" href=\"#abstract-opdef-update-client-hints-from-redirect-if-needed\" id=\"ref-for-abstract-opdef-update-client-hints-from-redirect-if-needed\">update client hints from redirect if needed</a> with <var>request</var> as input.</p>\n   <h2 class=\"heading settled\" data-level=\"7\" id=\"registry\"><span class=\"secno\">7. </span><span class=\"content\">Feature Registry</span><a class=\"self-link\" href=\"#registry\"></a></h2>\n   <p class=\"note\" role=\"note\"><span>Note:</span> This section contains feature-specific definitions.\nNew features that rely on the Client Hints infrastructure need to add their respective definitions to this registry.\nUser Agents can implement some of those features without implementing others.</p>\n   <h3 class=\"heading settled\" data-level=\"7.1\" id=\"client-hints-token-definition\"><span class=\"secno\">7.1. </span><span class=\"content\">Client hints token</span><a class=\"self-link\" href=\"#client-hints-token-definition\"></a></h3>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-export id=\"client-hints-token\">client hints token</dfn> is a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#byte-lowercase\" id=\"ref-for-byte-lowercase\">byte-lowercase</a> representation of one of <code>Sec-CH-Save-Data</code>, <code>Sec-CH-DPR</code>, <code>Sec-CH-Width</code>, <code>Sec-CH-Viewport-Width</code>, <code>Sec-CH-Viewport-Height</code>, <code>Sec-CH-Device-Memory</code>, <code>Sec-CH-RTT</code>, <code>Sec-CH-Downlink</code>, <code>Sec-CH-ECT</code>, <code>Sec-CH-Prefers-Color-Scheme</code>, <code>Sec-CH-UA</code>, <code>Sec-CH-UA-Arch</code>, <code>Sec-CH-UA-Bitness</code>, <code>Sec-CH-UA-Full-Version</code>, <code>Sec-CH-UA-Full-Version-List</code>, <code>Sec-CH-UA-Mobile</code>, <code>Sec-CH-UA-Model</code>, <code>Sec-CH-UA-Platform</code>, or <code>Sec-CH-UA-Platform-Version</code>,</p>\n   <p class=\"note\" role=\"note\"><span>Note:</span> A client hints token will also match the request header sent by the user agent when\nappropriate (as determined by the <a href=\"#request-processing\">request processing algorithm</a>).</p>\n   <h3 class=\"heading settled\" data-level=\"7.2\" id=\"policy-controlled-features\"><span class=\"secno\">7.2. </span><span class=\"content\">Policy-controlled features</span><a class=\"self-link\" href=\"#policy-controlled-features\"></a></h3>\n   <p>This document defines <dfn data-dfn-type=\"dfn\" data-export id=\"policy-controlled-client-hints-features\">policy-controlled client hints features<a class=\"self-link\" href=\"#policy-controlled-client-hints-features\"></a></dfn>,\nthe following <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature\" id=\"ref-for-policy-controlled-feature\">policy-controlled features</a>:</p>\n   <ul>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-save-data\">ch-save-data<a class=\"self-link\" href=\"#ch-save-data\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist\">default allowlist</a> of <code>'*'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-dpr\">ch-dpr<a class=\"self-link\" href=\"#ch-dpr\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-width\">ch-width<a class=\"self-link\" href=\"#ch-width\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist②\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-viewport-width\">ch-viewport-width<a class=\"self-link\" href=\"#ch-viewport-width\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist③\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-viewport-height\">ch-viewport-height<a class=\"self-link\" href=\"#ch-viewport-height\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist④\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-device-memory\">ch-device-memory<a class=\"self-link\" href=\"#ch-device-memory\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑤\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-rtt\">ch-rtt<a class=\"self-link\" href=\"#ch-rtt\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑥\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-downlink\">ch-downlink<a class=\"self-link\" href=\"#ch-downlink\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑦\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ect\">ch-ect<a class=\"self-link\" href=\"#ch-ect\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑧\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-prefers-color-scheme\">ch-prefers-color-scheme<a class=\"self-link\" href=\"#ch-prefers-color-scheme\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑨\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua\">ch-ua<a class=\"self-link\" href=\"#ch-ua\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⓪\">default allowlist</a> of <code>'*'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-arch\">ch-ua-arch<a class=\"self-link\" href=\"#ch-ua-arch\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①①\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-bitness\">ch-ua-bitness<a class=\"self-link\" href=\"#ch-ua-bitness\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①②\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-full-version\">ch-ua-full-version<a class=\"self-link\" href=\"#ch-ua-full-version\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①③\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-full-version-list\">ch-ua-full-version-list<a class=\"self-link\" href=\"#ch-ua-full-version-list\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①④\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-mobile\">ch-ua-mobile<a class=\"self-link\" href=\"#ch-ua-mobile\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑤\">default allowlist</a> of <code>'*'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-model\">ch-ua-model<a class=\"self-link\" href=\"#ch-ua-model\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑥\">default allowlist</a> of <code>'self'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-platform\">ch-ua-platform<a class=\"self-link\" href=\"#ch-ua-platform\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑦\">default allowlist</a> of <code>'*'</code></p>\n    <li data-md>\n     <p><code><dfn data-dfn-type=\"dfn\" data-export id=\"ch-ua-platform-version\">ch-ua-platform-version<a class=\"self-link\" href=\"#ch-ua-platform-version\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑧\">default allowlist</a> of <code>'self'</code></p>\n   </ul>\n   <p class=\"issue\" id=\"issue-0277eb34\"><a class=\"self-link\" href=\"#issue-0277eb34\"></a> Should we tie low-entropy-ness to allowlists, generally?</p>\n   <h3 class=\"heading settled\" data-level=\"7.3\" id=\"low-entropy-table\"><span class=\"secno\">7.3. </span><span class=\"content\">Low entropy hint table</span><a class=\"self-link\" href=\"#low-entropy-table\"></a></h3>\n    The <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-export id=\"low-entropy-hint-table\">low entropy hint table</dfn> below defines hints that are only exposing low amounts of entropy. \n   <table>\n    <thead>\n     <tr>\n      <th><a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-header-name\" id=\"ref-for-concept-header-name\">Name</a> \n      <th><a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-header-value\" id=\"ref-for-concept-header-value\">Value</a> \n    <tbody>\n     <tr>\n      <td><code>Sec-CH-Save-Data</code> \n      <td>a suitable <a href=\"https://wicg.github.io/savedata/#save-data-request-header-field\">Save-Data value</a> \n     <tr>\n      <td><code>Sec-CH-UA</code> \n      <td>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua\">UA value</a> \n     <tr>\n      <td><code>Sec-CH-UA-Mobile</code> \n      <td>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-mobile\">Mobile value</a> \n     <tr>\n      <td><code>Sec-CH-UA-Platform</code> \n      <td>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-platform\">Platform value</a> \n   </table>\n   <h3 class=\"heading settled\" data-level=\"7.4\" id=\"find-client-hint-value-section\"><span class=\"secno\">7.4. </span><span class=\"content\">Find client hint value</span><a class=\"self-link\" href=\"#find-client-hint-value-section\"></a></h3>\n   <p>When asked to <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"find-client-hint-value\">find client hint value</dfn>, given <var>hint</var> as input, switch on <var>hint</var> and return the result:</p>\n   <dl class=\"switch\">\n    <dt><code>Save-Data</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/savedata/#save-data-request-header-field\">Save-Data value</a> \n    <dt><code>DPR</code> \n    <dd>a suitable <a href>DPR value</a> \n    <dt><code>Viewport-Width</code> \n    <dd>a suitable <a href>Viewport-Width value</a> \n    <dt><code>Viewport-Height</code> \n    <dd>a suitable <a href>Viewport-Height value</a> \n    <dt><code>Width</code> \n    <dd>a suitable <a href>Width value</a> \n    <dt><code>Device-Memory</code> \n    <dd>a suitable <a href=\"https://w3c.github.io/device-memory/#sec-device-memory-client-hint-header\">Device-Memory value</a> \n    <dt><code>RTT</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/netinfo/#rtt-request-header-field\">RTT value</a> \n    <dt><code>Downlink</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/netinfo/#downlink-request-header-field\">Downlink value</a> \n    <dt><code>ECT</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/netinfo/#ect-request-header-field\">ECT value</a> \n    <dt><code>Prefers-Color-Scheme</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/user-preference-media-features-headers/#sec-ch-prefers-color-scheme\">color theme value</a> \n    <dt><code>UA</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua\">UA value</a> \n    <dt><code>UA-Arch</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-arch\">Arch value</a> \n    <dt><code>UA-Bitness</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-bitness\">Bitness value</a> \n    <dt><code>UA-Full-Version</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-full-version\">Full-Version value</a> \n    <dt><code>UA-Full-Version-List</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-full-version-list\">Full-Version-List value</a> \n    <dt><code>UA-Mobile</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-mobile\">Mobile value</a> \n    <dt><code>UA-Model</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-model\">Model value</a> \n    <dt><code>UA-Platform</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-platform\">Platform value</a> \n    <dt><code>UA-Platform-Version</code> \n    <dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-platform-version\">Platform-Version value</a> \n   </dl>\n   <p class=\"issue\" id=\"issue-707decdc\"><a class=\"self-link\" href=\"#issue-707decdc\"></a> Links for image features are broken, need to actually define that and link to them.</p>\n   <h2 class=\"heading settled\" data-level=\"8\" id=\"privacy\"><span class=\"secno\">8. </span><span class=\"content\">Security and Privacy considerations</span><a class=\"self-link\" href=\"#privacy\"></a></h2>\n    See <a data-link-type=\"biblio\" href=\"#biblio-rfc8942\">[RFC8942]</a>. \n   <h2 class=\"heading settled\" data-level=\"9\" id=\"terms\"><span class=\"secno\">9. </span><span class=\"content\">Terms</span><a class=\"self-link\" href=\"#terms\"></a></h2>\n   <p>The following terms are defined in the HTTP specifications: <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport href=\"https://tools.ietf.org/html/rfc7230#section-3.2\" id=\"field-name\">field-name</dfn></p>\n  </main>\n  <div data-fill-with=\"conformance\">\n   <h2 class=\"no-ref no-num heading settled\" id=\"w3c-conformance\"><span class=\"content\">Conformance</span><a class=\"self-link\" href=\"#w3c-conformance\"></a></h2>\n   <h3 class=\"no-ref no-num heading settled\" id=\"w3c-conventions\"><span class=\"content\">Document conventions</span><a class=\"self-link\" href=\"#w3c-conventions\"></a></h3>\n   <p>Conformance requirements are expressed\n    with a combination of descriptive assertions\n    and RFC 2119 terminology.\n    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”\n    in the normative parts of this document\n    are to be interpreted as described in RFC 2119.\n    However, for readability,\n    these words do not appear in all uppercase letters in this specification. </p>\n   <p>All of the text of this specification is normative\n    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type=\"biblio\" href=\"#biblio-rfc2119\">[RFC2119]</a> </p>\n   <p>Examples in this specification are introduced with the words “for example”\n    or are set apart from the normative text\n    with <code>class=\"example\"</code>,\n    like this: </p>\n   <div class=\"example\" id=\"w3c-example\">\n    <a class=\"self-link\" href=\"#w3c-example\"></a> \n    <p>This is an example of an informative example. </p>\n   </div>\n   <p>Informative notes begin with the word “Note”\n    and are set apart from the normative text\n    with <code>class=\"note\"</code>,\n    like this: </p>\n   <p class=\"note\" role=\"note\">Note, this is an informative note. </p>\n   <h3 class=\"no-ref no-num heading settled\" id=\"w3c-conformant-algorithms\"><span class=\"content\">Conformant Algorithms</span><a class=\"self-link\" href=\"#w3c-conformant-algorithms\"></a></h3>\n   <p>Requirements phrased in the imperative as part of algorithms\n    (such as \"strip any leading space characters\"\n    or \"return false and abort these steps\")\n    are to be interpreted with the meaning of the key word\n    (\"must\", \"should\", \"may\", etc)\n    used in introducing the algorithm. </p>\n   <p>Conformance requirements phrased as algorithms or specific steps\n    can be implemented in any manner,\n    so long as the end result is equivalent.\n    In particular, the algorithms defined in this specification\n    are intended to be easy to understand\n    and are not intended to be performant.\n    Implementers are encouraged to optimize. </p>\n  </div>\n<script src=\"https://www.w3.org/scripts/TR/2021/fixup.js\"></script>\n  <h2 class=\"no-num no-ref heading settled\" id=\"index\"><span class=\"content\">Index</span><a class=\"self-link\" href=\"#index\"></a></h2>\n  <h3 class=\"no-num no-ref heading settled\" id=\"index-defined-here\"><span class=\"content\">Terms defined by this specification</span><a class=\"self-link\" href=\"#index-defined-here\"></a></h3>\n  <ul class=\"index\">\n   <li><a href=\"#accept-ch-cache\">Accept-CH cache</a><span>, in § 3.2</span>\n   <li><a href=\"#accept-ch-state\">Accept-CH state</a><span>, in § 3.3</span>\n   <li><a href=\"#add-a-new-accept-ch-cache-entry\">add a new Accept-CH cache entry</a><span>, in § 3.2</span>\n   <li><a href=\"#abstract-opdef-append-client-hints-to-request\">append client hints to request</a><span>, in § 5</span>\n   <li><a href=\"#ch-device-memory\">ch-device-memory</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-downlink\">ch-downlink</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-dpr\">ch-dpr</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ect\">ch-ect</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-prefers-color-scheme\">ch-prefers-color-scheme</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-rtt\">ch-rtt</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-save-data\">ch-save-data</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua\">ch-ua</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-arch\">ch-ua-arch</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-bitness\">ch-ua-bitness</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-full-version\">ch-ua-full-version</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-full-version-list\">ch-ua-full-version-list</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-mobile\">ch-ua-mobile</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-model\">ch-ua-model</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-platform\">ch-ua-platform</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-ua-platform-version\">ch-ua-platform-version</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-viewport-height\">ch-viewport-height</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-viewport-width\">ch-viewport-width</a><span>, in § 7.2</span>\n   <li><a href=\"#ch-width\">ch-width</a><span>, in § 7.2</span>\n   <li>\n    client hints set\n    <ul>\n     <li><a href=\"#client-hints-set\">definition of</a><span>, in § 3.1</span>\n     <li><a href=\"#accept-ch-cache-client-hints-set\">dfn for accept-ch-cache</a><span>, in § 3.2</span>\n     <li><a href=\"#environment-settings-object-client-hints-set\">dfn for environment settings object</a><span>, in § 4.4</span>\n    </ul>\n   <li><a href=\"#client-hints-token\">client hints token</a><span>, in § 7.1</span>\n   <li><a href=\"#field-name\">field-name</a><span>, in § 9</span>\n   <li><a href=\"#find-client-hint-value\">find client hint value</a><span>, in § 7.4</span>\n   <li><a href=\"#low-entropy-hint-table\">low entropy hint table</a><span>, in § 7.3</span>\n   <li><a href=\"#accept-ch-cache-origin\">origin</a><span>, in § 3.2</span>\n   <li><a href=\"#policy-controlled-client-hints-features\">policy-controlled client hints features</a><span>, in § 7.2</span>\n   <li><a href=\"#retrieve-the-client-hints-set\">retrieve the client hints set</a><span>, in § 3.2</span>\n   <li><a href=\"#abstract-opdef-update-client-hints-from-redirect-if-needed\">update client hints from redirect if needed</a><span>, in § 5</span>\n   <li><a href=\"#abstract-opdef-update-the-client-hints-set\">update the Client Hints set</a><span>, in § 3.2</span>\n  </ul>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-header-list-append\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-header-list-append\">https://fetch.spec.whatwg.org/#concept-header-list-append</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-header-list-append\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-request-client\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-request-client\">https://fetch.spec.whatwg.org/#concept-request-client</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-request-client\">4.4. Extending environment settings object</a>\n    <li><a href=\"#ref-for-concept-request-client①\">5. Request processing</a> <a href=\"#ref-for-concept-request-client②\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-header-list-contains\">\n   <a href=\"https://fetch.spec.whatwg.org/#header-list-contains\">https://fetch.spec.whatwg.org/#header-list-contains</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-header-list-contains\">5. Request processing</a> <a href=\"#ref-for-header-list-contains①\">(2)</a> <a href=\"#ref-for-header-list-contains②\">(3)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-header-list-contains\">\n   <a href=\"https://fetch.spec.whatwg.org/#header-list-contains\">https://fetch.spec.whatwg.org/#header-list-contains</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-header-list-contains\">5. Request processing</a> <a href=\"#ref-for-header-list-contains①\">(2)</a> <a href=\"#ref-for-header-list-contains②\">(3)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-fetch\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-fetch\">https://fetch.spec.whatwg.org/#concept-fetch</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-fetch\">4.4. Extending environment settings object</a>\n    <li><a href=\"#ref-for-concept-fetch①\">6. Integration with Fetch</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-request-header-list\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\">https://fetch.spec.whatwg.org/#concept-request-header-list</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-request-header-list\">5. Request processing</a> <a href=\"#ref-for-concept-request-header-list①\">(2)</a> <a href=\"#ref-for-concept-request-header-list②\">(3)</a> <a href=\"#ref-for-concept-request-header-list③\">(4)</a> <a href=\"#ref-for-concept-request-header-list④\">(5)</a> <a href=\"#ref-for-concept-request-header-list⑤\">(6)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-http-redirect-fetch\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-http-redirect-fetch\">https://fetch.spec.whatwg.org/#concept-http-redirect-fetch</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-http-redirect-fetch\">6. Integration with Fetch</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-header-name\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-header-name\">https://fetch.spec.whatwg.org/#concept-header-name</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-header-name\">7.3. Low entropy hint table</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-request-request\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-request-request\">https://fetch.spec.whatwg.org/#concept-request-request</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-request-request\">4.4. Extending environment settings object</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-subresource-request\">\n   <a href=\"https://fetch.spec.whatwg.org/#subresource-request\">https://fetch.spec.whatwg.org/#subresource-request</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-subresource-request\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-header-value\">\n   <a href=\"https://fetch.spec.whatwg.org/#concept-header-value\">https://fetch.spec.whatwg.org/#concept-header-value</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-header-value\">7.3. Low entropy hint table</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-window-bc\">\n   <a href=\"https://html.spec.whatwg.org/multipage/window-object.html#window-bc\">https://html.spec.whatwg.org/multipage/window-object.html#window-bc</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-window-bc\">3.2. Accept-CH cache</a>\n    <li><a href=\"#ref-for-window-bc①\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-attr-meta-content\">\n   <a href=\"https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-content\">https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-content</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-attr-meta-content\">3.3. Accept-CH state (name=\"accept-ch\")</a> <a href=\"#ref-for-attr-meta-content①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-environment-settings-object\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\">https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-environment-settings-object\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n    <li><a href=\"#ref-for-environment-settings-object①\">4.4. Extending environment settings object</a> <a href=\"#ref-for-environment-settings-object②\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-settings-object-global\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global\">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-settings-object-global\">3.2. Accept-CH cache</a>\n    <li><a href=\"#ref-for-concept-settings-object-global①\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-the-head-element\">\n   <a href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-head-element\">https://html.spec.whatwg.org/multipage/semantics.html#the-head-element</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-the-head-element\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-secure-context\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\">https://html.spec.whatwg.org/multipage/webappapis.html#secure-context</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-secure-context\">3.2. Accept-CH cache</a>\n    <li><a href=\"#ref-for-secure-context①\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-the-link-element\">\n   <a href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element\">https://html.spec.whatwg.org/multipage/semantics.html#the-link-element</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-the-link-element\">3.3. Accept-CH state (name=\"accept-ch\")</a> <a href=\"#ref-for-the-link-element①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-meta\">\n   <a href=\"https://html.spec.whatwg.org/multipage/semantics.html#meta\">https://html.spec.whatwg.org/multipage/semantics.html#meta</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-meta\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-settings-object-origin\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-settings-object-origin\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-document-permissions-policy\">\n   <a href=\"https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy\">https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-document-permissions-policy\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-process-a-navigate-response\">\n   <a href=\"https://html.spec.whatwg.org/multipage/browsing-the-web.html#process-a-navigate-response\">https://html.spec.whatwg.org/multipage/browsing-the-web.html#process-a-navigate-response</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-process-a-navigate-response\">4.1. Navigation response</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-relevant-settings-object\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-relevant-settings-object\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n    <li><a href=\"#ref-for-relevant-settings-object①\">4.1. Navigation response</a>\n    <li><a href=\"#ref-for-relevant-settings-object②\">6. Integration with Fetch</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-same-origin\">\n   <a href=\"https://html.spec.whatwg.org/multipage/origin.html#same-origin\">https://html.spec.whatwg.org/multipage/origin.html#same-origin</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-same-origin\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-script\">\n   <a href=\"https://html.spec.whatwg.org/multipage/scripting.html#script\">https://html.spec.whatwg.org/multipage/scripting.html#script</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-script\">3.3. Accept-CH state (name=\"accept-ch\")</a> <a href=\"#ref-for-script①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-top-level-browsing-context\">\n   <a href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\">https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-top-level-browsing-context\">3.2. Accept-CH cache</a>\n    <li><a href=\"#ref-for-top-level-browsing-context①\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-set-append\">\n   <a href=\"https://infra.spec.whatwg.org/#set-append\">https://infra.spec.whatwg.org/#set-append</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-set-append\">3.2. Accept-CH cache</a> <a href=\"#ref-for-set-append①\">(2)</a>\n    <li><a href=\"#ref-for-set-append②\">3.3. Accept-CH state (name=\"accept-ch\")</a> <a href=\"#ref-for-set-append③\">(2)</a>\n    <li><a href=\"#ref-for-set-append④\">5. Request processing</a> <a href=\"#ref-for-set-append⑤\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-byte-lowercase\">\n   <a href=\"https://infra.spec.whatwg.org/#byte-lowercase\">https://infra.spec.whatwg.org/#byte-lowercase</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-byte-lowercase\">7.1. Client hints token</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-list-clone\">\n   <a href=\"https://infra.spec.whatwg.org/#list-clone\">https://infra.spec.whatwg.org/#list-clone</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-list-clone\">4.2. Worker initialization</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-list-iterate\">\n   <a href=\"https://infra.spec.whatwg.org/#list-iterate\">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-list-iterate\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-map-key\">\n   <a href=\"https://infra.spec.whatwg.org/#map-key\">https://infra.spec.whatwg.org/#map-key</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-map-key\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-ordered-map\">\n   <a href=\"https://infra.spec.whatwg.org/#ordered-map\">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-ordered-map\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-ordered-set\">\n   <a href=\"https://infra.spec.whatwg.org/#ordered-set\">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-ordered-set\">3.1. Client hints set</a>\n    <li><a href=\"#ref-for-ordered-set①\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-list-remove\">\n   <a href=\"https://infra.spec.whatwg.org/#list-remove\">https://infra.spec.whatwg.org/#list-remove</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-list-remove\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-map-set\">\n   <a href=\"https://infra.spec.whatwg.org/#map-set\">https://infra.spec.whatwg.org/#map-set</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-map-set\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-default-allowlist\">\n   <a href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\">https://w3c.github.io/webappsec-permissions-policy/#default-allowlist</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-default-allowlist\">7.2. Policy-controlled features</a> <a href=\"#ref-for-default-allowlist①\">(2)</a> <a href=\"#ref-for-default-allowlist②\">(3)</a> <a href=\"#ref-for-default-allowlist③\">(4)</a> <a href=\"#ref-for-default-allowlist④\">(5)</a> <a href=\"#ref-for-default-allowlist⑤\">(6)</a> <a href=\"#ref-for-default-allowlist⑥\">(7)</a> <a href=\"#ref-for-default-allowlist⑦\">(8)</a> <a href=\"#ref-for-default-allowlist⑧\">(9)</a> <a href=\"#ref-for-default-allowlist⑨\">(10)</a> <a href=\"#ref-for-default-allowlist①⓪\">(11)</a> <a href=\"#ref-for-default-allowlist①①\">(12)</a> <a href=\"#ref-for-default-allowlist①②\">(13)</a> <a href=\"#ref-for-default-allowlist①③\">(14)</a> <a href=\"#ref-for-default-allowlist①④\">(15)</a> <a href=\"#ref-for-default-allowlist①⑤\">(16)</a> <a href=\"#ref-for-default-allowlist①⑥\">(17)</a> <a href=\"#ref-for-default-allowlist①⑦\">(18)</a> <a href=\"#ref-for-default-allowlist①⑧\">(19)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-policy-controlled-feature\">\n   <a href=\"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature\">https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-policy-controlled-feature\">7.2. Policy-controlled features</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-should-request-be-allowed-to-use-feature\">\n   <a href=\"https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature\">https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#termref-for-should-request-be-allowed-to-use-feature\">2. Infrastructure definition</a>\n    <li><a href=\"#ref-for-should-request-be-allowed-to-use-feature\">5. Request processing</a> <a href=\"#ref-for-should-request-be-allowed-to-use-feature①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-url-origin\">\n   <a href=\"https://url.spec.whatwg.org/#concept-url-origin\">https://url.spec.whatwg.org/#concept-url-origin</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-url-origin\">3.2. Accept-CH cache</a> <a href=\"#ref-for-concept-url-origin①\">(2)</a>\n    <li><a href=\"#ref-for-concept-url-origin②\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <h3 class=\"no-num no-ref heading settled\" id=\"index-defined-elsewhere\"><span class=\"content\">Terms defined by reference</span><a class=\"self-link\" href=\"#index-defined-elsewhere\"></a></h3>\n  <ul class=\"index\">\n   <li>\n    <a data-link-type=\"biblio\">[FETCH]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-header-list-append\">append</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-request-client\">client</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-header-list-contains\">contains</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-header-list-contains①\">does not contain</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-fetch\">fetch</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-request-header-list\">header list</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-http-redirect-fetch\">http-redirect fetch</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-header-name\">name</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-request-request\">request</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-subresource-request\">subresource request</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-header-value\">value</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[HTML]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-window-bc\">browsing context</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-attr-meta-content\">content</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-environment-settings-object\">environment settings object</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-settings-object-global\">global object</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-the-head-element\">head</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-secure-context\">is an environment settings object contextually secure?</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-the-link-element\">link</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-meta\">meta</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-settings-object-origin\">origin</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-document-permissions-policy\">permissions policy</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-process-a-navigate-response\">process a navigate response</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-relevant-settings-object\">relevant settings object</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-same-origin\">same origin</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-script\">script</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-top-level-browsing-context\">top-level browsing context</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[INFRA]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-set-append\">append</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-byte-lowercase\">byte-lowercase</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-list-clone\">clone</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-list-iterate\">for each</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-map-key\">key</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-ordered-map\">ordered map</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-ordered-set\">ordered set</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-list-remove\">remove</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-map-set\">set <small>(for map)</small></span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[PERMISSIONS-POLICY]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-default-allowlist\">default allowlist</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-policy-controlled-feature\">policy-controlled feature</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-should-request-be-allowed-to-use-feature\">should request be allowed to use feature?</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[URL]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-url-origin\">origin</span>\n    </ul>\n  </ul>\n  <h2 class=\"no-num no-ref heading settled\" id=\"references\"><span class=\"content\">References</span><a class=\"self-link\" href=\"#references\"></a></h2>\n  <h3 class=\"no-num no-ref heading settled\" id=\"normative\"><span class=\"content\">Normative References</span><a class=\"self-link\" href=\"#normative\"></a></h3>\n  <dl>\n   <dt id=\"biblio-fetch\">[FETCH]\n   <dd>Anne van Kesteren. <a href=\"https://fetch.spec.whatwg.org/\"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href=\"https://fetch.spec.whatwg.org/\">https://fetch.spec.whatwg.org/</a>\n   <dt id=\"biblio-html\">[HTML]\n   <dd>Anne van Kesteren; et al. <a href=\"https://html.spec.whatwg.org/multipage/\"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href=\"https://html.spec.whatwg.org/multipage/\">https://html.spec.whatwg.org/multipage/</a>\n   <dt id=\"biblio-infra\">[INFRA]\n   <dd>Anne van Kesteren; Domenic Denicola. <a href=\"https://infra.spec.whatwg.org/\"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href=\"https://infra.spec.whatwg.org/\">https://infra.spec.whatwg.org/</a>\n   <dt id=\"biblio-permissions-policy\">[PERMISSIONS-POLICY]\n   <dd>Ian Clelland. <a href=\"https://w3c.github.io/webappsec-permissions-policy/\"><cite>Permissions Policy</cite></a>. URL: <a href=\"https://w3c.github.io/webappsec-permissions-policy/\">https://w3c.github.io/webappsec-permissions-policy/</a>\n   <dt id=\"biblio-rfc2119\">[RFC2119]\n   <dd>S. Bradner. <a href=\"https://datatracker.ietf.org/doc/html/rfc2119\"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href=\"https://datatracker.ietf.org/doc/html/rfc2119\">https://datatracker.ietf.org/doc/html/rfc2119</a>\n   <dt id=\"biblio-rfc8942\">[RFC8942]\n   <dd>I. Grigorik; Y. Weiss. <a href=\"https://www.rfc-editor.org/rfc/rfc8942\"><cite>HTTP Client Hints</cite></a>. February 2021. Experimental. URL: <a href=\"https://www.rfc-editor.org/rfc/rfc8942\">https://www.rfc-editor.org/rfc/rfc8942</a>\n   <dt id=\"biblio-url\">[URL]\n   <dd>Anne van Kesteren. <a href=\"https://url.spec.whatwg.org/\"><cite>URL Standard</cite></a>. Living Standard. URL: <a href=\"https://url.spec.whatwg.org/\">https://url.spec.whatwg.org/</a>\n  </dl>\n  <h2 class=\"no-num no-ref heading settled\" id=\"issues-index\"><span class=\"content\">Issues Index</span><a class=\"self-link\" href=\"#issues-index\"></a></h2>\n  <div style=\"counter-reset:issue\">\n   <div class=\"issue\"> Should we tie low-entropy-ness to allowlists, generally? <a class=\"issue-return\" href=\"#issue-0277eb34\" title=\"Jump to section\">↵</a></div>\n   <div class=\"issue\"> Links for image features are broken, need to actually define that and link to them. <a class=\"issue-return\" href=\"#issue-707decdc\" title=\"Jump to section\">↵</a></div>\n  </div>\n  <aside class=\"dfn-panel\" data-for=\"client-hints-set\">\n   <b><a href=\"#client-hints-set\">#client-hints-set</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-client-hints-set\">3.2. Accept-CH cache</a> <a href=\"#ref-for-client-hints-set①\">(2)</a> <a href=\"#ref-for-client-hints-set②\">(3)</a>\n    <li><a href=\"#ref-for-client-hints-set③\">4.4. Extending environment settings object</a>\n    <li><a href=\"#ref-for-client-hints-set④\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"accept-ch-cache\">\n   <b><a href=\"#accept-ch-cache\">#accept-ch-cache</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-accept-ch-cache\">3.2. Accept-CH cache</a> <a href=\"#ref-for-accept-ch-cache①\">(2)</a> <a href=\"#ref-for-accept-ch-cache②\">(3)</a>\n    <li><a href=\"#ref-for-accept-ch-cache③\">3.3. Accept-CH state (name=\"accept-ch\")</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"accept-ch-cache-origin\">\n   <b><a href=\"#accept-ch-cache-origin\">#accept-ch-cache-origin</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-accept-ch-cache-origin\">3.2. Accept-CH cache</a> <a href=\"#ref-for-accept-ch-cache-origin①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"accept-ch-cache-client-hints-set\">\n   <b><a href=\"#accept-ch-cache-client-hints-set\">#accept-ch-cache-client-hints-set</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-accept-ch-cache-client-hints-set\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"add-a-new-accept-ch-cache-entry\">\n   <b><a href=\"#add-a-new-accept-ch-cache-entry\">#add-a-new-accept-ch-cache-entry</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-add-a-new-accept-ch-cache-entry\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"retrieve-the-client-hints-set\">\n   <b><a href=\"#retrieve-the-client-hints-set\">#retrieve-the-client-hints-set</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-retrieve-the-client-hints-set\">3.2. Accept-CH cache</a>\n    <li><a href=\"#ref-for-retrieve-the-client-hints-set①\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"abstract-opdef-update-the-client-hints-set\">\n   <b><a href=\"#abstract-opdef-update-the-client-hints-set\">#abstract-opdef-update-the-client-hints-set</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-abstract-opdef-update-the-client-hints-set\">4.1. Navigation response</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"accept-ch-state\">\n   <b><a href=\"#accept-ch-state\">#accept-ch-state</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-accept-ch-state\">4.3. Standard metadata names</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"environment-settings-object-client-hints-set\">\n   <b><a href=\"#environment-settings-object-client-hints-set\">#environment-settings-object-client-hints-set</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-environment-settings-object-client-hints-set\">3.2. Accept-CH cache</a> <a href=\"#ref-for-environment-settings-object-client-hints-set①\">(2)</a> <a href=\"#ref-for-environment-settings-object-client-hints-set②\">(3)</a>\n    <li><a href=\"#ref-for-environment-settings-object-client-hints-set③\">3.3. Accept-CH state (name=\"accept-ch\")</a> <a href=\"#ref-for-environment-settings-object-client-hints-set④\">(2)</a> <a href=\"#ref-for-environment-settings-object-client-hints-set⑤\">(3)</a>\n    <li><a href=\"#ref-for-environment-settings-object-client-hints-set⑥\">4.2. Worker initialization</a> <a href=\"#ref-for-environment-settings-object-client-hints-set⑦\">(2)</a>\n    <li><a href=\"#ref-for-environment-settings-object-client-hints-set⑧\">5. Request processing</a> <a href=\"#ref-for-environment-settings-object-client-hints-set⑨\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"abstract-opdef-append-client-hints-to-request\">\n   <b><a href=\"#abstract-opdef-append-client-hints-to-request\">#abstract-opdef-append-client-hints-to-request</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-abstract-opdef-append-client-hints-to-request\">6. Integration with Fetch</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"abstract-opdef-update-client-hints-from-redirect-if-needed\">\n   <b><a href=\"#abstract-opdef-update-client-hints-from-redirect-if-needed\">#abstract-opdef-update-client-hints-from-redirect-if-needed</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-abstract-opdef-update-client-hints-from-redirect-if-needed\">6. Integration with Fetch</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"client-hints-token\">\n   <b><a href=\"#client-hints-token\">#client-hints-token</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-client-hints-token\">3.1. Client hints set</a>\n    <li><a href=\"#ref-for-client-hints-token①\">3.2. Accept-CH cache</a>\n    <li><a href=\"#ref-for-client-hints-token②\">3.3. Accept-CH state (name=\"accept-ch\")</a> <a href=\"#ref-for-client-hints-token③\">(2)</a>\n    <li><a href=\"#ref-for-client-hints-token④\">5. Request processing</a> <a href=\"#ref-for-client-hints-token⑤\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"low-entropy-hint-table\">\n   <b><a href=\"#low-entropy-hint-table\">#low-entropy-hint-table</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-low-entropy-hint-table\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"find-client-hint-value\">\n   <b><a href=\"#find-client-hint-value\">#find-client-hint-value</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-find-client-hint-value\">5. Request processing</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"field-name\">\n   <b><a href=\"#field-name\">#field-name</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-field-name\">3.2. Accept-CH cache</a>\n   </ul>\n  </aside>\n<script>/* script-dfn-panel */\n\ndocument.body.addEventListener(\"click\", function(e) {\n    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }\n    // Find the dfn element or panel, if any, that was clicked on.\n    var el = e.target;\n    var target;\n    var hitALink = false;\n    while(el.parentElement) {\n        if(el.tagName == \"A\") {\n            // Clicking on a link in a <dfn> shouldn't summon the panel\n            hitALink = true;\n        }\n        if(el.classList.contains(\"dfn-paneled\")) {\n            target = \"dfn\";\n            break;\n        }\n        if(el.classList.contains(\"dfn-panel\")) {\n            target = \"dfn-panel\";\n            break;\n        }\n        el = el.parentElement;\n    }\n    if(target != \"dfn-panel\") {\n        // Turn off any currently \"on\" or \"activated\" panels.\n        queryAll(\".dfn-panel.on, .dfn-panel.activated\").forEach(function(el){\n            el.classList.remove(\"on\");\n            el.classList.remove(\"activated\");\n        });\n    }\n    if(target == \"dfn\" && !hitALink) {\n        // open the panel\n        var dfnPanel = document.querySelector(\".dfn-panel[data-for='\" + el.id + \"']\");\n        if(dfnPanel) {\n            dfnPanel.classList.add(\"on\");\n            var rect = el.getBoundingClientRect();\n            dfnPanel.style.left = window.scrollX + rect.right + 5 + \"px\";\n            dfnPanel.style.top = window.scrollY + rect.top + \"px\";\n            var panelRect = dfnPanel.getBoundingClientRect();\n            var panelWidth = panelRect.right - panelRect.left;\n            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {\n                // Reposition, because the panel is overflowing\n                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + \"px\";\n            }\n        } else {\n            console.log(\"Couldn't find .dfn-panel[data-for='\" + el.id + \"']\");\n        }\n    } else if(target == \"dfn-panel\") {\n        // Switch it to \"activated\" state, which pins it.\n        el.classList.add(\"activated\");\n        el.style.left = null;\n        el.style.top = null;\n    }\n\n});\n</script>","oembed":false,"readabilityObject":{"title":"Client Hints Infrastructure","content":"<div id=\"readability-page-1\" class=\"page\"><div>\n   <h2 data-level=\"1\" id=\"intro\"><span>1. </span><span>Introduction</span><a href=\"#intro\"></a></h2>\n   <p>Client Hints is collection of HTTP and user-agent features that enables\nprivacy-preserving, proactive content negotiation with an explicit third-party\ndelegation mechanism:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>Proactive content negotiation at the HTTP layer enables servers to request\ndelivery of specific hints, in order to enable optimized and automated\nselection of resources based on a user’s device, conditions and preferences,\nand lets clients decide which hint requests they want to grant, with\nper-hint and per-origin granularity.</p>\n    </li><li data-md=\"\">\n     <p>Integration of said mechanism with web concepts, defined in this document,\nenables browsers to benefit from content adaptation, and have it play nicely with\ncurrent web restrictions (e.g. same-origin policy).</p>\n    </li><li data-md=\"\">\n     <p>The opt-in nature of the mechanism enables browsers to advertise requested\nhint data (e.g. user agent and device characteristics) selectively to\nsecure-transport origins, instead of appending such data on every outgoing\nrequest.</p>\n    </li><li data-md=\"\">\n     <p>Origin opt-in applies to same-origin assets only and delivery to third-party\norigins is subject to explicit first party delegation via Permissions Policy,\nenabling tight control over which third party origins can access requested\nhint data.</p>\n   </li></ul>\n   <p>The goal of Client Hints is to <strong>reduce passive fingerprinting</strong> on the web\nwhile <strong>enabling scalable and privacy preserving content adaptation</strong> between\nclient and server, via a standardized set of content negotiation primitives at\nthe HTTP and user agent levels.</p>\n   <h2 data-level=\"2\" id=\"definition\"><span>2. </span><span>Infrastructure definition</span><a href=\"#definition\"></a></h2>\n   <p>The specification of the Client Hints <strong>infrastructure</strong> is divided between the\nfollowing specifications and proposals:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>IETF <a data-link-type=\"biblio\" href=\"#biblio-rfc8942\">[RFC8942]</a></p>\n     <ul>\n      <li data-md=\"\">\n       <p>Provides the motivation for Client Hints.</p>\n      </li><li data-md=\"\">\n       <p>Defines the fundamental Client Hints infrastructure:</p>\n       <ul>\n        <li data-md=\"\">\n         <p>The <code>Accept-CH</code> response header, which servers may use to advertise\nsupport for certain Client Hints.</p>\n       </li></ul>\n      </li><li data-md=\"\">\n       <p>Provides both general guidelines, and formal requirements, about Client\n Hints’ impact on caching, security, and privacy.</p>\n      </li><li data-md=\"\">\n       <p>Does <em>not</em> define any actual, particular hints – or say anything about how\n Client Hints works in web contexts.</p>\n     </li></ul>\n    </li><li data-md=\"\">\n     <p>Client Hints infrastructure - this document</p>\n     <ul>\n      <li data-md=\"\">\n       <p>Defines how web clients should process the <code>Accept-CH</code> headers sent by servers.</p>\n      </li><li data-md=\"\">\n       <p>Defines the environment settings object state related to <code>Accept-CH</code>,\n which stores information about which servers should get which hints.</p>\n      </li><li data-md=\"\">\n       <p>Defines how, and when, web clients should actually go about sending hints,\n based on the state of their environment settings object.</p>\n       <ul>\n        <li data-md=\"\">\n         <p>More specifically, it integrates the HTML web concepts with Fetch’s\nalgorithms to make sure that opted-in hints are added to requests for\nsame-origin or delegated-to cross-origin requests. It also makes sure\nhints are removed from not delegated-to cross-origin requests after\nredirections.</p>\n       </li></ul>\n      </li><li data-md=\"\">\n       <p>Integrates those concepts with the <a data-link-type=\"biblio\" href=\"#biblio-html\">[HTML]</a> and <a data-link-type=\"biblio\" href=\"#biblio-fetch\">[FETCH]</a> specifications,\n  by patching various concepts there.</p>\n     </li></ul>\n    </li><li data-md=\"\">\n     <p>W3C Permissions Policy specification (<a href=\"https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature\" id=\"termref-for-should-request-be-allowed-to-use-feature\">relevant section</a>)</p>\n     <ul>\n      <li data-md=\"\">\n       <p>In order to perform third party Client Hint delegation, Permissions Policy has\n been extended to control features within fetch requests (rather than just Documents).</p>\n     </li></ul>\n   </li></ul>\n   <h2 data-level=\"3\" id=\"environment-settings-object-processing\"><span>3. </span><span>Environment settings object processing</span><a href=\"#environment-settings-object-processing\"></a></h2>\n   <h3 data-level=\"3.1\" id=\"concept-client-hints-set\"><span>3.1. </span><span>Client hints set</span><a href=\"#concept-client-hints-set\"></a></h3>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"client-hints-set\">client hints set</dfn> is a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\" id=\"ref-for-ordered-set\">set</a> of <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token\">client hints token</a>s. </p>\n   <h3 data-level=\"3.2\" id=\"accept-ch-cache-definition\"><span>3.2. </span><span>Accept-CH cache</span><a href=\"#accept-ch-cache-definition\"></a></h3>\n   <p>An <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"accept-ch-cache\">Accept-CH cache</dfn> is owned by the user agent and is an <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-ordered-map\">ordered map</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-key\" id=\"ref-for-map-key\">keyed</a> on <dfn data-dfn-for=\"accept-ch-cache\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"accept-ch-cache-origin\">origin</dfn> (an <a data-link-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-origin\" id=\"ref-for-concept-url-origin\">origin</a>),\nwith a value of <dfn data-dfn-for=\"accept-ch-cache\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"accept-ch-cache-client-hints-set\">client hints set</dfn> (a <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set\">client hints set</a>).</p>\n   <p>The Accept-CH cache can effectively act as an alternative cookie store,\nsince sites can use each of the hints as a bit set on the client, and that information will be\ncommunicated to them on every request. As such, a user agent MUST evict that\ncache whenever the user clears their cookies or when session cookies expire.</p>\n   <p role=\"note\"><span>Note:</span> A site can clear the browser’s <code>Accept-CH</code> cache for its origin by sending an empty <code>Accept-CH</code> header in a response. This sets the origin’s <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set①\">client hints set</a> to an empty set.</p>\n   <p role=\"note\"><span>Note:</span> As the cache can only be modified by the top-level frame, it is considered to be partitioned.</p>\n   <p>To <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"add-a-new-accept-ch-cache-entry\">add a new Accept-CH cache entry</dfn> to the <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache\">Accept-CH cache</a>,\ngiven an <a data-link-type=\"dfn\" href=\"#accept-ch-cache-origin\" id=\"ref-for-accept-ch-cache-origin\">origin</a> <var>origin</var> and a <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set②\">client hints set</a> <var>hintSet</var>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-set\" id=\"ref-for-map-set\">set</a> <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache①\">Accept-CH cache</a>[<var>origin</var>] to <var>hintSet</var>.</p>\n   <p>When asked to <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"retrieve-the-client-hints-set\">retrieve the client hints set</dfn> given a <var>settingsObject</var>:</p>\n   <ol>\n    <li>Let <var>hintSet</var> be an empty <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\" id=\"ref-for-ordered-set①\">ordered set</a>. \n    </li><li>Let <var>originMatchingEntries</var> be the entries in the <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache②\">Accept-CH cache</a> whose <a data-link-type=\"dfn\" href=\"#accept-ch-cache-origin\" id=\"ref-for-accept-ch-cache-origin①\">origin</a> is <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#same-origin\" id=\"ref-for-same-origin\">same origin</a> with <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin\">origin</a>. \n    </li><li>For each entry in <var>originMatchingEntries</var>, for each token in its <a data-link-type=\"dfn\" href=\"#accept-ch-cache-client-hints-set\" id=\"ref-for-accept-ch-cache-client-hints-set\">client hints set</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append\">append</a> the token to <var>hintSet</var>. \n    </li><li>For each <var>hint</var> in <var>hintSet</var>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append①\">append</a> <var>hint</var> to <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set\">client hints set</a>. \n   </li></ol>\n   <p>When asked to <dfn data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-update-the-client-hints-set\">update the Client Hints set</dfn> given a <var>settingsObject</var> and <var>response</var>:</p>\n   <ol>\n    <li>Run <a data-link-type=\"dfn\" href=\"#retrieve-the-client-hints-set\" id=\"ref-for-retrieve-the-client-hints-set\">retrieve the client hints set</a> with <var>settingsObject</var>. \n    </li><li>If the result of executing <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context\">Is an environment settings object contextually secure?</a> on <var>settingsObject</var> is <code>\"Not Secure\"</code>, abort these steps. \n    </li><li>Let <var>browsingContext</var> be <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global\" id=\"ref-for-concept-settings-object-global\">global object</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/window-object.html#window-bc\" id=\"ref-for-window-bc\">browsing context</a>. \n    </li><li>If the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" id=\"ref-for-top-level-browsing-context\">top-level browsing context</a> does not equal <var>browsingContext</var>, abort these steps. \n    </li><li>If <var>response</var>’s <code>Accept-CH</code> header is present, parse the header field value according to the <code>Accept-CH</code> header parsing rules, as a <a data-link-type=\"dfn\" href=\"#field-name\" id=\"ref-for-field-name\">field-name</a>. Add each parsed <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token①\">client hints token</a> to <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set①\">client hints set</a>. \n    </li><li><a data-link-type=\"dfn\" href=\"#add-a-new-accept-ch-cache-entry\" id=\"ref-for-add-a-new-accept-ch-cache-entry\">Add a new Accept-CH cache entry</a> with <var>response</var>’s <a data-link-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-origin\" id=\"ref-for-concept-url-origin①\">origin</a> and <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set②\">client hints set</a>. \n   </li></ol>\n   <h3 data-level=\"3.3\" id=\"accept-ch-state-algo\"><span>3.3. </span><span><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"accept-ch-state\">Accept-CH state</dfn> (<code>name=\"accept-ch\"</code>)</span><a href=\"#accept-ch-state-algo\"></a></h3>\n   <p role=\"note\"><span>Note:</span> This metadata <em>appends</em> <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token②\">client hints token</a>s to the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object\">environment settings object</a>'s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set③\">client hints set</a>. It <em>does not</em> add those hints to the <a data-link-type=\"dfn\" href=\"#accept-ch-cache\" id=\"ref-for-accept-ch-cache③\">Accept-CH cache</a>. After this algorithm runs once, no further modification to the <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set④\">client hints set</a> can occur without reloading the page.</p>\n   <ol>\n    <li>Let <var>metaElement</var> be the <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#meta\" id=\"ref-for-meta\">meta</a></code> element. \n    </li><li>If <var>metaElement</var> is not a child of a <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-head-element\" id=\"ref-for-the-head-element\">head</a></code> element, then return. \n    </li><li>If <var>metaElement</var> has no <code><a data-link-type=\"element-sub\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-content\" id=\"ref-for-attr-meta-content\">content</a></code> attribute, or if that attribute’s value is the empty string, then return. \n    </li><li>If <var>metaElement</var> has any <a href=\"https://dom.spec.whatwg.org/#concept-tree-preceding\">preceding</a> <a href=\"https://dom.spec.whatwg.org/#concept-tree-sibling\">sibling</a> <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element\" id=\"ref-for-the-link-element\">link</a></code> or <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/scripting.html#script\" id=\"ref-for-script\">script</a></code> elements (or if any <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element\" id=\"ref-for-the-link-element①\">link</a></code> or <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/scripting.html#script\" id=\"ref-for-script①\">script</a></code> elements have begun to execute), then return. \n    </li><li>Let <var>acceptCHValue</var> be the value of <var>metaElement</var>’s <code><a data-link-type=\"element-sub\" href=\"https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-content\" id=\"ref-for-attr-meta-content①\">content</a></code> attribute. \n    </li><li>Let <var>settingsObject</var> be <var>metaElement</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\" id=\"ref-for-relevant-settings-object\">relevant settings object</a>. \n    </li><li>Let <var>permissionsPolicy</var> be <var>metaElement</var>’s node document’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy\" id=\"ref-for-concept-document-permissions-policy\">permissions policy</a> \n    </li><li>If the result of executing <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context①\">Is an environment settings object contextually secure?</a> on <var>settingsObject</var> is <code>\"Not Secure\"</code>, then return. \n    </li><li>Let <var>browsingContext</var> be <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global\" id=\"ref-for-concept-settings-object-global①\">global object</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/window-object.html#window-bc\" id=\"ref-for-window-bc①\">browsing context</a>. \n    </li><li>If the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" id=\"ref-for-top-level-browsing-context①\">top-level browsing context</a> does not equal <var>browsingContext</var>, abort these steps. \n    </li><li>\n     Let <var>policyDirective</var> be the result of running [$ parse-policy-directive $] on <var>acceptCHValue</var> and the <a data-link-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-origin\" id=\"ref-for-concept-url-origin②\">origin</a> of the <var>metaElement</var>’s node document. \n     <ol>\n      <li>For each <var>feature</var>-&gt;<var>allowList</var> of <var>policyDirective</var>: \n      </li><li>If <var>feature</var> is not a <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token③\">client hints token</a>, then continue. \n      </li><li>If <var>allowList</var> is the special value <code>*</code>, then continue. \n      </li><li><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append②\">Append</a> <var>feature</var> to <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑤\">client hints set</a> and <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append③\">Append</a> <var>allowList</var> to <var>permissionsPolicy</var>[<var>feature</var>]'s <a data-link-type=\"biblio\" href=\"#biblio-permissions-policy\">permissions policy</a>. \n     </li></ol>\n   </li></ol>\n   <p role=\"note\"><span>Note:</span> <code>*</code> can still be inherited from the default policy or HTTP header permissions policy.</p>\n   <h2 data-level=\"4\" id=\"html\"><span>4. </span><span>Integration with HTML</span><a href=\"#html\"></a></h2>\n   <p>This specification integrates with the <a data-link-type=\"biblio\" href=\"#biblio-html\">[HTML]</a> specification by patching the algorithms below:</p>\n   <h3 data-level=\"4.1\" id=\"navigation-response\"><span>4.1. </span><span>Navigation response</span><a href=\"#navigation-response\"></a></h3>\n   <p>At <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsing-the-web.html#process-a-navigate-response\" id=\"ref-for-process-a-navigate-response\">process a navigate response</a>, after step 7 call <a data-link-type=\"abstract-op\" href=\"#abstract-opdef-update-the-client-hints-set\" id=\"ref-for-abstract-opdef-update-the-client-hints-set\">update the Client Hints set</a> with the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\" id=\"ref-for-relevant-settings-object①\">relevant settings object</a> and <var>response</var> as inputs.</p>\n   <h3 data-level=\"4.2\" id=\"worker-init\"><span>4.2. </span><span>Worker initialization</span><a href=\"#worker-init\"></a></h3>\n    At <a href=\"https://html.spec.whatwg.org/multipage/workers.html#set-up-a-worker-environment-settings-object\">set up a worker environment settings object</a>,\nafter step 6, add the following step: \n   <ol>\n    <li data-md=\"\">\n     <p>Set <var>settingsObject</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑥\">client hints set</a> to be a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-clone\" id=\"ref-for-list-clone\">clone</a> of <var>outside settings</var>’ <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑦\">client hints set</a>.</p>\n   </li></ol>\n   <h3 data-level=\"4.3\" id=\"standard-metadata-names\"><span>4.3. </span><span>Standard metadata names</span><a href=\"#standard-metadata-names\"></a></h3>\n    For the section <a href=\"https://html.spec.whatwg.org/multipage/#standard-metadata-names\">standard metadata names</a>,\nadd a subsection named <code>accept-ch</code> with the <a data-link-type=\"dfn\" href=\"#accept-ch-state\" id=\"ref-for-accept-ch-state\">outlined explanation</a>. \n   <h3 data-level=\"4.4\" id=\"extending-environment-settings-object\"><span>4.4. </span><span>Extending environment settings object</span><a href=\"#extending-environment-settings-object\"></a></h3>\n   <p>An <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object①\">environment settings object</a> has a <dfn data-dfn-for=\"environment settings object\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"environment-settings-object-client-hints-set\">client hints set</dfn>: a <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set③\">client hints set</a>, initially the empty set, used for <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-fetch\" id=\"ref-for-concept-fetch\">fetches</a> performed using the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object②\">environment settings object</a> as a <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-request\" id=\"ref-for-concept-request-request\">request</a> <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-client\" id=\"ref-for-concept-request-client\">client</a>.</p>\n   <h2 data-level=\"5\" id=\"request-processing\"><span>5. </span><span>Request processing</span><a href=\"#request-processing\"></a></h2>\n   <p>When asked to <dfn data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-append-client-hints-to-request\">append client hints to request</dfn> with <var>settingsObject</var> and <var>request</var> as input, run the\nfollowing steps:</p>\n   <ol>\n    <li>Let <var>hintSet</var> be an empty <a data-link-type=\"dfn\" href=\"#client-hints-set\" id=\"ref-for-client-hints-set④\">client hints set</a>. \n    </li><li>Run <a data-link-type=\"dfn\" href=\"#retrieve-the-client-hints-set\" id=\"ref-for-retrieve-the-client-hints-set①\">retrieve the client hints set</a> with <var>settingsObject</var>. \n    </li><li>For each <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token④\">client hints token</a> <var>lowEntropyHint</var> in the registry’s <a data-link-type=\"dfn\" href=\"#low-entropy-hint-table\" id=\"ref-for-low-entropy-hint-table\">low entropy hint table</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append④\">append</a> <var>lowEntropyHint</var> to <var>hintSet</var>. \n    </li><li>If <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-client\" id=\"ref-for-concept-request-client①\">client</a> is not null, then for each <a data-link-type=\"dfn\" href=\"#client-hints-token\" id=\"ref-for-client-hints-token⑤\">client hints token</a> <var>requestHint</var> in <var>request</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑧\">client hints set</a>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append⑤\">append</a> <var>requestHint</var> to <var>hintSet</var>. \n    </li><li>For each <var>possibleHint</var> in <var>hintSet</var>, if <var>request</var> is a <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#subresource-request\" id=\"ref-for-subresource-request\">subresource request</a> and the result of\nrunning <a href=\"https://www.w3.org/TR/permissions-policy/#algo-should-request-be-allowed-to-use-feature\"><cite>Permissions Policy</cite> § 9.11 Should request be allowed to use feature?</a> given <var>request</var> and <var>possibleHint</var>’s associated feature in <a href=\"#policy-controlled-features\">§ 7.2 Policy-controlled features</a> returns <code>false</code>, <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-remove\" id=\"ref-for-list-remove\">remove</a> <var>possibleHint</var> from <var>hintSet</var>. \n    </li><li>\n     For each <var>hintName</var> in <var>hintSet</var>, if the <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list\">header list</a> <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#header-list-contains\" id=\"ref-for-header-list-contains\">does not\ncontain</a> <var>hintName</var>: \n     <ol>\n      <li>Let <var>value</var> be the result of running <a data-link-type=\"dfn\" href=\"#find-client-hint-value\" id=\"ref-for-find-client-hint-value\">find client hint value</a> with <var>hintName</var>. \n      </li><li><a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-header-list-append\" id=\"ref-for-concept-header-list-append\">append</a> <var>hintName</var>/<var>value</var> to the <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list①\">header list</a> \n     </li></ol>\n   </li></ol>\n   <p>When asked to <dfn data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-update-client-hints-from-redirect-if-needed\">update client hints from redirect if needed</dfn> with <var>request</var> as input, run the following steps:</p>\n   <ol>\n    <li>If <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-client\" id=\"ref-for-concept-request-client②\">client</a> is null, then abort these steps. \n    </li><li>Let <var>clientHintsSet</var> be <var>request</var>’s <var>client</var>’s <a data-link-type=\"dfn\" href=\"#environment-settings-object-client-hints-set\" id=\"ref-for-environment-settings-object-client-hints-set⑨\">client hints set</a>. \n    </li><li>\n     <p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-iterate\" id=\"ref-for-list-iterate\">For each</a> <var>hintName</var> of <var>clientHintsSet</var>: </p>\n     <ol>\n      <li>\n       <p>Set <var>hintName</var> to \"Sec-\" concatenated with <var>hintName</var>. </p>\n      </li><li>\n       <p>If <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list②\">header list</a> <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#header-list-contains\" id=\"ref-for-header-list-contains①\">contains</a> <var>hintName</var> and if the result of running <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature\" id=\"ref-for-should-request-be-allowed-to-use-feature\">Should request be allowed to use feature?</a>,\n  given <var>request</var> and <var>hintName</var>’s <a href=\"#policy-controlled-features\">associated\n  policy-controlled feature</a>, returns <code>false</code>, then remove <var>hintName</var> from <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list③\">header list</a>. </p>\n      </li><li>\n       <p>Else if <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list④\">header list</a> doesn’t <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#header-list-contains\" id=\"ref-for-header-list-contains②\">contain</a> <var>hintName</var> and if the result of running <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#should-request-be-allowed-to-use-feature\" id=\"ref-for-should-request-be-allowed-to-use-feature①\">Should request be allowed to use feature?</a>,\n  given <var>request</var> and <var>hintName</var>’s <a href=\"#policy-controlled-features\">associated\n  policy-controlled feature</a>, returns <code>true</code>, then add <var>hintName</var> to <var>request</var>’s <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-request-header-list\" id=\"ref-for-concept-request-header-list⑤\">header list</a>. </p>\n     </li></ol>\n   </li></ol>\n   <h2 data-level=\"6\" id=\"fetch\"><span>6. </span><span>Integration with Fetch</span><a href=\"#fetch\"></a></h2>\n   <p>This specification integrates with the <a data-link-type=\"biblio\" href=\"#biblio-fetch\">[FETCH]</a> specification by patching the algorithms below:</p>\n   <p>In <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-fetch\" id=\"ref-for-concept-fetch①\">Fetching</a>, after step 1.6, run <a data-link-type=\"abstract-op\" href=\"#abstract-opdef-append-client-hints-to-request\" id=\"ref-for-abstract-opdef-append-client-hints-to-request\">append client hints to request</a> with the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\" id=\"ref-for-relevant-settings-object②\">relevant settings object</a> and <var>request</var> as input.</p>\n   <p>In <a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-http-redirect-fetch\" id=\"ref-for-concept-http-redirect-fetch\">HTTP-redirect fetch</a>, after step 7, run <a data-link-type=\"abstract-op\" href=\"#abstract-opdef-update-client-hints-from-redirect-if-needed\" id=\"ref-for-abstract-opdef-update-client-hints-from-redirect-if-needed\">update client hints from redirect if needed</a> with <var>request</var> as input.</p>\n   <h2 data-level=\"7\" id=\"registry\"><span>7. </span><span>Feature Registry</span><a href=\"#registry\"></a></h2>\n   <p role=\"note\"><span>Note:</span> This section contains feature-specific definitions.\nNew features that rely on the Client Hints infrastructure need to add their respective definitions to this registry.\nUser Agents can implement some of those features without implementing others.</p>\n   <h3 data-level=\"7.1\" id=\"client-hints-token-definition\"><span>7.1. </span><span>Client hints token</span><a href=\"#client-hints-token-definition\"></a></h3>\n   <p>A <dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"client-hints-token\">client hints token</dfn> is a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#byte-lowercase\" id=\"ref-for-byte-lowercase\">byte-lowercase</a> representation of one of <code>Sec-CH-Save-Data</code>, <code>Sec-CH-DPR</code>, <code>Sec-CH-Width</code>, <code>Sec-CH-Viewport-Width</code>, <code>Sec-CH-Viewport-Height</code>, <code>Sec-CH-Device-Memory</code>, <code>Sec-CH-RTT</code>, <code>Sec-CH-Downlink</code>, <code>Sec-CH-ECT</code>, <code>Sec-CH-Prefers-Color-Scheme</code>, <code>Sec-CH-UA</code>, <code>Sec-CH-UA-Arch</code>, <code>Sec-CH-UA-Bitness</code>, <code>Sec-CH-UA-Full-Version</code>, <code>Sec-CH-UA-Full-Version-List</code>, <code>Sec-CH-UA-Mobile</code>, <code>Sec-CH-UA-Model</code>, <code>Sec-CH-UA-Platform</code>, or <code>Sec-CH-UA-Platform-Version</code>,</p>\n   <p role=\"note\"><span>Note:</span> A client hints token will also match the request header sent by the user agent when\nappropriate (as determined by the <a href=\"#request-processing\">request processing algorithm</a>).</p>\n   <h3 data-level=\"7.2\" id=\"policy-controlled-features\"><span>7.2. </span><span>Policy-controlled features</span><a href=\"#policy-controlled-features\"></a></h3>\n   <p>This document defines <dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"policy-controlled-client-hints-features\">policy-controlled client hints features<a href=\"#policy-controlled-client-hints-features\"></a></dfn>,\nthe following <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature\" id=\"ref-for-policy-controlled-feature\">policy-controlled features</a>:</p>\n   <ul>\n    <li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-save-data\">ch-save-data<a href=\"#ch-save-data\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist\">default allowlist</a> of <code>'*'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-dpr\">ch-dpr<a href=\"#ch-dpr\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-width\">ch-width<a href=\"#ch-width\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist②\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-viewport-width\">ch-viewport-width<a href=\"#ch-viewport-width\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist③\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-viewport-height\">ch-viewport-height<a href=\"#ch-viewport-height\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist④\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-device-memory\">ch-device-memory<a href=\"#ch-device-memory\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑤\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-rtt\">ch-rtt<a href=\"#ch-rtt\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑥\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-downlink\">ch-downlink<a href=\"#ch-downlink\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑦\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ect\">ch-ect<a href=\"#ch-ect\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑧\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-prefers-color-scheme\">ch-prefers-color-scheme<a href=\"#ch-prefers-color-scheme\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist⑨\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua\">ch-ua<a href=\"#ch-ua\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⓪\">default allowlist</a> of <code>'*'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-arch\">ch-ua-arch<a href=\"#ch-ua-arch\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①①\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-bitness\">ch-ua-bitness<a href=\"#ch-ua-bitness\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①②\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-full-version\">ch-ua-full-version<a href=\"#ch-ua-full-version\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①③\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-full-version-list\">ch-ua-full-version-list<a href=\"#ch-ua-full-version-list\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①④\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-mobile\">ch-ua-mobile<a href=\"#ch-ua-mobile\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑤\">default allowlist</a> of <code>'*'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-model\">ch-ua-model<a href=\"#ch-ua-model\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑥\">default allowlist</a> of <code>'self'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-platform\">ch-ua-platform<a href=\"#ch-ua-platform\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑦\">default allowlist</a> of <code>'*'</code></p>\n    </li><li data-md=\"\">\n     <p><code><dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"ch-ua-platform-version\">ch-ua-platform-version<a href=\"#ch-ua-platform-version\"></a></dfn></code> which has a <a data-link-type=\"dfn\" href=\"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist\" id=\"ref-for-default-allowlist①⑧\">default allowlist</a> of <code>'self'</code></p>\n   </li></ul>\n   <p id=\"issue-0277eb34\"><a href=\"#issue-0277eb34\"></a> Should we tie low-entropy-ness to allowlists, generally?</p>\n   <h3 data-level=\"7.3\" id=\"low-entropy-table\"><span>7.3. </span><span>Low entropy hint table</span><a href=\"#low-entropy-table\"></a></h3>\n    The <dfn data-dfn-type=\"dfn\" data-export=\"\" id=\"low-entropy-hint-table\">low entropy hint table</dfn> below defines hints that are only exposing low amounts of entropy. \n   <table>\n    <thead>\n     <tr>\n      <th><a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-header-name\" id=\"ref-for-concept-header-name\">Name</a> \n      </th><th><a data-link-type=\"dfn\" href=\"https://fetch.spec.whatwg.org/#concept-header-value\" id=\"ref-for-concept-header-value\">Value</a> \n    </th></tr></thead><tbody>\n     <tr>\n      <td><code>Sec-CH-Save-Data</code> \n      </td><td>a suitable <a href=\"https://wicg.github.io/savedata/#save-data-request-header-field\">Save-Data value</a> \n     </td></tr><tr>\n      <td><code>Sec-CH-UA</code> \n      </td><td>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua\">UA value</a> \n     </td></tr><tr>\n      <td><code>Sec-CH-UA-Mobile</code> \n      </td><td>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-mobile\">Mobile value</a> \n     </td></tr><tr>\n      <td><code>Sec-CH-UA-Platform</code> \n      </td><td>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-platform\">Platform value</a> \n   </td></tr></tbody></table>\n   <h3 data-level=\"7.4\" id=\"find-client-hint-value-section\"><span>7.4. </span><span>Find client hint value</span><a href=\"#find-client-hint-value-section\"></a></h3>\n   <p>When asked to <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"find-client-hint-value\">find client hint value</dfn>, given <var>hint</var> as input, switch on <var>hint</var> and return the result:</p>\n   <dl>\n    <dt><code>Save-Data</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/savedata/#save-data-request-header-field\">Save-Data value</a> \n    </dd><dt><code>DPR</code> \n    </dt><dd>a suitable <a href=\"\">DPR value</a> \n    </dd><dt><code>Viewport-Width</code> \n    </dt><dd>a suitable <a href=\"\">Viewport-Width value</a> \n    </dd><dt><code>Viewport-Height</code> \n    </dt><dd>a suitable <a href=\"\">Viewport-Height value</a> \n    </dd><dt><code>Width</code> \n    </dt><dd>a suitable <a href=\"\">Width value</a> \n    </dd><dt><code>Device-Memory</code> \n    </dt><dd>a suitable <a href=\"https://w3c.github.io/device-memory/#sec-device-memory-client-hint-header\">Device-Memory value</a> \n    </dd><dt><code>RTT</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/netinfo/#rtt-request-header-field\">RTT value</a> \n    </dd><dt><code>Downlink</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/netinfo/#downlink-request-header-field\">Downlink value</a> \n    </dd><dt><code>ECT</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/netinfo/#ect-request-header-field\">ECT value</a> \n    </dd><dt><code>Prefers-Color-Scheme</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/user-preference-media-features-headers/#sec-ch-prefers-color-scheme\">color theme value</a> \n    </dd><dt><code>UA</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua\">UA value</a> \n    </dd><dt><code>UA-Arch</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-arch\">Arch value</a> \n    </dd><dt><code>UA-Bitness</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-bitness\">Bitness value</a> \n    </dd><dt><code>UA-Full-Version</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-full-version\">Full-Version value</a> \n    </dd><dt><code>UA-Full-Version-List</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-full-version-list\">Full-Version-List value</a> \n    </dd><dt><code>UA-Mobile</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-mobile\">Mobile value</a> \n    </dd><dt><code>UA-Model</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-model\">Model value</a> \n    </dd><dt><code>UA-Platform</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-platform\">Platform value</a> \n    </dd><dt><code>UA-Platform-Version</code> \n    </dt><dd>a suitable <a href=\"https://wicg.github.io/ua-client-hints/#sec-ch-ua-platform-version\">Platform-Version value</a> \n   </dd></dl>\n   <p id=\"issue-707decdc\"><a href=\"#issue-707decdc\"></a> Links for image features are broken, need to actually define that and link to them.</p>\n   <h2 data-level=\"8\" id=\"privacy\"><span>8. </span><span>Security and Privacy considerations</span><a href=\"#privacy\"></a></h2>\n    See <a data-link-type=\"biblio\" href=\"#biblio-rfc8942\">[RFC8942]</a>. \n   <h2 data-level=\"9\" id=\"terms\"><span>9. </span><span>Terms</span><a href=\"#terms\"></a></h2>\n   <p>The following terms are defined in the HTTP specifications: <dfn data-dfn-type=\"dfn\" data-noexport=\"\" href=\"https://tools.ietf.org/html/rfc7230#section-3.2\" id=\"field-name\">field-name</dfn></p>\n  </div><div data-fill-with=\"conformance\">\n   <h2 id=\"w3c-conformance\"><span>Conformance</span><a href=\"#w3c-conformance\"></a></h2>\n   <h3 id=\"w3c-conventions\"><span>Document conventions</span><a href=\"#w3c-conventions\"></a></h3>\n   <p>Conformance requirements are expressed\n    with a combination of descriptive assertions\n    and RFC 2119 terminology.\n    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”\n    in the normative parts of this document\n    are to be interpreted as described in RFC 2119.\n    However, for readability,\n    these words do not appear in all uppercase letters in this specification. </p>\n   <p>All of the text of this specification is normative\n    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type=\"biblio\" href=\"#biblio-rfc2119\">[RFC2119]</a> </p>\n   <p>Examples in this specification are introduced with the words “for example”\n    or are set apart from the normative text\n    with <code>class=\"example\"</code>,\n    like this: </p>\n   <div id=\"w3c-example\">\n    <p>This is an example of an informative example. </p>\n   </div>\n   <p>Informative notes begin with the word “Note”\n    and are set apart from the normative text\n    with <code>class=\"note\"</code>,\n    like this: </p>\n   <p role=\"note\">Note, this is an informative note. </p>\n   <h3 id=\"w3c-conformant-algorithms\"><span>Conformant Algorithms</span><a href=\"#w3c-conformant-algorithms\"></a></h3>\n   <p>Requirements phrased in the imperative as part of algorithms\n    (such as \"strip any leading space characters\"\n    or \"return false and abort these steps\")\n    are to be interpreted with the meaning of the key word\n    (\"must\", \"should\", \"may\", etc)\n    used in introducing the algorithm. </p>\n   <p>Conformance requirements phrased as algorithms or specific steps\n    can be implemented in any manner,\n    so long as the end result is equivalent.\n    In particular, the algorithms defined in this specification\n    are intended to be easy to understand\n    and are not intended to be performant.\n    Implementers are encouraged to optimize. </p>\n  </div></div>","textContent":"\n   1. Introduction\n   Client Hints is collection of HTTP and user-agent features that enables\nprivacy-preserving, proactive content negotiation with an explicit third-party\ndelegation mechanism:\n   \n    \n     Proactive content negotiation at the HTTP layer enables servers to request\ndelivery of specific hints, in order to enable optimized and automated\nselection of resources based on a user’s device, conditions and preferences,\nand lets clients decide which hint requests they want to grant, with\nper-hint and per-origin granularity.\n    \n     Integration of said mechanism with web concepts, defined in this document,\nenables browsers to benefit from content adaptation, and have it play nicely with\ncurrent web restrictions (e.g. same-origin policy).\n    \n     The opt-in nature of the mechanism enables browsers to advertise requested\nhint data (e.g. user agent and device characteristics) selectively to\nsecure-transport origins, instead of appending such data on every outgoing\nrequest.\n    \n     Origin opt-in applies to same-origin assets only and delivery to third-party\norigins is subject to explicit first party delegation via Permissions Policy,\nenabling tight control over which third party origins can access requested\nhint data.\n   \n   The goal of Client Hints is to reduce passive fingerprinting on the web\nwhile enabling scalable and privacy preserving content adaptation between\nclient and server, via a standardized set of content negotiation primitives at\nthe HTTP and user agent levels.\n   2. Infrastructure definition\n   The specification of the Client Hints infrastructure is divided between the\nfollowing specifications and proposals:\n   \n    \n     IETF [RFC8942]\n     \n      \n       Provides the motivation for Client Hints.\n      \n       Defines the fundamental Client Hints infrastructure:\n       \n        \n         The Accept-CH response header, which servers may use to advertise\nsupport for certain Client Hints.\n       \n      \n       Provides both general guidelines, and formal requirements, about Client\n Hints’ impact on caching, security, and privacy.\n      \n       Does not define any actual, particular hints – or say anything about how\n Client Hints works in web contexts.\n     \n    \n     Client Hints infrastructure - this document\n     \n      \n       Defines how web clients should process the Accept-CH headers sent by servers.\n      \n       Defines the environment settings object state related to Accept-CH,\n which stores information about which servers should get which hints.\n      \n       Defines how, and when, web clients should actually go about sending hints,\n based on the state of their environment settings object.\n       \n        \n         More specifically, it integrates the HTML web concepts with Fetch’s\nalgorithms to make sure that opted-in hints are added to requests for\nsame-origin or delegated-to cross-origin requests. It also makes sure\nhints are removed from not delegated-to cross-origin requests after\nredirections.\n       \n      \n       Integrates those concepts with the [HTML] and [FETCH] specifications,\n  by patching various concepts there.\n     \n    \n     W3C Permissions Policy specification (relevant section)\n     \n      \n       In order to perform third party Client Hint delegation, Permissions Policy has\n been extended to control features within fetch requests (rather than just Documents).\n     \n   \n   3. Environment settings object processing\n   3.1. Client hints set\n   A client hints set is a set of client hints tokens. \n   3.2. Accept-CH cache\n   An Accept-CH cache is owned by the user agent and is an ordered map, keyed on origin (an origin),\nwith a value of client hints set (a client hints set).\n   The Accept-CH cache can effectively act as an alternative cookie store,\nsince sites can use each of the hints as a bit set on the client, and that information will be\ncommunicated to them on every request. As such, a user agent MUST evict that\ncache whenever the user clears their cookies or when session cookies expire.\n   Note: A site can clear the browser’s Accept-CH cache for its origin by sending an empty Accept-CH header in a response. This sets the origin’s client hints set to an empty set.\n   Note: As the cache can only be modified by the top-level frame, it is considered to be partitioned.\n   To add a new Accept-CH cache entry to the Accept-CH cache,\ngiven an origin origin and a client hints set hintSet, set Accept-CH cache[origin] to hintSet.\n   When asked to retrieve the client hints set given a settingsObject:\n   \n    Let hintSet be an empty ordered set. \n    Let originMatchingEntries be the entries in the Accept-CH cache whose origin is same origin with settingsObject’s origin. \n    For each entry in originMatchingEntries, for each token in its client hints set, append the token to hintSet. \n    For each hint in hintSet, append hint to settingsObject’s client hints set. \n   \n   When asked to update the Client Hints set given a settingsObject and response:\n   \n    Run retrieve the client hints set with settingsObject. \n    If the result of executing Is an environment settings object contextually secure? on settingsObject is \"Not Secure\", abort these steps. \n    Let browsingContext be settingsObject’s global object's browsing context. \n    If the top-level browsing context does not equal browsingContext, abort these steps. \n    If response’s Accept-CH header is present, parse the header field value according to the Accept-CH header parsing rules, as a field-name. Add each parsed client hints token to settingsObject’s client hints set. \n    Add a new Accept-CH cache entry with response’s origin and settingsObject’s client hints set. \n   \n   3.3. Accept-CH state (name=\"accept-ch\")\n   Note: This metadata appends client hints tokens to the environment settings object's client hints set. It does not add those hints to the Accept-CH cache. After this algorithm runs once, no further modification to the client hints set can occur without reloading the page.\n   \n    Let metaElement be the meta element. \n    If metaElement is not a child of a head element, then return. \n    If metaElement has no content attribute, or if that attribute’s value is the empty string, then return. \n    If metaElement has any preceding sibling link or script elements (or if any link or script elements have begun to execute), then return. \n    Let acceptCHValue be the value of metaElement’s content attribute. \n    Let settingsObject be metaElement’s relevant settings object. \n    Let permissionsPolicy be metaElement’s node document’s permissions policy \n    If the result of executing Is an environment settings object contextually secure? on settingsObject is \"Not Secure\", then return. \n    Let browsingContext be settingsObject’s global object's browsing context. \n    If the top-level browsing context does not equal browsingContext, abort these steps. \n    \n     Let policyDirective be the result of running [$ parse-policy-directive $] on acceptCHValue and the origin of the metaElement’s node document. \n     \n      For each feature->allowList of policyDirective: \n      If feature is not a client hints token, then continue. \n      If allowList is the special value *, then continue. \n      Append feature to settingsObject’s client hints set and Append allowList to permissionsPolicy[feature]'s permissions policy. \n     \n   \n   Note: * can still be inherited from the default policy or HTTP header permissions policy.\n   4. Integration with HTML\n   This specification integrates with the [HTML] specification by patching the algorithms below:\n   4.1. Navigation response\n   At process a navigate response, after step 7 call update the Client Hints set with the relevant settings object and response as inputs.\n   4.2. Worker initialization\n    At set up a worker environment settings object,\nafter step 6, add the following step: \n   \n    \n     Set settingsObject’s client hints set to be a clone of outside settings’ client hints set.\n   \n   4.3. Standard metadata names\n    For the section standard metadata names,\nadd a subsection named accept-ch with the outlined explanation. \n   4.4. Extending environment settings object\n   An environment settings object has a client hints set: a client hints set, initially the empty set, used for fetches performed using the environment settings object as a request client.\n   5. Request processing\n   When asked to append client hints to request with settingsObject and request as input, run the\nfollowing steps:\n   \n    Let hintSet be an empty client hints set. \n    Run retrieve the client hints set with settingsObject. \n    For each client hints token lowEntropyHint in the registry’s low entropy hint table, append lowEntropyHint to hintSet. \n    If request’s client is not null, then for each client hints token requestHint in request’s client hints set, append requestHint to hintSet. \n    For each possibleHint in hintSet, if request is a subresource request and the result of\nrunning Permissions Policy § 9.11 Should request be allowed to use feature? given request and possibleHint’s associated feature in § 7.2 Policy-controlled features returns false, remove possibleHint from hintSet. \n    \n     For each hintName in hintSet, if the request’s header list does not\ncontain hintName: \n     \n      Let value be the result of running find client hint value with hintName. \n      append hintName/value to the header list \n     \n   \n   When asked to update client hints from redirect if needed with request as input, run the following steps:\n   \n    If request’s client is null, then abort these steps. \n    Let clientHintsSet be request’s client’s client hints set. \n    \n     For each hintName of clientHintsSet: \n     \n      \n       Set hintName to \"Sec-\" concatenated with hintName. \n      \n       If request’s header list contains hintName and if the result of running Should request be allowed to use feature?,\n  given request and hintName’s associated\n  policy-controlled feature, returns false, then remove hintName from request’s header list. \n      \n       Else if request’s header list doesn’t contain hintName and if the result of running Should request be allowed to use feature?,\n  given request and hintName’s associated\n  policy-controlled feature, returns true, then add hintName to request’s header list. \n     \n   \n   6. Integration with Fetch\n   This specification integrates with the [FETCH] specification by patching the algorithms below:\n   In Fetching, after step 1.6, run append client hints to request with the relevant settings object and request as input.\n   In HTTP-redirect fetch, after step 7, run update client hints from redirect if needed with request as input.\n   7. Feature Registry\n   Note: This section contains feature-specific definitions.\nNew features that rely on the Client Hints infrastructure need to add their respective definitions to this registry.\nUser Agents can implement some of those features without implementing others.\n   7.1. Client hints token\n   A client hints token is a byte-lowercase representation of one of Sec-CH-Save-Data, Sec-CH-DPR, Sec-CH-Width, Sec-CH-Viewport-Width, Sec-CH-Viewport-Height, Sec-CH-Device-Memory, Sec-CH-RTT, Sec-CH-Downlink, Sec-CH-ECT, Sec-CH-Prefers-Color-Scheme, Sec-CH-UA, Sec-CH-UA-Arch, Sec-CH-UA-Bitness, Sec-CH-UA-Full-Version, Sec-CH-UA-Full-Version-List, Sec-CH-UA-Mobile, Sec-CH-UA-Model, Sec-CH-UA-Platform, or Sec-CH-UA-Platform-Version,\n   Note: A client hints token will also match the request header sent by the user agent when\nappropriate (as determined by the request processing algorithm).\n   7.2. Policy-controlled features\n   This document defines policy-controlled client hints features,\nthe following policy-controlled features:\n   \n    \n     ch-save-data which has a default allowlist of '*'\n    \n     ch-dpr which has a default allowlist of 'self'\n    \n     ch-width which has a default allowlist of 'self'\n    \n     ch-viewport-width which has a default allowlist of 'self'\n    \n     ch-viewport-height which has a default allowlist of 'self'\n    \n     ch-device-memory which has a default allowlist of 'self'\n    \n     ch-rtt which has a default allowlist of 'self'\n    \n     ch-downlink which has a default allowlist of 'self'\n    \n     ch-ect which has a default allowlist of 'self'\n    \n     ch-prefers-color-scheme which has a default allowlist of 'self'\n    \n     ch-ua which has a default allowlist of '*'\n    \n     ch-ua-arch which has a default allowlist of 'self'\n    \n     ch-ua-bitness which has a default allowlist of 'self'\n    \n     ch-ua-full-version which has a default allowlist of 'self'\n    \n     ch-ua-full-version-list which has a default allowlist of 'self'\n    \n     ch-ua-mobile which has a default allowlist of '*'\n    \n     ch-ua-model which has a default allowlist of 'self'\n    \n     ch-ua-platform which has a default allowlist of '*'\n    \n     ch-ua-platform-version which has a default allowlist of 'self'\n   \n    Should we tie low-entropy-ness to allowlists, generally?\n   7.3. Low entropy hint table\n    The low entropy hint table below defines hints that are only exposing low amounts of entropy. \n   \n    \n     \n      Name \n      Value \n    \n     \n      Sec-CH-Save-Data \n      a suitable Save-Data value \n     \n      Sec-CH-UA \n      a suitable UA value \n     \n      Sec-CH-UA-Mobile \n      a suitable Mobile value \n     \n      Sec-CH-UA-Platform \n      a suitable Platform value \n   \n   7.4. Find client hint value\n   When asked to find client hint value, given hint as input, switch on hint and return the result:\n   \n    Save-Data \n    a suitable Save-Data value \n    DPR \n    a suitable DPR value \n    Viewport-Width \n    a suitable Viewport-Width value \n    Viewport-Height \n    a suitable Viewport-Height value \n    Width \n    a suitable Width value \n    Device-Memory \n    a suitable Device-Memory value \n    RTT \n    a suitable RTT value \n    Downlink \n    a suitable Downlink value \n    ECT \n    a suitable ECT value \n    Prefers-Color-Scheme \n    a suitable color theme value \n    UA \n    a suitable UA value \n    UA-Arch \n    a suitable Arch value \n    UA-Bitness \n    a suitable Bitness value \n    UA-Full-Version \n    a suitable Full-Version value \n    UA-Full-Version-List \n    a suitable Full-Version-List value \n    UA-Mobile \n    a suitable Mobile value \n    UA-Model \n    a suitable Model value \n    UA-Platform \n    a suitable Platform value \n    UA-Platform-Version \n    a suitable Platform-Version value \n   \n    Links for image features are broken, need to actually define that and link to them.\n   8. Security and Privacy considerations\n    See [RFC8942]. \n   9. Terms\n   The following terms are defined in the HTTP specifications: field-name\n  \n   Conformance\n   Document conventions\n   Conformance requirements are expressed\n    with a combination of descriptive assertions\n    and RFC 2119 terminology.\n    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”\n    in the normative parts of this document\n    are to be interpreted as described in RFC 2119.\n    However, for readability,\n    these words do not appear in all uppercase letters in this specification. \n   All of the text of this specification is normative\n    except sections explicitly marked as non-normative, examples, and notes. [RFC2119] \n   Examples in this specification are introduced with the words “for example”\n    or are set apart from the normative text\n    with class=\"example\",\n    like this: \n   \n    This is an example of an informative example. \n   \n   Informative notes begin with the word “Note”\n    and are set apart from the normative text\n    with class=\"note\",\n    like this: \n   Note, this is an informative note. \n   Conformant Algorithms\n   Requirements phrased in the imperative as part of algorithms\n    (such as \"strip any leading space characters\"\n    or \"return false and abort these steps\")\n    are to be interpreted with the meaning of the key word\n    (\"must\", \"should\", \"may\", etc)\n    used in introducing the algorithm. \n   Conformance requirements phrased as algorithms or specific steps\n    can be implemented in any manner,\n    so long as the end result is equivalent.\n    In particular, the algorithms defined in this specification\n    are intended to be easy to understand\n    and are not intended to be performant.\n    Implementers are encouraged to optimize. \n  ","length":16405,"excerpt":"Client Hints is collection of HTTP and user-agent features that enables\nprivacy-preserving, proactive content negotiation with an explicit third-party\ndelegation mechanism:","byline":"Yoav Weiss (Google) yoav@yoav.ws","dir":null,"siteName":null,"lang":"en"},"finalizedMeta":{"title":"Client Hints Infrastructure","description":"Client Hints is collection of HTTP and user-agent features that enables\nprivacy-preserving, proactive content negotiation with an explicit third-party\ndelegation mechanism:","author":false,"creator":"","publisher":false,"date":"2022-04-05T17:38:39.215Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"Client Hints Infrastructure","description":false,"canonical":"https://wicg.github.io/client-hints-infrastructure","keywords":[],"image":"https://www.w3.org/StyleSheets/TR/2021/logos/W3C","firstParagraph":"   "},"dublinCore":{},"opengraph":{"title":false,"description":false,"url":false,"site_name":false,"locale":false,"type":false,"typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":false},"twitter":{"site":false,"description":false,"card":false,"creator":false,"title":false,"image":false},"archivedData":{"link":false,"wayback":false}}}