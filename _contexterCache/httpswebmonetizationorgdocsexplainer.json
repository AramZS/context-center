{"initialLink":"https://webmonetization.org/docs/explainer/","sanitizedLink":"https://webmonetization.org/docs/explainer/","finalLink":"https://webmonetization.org/docs/explainer","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://webmonetization.org/docs/explainer\" itemprop=\"url\">Web Monetization Explainer | Web Monetization</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-03-09T18:44:01.685Z\">2/9/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>Web Monetization (WM) is a proposed API standard that allows websites to request</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a is=\"contexter-link\" href=\"https://webmonetization.org/docs/explainer\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"7930bba1db8fc02a2dd253499785d092fabe3969","data":{"originalLink":"https://webmonetization.org/docs/explainer/","sanitizedLink":"https://webmonetization.org/docs/explainer/","canonical":"https://webmonetization.org/docs/explainer","htmlText":"<!doctype html>\n<html lang=\"en\" dir=\"ltr\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<meta name=\"generator\" content=\"Docusaurus v2.0.0-beta.ff31de0ff\">\n<link rel=\"alternate\" type=\"application/rss+xml\" href=\"/blog/rss.xml\" title=\"Web Monetization Blog RSS Feed\">\n<link rel=\"alternate\" type=\"application/atom+xml\" href=\"/blog/atom.xml\" title=\"Web Monetization Blog Atom Feed\">\n<link rel=\"search\" type=\"application/opensearchdescription+xml\" title=\"Web Monetization\" href=\"/opensearch.xml\">\n<script src=\"https://buttons.github.io/buttons.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js\"></script>\n<script src=\"/js/custom.js\"></script><title data-react-helmet=\"true\">Web Monetization Explainer | Web Monetization</title><meta data-react-helmet=\"true\" property=\"og:url\" content=\"https://webmonetization.org/docs/explainer\"><meta data-react-helmet=\"true\" name=\"docsearch:language\" content=\"en\"><meta data-react-helmet=\"true\" name=\"docsearch:version\" content=\"current\"><meta data-react-helmet=\"true\" name=\"docsearch:docusaurus_tag\" content=\"docs-default-current\"><meta data-react-helmet=\"true\" property=\"og:title\" content=\"Web Monetization Explainer | Web Monetization\"><meta data-react-helmet=\"true\" name=\"description\" content=\"Web Monetization (WM) is a proposed API standard that allows websites to request\"><meta data-react-helmet=\"true\" property=\"og:description\" content=\"Web Monetization (WM) is a proposed API standard that allows websites to request\"><link data-react-helmet=\"true\" rel=\"shortcut icon\" href=\"/img/fav-webmonetization.png\"><link data-react-helmet=\"true\" rel=\"canonical\" href=\"https://webmonetization.org/docs/explainer\"><link data-react-helmet=\"true\" rel=\"alternate\" href=\"https://webmonetization.org/docs/explainer\" hreflang=\"en\"><link data-react-helmet=\"true\" rel=\"alternate\" href=\"https://webmonetization.org/docs/explainer\" hreflang=\"x-default\"><link data-react-helmet=\"true\" rel=\"preconnect\" href=\"https://BH4D9OD16A-dsn.algolia.net\" crossorigin=\"anonymous\"><link rel=\"stylesheet\" href=\"/assets/css/styles.cf11e1ae.css\">\n<link rel=\"preload\" href=\"/assets/js/runtime~main.22c5c456.js\" as=\"script\">\n<link rel=\"preload\" href=\"/assets/js/main.909d8cec.js\" as=\"script\">\n</head>\n<body>\n<script>!function(){function t(t){document.documentElement.setAttribute(\"data-theme\",t)}var e=function(){var t=null;try{t=localStorage.getItem(\"theme\")}catch(t){}return t}();t(null!==e?e:\"light\")}()</script><div id=\"__docusaurus\">\n<div><a href=\"#main\" class=\"skipToContent_1oUP\">Skip to main content</a></div><nav class=\"navbar navbar--fixed-top\"><div class=\"navbar__inner\"><div class=\"navbar__items\"><button aria-label=\"Navigation bar toggle\" class=\"navbar__toggle\" type=\"button\" tabindex=\"0\"><svg aria-label=\"Menu\" width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" role=\"img\" focusable=\"false\"><title>Menu</title><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" d=\"M4 7h22M4 15h22M4 23h22\"></path></svg></button><a class=\"navbar__brand\" href=\"/\"><img src=\"/img/wm-icon.svg\" alt=\"Web Monetization logo\" class=\"themedImage_1VuW themedImage--light_3UqQ navbar__logo\"><img src=\"/img/wm-icon.svg\" alt=\"Web Monetization logo\" class=\"themedImage_1VuW themedImage--dark_hz6m navbar__logo\"><strong class=\"navbar__title\">Web Monetization</strong></a><a aria-current=\"page\" class=\"navbar__item navbar__link navbar__link--active\" doc=\"getting-started\" href=\"/docs\">Docs</a><a href=\"https://webmonetization.org/specification.html\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"navbar__item navbar__link\">Specification</a><a href=\"https://discourse.wicg.io/t/proposal-web-monetization-a-new-revenue-model-for-the-web/3785\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"navbar__item navbar__link\">WICG Forum</a><a href=\"https://github.com/WICG/webmonetization\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"navbar__item navbar__link\">GitHub</a><a class=\"navbar__item navbar__link\"></a></div><div class=\"navbar__items navbar__items--right\"><button type=\"button\" class=\"DocSearch DocSearch-Button\" aria-label=\"Search\"><span class=\"DocSearch-Button-Container\"><svg width=\"20\" height=\"20\" class=\"DocSearch-Search-Icon\" viewBox=\"0 0 20 20\"><path d=\"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z\" stroke=\"currentColor\" fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><span class=\"DocSearch-Button-Placeholder\">Search</span></span><span class=\"DocSearch-Button-Keys\"></span></button></div></div><div role=\"presentation\" class=\"navbar-sidebar__backdrop\"></div><div class=\"navbar-sidebar\"><div class=\"navbar-sidebar__brand\"><a class=\"navbar__brand\" href=\"/\"><img src=\"/img/wm-icon.svg\" alt=\"Web Monetization logo\" class=\"themedImage_1VuW themedImage--light_3UqQ navbar__logo\"><img src=\"/img/wm-icon.svg\" alt=\"Web Monetization logo\" class=\"themedImage_1VuW themedImage--dark_hz6m navbar__logo\"><strong class=\"navbar__title\">Web Monetization</strong></a></div><div class=\"navbar-sidebar__items\"><div class=\"menu\"><ul class=\"menu__list\"><li class=\"menu__list-item\"><a aria-current=\"page\" class=\"menu__link navbar__link--active\" doc=\"getting-started\" href=\"/docs\">Docs</a></li><li class=\"menu__list-item\"><a href=\"https://webmonetization.org/specification.html\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"menu__link\">Specification</a></li><li class=\"menu__list-item\"><a href=\"https://discourse.wicg.io/t/proposal-web-monetization-a-new-revenue-model-for-the-web/3785\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"menu__link\">WICG Forum</a></li><li class=\"menu__list-item\"><a href=\"https://github.com/WICG/webmonetization\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"menu__link\">GitHub</a></li><li class=\"menu__list-item\"><a class=\"menu__link\"></a></li></ul></div></div></div></nav><div class=\"main-wrapper docs-wrapper doc-page\"><div class=\"docPage_31aa\"><div class=\"docSidebarContainer_3Kbt\" role=\"complementary\"><div class=\"sidebar_15mo\"><div class=\"menu menu--responsive thin-scrollbar menu_Bmed\"><button aria-label=\"Open menu\" aria-haspopup=\"true\" class=\"button button--secondary button--sm menu__button\" type=\"button\"><svg aria-label=\"Menu\" class=\"sidebarMenuIcon_fgN0\" width=\"24\" height=\"24\" viewBox=\"0 0 30 30\" role=\"img\" focusable=\"false\"><title>Menu</title><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" d=\"M4 7h22M4 15h22M4 23h22\"></path></svg></button><ul class=\"menu__list\"><li class=\"menu__list-item menu__list-item--collapsed\"><a class=\"menu__link menu__link--sublist\" href=\"#!\">Overview</a><ul class=\"menu__list\"><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/getting-started\">Quick start guide</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/api\">JavaScript API</a></li></ul></li><li class=\"menu__list-item menu__list-item--collapsed\"><a class=\"menu__link menu__link--sublist\" href=\"#!\">Examples</a><ul class=\"menu__list\"><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/exclusive-content\">Exclusive content</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/remove-ads\">Remove ads</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/counter\">Micropayment counter</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/probabilistic-rev-sharing\">Probabilistic revenue sharing</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/start-stop\">Start/stop monetization</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/receipt-verifier\">Receipt verifier service</a></li></ul></li><li class=\"menu__list-item\"><a class=\"menu__link menu__link--sublist menu__link--active\" href=\"#!\">Explainer</a><ul class=\"menu__list\"><li class=\"menu__list-item\"><a aria-current=\"page\" class=\"menu__link menu__link--active active\" tabindex=\"0\" href=\"/docs/explainer\">Web Monetization</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"0\" href=\"/docs/receiving\">Receiving payments</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"0\" href=\"/docs/sending\">Sending payments</a></li></ul></li><li class=\"menu__list-item menu__list-item--collapsed\"><a class=\"menu__link menu__link--sublist\" href=\"#!\">Wallets</a><ul class=\"menu__list\"><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/ilp-wallets\">Digital wallets and payment pointers</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/gatehub\">GateHub</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/uphold\">Uphold</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/xrptipbot\">XRP Tipbot</a></li></ul></li><li class=\"menu__list-item menu__list-item--collapsed\"><a class=\"menu__link menu__link--sublist\" href=\"#!\">More</a><ul class=\"menu__list\"><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/specification\">Specification</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/glossary\">Glossary</a></li><li class=\"menu__list-item\"><a class=\"menu__link\" tabindex=\"-1\" href=\"/docs/resources\">External resources</a></li></ul></li></ul></div></div></div><main class=\"docMainContainer_3ufF\"><div class=\"container padding-vert--lg docItemWrapper_3FMP\"><div class=\"row\"><div class=\"col docItemCol_3FnS\"><div class=\"docItemContainer_33ec\"><article><header><h1 class=\"docTitle_3a4h\">Web Monetization Explainer</h1></header><div class=\"markdown\"><p>Web Monetization (WM) is a proposed API standard that allows websites to request\na stream of very small payments (e.g. fractions of a cent) from a user.</p><p>The API&#x27;s framework provides new revenue models for websites and web-based\nservices and is an alternative to subscription services and advertising, all\nwhile preserving the user&#x27;s privacy.</p><p>In exchange for payments from the user, websites can provide the user with a\n&quot;premium&quot; experience, such as allowing access to exclusive content, removing\nadvertising, or even removing the need to log in to access content or services.</p><p><a href=\"#handle-payments\">Skip straight to code...</a></p><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"goals\"></a>Goals<a class=\"hash-link\" href=\"#goals\" title=\"Direct link to heading\">#</a></h2><h4><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"payment\"></a>Payment<a class=\"hash-link\" href=\"#payment\" title=\"Direct link to heading\">#</a></h4><p>Provide websites with a way to collect multiple small payments from users in\nexchange for consuming the site&#x27;s content and/or services.</p><h4><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"frictionless-user-experience\"></a>Frictionless user experience<a class=\"hash-link\" href=\"#frictionless-user-experience\" title=\"Direct link to heading\">#</a></h4><p>Allow users to pre-approve payments in aggregate or delegate the authorization\nof individual small payments to a component/service (a Web Monetization\nagent) that makes decisions about when and how much to pay websites without\nthe need for user interaction.</p><h4><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"user-privacy\"></a>User privacy<a class=\"hash-link\" href=\"#user-privacy\" title=\"Direct link to heading\">#</a></h4><p>This system must preserve the user&#x27;s privacy. It must not be possible for\nwebsites to track users on the basis of the payments they make, and it must not\nbe possible for the user&#x27;s Web Monetization provider to get details of a\nuser&#x27;s browsing history.</p><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"non-goals\"></a>Non-goals<a class=\"hash-link\" href=\"#non-goals\" title=\"Direct link to heading\">#</a></h2><h4><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"online-purchases\"></a>Online purchases<a class=\"hash-link\" href=\"#online-purchases\" title=\"Direct link to heading\">#</a></h4><p>Web Monetization is intended to enable very small payments. This distinction is\nimportant because very small payments can be performed with different levels of\nuser consent, unlike larger payments, such as those used in traditional\ne-commerce.</p><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"flow-overview\"></a>Flow overview<a class=\"hash-link\" href=\"#flow-overview\" title=\"Direct link to heading\">#</a></h2><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"prerequisites\"></a>Prerequisites<a class=\"hash-link\" href=\"#prerequisites\" title=\"Direct link to heading\">#</a></h3><ul><li>Users must have an account or subscription with a <strong>Web Monetization provider</strong>\n(also known as a WM sender).</li><li>Users must have a <strong>Web Monetization agent</strong> installed in their browser with\nthe necessary authorization to initiate payments from the WM provider on the\nuser&#x27;s behalf.</li><li>Websites must sign up with, or run their own, <strong>Web Monetization receiver</strong>.<blockquote><p>The WM receiver and WM provider do not need a direct relationship. Their\nshared use of the Interledger network allows payments to be sent from the\nWM provider to the WM receiver.</p></blockquote></li></ul><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"sequence-diagram\"></a>Sequence diagram<a class=\"hash-link\" href=\"#sequence-diagram\" title=\"Direct link to heading\">#</a></h3><p><img alt=\"diagram\" src=\"/assets/images/flow-07353206fa1962c7dd815bc5adc221d0.svg\"></p><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"flow\"></a>Flow<a class=\"hash-link\" href=\"#flow\" title=\"Direct link to heading\">#</a></h3><p>The numbers correspond to the diagram above. The flow is simplified to exclude\nsome edge cases.</p><ol><li><p>Sites that support Web Monetization include a <code>&lt;meta&gt;</code> tag containing a\n<a href=\"#payment-pointers\">payment pointer</a>. The browser (user agent) parses the tag to\ndetermine where to send payments.</p></li><li><p>The browser uses its internal Web Monetization agent to calculate an\nappropriate rate of payments to make to the site.</p></li><li><p>The browser generates a unique session ID for this payment session.</p></li><li><p>The browser fetches a unique destination address and shared secret for the\nsession from the site&#x27;s payment pointer URL.</p></li><li><p><em>(Optional)</em> A payment receipt verifier service (operated by the site or a\nthird party) proxies the request and sends a Receipt Secret to generate receipts\nand Receipt Nonce to include in those receipts to the WM Receiver.</p></li><li><p>With the site&#x27;s page still in focus, the browser begins initiating payments\nto the website at the calculated rate from the user&#x27;s WM provider.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/17\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 17 - Support Streaming to Background Tabs</a></p><p>What about people listening to monetized music in a background tab?</p><p></p></blockquote></li><li><p>The WM provider sends the payment to the WM receiver.</p></li><li><p><em>(Optional)</em> The WM receiver generates and sends a receipt to the WM\nprovider.</p></li><li><p>The WM provider notifies the browser of successful payments.</p></li><li><p>The browser, in turn, dispatches an event that informs the page of the\npayment.</p></li><li><p><em>(Optional)</em> The page confirms payment by sending the receipt to the\nverifier service.</p></li></ol><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"why-is-a-standard-required\"></a>Why is a standard required?<a class=\"hash-link\" href=\"#why-is-a-standard-required\" title=\"Direct link to heading\">#</a></h2><p>There are many services attempting to provide alternative means to monetize the\nweb and generate revenue for content creators and service providers without\nselling ads.</p><p>However, most of these require that the user and the creator/producer/service\nprovider join a common network that offers to facilitate the transactions\nbetween users and these services.</p><p>The result is a fragmented web of closed content and service silos, rather than\nthe global and open web we desire. Further, users sacrifice their privacy\nbecause the service is both collecting payments from the user and paying out\nto the creator/producer/service provider. The service is therefore able to\ncorrelate payments and collect data about which services are accessed by users.</p><p>Web Monetization decouples the provider (sender) and the receiver. Using the\nbrowser as an intermediary, the privacy of users is protected and payments can&#x27;t\nbe used to track a user across sites.</p><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"design-discussion-points\"></a>Design discussion points<a class=\"hash-link\" href=\"#design-discussion-points\" title=\"Direct link to heading\">#</a></h2><p>This proposal is modeled on a working implementation that uses a browser\nextension to provide the necessary browser-side functionality. However, there\nare various design decisions that may be worth discussing further as a community\nas we figure out how Web Monetization could be built directly into browsers.</p><p>By bringing this work to the WICG, our goal is to get input from multiple Web\nMonetization providers and implementors to refine the design and produce a W3C\nstandards-track specification.</p><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"declarative-vs-imperative-api\"></a>Declarative vs imperative API<a class=\"hash-link\" href=\"#declarative-vs-imperative-api\" title=\"Direct link to heading\">#</a></h3><p>The current proposal is for a hybrid declarative and imperative API. Websites\ndeclare their ability to accept web monetized payments using a <code>&lt;meta&gt;</code> tag in\nthe page header. Imperatively, a developer can then access the global\n<code>monetization</code> object on the DOM to track incoming payment streams/events and\nreact to these (by showing/hiding ads, etc.).</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/33\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 33 - Declarative vs Imperative API</a></p></blockquote><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"use-updated-payment-request-and-payment-handler-apis\"></a>Use updated Payment Request and Payment Handler APIs<a class=\"hash-link\" href=\"#use-updated-payment-request-and-payment-handler-apis\" title=\"Direct link to heading\">#</a></h3><p>The Web Payments WG has designed two APIs that follow a similar pattern to Web\nMonetization but for a different use case.</p><p>The Payment Request API is an imperative API that websites can use to request a\nsingle discrete payment. The API is designed to always prompt the user for\nauthorization as part of the flow, as the API is designed for payment sizes\nwhere this is necessary. However, nothing prevents the API from also\nsupporting a non-interactive flow that supports Web Monetization use cases.</p><p>The Payment Handler API aligns well with the model anticipated for WM providers.\nA provider might manifest as a specialized payment handler capable of returning\nnot just a <code>PaymentResponse</code> but also a handle to a stream of micropayments.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/34\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 34 - Use Updated Payment Request and Payment Handler APIs?</a></p></blockquote><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"this-sounds-a-lot-like-streams\"></a>This sounds a lot like streams...<a class=\"hash-link\" href=\"#this-sounds-a-lot-like-streams\" title=\"Direct link to heading\">#</a></h3><p>In keeping with the trend toward streaming APIs, the API surface could be\nupdated to implement the <a href=\"https://streams.spec.whatwg.org\" target=\"_blank\" rel=\"noopener noreferrer\">WHATWG Stream API</a>\nrather than events.</p><p>We will investigate the pros/cons of using streams and events for Web\nMonetization as part of the incubation process.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/27\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 27 - Readable Stream vs Progress Event vs Both</a></p></blockquote><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"concepts\"></a>Concepts<a class=\"hash-link\" href=\"#concepts\" title=\"Direct link to heading\">#</a></h2><p>Web Monetization depends on two critical technologies/concepts that enable open\nand interoperable payments between providers and websites for very small amounts:\nInterledger and payment pointers.</p><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"interledger\"></a>Interledger<a class=\"hash-link\" href=\"#interledger\" title=\"Direct link to heading\">#</a></h3><p>Interledger is a payment messaging protocol for making payments of any size that\ncan be aggregated and settled over existing payment networks (including those\nthat do not support very small payment sizes or real-time payments clearing).</p><p>The design of the protocol also allows for payments to be made that span\nmultiple underlying settlement networks, improving the interoperability and\nreach of existing networks.</p><p>Web Monetization providers and receivers use the Interledger protocol to exchange\npayments. The provider and WM receiver might be directly connected or might\nconnect via one or more intermediaries. This will be driven by the regulatory\nrequirements and the status of intermediaries as registered money services businesses.</p><p>For more details see <a href=\"https://interledger.org\" target=\"_blank\" rel=\"noopener noreferrer\">https://interledger.org</a>.</p><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"payment-pointers\"></a>Payment pointers<a class=\"hash-link\" href=\"#payment-pointers\" title=\"Direct link to heading\">#</a></h3><p>Payment pointers are a convenient and concise way to express a URL that points\nto a secure payment initiation endpoint on the Web.</p><p>Payment pointers resolve to an HTTPS URL using simple conversion rules.</p><p>Using payment pointers, systems that offer payment accounts can give users a\nsimple and easy-to-remember identifier for their account that&#x27;s <strong>safe to\nshare</strong> with 3rd parties (unlike a credit card number) and is immediately\nidentifiable as a payment account identifier.</p><blockquote><p><strong>Example payment pointers:</strong> <code>$alice.wallet.example</code> and <code>$wallet.example/alice</code>.</p><p>These resolve to <code>https://alice.wallet.example/.well-known/pay</code> and <code>https://wallet.example/alice</code> respectively.</p></blockquote><p>Websites that use Web Monetization require a destination address for their\npayments (which they will get from their WM receiver). The address must be inserted\ninto the appropriate <code>meta</code> tag.</p><p>For more details see <a href=\"https://paymentpointers.org\" target=\"_blank\" rel=\"noopener noreferrer\">https://paymentpointers.org</a>.</p><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"getting-started\"></a>Getting Started<a class=\"hash-link\" href=\"#getting-started\" title=\"Direct link to heading\">#</a></h2><p>For a high-level overview, see the <a href=\"/docs/getting-started\">Quick start guide</a>.</p><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"set-up-a-receiving-account\"></a>Set up a receiving account<a class=\"hash-link\" href=\"#set-up-a-receiving-account\" title=\"Direct link to heading\">#</a></h3><p>To use Web Monetization a website owner must have a financial account at a\nservice provider capable of receiving payments (WM receiver) via the Interledger\nprotocol.</p><p>Such a service (a <a href=\"/docs/ilp-wallets\">digital wallet</a>, bank, or similar) must provide the website\nowner with a payment pointer that serves as the public address for the\naccount.</p><blockquote><p><strong>Example:</strong> Alice owns the website at <em><strong>https://<span></span>rocknrollblog.example</strong></em> and\nopens an account at <em>Secure Receiving Wallet Ltd.</em>. </p><p>Secure Wallet tells Alice that the\npayment pointer for her account is <code>$secure-wallet.example/~alice</code>.</p> <p>For\nprivacy reasons Alice might also get the payment pointer</p>\n<code>$secure-wallet.example/db74f8b4-d6a0-4489-a021-e785e5efb229</code> or be able to\ngenerate new addresses on demand (this would be a feature of her WM receiver).<p></p></blockquote><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"add-meta-tag-to-website-header\"></a>Add &lt;meta&gt; tag to website header<a class=\"hash-link\" href=\"#add-meta-tag-to-website-header\" title=\"Direct link to heading\">#</a></h3><p>The website contains a <code>&lt;meta&gt;</code> tag in the header of the HTML documents it\nserves. The tag&#x27;s <code>name</code> attribute must always have the value <code>monetization</code>.\nThe value of the <code>content</code> attribute is the payment pointer where the website\nwill accept payments.</p><blockquote><p><strong>Example:</strong> Alice puts the tag\n<code>&lt;meta name=&quot;monetization&quot; content=&quot;$secure-wallet.example/~alice&quot;&gt;</code> into the\n<code>&lt;head&gt;</code> section of <em><strong>https://<span></span>rocknrollblog.example</strong></em>.</p></blockquote><p>Web Monetization only works on pages containing the <code>meta</code> tag. Pages must be\nsecure (served over HTTPS, or <code>http://localhost</code> for testing) to preclude bad\nactors, like ISPs injecting their own <code>&lt;meta&gt;</code> tags into pages.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/14\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 14 (Closed) - Legitimate Meta Tags</a></p><p>\nHow do we ensure only legitimate tags are parsed by the browser?</p><p></p></blockquote><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"handle-payments\"></a>Handle payments<a class=\"hash-link\" href=\"#handle-payments\" title=\"Direct link to heading\">#</a></h3><p>When a user visits a monetized site with a supported browser the site will find a\n<code>document.monetization</code> object in the DOM. The object will have a <code>state</code>\nproperty that the website can check to determine if the user&#x27;s WM provider has\nstarted sending payments.</p><p>The <code>document.monetization</code> object will emit events when monetization starts and\nthen subsequently each time a payment is sent successfully by the WM provider. The\nstart event will contain a unique identifier for the payment stream that can be\nused to correlate the payments at the WM receiver with the user&#x27;s current browser\nsession.</p><blockquote><p><strong>Example:</strong> Alice adds the client-side code shown below to her website to\nlisten for the relevant monetization events. Now her site only shows\nadvertising if she isn&#x27;t receiving payments.</p></blockquote><div class=\"codeBlockContainer_K1bP\"><div class=\"codeBlockContent_hGly html\"><div tabindex=\"0\" class=\"prism-code language-html codeBlock_23N8 thin-scrollbar\"><div class=\"codeBlockLines_39YC\" style=\"color:#393A34;background-color:#f6f8fa\"><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;</span><span class=\"token tag\" style=\"color:#00009f\">head</span><span class=\"token tag punctuation\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;</span><span class=\"token tag\" style=\"color:#00009f\">meta</span><span class=\"token tag\" style=\"color:#00009f\"> </span><span class=\"token tag attr-name\" style=\"color:#00a4db\">name</span><span class=\"token tag attr-value punctuation attr-equals\" style=\"color:#393A34\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:#393A34\">&quot;</span><span class=\"token tag attr-value\" style=\"color:#e3116c\">monetization</span><span class=\"token tag attr-value punctuation\" style=\"color:#393A34\">&quot;</span><span class=\"token tag\" style=\"color:#00009f\"> </span><span class=\"token tag attr-name\" style=\"color:#00a4db\">content</span><span class=\"token tag attr-value punctuation attr-equals\" style=\"color:#393A34\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:#393A34\">&quot;</span><span class=\"token tag attr-value\" style=\"color:#e3116c\">$secure-wallet.example/~alice</span><span class=\"token tag attr-value punctuation\" style=\"color:#393A34\">&quot;</span><span class=\"token tag\" style=\"color:#00009f\"> </span><span class=\"token tag punctuation\" style=\"color:#393A34\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;/</span><span class=\"token tag\" style=\"color:#00009f\">head</span><span class=\"token tag punctuation\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;</span><span class=\"token tag\" style=\"color:#00009f\">script</span><span class=\"token tag punctuation\" style=\"color:#393A34\">&gt;</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">  </span><span class=\"token script language-javascript keyword control-flow\" style=\"color:#00009f\">if</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript dom variable\" style=\"color:#36acaa\">document</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript property-access\">monetization</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">    </span><span class=\"token script language-javascript dom variable\" style=\"color:#36acaa\">document</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript property-access\">monetization</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript method function property-access\" style=\"color:#d73a49\">addEventListener</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript string\" style=\"color:#e3116c\">&#x27;monetizationstart&#x27;</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript parameter\">event</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript arrow operator\" style=\"color:#393A34\">=&gt;</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript comment\" style=\"color:#999988;font-style:italic\">// User has an open payment stream</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript comment\" style=\"color:#999988;font-style:italic\">// Connect to backend to validate the session using the request id</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript keyword\" style=\"color:#00009f\">const</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"> paymentPointer</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> requestId </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript operator\" style=\"color:#393A34\">=</span><span class=\"token script language-javascript\"> event</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript property-access\">detail</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript keyword control-flow\" style=\"color:#00009f\">if</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript operator\" style=\"color:#393A34\">!</span><span class=\"token script language-javascript function\" style=\"color:#d73a49\">isValidSession</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript\">paymentPointer</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> requestId</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        </span><span class=\"token script language-javascript console class-name\">console</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript method function property-access\" style=\"color:#d73a49\">error</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript string\" style=\"color:#e3116c\">&#x27;Invalid requestId for monetization&#x27;</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        </span><span class=\"token script language-javascript function\" style=\"color:#d73a49\">showAdvertising</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">    </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">    </span><span class=\"token script language-javascript dom variable\" style=\"color:#36acaa\">document</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript property-access\">monetization</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript method function property-access\" style=\"color:#d73a49\">addEventListener</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript string\" style=\"color:#e3116c\">&#x27;monetizationprogress&#x27;</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript parameter\">event</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript arrow operator\" style=\"color:#393A34\">=&gt;</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript comment\" style=\"color:#999988;font-style:italic\">// A payment has been received</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript comment\" style=\"color:#999988;font-style:italic\">// Connect to backend to validate the payment</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript keyword\" style=\"color:#00009f\">const</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        paymentPointer</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        requestId</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        amount</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        assetCode</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        assetScale</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        receipt</span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript operator\" style=\"color:#393A34\">=</span><span class=\"token script language-javascript\"> event</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token script language-javascript property-access\">detail</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript keyword control-flow\" style=\"color:#00009f\">if</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        </span><span class=\"token script language-javascript function\" style=\"color:#d73a49\">isValidPayment</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript\">paymentPointer</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> requestId</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> amount</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> assetCode</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> assetScale</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> receipt</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        </span><span class=\"token script language-javascript comment\" style=\"color:#999988;font-style:italic\">// Hide ads for a period based on amount received</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">        </span><span class=\"token script language-javascript function\" style=\"color:#d73a49\">suspendAdvertising</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript\">amount</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> assetCode</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> assetScale</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">      </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">    </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">    </span><span class=\"token script language-javascript comment\" style=\"color:#999988;font-style:italic\">// Wait 30 seconds and then show ads if advertising is no longer suspended</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">    </span><span class=\"token script language-javascript function\" style=\"color:#d73a49\">setTimeout</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript\">maybeShowAdvertising</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">,</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript number\" style=\"color:#36acaa\">30000</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">  </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript keyword control-flow\" style=\"color:#00009f\">else</span><span class=\"token script language-javascript\"> </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">    </span><span class=\"token script language-javascript function\" style=\"color:#d73a49\">showAdvertising</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">(</span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">)</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\">  </span><span class=\"token script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token script language-javascript\"></span></div><div class=\"token-line\" style=\"color:#393A34\"><span class=\"token script language-javascript\"></span><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;/</span><span class=\"token tag\" style=\"color:#00009f\">script</span><span class=\"token tag punctuation\" style=\"color:#393A34\">&gt;</span></div></div></div><button type=\"button\" aria-label=\"Copy code to clipboard\" class=\"copyButton_Ue-o\">Copy</button></div></div><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/16\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 16 - Use <code>PaymentCurrencyAmount</code> Dictionary</a></p><p>\nShould the amount in the <code>monetizationprogress</code> event use the existing <a href=\"https://www.w3.org/TR/payment-request/#paymentcurrencyamount-dictionary\" target=\"_blank\" rel=\"noopener noreferrer\"><code>PaymentCurrencyAmount</code></a> type?</p><p></p></blockquote><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"browser-behavior\"></a>Browser behavior<a class=\"hash-link\" href=\"#browser-behavior\" title=\"Direct link to heading\">#</a></h2><p>A web monetized browser exposes a <code>document.monetization</code> DOM object that\nimplements <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\" target=\"_blank\" rel=\"noopener noreferrer\">EventTarget</a>\nand has a read-only <a href=\"/docs/api#states\"><code>state</code> property</a>. The object allows you to\ntrack Web Monetization events and see whether the user visiting your page is web monetized.</p><ol><li><p>If the browser finds a valid payment pointer in a page&#x27;s <code>&lt;meta&gt;</code>\ntag it generates a fresh UUID (version 4) and uses this as the <strong>session\nID</strong> from this point forward.</p><blockquote><p>This session ID <strong>MUST</strong> be unique per page load, <strong>NOT</strong> per browser,\nsession, or site.</p></blockquote><ul><li>The <code>&lt;meta&gt;</code> tag <strong>MUST</strong> be in the <code>&lt;head&gt;</code> of the document.</li><li>If the <code>&lt;meta&gt;</code> tag is well-formed, the browser will extract the payment\npointer.</li><li>If the <code>&lt;meta&gt;</code> tag is malformed, the browser will\nabort monetization processing. The browser <strong>SHOULD</strong> report a warning\nvia the console.</li></ul></li><li><p>The browser uses its internal Web Monetization agent to calculate the rate\nit should pay the current website. If the result is 0 it aborts.</p></li><li><p>The browser resolves the payment pointer and gets a unique\nInterledger address (destination address) and shared secret to use for the\ncurrent session. The browser then begins sending payments via the WM provider.</p></li><li><p>The browser invokes the user&#x27;s WM provider <a href=\"/docs/sending\">by emitting new <code>PaymentRequestEvent</code> events</a>\nwith the necessary details.</p></li><li><p>Once the WM provider has successfully completed the first payment with a non-zero\namount, the browser sets the <code>document.monetization.state</code> to <code>started</code> and\nthen dispatches the <code>monetizationstart</code> event on <code>document.monetization</code>.\nThe event has a <code>detail</code> field with an object containing the payment pointer\nand the session ID (referred to as the <code>requestId</code> in the object).</p></li><li><p>The browser continues to send payments at the calculated rate. Every time\nit completes a payment (including the first payment) it dispatches a\n<code>monetizationprogress</code> event from <code>document.monetization</code>. The event has a\n<code>detail</code> field with an object containing the amount and currency\n(<code>assetCode</code>) of the payment as well as an optional receipt.</p></li><li><p>Payment continues until the user closes/leaves the page or the browser decides\nto stop payment. The browser can decide to start and stop payments at any time\n(e.g., if the user is idle or backgrounds the page).</p></li></ol><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"auditing--dashboard\"></a>Auditing / dashboard<a class=\"hash-link\" href=\"#auditing--dashboard\" title=\"Direct link to heading\">#</a></h3><p>It must be possible for users to get summaries of payments compiled by the\nbrowser. Summaries allow users to reconcile information from websites and WM\nproviders about how much they have paid. Payments should be broken down by the:</p><ul><li>Origin of the websites paid</li><li>WM provider making the payments</li><li>Date and time</li></ul><p>It should also be possible to:</p><ul><li>Tell the browser <strong>NOT</strong> to pay a particular website any money. For example,\nwhen a web monetized user visits a monetized site containing opposing\nviewpoints or etc. and doesn&#x27;t want to contribute financially.</li><li>Give the browser a list of sites which can optionally be paid more than the\nusual sum. For example, when a web monetized user visits a favorite charity&#x27;s\nmonetized website.</li></ul><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"web-monetization-provider-interface\"></a>Web Monetization provider interface<a class=\"hash-link\" href=\"#web-monetization-provider-interface\" title=\"Direct link to heading\">#</a></h2><p>The Web Monetization provider (sender) interface leverages the\n<a href=\"https://www.w3.org/TR/payment-handler/\" target=\"_blank\" rel=\"noopener noreferrer\">Payment Handler API</a>.</p><p>More details are provided in the <a href=\"/docs/sending\">Sending payments</a> page.</p><h2><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"existing-implementations\"></a>Existing implementations<a class=\"hash-link\" href=\"#existing-implementations\" title=\"Direct link to heading\">#</a></h2><p>Please submit a PR if you are aware of updates to the lists below.</p><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"web-monetization-receivers\"></a>Web Monetization receivers<a class=\"hash-link\" href=\"#web-monetization-receivers\" title=\"Direct link to heading\">#</a></h3><ul><li><a href=\"https://gatehub.net/\" target=\"_blank\" rel=\"noopener noreferrer\">GateHub</a></li><li><a href=\"https://uphold.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Uphold</a></li></ul><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"web-monetization-providers-senders\"></a>Web Monetization providers (senders)<a class=\"hash-link\" href=\"#web-monetization-providers-senders\" title=\"Direct link to heading\">#</a></h3><ul><li><a href=\"https://coil.com\" target=\"_blank\" rel=\"noopener noreferrer\">Coil</a></li></ul><h3><a aria-hidden=\"true\" tabindex=\"-1\" class=\"anchor enhancedAnchor_2LWZ\" id=\"browsers\"></a>Browsers<a class=\"hash-link\" href=\"#browsers\" title=\"Direct link to heading\">#</a></h3><ul><li><a href=\"https://chrome.google.com/webstore/detail/coil/locbifcbeldmnphbgkdigjmkbfkhbnca\" target=\"_blank\" rel=\"noopener noreferrer\">Google Chrome (desktop) + Coil Extension</a></li><li><a href=\"https://addons.mozilla.org/en-US/firefox/addon/coil/\" target=\"_blank\" rel=\"noopener noreferrer\">Mozilla Firefox (desktop) + Coil Extension</a></li><li><a href=\"https://microsoftedge.microsoft.com/addons/detail/ljionajlbinlfkdnpkloejeoogfgkojm\" target=\"_blank\" rel=\"noopener noreferrer\">Microsoft Edge (desktop) + Coil Extension</a></li><li><a href=\"https://chrome.google.com/webstore/detail/coil/locbifcbeldmnphbgkdigjmkbfkhbnca\" target=\"_blank\" rel=\"noopener noreferrer\">Brave Browser (desktop) + Coil Extension</a></li><li><a href=\"https://www.pumabrowser.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Puma Browser (mobile)</a></li></ul></div></article><div class=\"margin-vert--xl\"><div class=\"row\"><div class=\"col\"><a href=\"https://github.com/WICG/webmonetization/tree/main/docs/explainer.md\" target=\"_blank\" rel=\"noreferrer noopener\"><svg fill=\"currentColor\" height=\"1.2em\" width=\"1.2em\" preserveAspectRatio=\"xMidYMid meet\" role=\"img\" viewBox=\"0 0 40 40\" class=\"iconEdit_2_ui\" aria-label=\"Edit page\"><g><path d=\"m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z\"></path></g></svg>Edit this page</a></div></div></div><div class=\"margin-vert--lg\"><nav class=\"pagination-nav\" aria-label=\"Docs pages navigation\"><div class=\"pagination-nav__item\"><a class=\"pagination-nav__link\" href=\"/docs/receipt-verifier\"><div class=\"pagination-nav__sublabel\">Previous</div><div class=\"pagination-nav__label\">« Receipt Verifier Service</div></a></div><div class=\"pagination-nav__item pagination-nav__item--next\"><a class=\"pagination-nav__link\" href=\"/docs/receiving\"><div class=\"pagination-nav__sublabel\">Next</div><div class=\"pagination-nav__label\">Web Monetization Receivers »</div></a></div></nav></div></div></div><div class=\"col col--3\"><div class=\"tableOfContents_35-E thin-scrollbar\"><ul class=\"table-of-contents table-of-contents__left-border\"><li><a href=\"#goals\" class=\"table-of-contents__link\">Goals</a></li><li><a href=\"#non-goals\" class=\"table-of-contents__link\">Non-goals</a></li><li><a href=\"#flow-overview\" class=\"table-of-contents__link\">Flow overview</a><ul><li><a href=\"#prerequisites\" class=\"table-of-contents__link\">Prerequisites</a></li><li><a href=\"#sequence-diagram\" class=\"table-of-contents__link\">Sequence diagram</a></li><li><a href=\"#flow\" class=\"table-of-contents__link\">Flow</a></li></ul></li><li><a href=\"#why-is-a-standard-required\" class=\"table-of-contents__link\">Why is a standard required?</a></li><li><a href=\"#design-discussion-points\" class=\"table-of-contents__link\">Design discussion points</a><ul><li><a href=\"#declarative-vs-imperative-api\" class=\"table-of-contents__link\">Declarative vs imperative API</a></li><li><a href=\"#use-updated-payment-request-and-payment-handler-apis\" class=\"table-of-contents__link\">Use updated Payment Request and Payment Handler APIs</a></li><li><a href=\"#this-sounds-a-lot-like-streams\" class=\"table-of-contents__link\">This sounds a lot like streams...</a></li></ul></li><li><a href=\"#concepts\" class=\"table-of-contents__link\">Concepts</a><ul><li><a href=\"#interledger\" class=\"table-of-contents__link\">Interledger</a></li><li><a href=\"#payment-pointers\" class=\"table-of-contents__link\">Payment pointers</a></li></ul></li><li><a href=\"#getting-started\" class=\"table-of-contents__link\">Getting Started</a><ul><li><a href=\"#set-up-a-receiving-account\" class=\"table-of-contents__link\">Set up a receiving account</a></li><li><a href=\"#add-meta-tag-to-website-header\" class=\"table-of-contents__link\">Add &lt;meta&gt; tag to website header</a></li><li><a href=\"#handle-payments\" class=\"table-of-contents__link\">Handle payments</a></li></ul></li><li><a href=\"#browser-behavior\" class=\"table-of-contents__link\">Browser behavior</a><ul><li><a href=\"#auditing--dashboard\" class=\"table-of-contents__link\">Auditing / dashboard</a></li></ul></li><li><a href=\"#web-monetization-provider-interface\" class=\"table-of-contents__link\">Web Monetization provider interface</a></li><li><a href=\"#existing-implementations\" class=\"table-of-contents__link\">Existing implementations</a><ul><li><a href=\"#web-monetization-receivers\" class=\"table-of-contents__link\">Web Monetization receivers</a></li><li><a href=\"#web-monetization-providers-senders\" class=\"table-of-contents__link\">Web Monetization providers (senders)</a></li><li><a href=\"#browsers\" class=\"table-of-contents__link\">Browsers</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class=\"footer\"><div class=\"container\"><div class=\"row footer__links\"><div class=\"col footer__col\"><div class=\"footer__title\">WebMonetization.org</div></div><div class=\"col footer__col\"><div class=\"footer__title\">Navigation</div><ul class=\"footer__items\"><li class=\"footer__item\"><a class=\"footer__link-item\" href=\"/\">Home</a></li><li class=\"footer__item\"><a class=\"footer__link-item\" href=\"/meta-tag\">Meta Tag Generator</a></li><li class=\"footer__item\"><a class=\"footer__link-item\" href=\"/prob-revshare\">Revshare Generator</a></li><li class=\"footer__item\"><a class=\"footer__link-item\" href=\"/exclusive-content\">Exclusive Content Generator</a></li></ul></div><div class=\"col footer__col\"><div class=\"footer__title\">Community</div><ul class=\"footer__items\"><li class=\"footer__item\"><a href=\"https://github.com/WICG/webmonetization\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Github</a></li><li class=\"footer__item\"><a href=\"https://forum.interledger.org\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">ILP Forum</a></li><li class=\"footer__item\"><a href=\"https://discourse.wicg.io/t/proposal-web-monetization-a-new-revenue-model-for-the-web/3785\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Web Platform Incubator Community Group</a></li><li class=\"footer__item\"><a href=\"https://interledger.org\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Interledger</a></li></ul></div><div class=\"col footer__col\"><div class=\"footer__title\">Resources</div><ul class=\"footer__items\"><li class=\"footer__item\"><a class=\"footer__link-item\" href=\"/docs/getting-started\">Docs</a></li><li class=\"footer__item\"><a href=\"https://webmonetization.org/specification.html\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Specification</a></li><li class=\"footer__item\"><a href=\"https://paymentpointers.org/\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Payment Pointers</a></li></ul></div></div><div class=\"footer__bottom text--center\"></div></div></footer></div>\n<script src=\"/assets/js/runtime~main.22c5c456.js\"></script>\n<script src=\"/assets/js/main.909d8cec.js\"></script>\n</body>\n</html>","oembed":false,"readabilityObject":{"title":"Web Monetization Explainer | Web Monetization","content":"<div id=\"readability-page-1\" class=\"page\"><div><p>Web Monetization (WM) is a proposed API standard that allows websites to request\na stream of very small payments (e.g. fractions of a cent) from a user.</p><p>The API's framework provides new revenue models for websites and web-based\nservices and is an alternative to subscription services and advertising, all\nwhile preserving the user's privacy.</p><p>In exchange for payments from the user, websites can provide the user with a\n\"premium\" experience, such as allowing access to exclusive content, removing\nadvertising, or even removing the need to log in to access content or services.</p><p><a href=\"#handle-payments\">Skip straight to code...</a></p><h2>Goals<a href=\"#goals\" title=\"Direct link to heading\">#</a></h2><h4>Payment<a href=\"#payment\" title=\"Direct link to heading\">#</a></h4><p>Provide websites with a way to collect multiple small payments from users in\nexchange for consuming the site's content and/or services.</p><h4>Frictionless user experience<a href=\"#frictionless-user-experience\" title=\"Direct link to heading\">#</a></h4><p>Allow users to pre-approve payments in aggregate or delegate the authorization\nof individual small payments to a component/service (a Web Monetization\nagent) that makes decisions about when and how much to pay websites without\nthe need for user interaction.</p><h4>User privacy<a href=\"#user-privacy\" title=\"Direct link to heading\">#</a></h4><p>This system must preserve the user's privacy. It must not be possible for\nwebsites to track users on the basis of the payments they make, and it must not\nbe possible for the user's Web Monetization provider to get details of a\nuser's browsing history.</p><h2>Non-goals<a href=\"#non-goals\" title=\"Direct link to heading\">#</a></h2><h4>Online purchases<a href=\"#online-purchases\" title=\"Direct link to heading\">#</a></h4><p>Web Monetization is intended to enable very small payments. This distinction is\nimportant because very small payments can be performed with different levels of\nuser consent, unlike larger payments, such as those used in traditional\ne-commerce.</p><h2>Flow overview<a href=\"#flow-overview\" title=\"Direct link to heading\">#</a></h2><h3>Prerequisites<a href=\"#prerequisites\" title=\"Direct link to heading\">#</a></h3><ul><li>Users must have an account or subscription with a <strong>Web Monetization provider</strong>\n(also known as a WM sender).</li><li>Users must have a <strong>Web Monetization agent</strong> installed in their browser with\nthe necessary authorization to initiate payments from the WM provider on the\nuser's behalf.</li><li>Websites must sign up with, or run their own, <strong>Web Monetization receiver</strong>.<blockquote><p>The WM receiver and WM provider do not need a direct relationship. Their\nshared use of the Interledger network allows payments to be sent from the\nWM provider to the WM receiver.</p></blockquote></li></ul><h3>Sequence diagram<a href=\"#sequence-diagram\" title=\"Direct link to heading\">#</a></h3><p><img alt=\"diagram\" src=\"/assets/images/flow-07353206fa1962c7dd815bc5adc221d0.svg\"></p><h3>Flow<a href=\"#flow\" title=\"Direct link to heading\">#</a></h3><p>The numbers correspond to the diagram above. The flow is simplified to exclude\nsome edge cases.</p><ol><li><p>Sites that support Web Monetization include a <code>&lt;meta&gt;</code> tag containing a\n<a href=\"#payment-pointers\">payment pointer</a>. The browser (user agent) parses the tag to\ndetermine where to send payments.</p></li><li><p>The browser uses its internal Web Monetization agent to calculate an\nappropriate rate of payments to make to the site.</p></li><li><p>The browser generates a unique session ID for this payment session.</p></li><li><p>The browser fetches a unique destination address and shared secret for the\nsession from the site's payment pointer URL.</p></li><li><p><em>(Optional)</em> A payment receipt verifier service (operated by the site or a\nthird party) proxies the request and sends a Receipt Secret to generate receipts\nand Receipt Nonce to include in those receipts to the WM Receiver.</p></li><li><p>With the site's page still in focus, the browser begins initiating payments\nto the website at the calculated rate from the user's WM provider.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/17\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 17 - Support Streaming to Background Tabs</a></p><p>What about people listening to monetized music in a background tab?</p></blockquote></li><li><p>The WM provider sends the payment to the WM receiver.</p></li><li><p><em>(Optional)</em> The WM receiver generates and sends a receipt to the WM\nprovider.</p></li><li><p>The WM provider notifies the browser of successful payments.</p></li><li><p>The browser, in turn, dispatches an event that informs the page of the\npayment.</p></li><li><p><em>(Optional)</em> The page confirms payment by sending the receipt to the\nverifier service.</p></li></ol><h2>Why is a standard required?<a href=\"#why-is-a-standard-required\" title=\"Direct link to heading\">#</a></h2><p>There are many services attempting to provide alternative means to monetize the\nweb and generate revenue for content creators and service providers without\nselling ads.</p><p>However, most of these require that the user and the creator/producer/service\nprovider join a common network that offers to facilitate the transactions\nbetween users and these services.</p><p>The result is a fragmented web of closed content and service silos, rather than\nthe global and open web we desire. Further, users sacrifice their privacy\nbecause the service is both collecting payments from the user and paying out\nto the creator/producer/service provider. The service is therefore able to\ncorrelate payments and collect data about which services are accessed by users.</p><p>Web Monetization decouples the provider (sender) and the receiver. Using the\nbrowser as an intermediary, the privacy of users is protected and payments can't\nbe used to track a user across sites.</p><h2>Design discussion points<a href=\"#design-discussion-points\" title=\"Direct link to heading\">#</a></h2><p>This proposal is modeled on a working implementation that uses a browser\nextension to provide the necessary browser-side functionality. However, there\nare various design decisions that may be worth discussing further as a community\nas we figure out how Web Monetization could be built directly into browsers.</p><p>By bringing this work to the WICG, our goal is to get input from multiple Web\nMonetization providers and implementors to refine the design and produce a W3C\nstandards-track specification.</p><h3>Declarative vs imperative API<a href=\"#declarative-vs-imperative-api\" title=\"Direct link to heading\">#</a></h3><p>The current proposal is for a hybrid declarative and imperative API. Websites\ndeclare their ability to accept web monetized payments using a <code>&lt;meta&gt;</code> tag in\nthe page header. Imperatively, a developer can then access the global\n<code>monetization</code> object on the DOM to track incoming payment streams/events and\nreact to these (by showing/hiding ads, etc.).</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/33\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 33 - Declarative vs Imperative API</a></p></blockquote><h3>Use updated Payment Request and Payment Handler APIs<a href=\"#use-updated-payment-request-and-payment-handler-apis\" title=\"Direct link to heading\">#</a></h3><p>The Web Payments WG has designed two APIs that follow a similar pattern to Web\nMonetization but for a different use case.</p><p>The Payment Request API is an imperative API that websites can use to request a\nsingle discrete payment. The API is designed to always prompt the user for\nauthorization as part of the flow, as the API is designed for payment sizes\nwhere this is necessary. However, nothing prevents the API from also\nsupporting a non-interactive flow that supports Web Monetization use cases.</p><p>The Payment Handler API aligns well with the model anticipated for WM providers.\nA provider might manifest as a specialized payment handler capable of returning\nnot just a <code>PaymentResponse</code> but also a handle to a stream of micropayments.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/34\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 34 - Use Updated Payment Request and Payment Handler APIs?</a></p></blockquote><h3>This sounds a lot like streams...<a href=\"#this-sounds-a-lot-like-streams\" title=\"Direct link to heading\">#</a></h3><p>In keeping with the trend toward streaming APIs, the API surface could be\nupdated to implement the <a href=\"https://streams.spec.whatwg.org/\" target=\"_blank\" rel=\"noopener noreferrer\">WHATWG Stream API</a>\nrather than events.</p><p>We will investigate the pros/cons of using streams and events for Web\nMonetization as part of the incubation process.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/27\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 27 - Readable Stream vs Progress Event vs Both</a></p></blockquote><h2>Concepts<a href=\"#concepts\" title=\"Direct link to heading\">#</a></h2><p>Web Monetization depends on two critical technologies/concepts that enable open\nand interoperable payments between providers and websites for very small amounts:\nInterledger and payment pointers.</p><h3>Interledger<a href=\"#interledger\" title=\"Direct link to heading\">#</a></h3><p>Interledger is a payment messaging protocol for making payments of any size that\ncan be aggregated and settled over existing payment networks (including those\nthat do not support very small payment sizes or real-time payments clearing).</p><p>The design of the protocol also allows for payments to be made that span\nmultiple underlying settlement networks, improving the interoperability and\nreach of existing networks.</p><p>Web Monetization providers and receivers use the Interledger protocol to exchange\npayments. The provider and WM receiver might be directly connected or might\nconnect via one or more intermediaries. This will be driven by the regulatory\nrequirements and the status of intermediaries as registered money services businesses.</p><p>For more details see <a href=\"https://interledger.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://interledger.org</a>.</p><h3>Payment pointers<a href=\"#payment-pointers\" title=\"Direct link to heading\">#</a></h3><p>Payment pointers are a convenient and concise way to express a URL that points\nto a secure payment initiation endpoint on the Web.</p><p>Payment pointers resolve to an HTTPS URL using simple conversion rules.</p><p>Using payment pointers, systems that offer payment accounts can give users a\nsimple and easy-to-remember identifier for their account that's <strong>safe to\nshare</strong> with 3rd parties (unlike a credit card number) and is immediately\nidentifiable as a payment account identifier.</p><blockquote><p><strong>Example payment pointers:</strong> <code>$alice.wallet.example</code> and <code>$wallet.example/alice</code>.</p><p>These resolve to <code>https://alice.wallet.example/.well-known/pay</code> and <code>https://wallet.example/alice</code> respectively.</p></blockquote><p>Websites that use Web Monetization require a destination address for their\npayments (which they will get from their WM receiver). The address must be inserted\ninto the appropriate <code>meta</code> tag.</p><p>For more details see <a href=\"https://paymentpointers.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://paymentpointers.org</a>.</p><h2>Getting Started<a href=\"#getting-started\" title=\"Direct link to heading\">#</a></h2><p>For a high-level overview, see the <a href=\"/docs/getting-started\">Quick start guide</a>.</p><h3>Set up a receiving account<a href=\"#set-up-a-receiving-account\" title=\"Direct link to heading\">#</a></h3><p>To use Web Monetization a website owner must have a financial account at a\nservice provider capable of receiving payments (WM receiver) via the Interledger\nprotocol.</p><p>Such a service (a <a href=\"/docs/ilp-wallets\">digital wallet</a>, bank, or similar) must provide the website\nowner with a payment pointer that serves as the public address for the\naccount.</p><blockquote><p><strong>Example:</strong> Alice owns the website at <em><strong>https://<span></span>rocknrollblog.example</strong></em> and\nopens an account at <em>Secure Receiving Wallet Ltd.</em>. </p><p>Secure Wallet tells Alice that the\npayment pointer for her account is <code>$secure-wallet.example/~alice</code>.</p> <p>For\nprivacy reasons Alice might also get the payment pointer</p>\n<code>$secure-wallet.example/db74f8b4-d6a0-4489-a021-e785e5efb229</code> or be able to\ngenerate new addresses on demand (this would be a feature of her WM receiver).</blockquote><h3>Add &lt;meta&gt; tag to website header<a href=\"#add-meta-tag-to-website-header\" title=\"Direct link to heading\">#</a></h3><p>The website contains a <code>&lt;meta&gt;</code> tag in the header of the HTML documents it\nserves. The tag's <code>name</code> attribute must always have the value <code>monetization</code>.\nThe value of the <code>content</code> attribute is the payment pointer where the website\nwill accept payments.</p><blockquote><p><strong>Example:</strong> Alice puts the tag\n<code>&lt;meta name=\"monetization\" content=\"$secure-wallet.example/~alice\"&gt;</code> into the\n<code>&lt;head&gt;</code> section of <em><strong>https://<span></span>rocknrollblog.example</strong></em>.</p></blockquote><p>Web Monetization only works on pages containing the <code>meta</code> tag. Pages must be\nsecure (served over HTTPS, or <code>http://localhost</code> for testing) to preclude bad\nactors, like ISPs injecting their own <code>&lt;meta&gt;</code> tags into pages.</p><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/14\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 14 (Closed) - Legitimate Meta Tags</a></p><p>\nHow do we ensure only legitimate tags are parsed by the browser?</p></blockquote><h3>Handle payments<a href=\"#handle-payments\" title=\"Direct link to heading\">#</a></h3><p>When a user visits a monetized site with a supported browser the site will find a\n<code>document.monetization</code> object in the DOM. The object will have a <code>state</code>\nproperty that the website can check to determine if the user's WM provider has\nstarted sending payments.</p><p>The <code>document.monetization</code> object will emit events when monetization starts and\nthen subsequently each time a payment is sent successfully by the WM provider. The\nstart event will contain a unique identifier for the payment stream that can be\nused to correlate the payments at the WM receiver with the user's current browser\nsession.</p><blockquote><p><strong>Example:</strong> Alice adds the client-side code shown below to her website to\nlisten for the relevant monetization events. Now her site only shows\nadvertising if she isn't receiving payments.</p></blockquote><blockquote><p><a href=\"https://github.com/WICG/webmonetization/issues/16\" target=\"_blank\" rel=\"noopener noreferrer\">Issue 16 - Use <code>PaymentCurrencyAmount</code> Dictionary</a></p><p>\nShould the amount in the <code>monetizationprogress</code> event use the existing <a href=\"https://www.w3.org/TR/payment-request/#paymentcurrencyamount-dictionary\" target=\"_blank\" rel=\"noopener noreferrer\"><code>PaymentCurrencyAmount</code></a> type?</p></blockquote><h2>Browser behavior<a href=\"#browser-behavior\" title=\"Direct link to heading\">#</a></h2><p>A web monetized browser exposes a <code>document.monetization</code> DOM object that\nimplements <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\" target=\"_blank\" rel=\"noopener noreferrer\">EventTarget</a>\nand has a read-only <a href=\"/docs/api#states\"><code>state</code> property</a>. The object allows you to\ntrack Web Monetization events and see whether the user visiting your page is web monetized.</p><ol><li><p>If the browser finds a valid payment pointer in a page's <code>&lt;meta&gt;</code>\ntag it generates a fresh UUID (version 4) and uses this as the <strong>session\nID</strong> from this point forward.</p><blockquote><p>This session ID <strong>MUST</strong> be unique per page load, <strong>NOT</strong> per browser,\nsession, or site.</p></blockquote><ul><li>The <code>&lt;meta&gt;</code> tag <strong>MUST</strong> be in the <code>&lt;head&gt;</code> of the document.</li><li>If the <code>&lt;meta&gt;</code> tag is well-formed, the browser will extract the payment\npointer.</li><li>If the <code>&lt;meta&gt;</code> tag is malformed, the browser will\nabort monetization processing. The browser <strong>SHOULD</strong> report a warning\nvia the console.</li></ul></li><li><p>The browser uses its internal Web Monetization agent to calculate the rate\nit should pay the current website. If the result is 0 it aborts.</p></li><li><p>The browser resolves the payment pointer and gets a unique\nInterledger address (destination address) and shared secret to use for the\ncurrent session. The browser then begins sending payments via the WM provider.</p></li><li><p>The browser invokes the user's WM provider <a href=\"/docs/sending\">by emitting new <code>PaymentRequestEvent</code> events</a>\nwith the necessary details.</p></li><li><p>Once the WM provider has successfully completed the first payment with a non-zero\namount, the browser sets the <code>document.monetization.state</code> to <code>started</code> and\nthen dispatches the <code>monetizationstart</code> event on <code>document.monetization</code>.\nThe event has a <code>detail</code> field with an object containing the payment pointer\nand the session ID (referred to as the <code>requestId</code> in the object).</p></li><li><p>The browser continues to send payments at the calculated rate. Every time\nit completes a payment (including the first payment) it dispatches a\n<code>monetizationprogress</code> event from <code>document.monetization</code>. The event has a\n<code>detail</code> field with an object containing the amount and currency\n(<code>assetCode</code>) of the payment as well as an optional receipt.</p></li><li><p>Payment continues until the user closes/leaves the page or the browser decides\nto stop payment. The browser can decide to start and stop payments at any time\n(e.g., if the user is idle or backgrounds the page).</p></li></ol><h3>Auditing / dashboard<a href=\"#auditing--dashboard\" title=\"Direct link to heading\">#</a></h3><p>It must be possible for users to get summaries of payments compiled by the\nbrowser. Summaries allow users to reconcile information from websites and WM\nproviders about how much they have paid. Payments should be broken down by the:</p><ul><li>Origin of the websites paid</li><li>WM provider making the payments</li><li>Date and time</li></ul><p>It should also be possible to:</p><ul><li>Tell the browser <strong>NOT</strong> to pay a particular website any money. For example,\nwhen a web monetized user visits a monetized site containing opposing\nviewpoints or etc. and doesn't want to contribute financially.</li><li>Give the browser a list of sites which can optionally be paid more than the\nusual sum. For example, when a web monetized user visits a favorite charity's\nmonetized website.</li></ul><h2>Web Monetization provider interface<a href=\"#web-monetization-provider-interface\" title=\"Direct link to heading\">#</a></h2><p>The Web Monetization provider (sender) interface leverages the\n<a href=\"https://www.w3.org/TR/payment-handler/\" target=\"_blank\" rel=\"noopener noreferrer\">Payment Handler API</a>.</p><p>More details are provided in the <a href=\"/docs/sending\">Sending payments</a> page.</p><h2>Existing implementations<a href=\"#existing-implementations\" title=\"Direct link to heading\">#</a></h2><p>Please submit a PR if you are aware of updates to the lists below.</p><h3>Web Monetization receivers<a href=\"#web-monetization-receivers\" title=\"Direct link to heading\">#</a></h3><ul><li><a href=\"https://gatehub.net/\" target=\"_blank\" rel=\"noopener noreferrer\">GateHub</a></li><li><a href=\"https://uphold.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Uphold</a></li></ul><h3>Web Monetization providers (senders)<a href=\"#web-monetization-providers-senders\" title=\"Direct link to heading\">#</a></h3><ul><li><a href=\"https://coil.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Coil</a></li></ul><h3>Browsers<a href=\"#browsers\" title=\"Direct link to heading\">#</a></h3><ul><li><a href=\"https://chrome.google.com/webstore/detail/coil/locbifcbeldmnphbgkdigjmkbfkhbnca\" target=\"_blank\" rel=\"noopener noreferrer\">Google Chrome (desktop) + Coil Extension</a></li><li><a href=\"https://addons.mozilla.org/en-US/firefox/addon/coil/\" target=\"_blank\" rel=\"noopener noreferrer\">Mozilla Firefox (desktop) + Coil Extension</a></li><li><a href=\"https://microsoftedge.microsoft.com/addons/detail/ljionajlbinlfkdnpkloejeoogfgkojm\" target=\"_blank\" rel=\"noopener noreferrer\">Microsoft Edge (desktop) + Coil Extension</a></li><li><a href=\"https://chrome.google.com/webstore/detail/coil/locbifcbeldmnphbgkdigjmkbfkhbnca\" target=\"_blank\" rel=\"noopener noreferrer\">Brave Browser (desktop) + Coil Extension</a></li><li><a href=\"https://www.pumabrowser.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Puma Browser (mobile)</a></li></ul></div></div>","textContent":"Web Monetization (WM) is a proposed API standard that allows websites to request\na stream of very small payments (e.g. fractions of a cent) from a user.The API's framework provides new revenue models for websites and web-based\nservices and is an alternative to subscription services and advertising, all\nwhile preserving the user's privacy.In exchange for payments from the user, websites can provide the user with a\n\"premium\" experience, such as allowing access to exclusive content, removing\nadvertising, or even removing the need to log in to access content or services.Skip straight to code...Goals#Payment#Provide websites with a way to collect multiple small payments from users in\nexchange for consuming the site's content and/or services.Frictionless user experience#Allow users to pre-approve payments in aggregate or delegate the authorization\nof individual small payments to a component/service (a Web Monetization\nagent) that makes decisions about when and how much to pay websites without\nthe need for user interaction.User privacy#This system must preserve the user's privacy. It must not be possible for\nwebsites to track users on the basis of the payments they make, and it must not\nbe possible for the user's Web Monetization provider to get details of a\nuser's browsing history.Non-goals#Online purchases#Web Monetization is intended to enable very small payments. This distinction is\nimportant because very small payments can be performed with different levels of\nuser consent, unlike larger payments, such as those used in traditional\ne-commerce.Flow overview#Prerequisites#Users must have an account or subscription with a Web Monetization provider\n(also known as a WM sender).Users must have a Web Monetization agent installed in their browser with\nthe necessary authorization to initiate payments from the WM provider on the\nuser's behalf.Websites must sign up with, or run their own, Web Monetization receiver.The WM receiver and WM provider do not need a direct relationship. Their\nshared use of the Interledger network allows payments to be sent from the\nWM provider to the WM receiver.Sequence diagram#Flow#The numbers correspond to the diagram above. The flow is simplified to exclude\nsome edge cases.Sites that support Web Monetization include a <meta> tag containing a\npayment pointer. The browser (user agent) parses the tag to\ndetermine where to send payments.The browser uses its internal Web Monetization agent to calculate an\nappropriate rate of payments to make to the site.The browser generates a unique session ID for this payment session.The browser fetches a unique destination address and shared secret for the\nsession from the site's payment pointer URL.(Optional) A payment receipt verifier service (operated by the site or a\nthird party) proxies the request and sends a Receipt Secret to generate receipts\nand Receipt Nonce to include in those receipts to the WM Receiver.With the site's page still in focus, the browser begins initiating payments\nto the website at the calculated rate from the user's WM provider.Issue 17 - Support Streaming to Background TabsWhat about people listening to monetized music in a background tab?The WM provider sends the payment to the WM receiver.(Optional) The WM receiver generates and sends a receipt to the WM\nprovider.The WM provider notifies the browser of successful payments.The browser, in turn, dispatches an event that informs the page of the\npayment.(Optional) The page confirms payment by sending the receipt to the\nverifier service.Why is a standard required?#There are many services attempting to provide alternative means to monetize the\nweb and generate revenue for content creators and service providers without\nselling ads.However, most of these require that the user and the creator/producer/service\nprovider join a common network that offers to facilitate the transactions\nbetween users and these services.The result is a fragmented web of closed content and service silos, rather than\nthe global and open web we desire. Further, users sacrifice their privacy\nbecause the service is both collecting payments from the user and paying out\nto the creator/producer/service provider. The service is therefore able to\ncorrelate payments and collect data about which services are accessed by users.Web Monetization decouples the provider (sender) and the receiver. Using the\nbrowser as an intermediary, the privacy of users is protected and payments can't\nbe used to track a user across sites.Design discussion points#This proposal is modeled on a working implementation that uses a browser\nextension to provide the necessary browser-side functionality. However, there\nare various design decisions that may be worth discussing further as a community\nas we figure out how Web Monetization could be built directly into browsers.By bringing this work to the WICG, our goal is to get input from multiple Web\nMonetization providers and implementors to refine the design and produce a W3C\nstandards-track specification.Declarative vs imperative API#The current proposal is for a hybrid declarative and imperative API. Websites\ndeclare their ability to accept web monetized payments using a <meta> tag in\nthe page header. Imperatively, a developer can then access the global\nmonetization object on the DOM to track incoming payment streams/events and\nreact to these (by showing/hiding ads, etc.).Issue 33 - Declarative vs Imperative APIUse updated Payment Request and Payment Handler APIs#The Web Payments WG has designed two APIs that follow a similar pattern to Web\nMonetization but for a different use case.The Payment Request API is an imperative API that websites can use to request a\nsingle discrete payment. The API is designed to always prompt the user for\nauthorization as part of the flow, as the API is designed for payment sizes\nwhere this is necessary. However, nothing prevents the API from also\nsupporting a non-interactive flow that supports Web Monetization use cases.The Payment Handler API aligns well with the model anticipated for WM providers.\nA provider might manifest as a specialized payment handler capable of returning\nnot just a PaymentResponse but also a handle to a stream of micropayments.Issue 34 - Use Updated Payment Request and Payment Handler APIs?This sounds a lot like streams...#In keeping with the trend toward streaming APIs, the API surface could be\nupdated to implement the WHATWG Stream API\nrather than events.We will investigate the pros/cons of using streams and events for Web\nMonetization as part of the incubation process.Issue 27 - Readable Stream vs Progress Event vs BothConcepts#Web Monetization depends on two critical technologies/concepts that enable open\nand interoperable payments between providers and websites for very small amounts:\nInterledger and payment pointers.Interledger#Interledger is a payment messaging protocol for making payments of any size that\ncan be aggregated and settled over existing payment networks (including those\nthat do not support very small payment sizes or real-time payments clearing).The design of the protocol also allows for payments to be made that span\nmultiple underlying settlement networks, improving the interoperability and\nreach of existing networks.Web Monetization providers and receivers use the Interledger protocol to exchange\npayments. The provider and WM receiver might be directly connected or might\nconnect via one or more intermediaries. This will be driven by the regulatory\nrequirements and the status of intermediaries as registered money services businesses.For more details see https://interledger.org.Payment pointers#Payment pointers are a convenient and concise way to express a URL that points\nto a secure payment initiation endpoint on the Web.Payment pointers resolve to an HTTPS URL using simple conversion rules.Using payment pointers, systems that offer payment accounts can give users a\nsimple and easy-to-remember identifier for their account that's safe to\nshare with 3rd parties (unlike a credit card number) and is immediately\nidentifiable as a payment account identifier.Example payment pointers: $alice.wallet.example and $wallet.example/alice.These resolve to https://alice.wallet.example/.well-known/pay and https://wallet.example/alice respectively.Websites that use Web Monetization require a destination address for their\npayments (which they will get from their WM receiver). The address must be inserted\ninto the appropriate meta tag.For more details see https://paymentpointers.org.Getting Started#For a high-level overview, see the Quick start guide.Set up a receiving account#To use Web Monetization a website owner must have a financial account at a\nservice provider capable of receiving payments (WM receiver) via the Interledger\nprotocol.Such a service (a digital wallet, bank, or similar) must provide the website\nowner with a payment pointer that serves as the public address for the\naccount.Example: Alice owns the website at https://rocknrollblog.example and\nopens an account at Secure Receiving Wallet Ltd.. Secure Wallet tells Alice that the\npayment pointer for her account is $secure-wallet.example/~alice. For\nprivacy reasons Alice might also get the payment pointer\n$secure-wallet.example/db74f8b4-d6a0-4489-a021-e785e5efb229 or be able to\ngenerate new addresses on demand (this would be a feature of her WM receiver).Add <meta> tag to website header#The website contains a <meta> tag in the header of the HTML documents it\nserves. The tag's name attribute must always have the value monetization.\nThe value of the content attribute is the payment pointer where the website\nwill accept payments.Example: Alice puts the tag\n<meta name=\"monetization\" content=\"$secure-wallet.example/~alice\"> into the\n<head> section of https://rocknrollblog.example.Web Monetization only works on pages containing the meta tag. Pages must be\nsecure (served over HTTPS, or http://localhost for testing) to preclude bad\nactors, like ISPs injecting their own <meta> tags into pages.Issue 14 (Closed) - Legitimate Meta Tags\nHow do we ensure only legitimate tags are parsed by the browser?Handle payments#When a user visits a monetized site with a supported browser the site will find a\ndocument.monetization object in the DOM. The object will have a state\nproperty that the website can check to determine if the user's WM provider has\nstarted sending payments.The document.monetization object will emit events when monetization starts and\nthen subsequently each time a payment is sent successfully by the WM provider. The\nstart event will contain a unique identifier for the payment stream that can be\nused to correlate the payments at the WM receiver with the user's current browser\nsession.Example: Alice adds the client-side code shown below to her website to\nlisten for the relevant monetization events. Now her site only shows\nadvertising if she isn't receiving payments.Issue 16 - Use PaymentCurrencyAmount Dictionary\nShould the amount in the monetizationprogress event use the existing PaymentCurrencyAmount type?Browser behavior#A web monetized browser exposes a document.monetization DOM object that\nimplements EventTarget\nand has a read-only state property. The object allows you to\ntrack Web Monetization events and see whether the user visiting your page is web monetized.If the browser finds a valid payment pointer in a page's <meta>\ntag it generates a fresh UUID (version 4) and uses this as the session\nID from this point forward.This session ID MUST be unique per page load, NOT per browser,\nsession, or site.The <meta> tag MUST be in the <head> of the document.If the <meta> tag is well-formed, the browser will extract the payment\npointer.If the <meta> tag is malformed, the browser will\nabort monetization processing. The browser SHOULD report a warning\nvia the console.The browser uses its internal Web Monetization agent to calculate the rate\nit should pay the current website. If the result is 0 it aborts.The browser resolves the payment pointer and gets a unique\nInterledger address (destination address) and shared secret to use for the\ncurrent session. The browser then begins sending payments via the WM provider.The browser invokes the user's WM provider by emitting new PaymentRequestEvent events\nwith the necessary details.Once the WM provider has successfully completed the first payment with a non-zero\namount, the browser sets the document.monetization.state to started and\nthen dispatches the monetizationstart event on document.monetization.\nThe event has a detail field with an object containing the payment pointer\nand the session ID (referred to as the requestId in the object).The browser continues to send payments at the calculated rate. Every time\nit completes a payment (including the first payment) it dispatches a\nmonetizationprogress event from document.monetization. The event has a\ndetail field with an object containing the amount and currency\n(assetCode) of the payment as well as an optional receipt.Payment continues until the user closes/leaves the page or the browser decides\nto stop payment. The browser can decide to start and stop payments at any time\n(e.g., if the user is idle or backgrounds the page).Auditing / dashboard#It must be possible for users to get summaries of payments compiled by the\nbrowser. Summaries allow users to reconcile information from websites and WM\nproviders about how much they have paid. Payments should be broken down by the:Origin of the websites paidWM provider making the paymentsDate and timeIt should also be possible to:Tell the browser NOT to pay a particular website any money. For example,\nwhen a web monetized user visits a monetized site containing opposing\nviewpoints or etc. and doesn't want to contribute financially.Give the browser a list of sites which can optionally be paid more than the\nusual sum. For example, when a web monetized user visits a favorite charity's\nmonetized website.Web Monetization provider interface#The Web Monetization provider (sender) interface leverages the\nPayment Handler API.More details are provided in the Sending payments page.Existing implementations#Please submit a PR if you are aware of updates to the lists below.Web Monetization receivers#GateHubUpholdWeb Monetization providers (senders)#CoilBrowsers#Google Chrome (desktop) + Coil ExtensionMozilla Firefox (desktop) + Coil ExtensionMicrosoft Edge (desktop) + Coil ExtensionBrave Browser (desktop) + Coil ExtensionPuma Browser (mobile)","length":14447,"excerpt":"Web Monetization (WM) is a proposed API standard that allows websites to request","byline":null,"dir":"ltr","siteName":null,"lang":"en"},"finalizedMeta":{"title":"Web Monetization Explainer | Web Monetization","description":"Web Monetization (WM) is a proposed API standard that allows websites to request","author":false,"creator":"","publisher":false,"date":"2022-03-09T18:44:01.685Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"Web Monetization Explainer | Web Monetization","description":"Web Monetization (WM) is a proposed API standard that allows websites to request","canonical":"https://webmonetization.org/docs/explainer","keywords":[],"image":"/img/wm-icon.svg","firstParagraph":"Web Monetization (WM) is a proposed API standard that allows websites to request\na stream of very small payments (e.g. fractions of a cent) from a user."},"dublinCore":{},"opengraph":{"title":"Web Monetization Explainer | Web Monetization","description":"Web Monetization (WM) is a proposed API standard that allows websites to request","url":"https://webmonetization.org/docs/explainer","site_name":false,"locale":false,"type":false,"typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":false},"twitter":{"site":false,"description":false,"card":false,"creator":false,"title":false,"image":false},"archivedData":{"link":false,"wayback":false}}}