{"initialLink":"https://w3cping.github.io/privacy-threat-model/","sanitizedLink":"https://w3cping.github.io/privacy-threat-model/","finalLink":"https://w3cping.github.io/privacy-threat-model","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://w3cping.github.io/privacy-threat-model\" itemprop=\"url\">Target Privacy Threat Model</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-04-05T17:38:44.876Z\">3/5/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>This document is at a very early stage. Many things in it are wrongand/or incomplete. Please take it as a rough shape for how we might document thetarget threat model, rather than as definite statements about what should be inthe target threat model.</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a is=\"contexter-link\" href=\"https://w3cping.github.io/privacy-threat-model\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"a6ff6335f75fab579f61627991edcc3adac023e8","data":{"originalLink":"https://w3cping.github.io/privacy-threat-model/","sanitizedLink":"https://w3cping.github.io/privacy-threat-model/","canonical":"https://w3cping.github.io/privacy-threat-model","htmlText":"<!doctype html><html lang=\"en\">\n <head>\n  <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n  <title>Target Privacy Threat Model</title>\n  <meta content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" name=\"viewport\">\n<style data-fill-with=\"stylesheet\">/******************************************************************************\n *                   Style sheet for the W3C specifications                   *\n *\n * Special classes handled by this style sheet include:\n *\n * Indices\n *   - .toc for the Table of Contents (<ol class=\"toc\">)\n *     + <span class=\"secno\"> for the section numbers\n *   - #toc for the Table of Contents (<nav id=\"toc\">)\n *   - ul.index for Indices (<a href=\"#ref\">term</a><span>, in §N.M</span>)\n *   - table.index for Index Tables (e.g. for properties or elements)\n *\n * Structural Markup\n *   - table.data for general data tables\n *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !\n *     -> use <table class='complex data'> for extra-complex tables\n *     -> use <td class='long'> for paragraph-length cell content\n *     -> use <td class='pre'> when manual line breaks/indentation would help readability\n *   - dl.switch for switch statements\n *   - ol.algorithm for algorithms (helps to visualize nesting)\n *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)\n *     -> .sidefigure for right-floated figures\n *   - ins/del\n *\n * Code\n *   - pre and code\n *\n * Special Sections\n *   - .note       for informative notes             (div, p, span, aside, details)\n *   - .example    for informative examples          (div, p, pre, span)\n *   - .issue      for issues                        (div, p, span)\n *   - .assertion  for assertions                    (div, p, span)\n *   - .advisement for loud normative statements     (div, p, strong)\n *   - .annoying-warning for spec obsoletion notices (div, aside, details)\n *\n * Definition Boxes\n *   - pre.def   for WebIDL definitions\n *   - table.def for tables that define other entities (e.g. CSS properties)\n *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)\n *\n * Numbering\n *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)\n *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)\n *   - ::before styled for CSS-generated issue/example/figure numbers:\n *     -> Documents wishing to use this only need to add\n *        figcaption::before,\n *        .caption::before { content: \"Figure \"  counter(figure) \" \";  }\n *        .example::before { content: \"Example \" counter(example) \" \"; }\n *        .issue::before   { content: \"Issue \"   counter(issue) \" \";   }\n *\n * Header Stuff (ignore, just don't conflict with these classes)\n *   - .head for the header\n *   - .copyright for the copyright\n *\n * Miscellaneous\n *   - .overlarge for things that should be as wide as possible, even if\n *     that overflows the body text area. This can be used on an item or\n *     on its container, depending on the effect desired.\n *     Note that this styling basically doesn't help at all when printing,\n *     since A4 paper isn't much wider than the max-width here.\n *     It's better to design things to fit into a narrower measure if possible.\n *   - js-added ToC jump links (see fixup.js)\n *\n ******************************************************************************/\n\n/******************************************************************************/\n/*                                   Body                                     */\n/******************************************************************************/\n\n\tbody {\n\t\tcounter-reset: example figure issue;\n\n\t\t/* Layout */\n\t\tmax-width: 50em;               /* limit line length to 50em for readability   */\n\t\tmargin: 0 auto;                /* center text within page                     */\n\t\tpadding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */\n\t\tpadding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */\n\n\t\t/* Typography */\n\t\tline-height: 1.5;\n\t\tfont-family: sans-serif;\n\t\twidows: 2;\n\t\torphans: 2;\n\t\tword-wrap: break-word;\n\t\toverflow-wrap: break-word;\n\t\thyphens: auto;\n\n\t\t/* Colors */\n\t\tcolor: black;\n\t\tbackground: white top left fixed no-repeat;\n\t\tbackground-size: 25px auto;\n\t}\n\n\n/******************************************************************************/\n/*                         Front Matter & Navigation                          */\n/******************************************************************************/\n\n/** Header ********************************************************************/\n\n\tdiv.head { margin-bottom: 1em }\n\tdiv.head hr { border-style: solid; }\n\n\tdiv.head h1 {\n\t\tfont-weight: bold;\n\t\tmargin: 0 0 .1em;\n\t\tfont-size: 220%;\n\t}\n\n\tdiv.head h2 { margin-bottom: 1.5em;}\n\n/** W3C Logo ******************************************************************/\n\n\t.head .logo {\n\t\tfloat: right;\n\t\tmargin: 0.4rem 0 0.2rem .4rem;\n\t}\n\n\t.head img[src*=\"logos/W3C\"] {\n\t\tdisplay: block;\n\t\tborder: solid #1a5e9a;\n\t\tborder-width: .65rem .7rem .6rem;\n\t\tborder-radius: .4rem;\n\t\tbackground: #1a5e9a;\n\t\tcolor: white;\n\t\tfont-weight: bold;\n\t}\n\n\t.head a:hover > img[src*=\"logos/W3C\"],\n\t.head a:focus > img[src*=\"logos/W3C\"] {\n\t\topacity: .8;\n\t}\n\n\t.head a:active > img[src*=\"logos/W3C\"] {\n\t\tbackground: #c00;\n\t\tborder-color: #c00;\n\t}\n\n\t/* see also additional rules in Link Styling section */\n\n/** Copyright *****************************************************************/\n\n\tp.copyright,\n\tp.copyright small { font-size: small }\n\n/** Back to Top / ToC Toggle **************************************************/\n\n\t@media print {\n\t\t#toc-nav {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\t@media not print {\n\t\t#toc-nav {\n\t\t\tposition: fixed;\n\t\t\tz-index: 2;\n\t\t\tbottom: 0; left: 0;\n\t\t\tmargin: 0;\n\t\t\tmin-width: 1.33em;\n\t\t\tborder-top-right-radius: 2rem;\n\t\t\tbox-shadow: 0 0 2px;\n\t\t\tfont-size: 1.5em;\n\t\t\tcolor: black;\n\t\t}\n\t\t#toc-nav > a {\n\t\t\tdisplay: block;\n\t\t\twhite-space: nowrap;\n\n\t\t\theight: 1.33em;\n\t\t\tpadding: .1em 0.3em;\n\t\t\tmargin: 0;\n\n\t\t\tbackground: white;\n\t\t\tbox-shadow: 0 0 2px;\n\t\t\tborder: none;\n\t\t\tborder-top-right-radius: 1.33em;\n\t\t\tbackground: white;\n\t\t}\n\t\t#toc-nav > #toc-jump {\n\t\t\tpadding-bottom: 2em;\n\t\t\tmargin-bottom: -1.9em;\n\t\t}\n\n\t\t#toc-nav > a:hover,\n\t\t#toc-nav > a:focus {\n\t\t\tbackground: #f8f8f8;\n\t\t}\n\t\t#toc-nav > a:not(:hover):not(:focus) {\n\t\t\tcolor: #707070;\n\t\t}\n\n\t\t/* statusbar gets in the way on keyboard focus; remove once browsers fix */\n\t\t#toc-nav > a[href=\"#toc\"]:not(:hover):focus:last-child {\n\t\t\tpadding-bottom: 1.5rem;\n\t\t}\n\n\t\t#toc-nav:not(:hover) > a:not(:focus) > span + span {\n\t\t\t/* Ideally this uses :focus-within on #toc-nav */\n\t\t\tdisplay: none;\n\t\t}\n\t\t#toc-nav > a > span + span {\n\t\t\tpadding-right: 0.2em;\n\t\t}\n\n\t\t#toc-toggle-inline {\n\t\t\tvertical-align: 0.05em;\n\t\t\tfont-size: 80%;\n\t\t\tcolor: gray;\n\t\t\tcolor: hsla(203,20%,40%,.7);\n\t\t\tborder-style: none;\n\t\t\tbackground: transparent;\n\t\t\tposition: relative;\n\t\t}\n\t\t#toc-toggle-inline:hover:not(:active),\n\t\t#toc-toggle-inline:focus:not(:active) {\n\t\t\ttext-shadow: 1px 1px silver;\n\t\t\ttop: -1px;\n\t\t\tleft: -1px;\n\t\t}\n\n\t\t#toc-nav :active {\n\t\t\tcolor: #C00;\n\t\t}\n\t}\n\n/** ToC Sidebar ***************************************************************/\n\n\t/* Floating sidebar */\n\t@media screen {\n\t\tbody.toc-sidebar #toc {\n\t\t\tposition: fixed;\n\t\t\ttop: 0; bottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 23.5em;\n\t\t\tmax-width: 80%;\n\t\t\tmax-width: calc(100% - 2em - 26px);\n\t\t\toverflow: auto;\n\t\t\tpadding: 0 1em;\n\t\t\tpadding-left: 42px;\n\t\t\tpadding-left: calc(1em + 26px);\n\t\t\tbackground: inherit;\n\t\t\tbackground-color: #f7f8f9;\n\t\t\tz-index: 1;\n\t\t\tbox-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;\n\t\t}\n\t\tbody.toc-sidebar #toc h2 {\n\t\t\tmargin-top: .8rem;\n\t\t\tfont-variant: small-caps;\n\t\t\tfont-variant: all-small-caps;\n\t\t\ttext-transform: lowercase;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: gray;\n\t\t\tcolor: hsla(203,20%,40%,.7);\n\t\t}\n\t\tbody.toc-sidebar #toc-jump:not(:focus) {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tpadding: 0;\n\t\t\tposition: absolute;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\t/* Hide main scroller when only the ToC is visible anyway */\n\t@media screen and (max-width: 28em) {\n\t\tbody.toc-sidebar {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t/* Sidebar with its own space */\n\t@media screen and (min-width: 78em) {\n\t\tbody:not(.toc-inline) #toc {\n\t\t\tposition: fixed;\n\t\t\ttop: 0; bottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 23.5em;\n\t\t\toverflow: auto;\n\t\t\tpadding: 0 1em;\n\t\t\tpadding-left: 42px;\n\t\t\tpadding-left: calc(1em + 26px);\n\t\t\tbackground: inherit;\n\t\t\tbackground-color: #f7f8f9;\n\t\t\tz-index: 1;\n\t\t\tbox-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;\n\t\t}\n\t\tbody:not(.toc-inline) #toc h2 {\n\t\t\tmargin-top: .8rem;\n\t\t\tfont-variant: small-caps;\n\t\t\tfont-variant: all-small-caps;\n\t\t\ttext-transform: lowercase;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: gray;\n\t\t\tcolor: hsla(203,20%,40%,.7);\n\t\t}\n\n\t\tbody:not(.toc-inline) {\n\t\t\tpadding-left: 29em;\n\t\t}\n\t\t/* See also Overflow section at the bottom */\n\n\t\tbody:not(.toc-inline) #toc-jump:not(:focus) {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tpadding: 0;\n\t\t\tposition: absolute;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\t@media screen and (min-width: 90em) {\n\t\tbody:not(.toc-inline) {\n\t\t\tmargin: 0 4em;\n\t\t}\n\t}\n\n/******************************************************************************/\n/*                                Sectioning                                  */\n/******************************************************************************/\n\n/** Headings ******************************************************************/\n\n\th1, h2, h3, h4, h5, h6, dt {\n\t\tpage-break-after: avoid;\n\t\tpage-break-inside: avoid;\n\t\tfont: 100% sans-serif;   /* Reset all font styling to clear out UA styles */\n\t\tfont-family: inherit;    /* Inherit the font family. */\n\t\tline-height: 1.2;        /* Keep wrapped headings compact */\n\t\thyphens: manual;         /* Hyphenated headings look weird */\n\t}\n\n\th2, h3, h4, h5, h6 {\n\t\tmargin-top: 3rem;\n\t}\n\n\th1, h2, h3 {\n\t\tcolor: #005A9C;\n\t\tbackground: transparent;\n\t}\n\n\th1 { font-size: 170%; }\n\th2 { font-size: 140%; }\n\th3 { font-size: 120%; }\n\th4 { font-weight: bold; }\n\th5 { font-style: italic; }\n\th6 { font-variant: small-caps; }\n\tdt { font-weight: bold; }\n\n/** Subheadings ***************************************************************/\n\n\th1 + h2,\n\t#subtitle {\n\t\t/* #subtitle is a subtitle in an H2 under the H1 */\n\t\tmargin-top: 0;\n\t}\n\th2 + h3,\n\th3 + h4,\n\th4 + h5,\n\th5 + h6 {\n\t\tmargin-top: 1.2em; /* = 1 x line-height */\n\t}\n\n/** Section divider ***********************************************************/\n\n\t:not(.head) > hr {\n\t\tfont-size: 1.5em;\n\t\ttext-align: center;\n\t\tmargin: 1em auto;\n\t\theight: auto;\n\t\tborder: transparent solid 0;\n\t\tbackground: transparent;\n\t}\n\t:not(.head) > hr::before {\n\t\tcontent: \"\\2727\\2003\\2003\\2727\\2003\\2003\\2727\";\n\t}\n\n/******************************************************************************/\n/*                            Paragraphs and Lists                            */\n/******************************************************************************/\n\n\tp {\n\t\tmargin: 1em 0;\n\t}\n\n\tdd > p:first-child,\n\tli > p:first-child {\n\t\tmargin-top: 0;\n\t}\n\n\tul, ol {\n\t\tmargin-left: 0;\n\t\tpadding-left: 2em;\n\t}\n\n\tli {\n\t\tmargin: 0.25em 0 0.5em;\n\t\tpadding: 0;\n\t}\n\n\tdl dd {\n\t\tmargin: 0 0 .5em 2em;\n\t}\n\n\t.head dd + dd { /* compact for header */\n\t\tmargin-top: -.5em;\n\t}\n\n\t/* Style for algorithms */\n\tol.algorithm ol:not(.algorithm),\n\t.algorithm > ol ol:not(.algorithm) {\n\t border-left: 0.5em solid #DEF;\n\t}\n\n\t/* Put nice boxes around each algorithm. */\n\t[data-algorithm]:not(.heading) {\n\t  padding: .5em;\n\t  border: thin solid #ddd; border-radius: .5em;\n\t  margin: .5em calc(-0.5em - 1px);\n\t}\n\t[data-algorithm]:not(.heading) > :first-child {\n\t  margin-top: 0;\n\t}\n\t[data-algorithm]:not(.heading) > :last-child {\n\t  margin-bottom: 0;\n\t}\n\n\t/* Style for switch/case <dl>s */\n\tdl.switch > dd > ol.only,\n\tdl.switch > dd > .only > ol {\n\t margin-left: 0;\n\t}\n\tdl.switch > dd > ol.algorithm,\n\tdl.switch > dd > .algorithm > ol {\n\t margin-left: -2em;\n\t}\n\tdl.switch {\n\t padding-left: 2em;\n\t}\n\tdl.switch > dt {\n\t text-indent: -1.5em;\n\t margin-top: 1em;\n\t}\n\tdl.switch > dt + dt {\n\t margin-top: 0;\n\t}\n\tdl.switch > dt::before {\n\t content: '\\21AA';\n\t padding: 0 0.5em 0 0;\n\t display: inline-block;\n\t width: 1em;\n\t text-align: right;\n\t line-height: 0.5em;\n\t}\n\n/** Terminology Markup ********************************************************/\n\n\n/******************************************************************************/\n/*                                 Inline Markup                              */\n/******************************************************************************/\n\n/** Terminology Markup ********************************************************/\n\tdfn   { /* Defining instance */\n\t\tfont-weight: bolder;\n\t}\n\ta > i { /* Instance of term */\n\t\tfont-style: normal;\n\t}\n\tdt dfn code, code.idl {\n\t\tfont-size: medium;\n\t}\n\tdfn var {\n\t\tfont-style: normal;\n\t}\n\n/** Change Marking ************************************************************/\n\n\tdel { color: red;  text-decoration: line-through; }\n\tins { color: #080; text-decoration: underline;    }\n\n/** Miscellaneous improvements to inline formatting ***************************/\n\n\tsup {\n\t\tvertical-align: super;\n\t\tfont-size: 80%\n\t}\n\n/******************************************************************************/\n/*                                    Code                                    */\n/******************************************************************************/\n\n/** General monospace/pre rules ***********************************************/\n\n\tpre, code, samp {\n\t\tfont-family: Menlo, Consolas, \"DejaVu Sans Mono\", Monaco, monospace;\n\t\tfont-size: .9em;\n\t\tpage-break-inside: avoid;\n\t\thyphens: none;\n\t\ttext-transform: none;\n\t}\n\tpre code,\n\tcode code {\n\t\tfont-size: 100%;\n\t}\n\n\tpre {\n\t\tmargin-top: 1em;\n\t\tmargin-bottom: 1em;\n\t\toverflow: auto;\n\t}\n\n/** Inline Code fragments *****************************************************/\n\n  /* Do something nice. */\n\n/******************************************************************************/\n/*                                    Links                                   */\n/******************************************************************************/\n\n/** General Hyperlinks ********************************************************/\n\n\t/* We hyperlink a lot, so make it less intrusive */\n\ta[href] {\n\t\tcolor: #034575;\n\t\ttext-decoration: none;\n\t\tborder-bottom: 1px solid #707070;\n\t\t/* Need a bit of extending for it to look okay */\n\t\tpadding: 0 1px 0;\n\t\tmargin: 0 -1px 0;\n\t}\n\ta:visited {\n\t\tborder-bottom-color: #BBB;\n\t}\n\n\t/* Use distinguishing colors when user is interacting with the link */\n\ta[href]:focus,\n\ta[href]:hover {\n\t\tbackground: #f8f8f8;\n\t\tbackground: rgba(75%, 75%, 75%, .25);\n\t\tborder-bottom-width: 3px;\n\t\tmargin-bottom: -2px;\n\t}\n\ta[href]:active {\n\t\tcolor: #C00;\n\t\tborder-color: #C00;\n\t}\n\n\t/* Backout above styling for W3C logo */\n\t.head .logo,\n\t.head .logo a {\n\t\tborder: none;\n\t\ttext-decoration: none;\n\t\tbackground: transparent;\n\t}\n\n/******************************************************************************/\n/*                                    Images                                  */\n/******************************************************************************/\n\n\timg {\n\t\tborder-style: none;\n\t}\n\n\t/* For autogen numbers, add\n\t   .caption::before, figcaption::before { content: \"Figure \" counter(figure) \". \"; }\n\t*/\n\n\tfigure, .figure, .sidefigure {\n\t\tpage-break-inside: avoid;\n\t\ttext-align: center;\n\t\tmargin: 2.5em 0;\n\t}\n\t.figure img,    .sidefigure img,    figure img,\n\t.figure object, .sidefigure object, figure object {\n\t\tmax-width: 100%;\n\t\tmargin: auto;\n\t}\n\t.figure pre, .sidefigure pre, figure pre {\n\t\ttext-align: left;\n\t\tdisplay: table;\n\t\tmargin: 1em auto;\n\t}\n\t.figure table, figure table {\n\t\tmargin: auto;\n\t}\n\t@media screen and (min-width: 20em) {\n\t\t.sidefigure {\n\t\t\tfloat: right;\n\t\t\twidth: 50%;\n\t\t\tmargin: 0 0 0.5em 0.5em\n\t\t}\n\t}\n\t.caption, figcaption, caption {\n\t\tfont-style: italic;\n\t\tfont-size: 90%;\n\t}\n\t.caption::before, figcaption::before, figcaption > .marker {\n\t\tfont-weight: bold;\n\t}\n\t.caption, figcaption {\n\t\tcounter-increment: figure;\n\t}\n\n\t/* DL list is indented 2em, but figure inside it is not */\n\tdd > .figure, dd > figure { margin-left: -2em }\n\n/******************************************************************************/\n/*                             Colored Boxes                                  */\n/******************************************************************************/\n\n\t.issue, .note, .example, .assertion, .advisement, blockquote {\n\t\tpadding: .5em;\n\t\tborder: .5em;\n\t\tborder-left-style: solid;\n\t\tpage-break-inside: avoid;\n\t}\n\tspan.issue, span.note {\n\t\tpadding: .1em .5em .15em;\n\t\tborder-right-style: solid;\n\t}\n\n\t.issue,\n\t.note,\n\t.example,\n\t.advisement,\n\t.assertion,\n\tblockquote {\n\t\tmargin: 1em auto;\n\t}\n\t.note  > p:first-child,\n\t.issue > p:first-child,\n\tblockquote > :first-child {\n\t\tmargin-top: 0;\n\t}\n\tblockquote > :last-child {\n\t\tmargin-bottom: 0;\n\t}\n\n/** Blockquotes ***************************************************************/\n\n\tblockquote {\n\t\tborder-color: silver;\n\t}\n\n/** Open issue ****************************************************************/\n\n\t.issue {\n\t\tborder-color: #E05252;\n\t\tbackground: #FBE9E9;\n\t\tcounter-increment: issue;\n\t\toverflow: auto;\n\t}\n\t.issue::before, .issue > .marker {\n\t\ttext-transform: uppercase;\n\t\tcolor: #AE1E1E;\n\t\tpadding-right: 1em;\n\t\ttext-transform: uppercase;\n\t}\n\t/* Add .issue::before { content: \"Issue \" counter(issue) \" \"; } for autogen numbers,\n\t   or use class=\"marker\" to mark up the issue number in source. */\n\n/** Example *******************************************************************/\n\n\t.example {\n\t\tborder-color: #E0CB52;\n\t\tbackground: #FCFAEE;\n\t\tcounter-increment: example;\n\t\toverflow: auto;\n\t\tclear: both;\n\t}\n\t.example::before, .example > .marker {\n\t\ttext-transform: uppercase;\n\t\tcolor: #827017;\n\t\tmin-width: 7.5em;\n\t\tdisplay: block;\n\t}\n\t/* Add .example::before { content: \"Example \" counter(example) \" \"; } for autogen numbers,\n\t   or use class=\"marker\" to mark up the example number in source. */\n\n/** Non-normative Note ********************************************************/\n\n\t.note {\n\t\tborder-color: #52E052;\n\t\tbackground: #E9FBE9;\n\t\toverflow: auto;\n\t}\n\n\t.note::before, .note > .marker,\n\tdetails.note > summary::before,\n\tdetails.note > summary > .marker {\n\t\ttext-transform: uppercase;\n\t\tdisplay: block;\n\t\tcolor: hsl(120, 70%, 30%);\n\t}\n\t/* Add .note::before { content: \"Note\"; } for autogen label,\n\t   or use class=\"marker\" to mark up the label in source. */\n\n\tdetails.note > summary {\n\t\tdisplay: block;\n\t\tcolor: hsl(120, 70%, 30%);\n\t}\n\tdetails.note[open] > summary {\n\t\tborder-bottom: 1px silver solid;\n\t}\n\n/** Assertion Box *************************************************************/\n\t/*  for assertions in algorithms */\n\n\t.assertion {\n\t\tborder-color: #AAA;\n\t\tbackground: #EEE;\n\t}\n\n/** Advisement Box ************************************************************/\n\t/*  for attention-grabbing normative statements */\n\n\t.advisement {\n\t\tborder-color: orange;\n\t\tborder-style: none solid;\n\t\tbackground: #FFEECC;\n\t}\n\tstrong.advisement {\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t}\n\t.advisement > .marker {\n\t\tcolor: #B35F00;\n\t}\n\n/** Spec Obsoletion Notice ****************************************************/\n\t/* obnoxious obsoletion notice for older/abandoned specs. */\n\n\tdetails {\n\t\tdisplay: block;\n\t}\n\tsummary {\n\t\tfont-weight: bolder;\n\t}\n\n\t.annoying-warning:not(details),\n\tdetails.annoying-warning:not([open]) > summary,\n\tdetails.annoying-warning[open] {\n\t\tbackground: #fdd;\n\t\tcolor: red;\n\t\tfont-weight: bold;\n\t\tpadding: .75em 1em;\n\t\tborder: thick red;\n\t\tborder-style: solid;\n\t\tborder-radius: 1em;\n\t}\n\t.annoying-warning :last-child {\n\t\tmargin-bottom: 0;\n\t}\n\n@media not print {\n\tdetails.annoying-warning[open] {\n\t\tposition: fixed;\n\t\tleft: 1em;\n\t\tright: 1em;\n\t\tbottom: 1em;\n\t\tz-index: 1000;\n\t}\n}\n\n\tdetails.annoying-warning:not([open]) > summary {\n\t\ttext-align: center;\n\t}\n\n/** Entity Definition Boxes ***************************************************/\n\n\t.def {\n\t\tpadding: .5em 1em;\n\t\tbackground: #DEF;\n\t\tmargin: 1.2em 0;\n\t\tborder-left: 0.5em solid #8CCBF2;\n\t}\n\n/******************************************************************************/\n/*                                    Tables                                  */\n/******************************************************************************/\n\n\tth, td {\n\t\ttext-align: left;\n\t\ttext-align: start;\n\t}\n\n/** Property/Descriptor Definition Tables *************************************/\n\n\ttable.def {\n\t\t/* inherits .def box styling, see above */\n\t\twidth: 100%;\n\t\tborder-spacing: 0;\n\t}\n\n\ttable.def td,\n\ttable.def th {\n\t\tpadding: 0.5em;\n\t\tvertical-align: baseline;\n\t\tborder-bottom: 1px solid #bbd7e9;\n\t}\n\n\ttable.def > tbody > tr:last-child th,\n\ttable.def > tbody > tr:last-child td {\n\t\tborder-bottom: 0;\n\t}\n\n\ttable.def th {\n\t\tfont-style: italic;\n\t\tfont-weight: normal;\n\t\tpadding-left: 1em;\n\t\twidth: 3em;\n\t}\n\n\t/* For when values are extra-complex and need formatting for readability */\n\ttable td.pre {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t/* A footnote at the bottom of a def table */\n\ttable.def           td.footnote {\n\t\tpadding-top: 0.6em;\n\t}\n\ttable.def           td.footnote::before {\n\t\tcontent: \" \";\n\t\tdisplay: block;\n\t\theight: 0.6em;\n\t\twidth: 4em;\n\t\tborder-top: thin solid;\n\t}\n\n/** Data tables (and properly marked-up index tables) *************************/\n\t/*\n\t\t <table class=\"data\"> highlights structural relationships in a table\n\t\t when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)\n\n\t\t Use class=\"complex data\" for particularly complicated tables --\n\t\t (This will draw more lines: busier, but clearer.)\n\n\t\t Use class=\"long\" on table cells with paragraph-like contents\n\t\t (This will adjust text alignment accordingly.)\n\t\t Alternately use class=\"longlastcol\" on tables, to have the last column assume \"long\".\n\t*/\n\n\ttable {\n\t\tword-wrap: normal;\n\t\toverflow-wrap: normal;\n\t\thyphens: manual;\n\t}\n\n\ttable.data,\n\ttable.index {\n\t\tmargin: 1em auto;\n\t\tborder-collapse: collapse;\n\t\tborder: hidden;\n\t\twidth: 100%;\n\t}\n\ttable.data caption,\n\ttable.index caption {\n\t\tmax-width: 50em;\n\t\tmargin: 0 auto 1em;\n\t}\n\n\ttable.data td,  table.data th,\n\ttable.index td, table.index th {\n\t\tpadding: 0.5em 1em;\n\t\tborder-width: 1px;\n\t\tborder-color: silver;\n\t\tborder-top-style: solid;\n\t}\n\n\ttable.data thead td:empty {\n\t\tpadding: 0;\n\t\tborder: 0;\n\t}\n\n\ttable.data  thead,\n\ttable.index thead,\n\ttable.data  tbody,\n\ttable.index tbody {\n\t\tborder-bottom: 2px solid;\n\t}\n\n\ttable.data colgroup,\n\ttable.index colgroup {\n\t\tborder-left: 2px solid;\n\t}\n\n\ttable.data  tbody th:first-child,\n\ttable.index tbody th:first-child  {\n\t\tborder-right: 2px solid;\n\t\tborder-top: 1px solid silver;\n\t\tpadding-right: 1em;\n\t}\n\n\ttable.data th[colspan],\n\ttable.data td[colspan] {\n\t\ttext-align: center;\n\t}\n\n\ttable.complex.data th,\n\ttable.complex.data td {\n\t\tborder: 1px solid silver;\n\t\ttext-align: center;\n\t}\n\n\ttable.data.longlastcol td:last-child,\n\ttable.data td.long {\n\t vertical-align: baseline;\n\t text-align: left;\n\t}\n\n\ttable.data img {\n\t\tvertical-align: middle;\n\t}\n\n\n/*\nAlternate table alignment rules\n\n\ttable.data,\n\ttable.index {\n\t\ttext-align: center;\n\t}\n\n\ttable.data  thead th[scope=\"row\"],\n\ttable.index thead th[scope=\"row\"] {\n\t\ttext-align: right;\n\t}\n\n\ttable.data  tbody th:first-child,\n\ttable.index tbody th:first-child  {\n\t\ttext-align: right;\n\t}\n\nPossible extra rowspan handling\n\n\ttable.data  tbody th[rowspan]:not([rowspan='1']),\n\ttable.index tbody th[rowspan]:not([rowspan='1']),\n\ttable.data  tbody td[rowspan]:not([rowspan='1']),\n\ttable.index tbody td[rowspan]:not([rowspan='1']) {\n\t\tborder-left: 1px solid silver;\n\t}\n\n\ttable.data  tbody th[rowspan]:first-child,\n\ttable.index tbody th[rowspan]:first-child,\n\ttable.data  tbody td[rowspan]:first-child,\n\ttable.index tbody td[rowspan]:first-child{\n\t\tborder-left: 0;\n\t\tborder-right: 1px solid silver;\n\t}\n*/\n\n/******************************************************************************/\n/*                                  Indices                                   */\n/******************************************************************************/\n\n\n/** Table of Contents *********************************************************/\n\n\t.toc a {\n\t\t/* More spacing; use padding to make it part of the click target. */\n\t\tpadding-top: 0.1rem;\n\t\t/* Larger, more consistently-sized click target */\n\t\tdisplay: block;\n\t\t/* Reverse color scheme */\n\t\tcolor: black;\n\t\tborder-color: #3980B5;\n\t\tborder-bottom-width: 3px !important;\n\t\tmargin-bottom: 0px !important;\n\t}\n\t.toc a:visited {\n\t\tborder-color: #054572;\n\t}\n\t.toc a:not(:focus):not(:hover) {\n\t\t/* Allow colors to cascade through from link styling */\n\t\tborder-bottom-color: transparent;\n\t}\n\n\t.toc, .toc ol, .toc ul, .toc li {\n\t\tlist-style: none; /* Numbers must be inlined into source */\n\t\t/* because generated content isn't search/selectable and markers can't do multilevel yet */\n\t\tmargin:  0;\n\t\tpadding: 0;\n\t\tline-height: 1.1rem; /* consistent spacing */\n\t}\n\n\t/* ToC not indented until third level, but font style & margins show hierarchy */\n\t.toc > li             { font-weight: bold;   }\n\t.toc > li li          { font-weight: normal; }\n\t.toc > li li li       { font-size:   95%;    }\n\t.toc > li li li li    { font-size:   90%;    }\n\t.toc > li li li li .secno { font-size: 85%; }\n\t.toc > li li li li li { font-size:   85%;    }\n\t.toc > li li li li li .secno { font-size: 100%; }\n\n\t/* @supports not (display:grid) { */\n\t\t.toc > li             { margin: 1.5rem 0;    }\n\t\t.toc > li li          { margin: 0.3rem 0;    }\n\t\t.toc > li li li       { margin-left: 2rem;   }\n\n\t\t/* Section numbers in a column of their own */\n\t\t.toc .secno {\n\t\t\tfloat: left;\n\t\t\twidth: 4rem;\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t.toc li {\n\t\t\tclear: both;\n\t\t}\n\n\t\t:not(li) > .toc              { margin-left:  5rem; }\n\t\t.toc .secno                  { margin-left: -5rem; }\n\t\t.toc > li li li .secno       { margin-left: -7rem; }\n\t\t.toc > li li li li .secno    { margin-left: -9rem; }\n\t\t.toc > li li li li li .secno { margin-left: -11rem; }\n\n\t\t/* Tighten up indentation in narrow ToCs */\n\t\t@media (max-width: 30em) {\n\t\t\t:not(li) > .toc              { margin-left:  4rem; }\n\t\t\t.toc .secno                  { margin-left: -4rem; }\n\t\t\t.toc > li li li              { margin-left:  1rem; }\n\t\t\t.toc > li li li .secno       { margin-left: -5rem; }\n\t\t\t.toc > li li li li .secno    { margin-left: -6rem; }\n\t\t\t.toc > li li li li li .secno { margin-left: -7rem; }\n\t\t}\n\t/* } */\n\n\t@supports (display:grid) and (display:contents) {\n\t\t/* Use #toc over .toc to override non-@supports rules. */\n\t\t#toc {\n\t\t\tdisplay: grid;\n\t\t\talign-content: start;\n\t\t\tgrid-template-columns: auto 1fr;\n\t\t\tgrid-column-gap: 1rem;\n\t\t\tcolumn-gap: 1rem;\n\t\t\tgrid-row-gap: .6rem;\n\t\t\trow-gap: .6rem;\n\t\t}\n\t\t#toc h2 {\n\t\t\tgrid-column: 1 / -1;\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t\t#toc ol,\n\t\t#toc li,\n\t\t#toc a {\n\t\t\tdisplay: contents;\n\t\t\t/* Switch <a> to subgrid when supported */\n\t\t}\n\t\t#toc span {\n\t\t\tmargin: 0;\n\t\t}\n\t\t#toc > .toc > li > a > span {\n\t\t\t/* The spans of the top-level list,\n\t\t\t   comprising the first items of each top-level section. */\n\t\t\tmargin-top: 1.1rem;\n\t\t}\n\t\t#toc#toc .secno { /* Ugh, need more specificity to override base.css */\n\t\t\tgrid-column: 1;\n\t\t\twidth: auto;\n\t\t\tmargin-left: 0;\n\t\t}\n\t\t#toc .content {\n\t\t\tgrid-column: 2;\n\t\t\twidth: auto;\n\t\t\tmargin-right: 1rem;\n\t\t}\n\t\t#toc .content:hover {\n\t\t\tbackground: rgba(75%, 75%, 75%, .25);\n\t\t\tborder-bottom: 3px solid #054572;\n\t\t\tmargin-bottom: -3px;\n\t\t}\n\t\t#toc li li li .content {\n\t\t\tmargin-left: 1rem;\n\t\t}\n\t\t#toc li li li li .content {\n\t\t\tmargin-left: 2rem;\n\t\t}\n\t}\n\n\n/** Index *********************************************************************/\n\n\t/* Index Lists: Layout */\n\tul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }\n\tul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }\n\tul.index li li { margin-left: 1em }\n\tul.index dl    { margin-top: 0; }\n\tul.index dt    { margin: .2em 0 .2em 20px;}\n\tul.index dd    { margin: .2em 0 .2em 40px;}\n\t/* Index Lists: Typography */\n\tul.index ul,\n\tul.index dl { font-size: smaller; }\n\t@media not print {\n\t\tul.index li span {\n\t\t\twhite-space: nowrap;\n\t\t\tcolor: transparent; }\n\t\tul.index li a:hover + span,\n\t\tul.index li a:focus + span {\n\t\t\tcolor: #707070;\n\t\t}\n\t}\n\n/** Index Tables *****************************************************/\n\t/* See also the data table styling section, which this effectively subclasses */\n\n\ttable.index {\n\t\tfont-size: small;\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\t\ttext-align: left;\n\t\tmargin: 1em 0;\n\t}\n\n\ttable.index td,\n\ttable.index th {\n\t\tpadding: 0.4em;\n\t}\n\n\ttable.index tr:hover td:not([rowspan]),\n\ttable.index tr:hover th:not([rowspan]) {\n\t\tbackground: #f7f8f9;\n\t}\n\n\t/* The link in the first column in the property table (formerly a TD) */\n\ttable.index th:first-child a {\n\t\tfont-weight: bold;\n\t}\n\n/******************************************************************************/\n/*                                    Print                                   */\n/******************************************************************************/\n\n\t@media print {\n\t\t/* Pages have their own margins. */\n\t\thtml {\n\t\t\tmargin: 0;\n\t\t}\n\t\t/* Serif for print. */\n\t\tbody {\n\t\t\tfont-family: serif;\n\t\t}\n\t}\n\t@page {\n\t\tmargin: 1.5cm 1.1cm;\n\t}\n\n/******************************************************************************/\n/*                                    Legacy                                  */\n/******************************************************************************/\n\n\t/* This rule is inherited from past style sheets. No idea what it's for. */\n\t.hide { display: none }\n\n\n\n/******************************************************************************/\n/*                             Overflow Control                               */\n/******************************************************************************/\n\n\t.figure .caption, .sidefigure .caption, figcaption {\n\t\t/* in case figure is overlarge, limit caption to 50em */\n\t\tmax-width: 50rem;\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\t.overlarge {\n\t\t/* Magic to create good table positioning:\n\t\t   \"content column\" is 50ems wide at max; less on smaller screens.\n\t\t   Extra space (after ToC + content) is empty on the right.\n\n\t\t   1. When table < content column, centers table in column.\n\t\t   2. When content < table < available, left-aligns.\n\t\t   3. When table > available, fills available + scroll bar.\n\t\t*/\n\t\tdisplay: grid;\n\t\tgrid-template-columns: minmax(0, 50em);\n\t}\n\t.overlarge > table {\n\t\t/* limit preferred width of table */\n\t\tmax-width: 50em;\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t@media (min-width: 55em) {\n\t\t.overlarge {\n\t\t\tmargin-right: calc(13px + 26.5rem - 50vw);\n\t\t\tmax-width: none;\n\t\t}\n\t}\n\t@media screen and (min-width: 78em) {\n\t\tbody:not(.toc-inline) .overlarge {\n\t\t\t/* 30.5em body padding 50em content area */\n\t\t\tmargin-right: calc(40em - 50vw) !important;\n\t\t}\n\t}\n\t@media screen and (min-width: 90em) {\n\t\tbody:not(.toc-inline) .overlarge {\n\t\t\t/* 4em html margin 30.5em body padding 50em content area */\n\t\t\tmargin-right: calc(84.5em - 100vw) !important;\n\t\t}\n\t}\n\n\t@media not print {\n\t\t.overlarge {\n\t\t\toverflow-x: auto;\n\t\t\t/* See Lea Verou's explanation background-attachment:\n\t\t\t * http://lea.verou.me/2012/04/background-attachment-local/\n\t\t\t *\n\t\t\tbackground: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,\n\t\t\t            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,\n\t\t\t            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,\n\t\t\t            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,\n\t\t\t            white;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\t*/\n\t\t}\n\t}\n</style>\n  <meta content=\"Bikeshed version c9be1fd, updated Wed Aug 5 08:19:23 2020 +0200\" name=\"generator\">\n  <link href=\"https://w3cping.github.io/privacy-threat-model\" rel=\"canonical\">\n  <meta content=\"2f7795d978a15b21fb3f5fc3ac1c3b53d72b986a\" name=\"document-revision\">\n<style>\n@supports(transform: rotate(45deg)) {\n/* Rotate threat model table headers to fit more columns on the screen.\n * Details adapted from\n * https://wabain.github.io/2019/10/13/css-rotated-table-header.html */\n  .threatmodel tr.goals th {\n    /* sin(45deg) == 0.707 */\n    height: calc((25em + 3em) * 0.707);\n    vertical-align: bottom;\n    text-align: right;\n    line-height: 1;\n  }\n  .threatmodel tr.goals th > div {\n    width: 5em;\n  }\n  .threatmodel tr.goals th > div > div {\n    width: 25em;\n    transform-origin: bottom left;\n    /* Read the transform steps bottom-up. */\n    transform:\n      /* Move the bottom corner from the left edge of the column to the center. */\n      translateX(calc(5em/2))\n      /* Rotate 45 degrees clockwise. */\n      rotate(45deg)\n      /* Move the bottom-right corner to the left edge of the column, which is\n       * the transform-origin. */\n      translateX(-100%);\n  }\n  .threatmodel tr.goals th a[href] {\n    border-bottom: 0;\n  }\n}\n\n.threatmodel td {\n  text-align: center;\n  min-width: 2em;\n}\ndetails[open] {\n  position: absolute;\n  background: white;\n  border: thin black solid;\n  text-align: left;\n}\n</style>\n<style>/* style-autolinks */\n\n.css.css, .property.property, .descriptor.descriptor {\n    color: #005a9c;\n    font-size: inherit;\n    font-family: inherit;\n}\n.css::before, .property::before, .descriptor::before {\n    content: \"‘\";\n}\n.css::after, .property::after, .descriptor::after {\n    content: \"’\";\n}\n.property, .descriptor {\n    /* Don't wrap property and descriptor names */\n    white-space: nowrap;\n}\n.type { /* CSS value <type> */\n    font-style: italic;\n}\npre .property::before, pre .property::after {\n    content: \"\";\n}\n[data-link-type=\"property\"]::before,\n[data-link-type=\"propdesc\"]::before,\n[data-link-type=\"descriptor\"]::before,\n[data-link-type=\"value\"]::before,\n[data-link-type=\"function\"]::before,\n[data-link-type=\"at-rule\"]::before,\n[data-link-type=\"selector\"]::before,\n[data-link-type=\"maybe\"]::before {\n    content: \"‘\";\n}\n[data-link-type=\"property\"]::after,\n[data-link-type=\"propdesc\"]::after,\n[data-link-type=\"descriptor\"]::after,\n[data-link-type=\"value\"]::after,\n[data-link-type=\"function\"]::after,\n[data-link-type=\"at-rule\"]::after,\n[data-link-type=\"selector\"]::after,\n[data-link-type=\"maybe\"]::after {\n    content: \"’\";\n}\n\n[data-link-type].production::before,\n[data-link-type].production::after,\n.prod [data-link-type]::before,\n.prod [data-link-type]::after {\n    content: \"\";\n}\n\n[data-link-type=element],\n[data-link-type=element-attr] {\n    font-family: Menlo, Consolas, \"DejaVu Sans Mono\", monospace;\n    font-size: .9em;\n}\n[data-link-type=element]::before { content: \"<\" }\n[data-link-type=element]::after  { content: \">\" }\n\n[data-link-type=biblio] {\n    white-space: pre;\n}</style>\n<style>/* style-counters */\n\nbody {\n    counter-reset: example figure issue;\n}\n.issue {\n    counter-increment: issue;\n}\n.issue:not(.no-marker)::before {\n    content: \"Issue \" counter(issue);\n}\n\n.example {\n    counter-increment: example;\n}\n.example:not(.no-marker)::before {\n    content: \"Example \" counter(example);\n}\n.invalid.example:not(.no-marker)::before,\n.illegal.example:not(.no-marker)::before {\n    content: \"Invalid Example\" counter(example);\n}\n\nfigcaption {\n    counter-increment: figure;\n}\nfigcaption:not(.no-marker)::before {\n    content: \"Figure \" counter(figure) \" \";\n}</style>\n<style>/* style-dfn-panel */\n\n.dfn-panel {\n    position: absolute;\n    z-index: 35;\n    height: auto;\n    width: -webkit-fit-content;\n    width: fit-content;\n    max-width: 300px;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0.5em 0.75em;\n    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;\n    background: #DDDDDD;\n    color: black;\n    border: outset 0.2em;\n}\n.dfn-panel:not(.on) { display: none; }\n.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }\n.dfn-panel > b { display: block; }\n.dfn-panel a { color: black; }\n.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }\n.dfn-panel > b + b { margin-top: 0.25em; }\n.dfn-panel ul { padding: 0; }\n.dfn-panel li { list-style: inside; }\n.dfn-panel.activated {\n    display: inline-block;\n    position: fixed;\n    left: .5em;\n    bottom: 2em;\n    margin: 0 auto;\n    max-width: calc(100vw - 1.5em - .4em - .5em);\n    max-height: 30vh;\n}\n\n.dfn-paneled { cursor: pointer; }\n</style>\n<style>/* style-md-lists */\n\n/* This is a weird hack for me not yet following the commonmark spec\n   regarding paragraph and lists. */\n[data-md] > :first-child {\n    margin-top: 0;\n}\n[data-md] > :last-child {\n    margin-bottom: 0;\n}</style>\n<style>/* style-selflinks */\n\n.heading, .issue, .note, .example, li, dt {\n    position: relative;\n}\na.self-link {\n    position: absolute;\n    top: 0;\n    left: calc(-1 * (3.5rem - 26px));\n    width: calc(3.5rem - 26px);\n    height: 2em;\n    text-align: center;\n    border: none;\n    transition: opacity .2s;\n    opacity: .5;\n}\na.self-link:hover {\n    opacity: 1;\n}\n.heading > a.self-link {\n    font-size: 83%;\n}\nli > a.self-link {\n    left: calc(-1 * (3.5rem - 26px) - 2em);\n}\ndfn > a.self-link {\n    top: auto;\n    left: auto;\n    opacity: 0;\n    width: 1.5em;\n    height: 1.5em;\n    background: gray;\n    color: white;\n    font-style: normal;\n    transition: opacity .2s, background-color .2s, color .2s;\n}\ndfn:hover > a.self-link {\n    opacity: 1;\n}\ndfn > a.self-link:hover {\n    color: black;\n}\n\na.self-link::before            { content: \"¶\"; }\n.heading > a.self-link::before { content: \"§\"; }\ndfn > a.self-link::before      { content: \"#\"; }</style>\n <body class=\"h-entry\">\n  <div class=\"head\">\n   <p data-fill-with=\"logo\"></p>\n   <h1 class=\"p-name no-ref\" id=\"title\">Target Privacy Threat Model</h1>\n   <h2 class=\"no-num no-toc no-ref heading settled\" id=\"subtitle\"><span class=\"content\">Editor’s Draft, <time class=\"dt-updated\" datetime=\"2020-08-06\">6 August 2020</time></span></h2>\n   <div data-fill-with=\"spec-metadata\">\n    <dl>\n     <dt>This version:\n     <dd><a class=\"u-url\" href=\"https://w3cping.github.io/privacy-threat-model\">https://w3cping.github.io/privacy-threat-model</a>\n     <dt>Feedback:\n     <dd><span><a href=\"mailto:public-privacy@w3.org?subject=%5Bprivacy-threat-model%5D%20YOUR%20TOPIC%20HERE\">public-privacy@w3.org</a> with subject line “<kbd>[privacy-threat-model] <i data-lt>… message topic …</i></kbd>” (<a href=\"https://lists.w3.org/Archives/Public/public-privacy/\" rel=\"discussion\">archives</a>)</span>\n     <dt>Issue Tracking:\n     <dd><a href=\"https://github.com/w3cping/privacy-threat-model/issues/\">GitHub</a>\n     <dd><a href=\"#issues-index\">Inline In Spec</a>\n     <dt class=\"editor\">Editors:\n     <dd class=\"editor p-author h-card vcard\" data-editor-id=\"72192\"><a class=\"p-name fn u-email email\" href=\"mailto:jyasskin@google.com\">Jeffrey Yasskin</a> (<a class=\"p-org org\" href=\"https://google.com/\">Google Inc.</a>)\n     <dd class=\"editor p-author h-card vcard\"><a class=\"p-name fn u-email email\" href=\"mailto:tom@brave.com\">Tom Lowenthal</a> (<a class=\"p-org org\" href=\"https://brave.com/\">Brave</a>)\n    </dl>\n   </div>\n   <div data-fill-with=\"warning\">\n    <details class=\"annoying-warning\" open>\n     <summary>Not Ready For Implementation</summary>\n     <p> This spec is not yet ready for implementation.\n\t\tIt exists in this repository to record the ideas and promote discussion. </p>\n     <p> Before attempting to implement this spec,\n\t\tplease contact the editors. </p>\n    </details>\n   </div>\n   <p class=\"copyright\" data-fill-with=\"copyright\"><a href=\"https://www.w3.org/Consortium/Legal/ipr-notice#Copyright\">Copyright</a> © 2020 <a href=\"https://www.w3.org/\"><abbr title=\"World Wide Web Consortium\">W3C</abbr></a><sup>®</sup> (<a href=\"https://www.csail.mit.edu/\"><abbr title=\"Massachusetts Institute of Technology\">MIT</abbr></a>, <a href=\"https://www.ercim.eu/\"><abbr title=\"European Research Consortium for Informatics and Mathematics\">ERCIM</abbr></a>, <a href=\"https://www.keio.ac.jp/\">Keio</a>, <a href=\"https://ev.buaa.edu.cn/\">Beihang</a>). <abbr title=\"World Wide Web Consortium\">W3C</abbr> <a href=\"https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer\">liability</a>, <a href=\"https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks\">trademark</a> and <a href=\"https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\" rel=\"license\">permissive document license</a> rules apply. </p>\n   <hr title=\"Separator for header\">\n  </div>\n  <div class=\"p-summary\" data-fill-with=\"abstract\">\n   <h2 class=\"no-num no-toc no-ref heading settled\" id=\"abstract\"><span class=\"content\">Abstract</span></h2>\n   <p>A privacy threat model we should migrate the web toward.</p>\n  </div>\n  <h2 class=\"no-num no-toc no-ref heading settled\" id=\"status\"><span class=\"content\">Status of this document</span></h2>\n  <div data-fill-with=\"status\">\n   <p> <em>This section describes the status of this document at the time of its\n    publication. Other documents may supersede this document. A list of current <abbr title=\"World Wide Web Consortium\">W3C</abbr> publications and the\n    latest revision of this technical report can be found in the <a href=\"https://www.w3.org/TR/\"><abbr title=\"World Wide Web\n    Consortium\">W3C</abbr> technical reports index</a>.</em> </p>\n   <p> This document was published by the <a href=\"https://www.w3.org/2019/privacy/\">Privacy Interest Group</a> as an\n    Editor’s Draft.\n    Publication as an Editor’s Draft does not imply endorsement by the <abbr title=\"World Wide Web Consortium\">W3C</abbr> Membership. This is a\n    draft document and may be updated, replaced or obsoleted by other documents\n    at any time. It is inappropriate to cite this document as other than work in\n    progress. </p>\n   <p></p>\n   <p> Feedback and comments on this specification are welcome, either as <a href=\"https://github.com/w3cping/privacy-threat-model/issues\">GitHub issues</a> or on the <a href=\"https://lists.w3.org/Archives/Public/public-privacy/\">public-privacy@w3.org\n    mailing list</a>. When sending e-mail, please put the text “privacy-threat-model” in\n    the subject, preferably like this:“[privacy-threat-model] <em>…summary of\n    comment…</em>” </p>\n   <p> This document was produced by a group operating under the <a href=\"https://www.w3.org/Consortium/Patent-Policy/\"><abbr title=\"World Wide\n    Web Consortium\">W3C</abbr> Patent Policy</a>. The <abbr title=\"World Wide Web\n    Consortium\">W3C</abbr> maintains a <a href=\"https://www.w3.org/2004/01/pp-impl/52497/status\" rel=\"disclosure\">public list of any patent disclosures</a> made in\n    connection with the deliverables of the group; that page also includes\n    instructions for disclosing a patent. </p>\n   <p> This document is governed by the <a href=\"https://www.w3.org/2019/Process-20190301/\" id=\"w3c_process_revision\">1 March 2019 W3C Process\n    Document</a>. </p>\n  </div>\n  <div data-fill-with=\"at-risk\"></div>\n  <nav data-fill-with=\"table-of-contents\" id=\"toc\">\n   <h2 class=\"no-num no-toc no-ref\" id=\"contents\">Table of Contents</h2>\n   <ol class=\"toc\" role=\"directory\">\n    <li><a href=\"#intro\"><span class=\"secno\">1</span> <span class=\"content\">Introduction</span></a>\n    <li><a href=\"#terminology\"><span class=\"secno\">2</span> <span class=\"content\">Terminology</span></a>\n    <li>\n     <a href=\"#high-level-threats\"><span class=\"secno\">3</span> <span class=\"content\">High-level threats</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#hl-recognition-same-site\"><span class=\"secno\">3.1</span> <span class=\"content\">Unwanted same-site recognition</span></a>\n      <li><a href=\"#hl-recognition-cross-site\"><span class=\"secno\">3.2</span> <span class=\"content\">Unwanted cross-site recognition</span></a>\n      <li><a href=\"#hl-sensitive-information\"><span class=\"secno\">3.3</span> <span class=\"content\">Sensitive information disclosure</span></a>\n      <li><a href=\"#hl-intrusion\"><span class=\"secno\">3.4</span> <span class=\"content\">Intrusive behavior</span></a>\n      <li><a href=\"#hl-capabilities\"><span class=\"secno\">3.5</span> <span class=\"content\">Powerful capabilities</span></a>\n     </ol>\n    <li>\n     <a href=\"#model\"><span class=\"secno\">4</span> <span class=\"content\">Threat Model</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#model-cross-site-recognition\"><span class=\"secno\">4.1</span> <span class=\"content\">Cross-site recognition</span></a>\n      <li><a href=\"#model-sensitive-information\"><span class=\"secno\">4.2</span> <span class=\"content\">Sensitive-information</span></a>\n     </ol>\n    <li>\n     <a href=\"#capabilities\"><span class=\"secno\">5</span> <span class=\"content\">Attacker Capabilities</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#cap-iframes\"><span class=\"secno\">5.1</span> <span class=\"content\">Load iframes</span></a>\n      <li><a href=\"#cap-first-party-js\"><span class=\"secno\">5.2</span> <span class=\"content\">Run Javascript in a first-party context</span></a>\n      <li><a href=\"#cap-run-on-server\"><span class=\"secno\">5.3</span> <span class=\"content\">Modify server processing</span></a>\n      <li><a href=\"#cap-read-logs\"><span class=\"secno\">5.4</span> <span class=\"content\">Read server logs</span></a>\n      <li><a href=\"#cap-type-identifier\"><span class=\"secno\">5.5</span> <span class=\"content\">Convince the user to type an identifier</span></a>\n      <li><a href=\"#cap-same-device-same-time\"><span class=\"secno\">5.6</span> <span class=\"content\">Convince the user to open the same device in two cross-site tabs</span></a>\n      <li><a href=\"#cap-same-rw-device\"><span class=\"secno\">5.7</span> <span class=\"content\">Convince the user to open the same read+write device in two different sites</span></a>\n      <li><a href=\"#cap-open-for-browser-event\"><span class=\"secno\">5.8</span> <span class=\"content\">Have two sites open when a browser-wide event happens</span></a>\n      <li><a href=\"#cap-visible-for-browser-event\"><span class=\"secno\">5.9</span> <span class=\"content\">Have two sites visible when a browser-wide event happens</span></a>\n     </ol>\n    <li>\n     <a href=\"#goals\"><span class=\"secno\">6</span> <span class=\"content\">Attacker goals</span></a>\n     <ol class=\"toc\">\n      <li>\n       <a href=\"#goals-metrics\"><span class=\"secno\">6.1</span> <span class=\"content\">User metrics within a single site</span></a>\n       <ol class=\"toc\">\n        <li><a href=\"#goal-click-tracking\"><span class=\"secno\">6.1.1</span> <span class=\"content\">Click tracking</span></a>\n       </ol>\n      <li>\n       <a href=\"#goals-tracking\"><span class=\"secno\">6.2</span> <span class=\"content\">Tracking</span></a>\n       <ol class=\"toc\">\n        <li><a href=\"#goal-transfer-userid\"><span class=\"secno\">6.2.1</span> <span class=\"content\">Transfer user ID from publisher 1 to publisher 2 on navigation.</span></a>\n        <li><a href=\"#goal-userid-tracker-to-self-in-pub\"><span class=\"secno\">6.2.2</span> <span class=\"content\">Transfer user ID from tracker to that tracker running within a publisher, on navigation.</span></a>\n        <li><a href=\"#goal-userid-tracker-in-pub1-to-self-in-pub2\"><span class=\"secno\">6.2.3</span> <span class=\"content\">Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</span></a>\n        <li><a href=\"#goal-prob-transfer-userid\"><span class=\"secno\">6.2.4</span> <span class=\"content\">Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</span></a>\n        <li><a href=\"#goal-prob-transfer-userid-no-nav\"><span class=\"secno\">6.2.5</span> <span class=\"content\">Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</span></a>\n       </ol>\n     </ol>\n    <li>\n     <a href=\"#essential\"><span class=\"secno\">7</span> <span class=\"content\">Essential Web APIs</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#ess-js-requests\"><span class=\"secno\">7.1</span> <span class=\"content\">Javascript can make requests to servers</span></a>\n      <li><a href=\"#ess-server-defined-paths\"><span class=\"secno\">7.2</span> <span class=\"content\">Servers can define the paths under which they host content</span></a>\n     </ol>\n    <li><a href=\"#acknowledgements\"><span class=\"secno\">8</span> <span class=\"content\">Acknowledgements</span></a>\n    <li><a href=\"#conformance\"><span class=\"secno\"></span> <span class=\"content\"> Conformance</span></a>\n    <li>\n     <a href=\"#index\"><span class=\"secno\"></span> <span class=\"content\">Index</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#index-defined-here\"><span class=\"secno\"></span> <span class=\"content\">Terms defined by this specification</span></a>\n      <li><a href=\"#index-defined-elsewhere\"><span class=\"secno\"></span> <span class=\"content\">Terms defined by reference</span></a>\n     </ol>\n    <li>\n     <a href=\"#references\"><span class=\"secno\"></span> <span class=\"content\">References</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#normative\"><span class=\"secno\"></span> <span class=\"content\">Normative References</span></a>\n      <li><a href=\"#informative\"><span class=\"secno\"></span> <span class=\"content\">Informative References</span></a>\n     </ol>\n    <li><a href=\"#issues-index\"><span class=\"secno\"></span> <span class=\"content\">Issues Index</span></a>\n   </ol>\n  </nav>\n  <main>\n   <p><strong class=\"advisement\"> This document is at a very early stage. Many things in it are wrong\nand/or incomplete. Please take it as a rough shape for how we might document the\ntarget threat model, rather than as definite statements about what should be in\nthe target threat model.</strong></p>\n   <h2 class=\"heading settled\" data-level=\"1\" id=\"intro\"><span class=\"secno\">1. </span><span class=\"content\">Introduction</span><a class=\"self-link\" href=\"#intro\"></a></h2>\n   <p>As a <strong>threat model</strong>, this specification describes attacker capabilities and\nattacker goals, and says, for each possible set of capabilities an attacker\nmight have, which goals we expect the attacker can achieve.</p>\n   <p>As a <strong>privacy</strong> threat model, the attacker goals compromise the privacy of\nusers, rather than their security.</p>\n   <p>As a <strong>target</strong> threat model, it describes not the current state of the Web\nincluding all current maybe-unwise APIs, but rather an end state that we hope to\nmigrate to, and that new APIs should be held to. This is meant to be a <em>plausible</em> threat model: it doesn’t expect to remove any APIs or browser\nbehavior that is deemed essential to the viability of the Web.</p>\n   <p>Since people are likely to disagree about which APIs are essential to the Web,\nwhen saying that an attacker can achieve their goal, this document describes how\nthe attacker achieves it using particular \"essential\" APIs, and it provides an\nindex of those APIs so readers can point out ones that they don’t consider\nessential.</p>\n   <h2 class=\"heading settled\" data-level=\"2\" id=\"terminology\"><span class=\"secno\">2. </span><span class=\"content\">Terminology</span><a class=\"self-link\" href=\"#terminology\"></a></h2>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-html\">[HTML]</a> defines an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin\">origin</a> as the tuple of a scheme, hostname, and port that\nprovides the main security boundary on the web.</p>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"site\">site</dfn> is a set of <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin①\">origins</a> that are all <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#same-site\" id=\"ref-for-same-site\">same site</a> with each\nother. Note that there are problems (<a data-link-type=\"biblio\" href=\"#biblio-psl-problems\">[PSL-PROBLEMS]</a>) with using <a data-link-type=\"dfn\" href=\"https://publicsuffix.org/list/#list-format\" id=\"ref-for-list-format\">registrable\ndomains</a> as a logical boundary.</p>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"party\">party</dfn> is defined by <a data-link-type=\"biblio\" href=\"#biblio-tracking-dnt\">[tracking-dnt]</a> as \"a natural person, a legal\nentity, or a set of legal entities that share common owner(s), common\ncontroller(s), and a group identity that is easily discoverable by a user.\"</p>\n   <p>The <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"first-party\">first party</dfn> for a user action is the <a data-link-type=\"dfn\" href=\"#party\" id=\"ref-for-party\">party</a> that controls the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin②\">origin</a> of the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" id=\"ref-for-top-level-browsing-context\">top-level browsing context</a> under which the action\nhappened. Intuitively, this is the owner of the domain in the browser’s URL bar.\nThis differs from <a href=\"https://wiki.mozilla.org/Security/Anti_tracking_policy#Tracking_Definition\">Mozilla’s\ndefinition</a> in that Mozilla defines other parties as first parties if the\nuser can easily discover which party it is and intends to interact with that\nparty, for example to allow sign-in widgets to be first-party.</p>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"third-party\">third party</dfn> for a user action is any party that isn’t the <a data-link-type=\"dfn\" href=\"#first-party\" id=\"ref-for-first-party\">first\nparty</a> or the user (the second party).</p>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"user\">user</dfn> is a human or program that controls a user agent.</p>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"user-id\">user ID</dfn> is a pair of a <a data-link-type=\"dfn\" href=\"#site\" id=\"ref-for-site\">site</a> and a (potentially-large) integer\nallocated by that site that is used to identify a <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user\">user</a> on that site. A\nsingle user will generally have many user IDs that refer to them, and a single\nsite may or may not know that multiple user IDs refer to the same user.</p>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"global-identifier\">global identifier</dfn> is a string that identifies a particular <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user①\">user</a> independent of which site they’re visiting. Users generally have relatively few\nglobal identifiers and can usually list and recognize them. A goal of\nanti-tracking policy is to prevent <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id\">user IDs</a> from becoming <a data-link-type=\"dfn\" href=\"#global-identifier\" id=\"ref-for-global-identifier\">global\nidentifiers</a>.</p>\n   <p>An <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"attacker\">attacker</dfn> is any entity trying to get information that a <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user②\">user</a> might not want them to get. Attackers are often entities that a user intends to\ninteract with in other ways, as both <a data-link-type=\"dfn\" href=\"#first-party\" id=\"ref-for-first-party①\">first</a> and <a data-link-type=\"dfn\" href=\"#third-party\" id=\"ref-for-third-party\">third parties</a>, and some users may\nnot mind their collection of this information.</p>\n   <p>This document uses the terms <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"publisher\">publisher</dfn> and <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"tracker\">tracker</dfn> colloquially to refer to particular kinds of <a data-link-type=\"dfn\" href=\"#site\" id=\"ref-for-site①\">sites</a> and the <a data-link-type=\"dfn\" href=\"#party\" id=\"ref-for-party①\">parties</a> that\noperate them. They are not rigorously defined.</p>\n   <h2 class=\"heading settled\" data-level=\"3\" id=\"high-level-threats\"><span class=\"secno\">3. </span><span class=\"content\">High-level threats</span><a class=\"self-link\" href=\"#high-level-threats\"></a></h2>\n   <p>User agents should attempt to defend their users from a variety of high-level\nthreats or attacker goals, described in this section. <a href=\"#goals\">§ 6 Attacker goals</a> then describes\nthe low-level steps an attacker would use to achieve these high-level goals.</p>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a> describes the following high-level privacy threats, which the TAG\nhas adopted into <a href=\"https://www.w3.org/TR/security-privacy-questionnaire/#threats\">Self-Review Questionnaire: Security and Privacy §threats</a>:</p>\n   <dl>\n    <dt data-md><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"surveillance\">Surveillance</dfn>\n    <dd data-md>\n     <p>Surveillance is the observation or monitoring of an individual’s\ncommunications or activities. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.1\">Privacy Considerations for Internet Protocols §section-5.1.1</a>.</p>\n    <dt data-md><dfn data-dfn-type=\"dfn\" data-noexport id=\"stored-data-compromise\">Stored Data Compromise<a class=\"self-link\" href=\"#stored-data-compromise\"></a></dfn>\n    <dd data-md>\n     <p>End systems that do not take adequate measures to secure stored data from\nunauthorized or inappropriate access. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.2\">Privacy Considerations for Internet Protocols §section-5.1.2</a>.</p>\n    <dt data-md><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"intrusion\">Intrusion</dfn>\n    <dd data-md>\n     <p>Intrusion consists of invasive acts that disturb or interrupt one’s life or\nactivities. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.3\">Privacy Considerations for Internet Protocols §section-5.1.3</a>.</p>\n    <dt data-md><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"misattribution\">Misattribution</dfn>\n    <dd data-md>\n     <p>Misattribution occurs when data or communications related to one individual\nare attributed to another. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.4\">Privacy Considerations for Internet Protocols §section-5.1.4</a>.</p>\n    <dt data-md><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"correlation\">Correlation</dfn>\n    <dd data-md>\n     <p>Correlation is the combination of various pieces of information related to an\nindividual or that obtain that characteristic when combined. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.1\">Privacy Considerations for Internet Protocols §section-5.2.1</a>.</p>\n    <dt data-md><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"identification\">Identification</dfn>\n    <dd data-md>\n     <p>Identification is the linking of information to a particular individual to\ninfer an individual’s identity or to allow the inference of an individual’s\nidentity. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.2\">Privacy Considerations for Internet Protocols §section-5.2.2</a>.</p>\n    <dt data-md><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"secondary-use\">Secondary Use</dfn>\n    <dd data-md>\n     <p>Secondary use is the use of collected information about an individual without\nthe individual’s consent for a purpose different from that for which the\ninformation was collected. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.3\">Privacy Considerations for Internet Protocols §section-5.2.3</a>.</p>\n    <dt data-md><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"disclosure\">Disclosure</dfn>\n    <dd data-md>\n     <p>Disclosure is the revelation of information about an individual that affects\nthe way others judge the individual. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.4\">Privacy Considerations for Internet Protocols §section-5.2.4</a>.</p>\n    <dt data-md><dfn data-dfn-type=\"dfn\" data-noexport id=\"exclusion\">Exclusion<a class=\"self-link\" href=\"#exclusion\"></a></dfn>\n    <dd data-md>\n     <p>Exclusion is the failure to allow individuals to know about the data that\nothers have about them and to participate in its handling and use. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.5\">Privacy Considerations for Internet Protocols §section-5.2.5</a>.</p>\n   </dl>\n   <p>These threats combine into the particular concrete threats we want web\nspecifications to defend against, described in subsections here:</p>\n   <h3 class=\"heading settled\" data-level=\"3.1\" id=\"hl-recognition-same-site\"><span class=\"secno\">3.1. </span><span class=\"content\">Unwanted same-site recognition</span><a class=\"self-link\" href=\"#hl-recognition-same-site\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#surveillance\" id=\"ref-for-surveillance\">surveillance</a>, <a data-link-type=\"dfn\" href=\"#correlation\" id=\"ref-for-correlation\">correlation</a>, and <a data-link-type=\"dfn\" href=\"#identification\" id=\"ref-for-identification\">identification</a>.</p>\n   <p>Users of most instantiations of the web platform expect that if they visit a\nsite on one day, and then visit again the next day, the site will be able to\nrecognize that they’re the same user. This allows sites to save the user’s\npreferences, shopping carts, etc. The web platform offers many mechanisms that\nare either intended to accomplish this recognition or that can be trivially used\nfor it, including <a data-link-type=\"biblio\" href=\"#biblio-rfc6265\">cookies</a>, <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage\" id=\"ref-for-dom-localstorage\">localStorage</a></code>, <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb\" id=\"ref-for-dom-windoworworkerglobalscope-indexeddb\">indexedDB</a></code>, <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://w3c.github.io/ServiceWorker/#cachestorage\" id=\"ref-for-cachestorage\">CacheStorage</a></code>, and other forms of\nstorage.</p>\n   <p>A privacy harm only occurs if the user wants to break the association between\ntwo visits, but the site can still determine with high probability that the two\nvisits came from the same user.</p>\n   <p>A user might expect that their two visits won’t be associated if they:</p>\n   <ul>\n    <li data-md>\n     <p>Use a browser that promises to avoid such correlation.</p>\n    <li data-md>\n     <p>Use their browser’s private browsing mode. (<a data-link-type=\"biblio\" href=\"#biblio-what-does-private-browsing-do\">[WHAT-DOES-PRIVATE-BROWSING-DO]</a>)</p>\n    <li data-md>\n     <p>Use two different browser profiles between the two visits.</p>\n    <li data-md>\n     <p>Explicitly clear the site’s cookies or storage.</p>\n   </ul>\n   <p>This recognition is generally accomplished by either \"supercookies\" or <a data-link-type=\"dfn\" href=\"https://w3c.github.io/fingerprinting-guidance/#dfn-browser-fingerprinting\" id=\"ref-for-dfn-browser-fingerprinting\">browser\nfingerprinting</a>.</p>\n   <p>Supercookies occur when a browser stores data for a site but makes that data\nmore difficult to clear than other cookies or storage. <a href=\"https://w3c.github.io/fingerprinting-guidance/#clearing-all-local-state\">Fingerprinting Guidance §5.4 Clearing all local state</a> discusses how\nspecifications can help browsers avoid this mistake.</p>\n   <p>Fingerprinting consists of using attributes of the user’s browser and platform\nthat are consistent between the two visits and probabilistically unique to the\nuser.</p>\n   <p>The attributes can be exposed as information about the user’s device that is\notherwise benign (as opposed to <a href=\"#hl-sensitive-information\">§ 3.3 Sensitive information disclosure</a>). For example:</p>\n   <ul>\n    <li data-md>\n     <p>What are the user’s language and time zone?</p>\n    <li data-md>\n     <p>What size is the user’s window?</p>\n    <li data-md>\n     <p>What system preferences has the user set? Dark mode, serif font, etc...</p>\n    <li data-md>\n     <p>...</p>\n   </ul>\n   <p>See <a data-link-type=\"biblio\" href=\"#biblio-fingerprinting-guidance\">[fingerprinting-guidance]</a> for how to mitigate this threat.</p>\n   <h3 class=\"heading settled\" data-level=\"3.2\" id=\"hl-recognition-cross-site\"><span class=\"secno\">3.2. </span><span class=\"content\">Unwanted cross-site recognition</span><a class=\"self-link\" href=\"#hl-recognition-cross-site\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#surveillance\" id=\"ref-for-surveillance①\">surveillance</a>, <a data-link-type=\"dfn\" href=\"#correlation\" id=\"ref-for-correlation①\">correlation</a>, and <a data-link-type=\"dfn\" href=\"#identification\" id=\"ref-for-identification①\">identification</a>,\nusually more significantly than <a href=\"#hl-recognition-same-site\">§ 3.1 Unwanted same-site recognition</a>.</p>\n   <p>This occurs if a site can determine with high probability that a visit to that\nsite comes from the same user as another visit to a <em>different</em> site.  This\nthreat is discussed in <a href=\"#model-cross-site-recognition\">§ 4.1 Cross-site recognition</a>.</p>\n   <h3 class=\"heading settled\" data-level=\"3.3\" id=\"hl-sensitive-information\"><span class=\"secno\">3.3. </span><span class=\"content\">Sensitive information disclosure</span><a class=\"self-link\" href=\"#hl-sensitive-information\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#correlation\" id=\"ref-for-correlation②\">correlation</a>, <a data-link-type=\"dfn\" href=\"#identification\" id=\"ref-for-identification②\">identification</a>, <a data-link-type=\"dfn\" href=\"#secondary-use\" id=\"ref-for-secondary-use\">secondary use</a>, and <a data-link-type=\"dfn\" href=\"#disclosure\" id=\"ref-for-disclosure\">disclosure</a>.</p>\n   <p>Many pieces of information about a user could cause privacy harms if disclosed.\nFor example:</p>\n   <ul>\n    <li data-md>\n     <p>The user’s location.</p>\n    <li data-md>\n     <p>Video or audio from the user’s camera or microphone.</p>\n    <li data-md>\n     <p>The content of certain files on the user’s filesystem.</p>\n    <li data-md>\n     <p>Financial data.</p>\n    <li data-md>\n     <p>Contacts.</p>\n    <li data-md>\n     <p>Calendar entries.</p>\n    <li data-md>\n     <p><a href=\"https://w3ctag.github.io/design-principles/#do-not-expose-use-of-assistive-tech\">Whether the user is using assistive technology.</a></p>\n    <li data-md>\n     <p>...</p>\n   </ul>\n   <p>A particular piece of information may have different sensitivity for different\nusers. Language preferences, for example, might typically seem innocent, but\nalso can be an indicator of belonging to an ethnic minority. Precise location\ninformation can be extremely sensitive (because it’s identifying, because it\nallows for in-person intrusions, because it can reveal detailed information\nabout a person’s life) but it might also be public and not sensitive at all, or\nit might be low-enough granularity that it is much less sensitive for many\nusers.</p>\n   <p>When considering whether a class of information is likely to be sensitive to\nusers, consider at least these factors:</p>\n   <ul>\n    <li data-md>\n     <p>whether it serves as a persistent identifier (see severity in Mitigating\nbrowser fingerprinting);</p>\n    <li data-md>\n     <p>whether it discloses substantial (including intimate details or inferences)\ninformation about the user or other users;</p>\n    <li data-md>\n     <p>whether it can be revoked (as in determining whether a permission is\nnecessary);</p>\n    <li data-md>\n     <p>whether it enables other threats, like intrusion.</p>\n   </ul>\n   <p class=\"issue\" id=\"issue-71c59b1e\"><a class=\"self-link\" href=\"#issue-71c59b1e\"></a> This description of what makes information sensitive still needs to\nbe refined. <a href=\"https://github.com/w3cping/privacy-threat-model/issues/16\">&lt;https://github.com/w3cping/privacy-threat-model/issues/16></a></p>\n   <h3 class=\"heading settled\" data-level=\"3.4\" id=\"hl-intrusion\"><span class=\"secno\">3.4. </span><span class=\"content\">Intrusive behavior</span><a class=\"self-link\" href=\"#hl-intrusion\"></a></h3>\n   <p>See <a data-link-type=\"dfn\" href=\"#intrusion\" id=\"ref-for-intrusion\">intrusion</a>.</p>\n   <p>Privacy harms don’t always come from a site learning things. For example it is\nintrusive for a site to</p>\n   <ul>\n    <li data-md>\n     <p>Display messages or notifications,</p>\n    <li data-md>\n     <p>Play sounds,</p>\n    <li data-md>\n     <p>Occupy the full screen,</p>\n    <li data-md>\n     <p>etc.</p>\n   </ul>\n   <p>if the user doesn’t intend for it to do so.</p>\n   <h3 class=\"heading settled\" data-level=\"3.5\" id=\"hl-capabilities\"><span class=\"secno\">3.5. </span><span class=\"content\">Powerful capabilities</span><a class=\"self-link\" href=\"#hl-capabilities\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#misattribution\" id=\"ref-for-misattribution\">misattribution</a>.</p>\n   <p>For example, a site that sends SMS without the user’s intent could cause them to\nbe blamed for things they didn’t intend.</p>\n   <h2 class=\"heading settled\" data-level=\"4\" id=\"model\"><span class=\"secno\">4. </span><span class=\"content\">Threat Model</span><a class=\"self-link\" href=\"#model\"></a></h2>\n   <p>For each of the <a href=\"#high-level-threats\">high-level threats</a>, we\ndescribe a threat model: a description of what goals attackers with various\ncapabilities should or should not be able to achieve. For simple threats, a\nmodel can be expressed in prose, while complex threat models use a grid to\nexpress the web platform’s target guarantees.</p>\n   <p><span style=\"color:green\">✘</span> indicates that the goal should be frustrated,\nwhile <span style=\"color:red\">✓</span> indicates that the attacker can achieve\ntheir goal.</p>\n   <p class=\"issue\" id=\"issue-eb037c92\"><a class=\"self-link\" href=\"#issue-eb037c92\"></a> Should we mark goals attackers can currently achieve, which we want to\nremove, differently from goals attackers already can’t achieve?</p>\n   <h3 class=\"heading settled\" data-level=\"4.1\" id=\"model-cross-site-recognition\"><span class=\"secno\">4.1. </span><span class=\"content\">Cross-site recognition</span><a class=\"self-link\" href=\"#model-cross-site-recognition\"></a></h3>\n   <table class=\"threatmodel\">\n    <tbody>\n     <tr class=\"goals\">\n      <td>\n      <th>\n       <div>\n        <div><a href=\"#goal-transfer-userid\">§ 6.2.1 Transfer user ID from publisher 1 to publisher 2 on navigation.</a></div>\n       </div>\n      <th>\n       <div>\n        <div><a href=\"#goal-userid-tracker-to-self-in-pub\">§ 6.2.2 Transfer user ID from tracker to that tracker running within a publisher, on navigation.</a></div>\n       </div>\n      <th>\n       <div>\n        <div><a href=\"#goal-userid-tracker-in-pub1-to-self-in-pub2\">§ 6.2.3 Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</a></div>\n       </div>\n      <th>\n       <div>\n        <div><a href=\"#goal-prob-transfer-userid-no-nav\">§ 6.2.5 Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</a></div>\n       </div>\n      <th>\n       <div>\n        <div><a href=\"#goal-prob-transfer-userid\">§ 6.2.4 Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</a></div>\n       </div>\n     <tr>\n      <th><a href=\"#cap-iframes\">§ 5.1 Load iframes</a>\n      <td data-goal=\"transfer-userid\" style=\"color:green\">✘\n      <td data-goal=\"userid-tracker-to-self-in-pub\" style=\"color:green\">✘\n      <td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\" style=\"color:green\">✘\n      <td data-goal=\"prob-transfer-userid-no-nav\" style=\"color:green\">✘\n      <td data-goal=\"prob-transfer-userid\" style=\"color:green\">✘\n     <tr>\n      <th><a href=\"#cap-first-party-js\">§ 5.2 Run Javascript in a first-party context</a>\n      <td data-goal=\"transfer-userid\" style=\"color:green\">✘\n      <td data-goal=\"userid-tracker-to-self-in-pub\" style=\"color:green\">✘\n      <td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\" style=\"color:green\">✘\n      <td data-goal=\"prob-transfer-userid-no-nav\" style=\"color:green\">✘\n      <td data-goal=\"prob-transfer-userid\" style=\"color:green\">✘\n     <tr>\n      <th><a href=\"#cap-read-logs\">§ 5.4 Read server logs</a> on other publishers\n      <td data-goal=\"transfer-userid\" style=\"color:green\">✘\n      <td data-goal=\"userid-tracker-to-self-in-pub\" style=\"color:green\">✘\n      <td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\" style=\"color:green\">✘\n      <td data-goal=\"prob-transfer-userid-no-nav\" style=\"color:green\">✘\n      <td data-goal=\"prob-transfer-userid\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         Publisher 2 reads their own logs for the page load and publisher 1’s logs for the click tracking of the navigation click. <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①\">User IDs</a> that clicked on publisher 1 approximately the same\n    time as that link’s target loaded on publisher 2 are\n    probabilistically correlated. \n       </details>\n     <tr>\n      <th><a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> on the target publisher\n      <td data-goal=\"transfer-userid\"> <span style=\"color:green\">✘</span> \n      <td data-goal=\"userid-tracker-to-self-in-pub\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         The tracker adds a path segment, possibly encrypted, in their links to the\n    publisher, encoding the user’s ID within the tracker. They convince the\n    publisher to <a href=\"#ess-server-defined-paths\">ignore that path segment in\n    their server processing</a>. The tracker running inside that publisher reads\n    the URL, decodes the tracker site’s user ID, and <a href=\"#ess-js-requests\">sends that and the tracker-within-publisher user ID\n    up to the tracker’s server</a>. \n       </details>\n      <td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\"> <span style=\"color:green\">✘</span> \n      <td data-goal=\"prob-transfer-userid-no-nav\"> <span style=\"color:green\">✘</span> \n      <td data-goal=\"prob-transfer-userid\"> <span style=\"color:green\">✘</span> \n     <tr>\n      <th><a href=\"#cap-first-party-js\">§ 5.2 Run Javascript in a first-party context</a> or <a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> on the source site and <a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> on the target publisher\n      <td data-goal=\"transfer-userid\"> <span style=\"color:green\">✘</span> \n      <td data-goal=\"userid-tracker-to-self-in-pub\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         The tracker adds a path segment, possibly encrypted, in their links to the\n      publisher, encoding the user’s ID within the tracker. They convince the\n      publisher to <a href=\"#ess-server-defined-paths\">ignore that path segment in\n      their server processing</a>. The tracker running inside that publisher reads\n      the URL, decodes the tracker site’s user ID, and <a href=\"#ess-js-requests\">sends that and the tracker-within-publisher user ID\n      up to the tracker’s server</a>. \n       </details>\n      <td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         The tracker adds a path segment, possibly encrypted, in the publisher 1’s\n      links to publisher 2, encoding the user’s ID within publisher 1. They\n      convince publisher 2 to <a href=\"#ess-server-defined-paths\">ignore that\n      path segment in their server processing</a>. The tracker running inside\n      that publisher reads the URL, decodes publisher 1’s user ID, and <a href=\"#ess-js-requests\">sends that and publisher 2’s user ID up to the\n      tracker’s server</a>. \n       </details>\n      <td data-goal=\"prob-transfer-userid-no-nav\"> <span style=\"color:red\">✓</span> \n      <td data-goal=\"prob-transfer-userid\"> <span style=\"color:red\">✓</span> \n   </table>\n   <p>Further cross-site recognition is available by combining capabilities with the\nability to <a href=\"#cap-first-party-js\">§ 5.2 Run Javascript in a first-party context</a> (or <a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> to add\nattacker-controlled javascript):</p>\n   <table class=\"threatmodel\">\n    <tbody>\n     <tr class=\"goals\">\n      <td>\n      <th>\n       <div>\n        <div><a href=\"#goal-prob-transfer-userid-no-nav\">§ 6.2.5 Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</a></div>\n       </div>\n     <tr>\n      <th><a href=\"#cap-type-identifier\">§ 5.5 Convince the user to type an identifier</a>\n      <td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         The tracker gets a report of the identifiers typed in both publisher\n        sites, along with each publisher’s <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id②\">user id</a>. If they’re equal, the <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id③\">user ids</a> probably refer to the same user. The probability depends on\n        the type of identifier: email addresses or credit card numbers are very\n        high probability. Names or dates of birth are lower probability unless\n        combined with other information like a zip code. \n       </details>\n     <tr>\n      <th><a href=\"#cap-same-device-same-time\">§ 5.6 Convince the user to open the same device in two cross-site tabs</a>\n      <td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         The tracker reads the two devices, and if they give the same output at\n        approximately the same time, the user is probably the same. For devices\n        like cameras and microphones, detection is likely to be very accurate.\n        Others, like ambient light, might only give a few bits per sample, and\n        so need a long period of overlap in order to provide a good correlation. \n        <p>For some devices, this transfer can be mitigated by turning off input\n        when the site isn’t visible or isn’t focused, but user expectations\n        limit where that mitigation is applicable.</p>\n       </details>\n     <tr>\n      <th><a href=\"#cap-same-rw-device\">§ 5.7 Convince the user to open the same read+write device in two different sites</a>\n      <td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         The tracker writes identifying content to the device and then reads it\n        back when the other site is opened. This is visible to varying degrees\n        depending on the device: an individual native file or a Bluetooth or USB\n        device that isn’t designed to cooperate with this sort of tracking, is\n        likely to break in obvious ways when the tracker tries to write an\n        identifier. A native directory, on the other hand, has many available\n        filenames that could hold identifying information without a user being\n        likely to notice. \n       </details>\n     <tr>\n      <th><a href=\"#cap-open-for-browser-event\">§ 5.8 Have two sites open when a browser-wide event happens</a>\n      <td data-goal=\"prob-transfer-userid-no-nav\"> <span style=\"color:green\">✘</span> \n     <tr>\n      <th><a href=\"#cap-visible-for-browser-event\">§ 5.9 Have two sites visible when a browser-wide event happens</a>\n      <td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary style=\"color:red\">✓</summary>\n         Browser-wide events generally need to be visible immediately when a user\n        is looking at a website, so the tracker just needs to notice that the\n        event’s parameters are the same, and its timestamp across two sites is\n        close together. The probability of identifying a single user goes up as\n        more events are observed. \n       </details>\n   </table>\n   <h3 class=\"heading settled\" data-level=\"4.2\" id=\"model-sensitive-information\"><span class=\"secno\">4.2. </span><span class=\"content\">Sensitive-information</span><a class=\"self-link\" href=\"#model-sensitive-information\"></a></h3>\n   <p>Attackers should only be able to get access to sensitive information from a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#user-agent\" id=\"ref-for-user-agent\">user agent</a> if the user expresses their intent that the attacker get access\nto this information at the time the attacker gets access to it. User agents vary\nin how they gather this expression of intent.</p>\n   <p>That a user intends an attacker to get a piece of information at one time, for\nexample their location or their contact book, may be, but is not necessarily\nevidence that the user intends to give out the same piece of information at\na later time. There is not consensus about how long it’s reasonable to infer\ncontinued intent, but there is consensus that intent doesn’t last for years\nwithout interaction.</p>\n   <p class=\"issue\" id=\"issue-db535e06\"><a class=\"self-link\" href=\"#issue-db535e06\"></a> Add more information about local attackers and confused users and how\nbrowsers can mitigate. <a href=\"https://github.com/w3cping/privacy-threat-model/issues/19\">&lt;https://github.com/w3cping/privacy-threat-model/issues/19></a></p>\n   <p>This threat model defines a kind of information as <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-lt=\"restricted sensitive information\" data-noexport id=\"restricted-sensitive-information\">restricted sensitive\ninformation</dfn> if the web platform currently blocks access to it by default\nor if we plan to evolve the web platform to block access to it by default\nbecause of the potential privacy harms from disclosure of that kind of\ninformation.</p>\n   <p>Other information is described as \"not <a data-link-type=\"dfn\" href=\"#restricted-sensitive-information\" id=\"ref-for-restricted-sensitive-information\">restricted sensitive information</a>\"\neven if some users in some situations would find it sensitive. Information in\nthis category may have a lower risk of privacy harm to users or may not\ncurrently be restricted because of incompatibility with functionality of the\nWeb. These categories are not static and it may become feasible to block access\nby default to more kinds of information as the platform develops.</p>\n   <p>There is consensus that some kinds of information are <a data-link-type=\"dfn\" href=\"#restricted-sensitive-information\" id=\"ref-for-restricted-sensitive-information①\">restricted sensitive\ninformation</a>:</p>\n   <ul>\n    <li data-md>\n     <p>Location</p>\n    <li data-md>\n     <p>Disability status</p>\n    <li data-md>\n     <p>Microphone input</p>\n    <li data-md>\n     <p>Etc.</p>\n   </ul>\n   <p>There is consensus that some other kinds of information are not <a data-link-type=\"dfn\" href=\"#restricted-sensitive-information\" id=\"ref-for-restricted-sensitive-information②\">restricted\nsensitive information</a>:</p>\n   <ul>\n    <li data-md>\n     <p>User agent</p>\n    <li data-md>\n     <p>Language</p>\n    <li data-md>\n     <p>A user’s <a class=\"css\" data-link-type=\"descriptor\" href=\"https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-reduced-motion\" id=\"ref-for-descdef-media-prefers-reduced-motion\">preference for\nless motion</a>.</p>\n    <li data-md>\n     <p>Etc.</p>\n   </ul>\n   <p>There is not consensus about the sensitivity of all kinds of information:</p>\n   <ul>\n    <li data-md>\n     <p>TODO: examples?</p>\n   </ul>\n   <h2 class=\"heading settled\" data-level=\"5\" id=\"capabilities\"><span class=\"secno\">5. </span><span class=\"content\">Attacker Capabilities</span><a class=\"self-link\" href=\"#capabilities\"></a></h2>\n   <p>These are things some attackers can do. The attackers can use them to achieve\ntheir <a href=\"#goals\">goals</a>. All attackers are assumed to be able to buy\ndomains and host sites on their domains.</p>\n   <h3 class=\"heading settled\" data-level=\"5.1\" id=\"cap-iframes\"><span class=\"secno\">5.1. </span><span class=\"content\">Load iframes</span><a class=\"self-link\" href=\"#cap-iframes\"></a></h3>\n   <p>The attacker can convince a publisher to load an iframe from the attacker’s site.</p>\n   <h3 class=\"heading settled\" data-level=\"5.2\" id=\"cap-first-party-js\"><span class=\"secno\">5.2. </span><span class=\"content\">Run Javascript in a first-party context</span><a class=\"self-link\" href=\"#cap-first-party-js\"></a></h3>\n   <p>When a publisher wants to show ads from an ad network, many/most ad networks\nrequire that publisher to use a <code>&lt;script src=\"adnetwork.js\"></code> tag instead of an <code>&lt;iframe src=\"adnetwork.html\"></code>, which allows the ad network to see any\npublisher data that’s exposed to Javascript. This includes query parameters\n(e.g. <code>fbclid</code>) and any cookies that aren’t <a data-link-type=\"http-header\" href=\"https://tools.ietf.org/html/rfc6265#section-4.1.2.6\" id=\"ref-for-section-4.1.2.6\">HttpOnly</a>.</p>\n   <h3 class=\"heading settled\" data-level=\"5.3\" id=\"cap-run-on-server\"><span class=\"secno\">5.3. </span><span class=\"content\">Modify server processing</span><a class=\"self-link\" href=\"#cap-run-on-server\"></a></h3>\n   <p>Some attackers can convince some publishers (perhaps by paying them) to modify\ntheir server software. This could be used, for example, to receive <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id④\">user IDs</a> passed in a path segment instead of a query parameter, without breaking the\nnormal logic mapping a path to content.</p>\n   <h3 class=\"heading settled\" data-level=\"5.4\" id=\"cap-read-logs\"><span class=\"secno\">5.4. </span><span class=\"content\">Read server logs</span><a class=\"self-link\" href=\"#cap-read-logs\"></a></h3>\n   <p>Servers can keep logs of requests. The attacker may be able to convince some\nserver operators to give them these logs or let them run queries over the logs.</p>\n   <h3 class=\"heading settled\" data-level=\"5.5\" id=\"cap-type-identifier\"><span class=\"secno\">5.5. </span><span class=\"content\">Convince the user to type an identifier</span><a class=\"self-link\" href=\"#cap-type-identifier\"></a></h3>\n   <p>The attacker can convince a user to type their email address, name, zip code,\netc. into two publishers' sites.</p>\n   <h3 class=\"heading settled\" data-level=\"5.6\" id=\"cap-same-device-same-time\"><span class=\"secno\">5.6. </span><span class=\"content\">Convince the user to open the same device in two cross-site tabs</span><a class=\"self-link\" href=\"#cap-same-device-same-time\"></a></h3>\n   <p>The attacker can convince a user to open the same device on two publishers'\nsites that are both open at the same time in different tabs or windows.</p>\n   <h3 class=\"heading settled\" data-level=\"5.7\" id=\"cap-same-rw-device\"><span class=\"secno\">5.7. </span><span class=\"content\">Convince the user to open the same read+write device in two different sites</span><a class=\"self-link\" href=\"#cap-same-rw-device\"></a></h3>\n   <p>A read+write device is something like a native filesystem file or directory, or\na bluetooth or USB device that can be configured to save data. The two sites\nneed to be given access to the same device, but they don’t need to both be open\nat the same time.</p>\n   <h3 class=\"heading settled\" data-level=\"5.8\" id=\"cap-open-for-browser-event\"><span class=\"secno\">5.8. </span><span class=\"content\">Have two sites open when a browser-wide event happens</span><a class=\"self-link\" href=\"#cap-open-for-browser-event\"></a></h3>\n   <p>A browser-wide event is something that happens to the browser as a whole instead\nof to an individual site or web page. For example, the user going idle, sensor\ndata changing, or the device’s time zone changing, would affect all tabs at the\nsame time.</p>\n   <h3 class=\"heading settled\" data-level=\"5.9\" id=\"cap-visible-for-browser-event\"><span class=\"secno\">5.9. </span><span class=\"content\">Have two sites visible when a browser-wide event happens</span><a class=\"self-link\" href=\"#cap-visible-for-browser-event\"></a></h3>\n   <p>Unlike <a href=\"#cap-open-for-browser-event\">§ 5.8 Have two sites open when a browser-wide event happens</a>, this capability requires both sites to be\nvisible (probably in two separate browser windows) at the same time during the\nevent.</p>\n   <h2 class=\"heading settled\" data-level=\"6\" id=\"goals\"><span class=\"secno\">6. </span><span class=\"content\">Attacker goals</span><a class=\"self-link\" href=\"#goals\"></a></h2>\n   <p>These are things <a data-link-type=\"dfn\" href=\"#attacker\" id=\"ref-for-attacker\">attackers</a> want to accomplish.</p>\n   <h3 class=\"heading settled\" data-level=\"6.1\" id=\"goals-metrics\"><span class=\"secno\">6.1. </span><span class=\"content\">User metrics within a single site</span><a class=\"self-link\" href=\"#goals-metrics\"></a></h3>\n   <h4 class=\"heading settled\" data-level=\"6.1.1\" id=\"goal-click-tracking\"><span class=\"secno\">6.1.1. </span><span class=\"content\">Click tracking</span><a class=\"self-link\" href=\"#goal-click-tracking\"></a></h4>\n   <p>A site wants to know which of its links a user clicks on.</p>\n   <h3 class=\"heading settled\" data-level=\"6.2\" id=\"goals-tracking\"><span class=\"secno\">6.2. </span><span class=\"content\">Tracking</span><a class=\"self-link\" href=\"#goals-tracking\"></a></h3>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-tracking-dnt\">[tracking-dnt]</a> defines \"tracking\" as the collection of data regarding a\nparticular user’s activity across multiple distinct contexts and the retention,\nuse, or sharing of data derived from that activity outside the context in which\nit occurred. A context is a set of resources that are controlled by the same\nparty or jointly controlled by a set of parties. The following are building\nblocks that allow a tracker to build such a log of a user’s activity.</p>\n   <h4 class=\"heading settled\" data-level=\"6.2.1\" id=\"goal-transfer-userid\"><span class=\"secno\">6.2.1. </span><span class=\"content\">Transfer user ID from publisher 1 to publisher 2 on navigation.</span><a class=\"self-link\" href=\"#goal-transfer-userid\"></a></h4>\n   <p>When the user clicks a link from <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher\">publisher</a> 1 that navigates to <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher①\">publisher</a> 2, publisher 2’s server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑤\">user ID</a> on publisher 2 and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑥\">user ID</a> on\npublisher 1 represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user③\">user</a>.</p>\n   <h4 class=\"heading settled\" data-level=\"6.2.2\" id=\"goal-userid-tracker-to-self-in-pub\"><span class=\"secno\">6.2.2. </span><span class=\"content\">Transfer user ID from tracker to that tracker running within a publisher, on navigation.</span><a class=\"self-link\" href=\"#goal-userid-tracker-to-self-in-pub\"></a></h4>\n   <p>When the user clicks a link from <code>tracker.example</code> to <code>publisher.example</code>, that <a data-link-type=\"dfn\" href=\"#tracker\" id=\"ref-for-tracker\">tracker’s</a> server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑦\">user ID</a> for either <code>publisher.example</code> or\nthe tracker running within <code>publisher.example</code> and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑧\">user ID</a> for <code>tracker.example</code> represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user④\">user</a>.</p>\n   <h4 class=\"heading settled\" data-level=\"6.2.3\" id=\"goal-userid-tracker-in-pub1-to-self-in-pub2\"><span class=\"secno\">6.2.3. </span><span class=\"content\">Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</span><a class=\"self-link\" href=\"#goal-userid-tracker-in-pub1-to-self-in-pub2\"></a></h4>\n   <p>When the user clicks a link from <code>publisher1.example</code> (where a tracker was\nembedded within that site) to <code>publisher2.example</code> (which has the same tracker\nembedded), that <a data-link-type=\"dfn\" href=\"#tracker\" id=\"ref-for-tracker①\">tracker’s</a> server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑨\">user ID</a> for either <code>publisher1.example</code> or the tracker running within <code>publisher1.example</code> and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①⓪\">user ID</a> for either <code>publisher2.example</code> or the tracker running within <code>publisher2.example</code> represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user⑤\">user</a>.</p>\n   <h4 class=\"heading settled\" data-level=\"6.2.4\" id=\"goal-prob-transfer-userid\"><span class=\"secno\">6.2.4. </span><span class=\"content\">Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</span><a class=\"self-link\" href=\"#goal-prob-transfer-userid\"></a></h4>\n   <p>When the user clicks a link from <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher②\">publisher</a> 1 that navigates to <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher③\">publisher</a> 2, publisher 2’s server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①①\">user ID</a> on publisher 2 and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①②\">user ID</a> on\npublisher 1 are more likely than chance to represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user⑥\">user</a>.</p>\n   <h4 class=\"heading settled\" data-level=\"6.2.5\" id=\"goal-prob-transfer-userid-no-nav\"><span class=\"secno\">6.2.5. </span><span class=\"content\">Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</span><a class=\"self-link\" href=\"#goal-prob-transfer-userid-no-nav\"></a></h4>\n   <p>While the user is visiting <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher④\">publisher</a> 1, that publisher can tell <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher⑤\">publisher</a> 2 that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①③\">user ID</a> on publisher 2 and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①④\">user ID</a> on publisher\n1 are more likely than chance to represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user⑦\">user</a>, without requiring\nthe user to navigate from publisher 1 to publisher 2.</p>\n   <h2 class=\"heading settled\" data-level=\"7\" id=\"essential\"><span class=\"secno\">7. </span><span class=\"content\">Essential Web APIs</span><a class=\"self-link\" href=\"#essential\"></a></h2>\n   <p>These are Web APIs and features that would destroy the Web as we know it if they\nwent away. The placement of some features here will be contentious, and those\nfeatures are marked as I discover the contention.</p>\n   <h3 class=\"heading settled\" data-level=\"7.1\" id=\"ess-js-requests\"><span class=\"secno\">7.1. </span><span class=\"content\">Javascript can make requests to servers</span><a class=\"self-link\" href=\"#ess-js-requests\"></a></h3>\n   <p>This could perhaps be broken down into same-origin requests and cross-origin\nrequests, with cross-origin requests being more contentious.</p>\n   <h3 class=\"heading settled\" data-level=\"7.2\" id=\"ess-server-defined-paths\"><span class=\"secno\">7.2. </span><span class=\"content\">Servers can define the paths under which they host content</span><a class=\"self-link\" href=\"#ess-server-defined-paths\"></a></h3>\n   <p>These paths can include opaque strings that neither a human nor a user agent can\ninterpret without knowing how the server works, like <code>/t/proposal-packaging-for-the-web-signed-and-indexed/1827/10</code> and <code>/Moby-Dick-Herman-Melville/dp/1503280780/</code>.</p>\n   <h2 class=\"heading settled\" data-level=\"8\" id=\"acknowledgements\"><span class=\"secno\">8. </span><span class=\"content\">Acknowledgements</span><a class=\"self-link\" href=\"#acknowledgements\"></a></h2>\n   <p>Safari did the first work to prove that a more privacy-preserving web was\npossible, by blocking third-party cookies by default and then shipping <a href=\"https://webkit.org/blog/7675/intelligent-tracking-prevention/\">ITP\n1.0</a>, without\nbreaking the world. They eventually published their <a href=\"https://webkit.org/tracking-prevention-policy/\">policy for Tracking\nPrevention</a>, which heavily\ninfluenced this document.</p>\n   <p>Mozilla wrote the first concrete <a href=\"https://wiki.mozilla.org/Security/Anti_tracking_policy\">anti-tracking\npolicy</a>, which inspired\nSafari’s policy.</p>\n   <p>Michael Kleber on the Chrome team proposed a <a href=\"https://github.com/michaelkleber/privacy-model\">Privacy Model for the\nWeb</a>, which suggests blocking\nthe transfer of <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①⑤\">user IDs</a> between top-level sites and suggests a few ways\nthat information could flow between sites without compromising user privacy.</p>\n  </main>\n  <div data-fill-with=\"conformance\">\n   <h2 class=\"no-ref no-num heading settled\" id=\"conformance\"><span class=\"content\"> Conformance</span><a class=\"self-link\" href=\"#conformance\"></a></h2>\n   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.\n            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”\n            in the normative parts of this document\n            are to be interpreted as described in RFC 2119.\n            However, for readability,\n            these words do not appear in all uppercase letters in this specification. </p>\n   <p> All of the text of this specification is normative\n            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type=\"biblio\" href=\"#biblio-rfc2119\">[RFC2119]</a> </p>\n   <p> Examples in this specification are introduced with the words “for example”\n            or are set apart from the normative text with <code>class=\"example\"</code>, like this: </p>\n   <div class=\"example\" id=\"example-example\"><a class=\"self-link\" href=\"#example-example\"></a> This is an example of an informative example. </div>\n   <p> Informative notes begin with the word “Note”\n            and are set apart from the normative text with <code>class=\"note\"</code>, like this: </p>\n   <p class=\"note\" role=\"note\"> Note, this is an informative note. </p>\n  </div>\n<script>\n(function() {\n  \"use strict\";\n  var collapseSidebarText = '<span aria-hidden=\"true\">←</span> '\n                          + '<span>Collapse Sidebar</span>';\n  var expandSidebarText   = '<span aria-hidden=\"true\">→</span> '\n                          + '<span>Pop Out Sidebar</span>';\n  var tocJumpText         = '<span aria-hidden=\"true\">↑</span> '\n                          + '<span>Jump to Table of Contents</span>';\n\n  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');\n  var autoToggle   = function(e){ toggleSidebar(e.matches) };\n  if(sidebarMedia.addListener) {\n    sidebarMedia.addListener(autoToggle);\n  }\n\n  function toggleSidebar(on) {\n    if (on == undefined) {\n      on = !document.body.classList.contains('toc-sidebar');\n    }\n\n    /* Don’t scroll to compensate for the ToC if we’re above it already. */\n    var headY = 0;\n    var head = document.querySelector('.head');\n    if (head) {\n      // terrible approx of \"top of ToC\"\n      headY += head.offsetTop + head.offsetHeight;\n    }\n    var skipScroll = window.scrollY < headY;\n\n    var toggle = document.getElementById('toc-toggle');\n    var tocNav = document.getElementById('toc');\n    if (on) {\n      var tocHeight = tocNav.offsetHeight;\n      document.body.classList.add('toc-sidebar');\n      document.body.classList.remove('toc-inline');\n      toggle.innerHTML = collapseSidebarText;\n      if (!skipScroll) {\n        window.scrollBy(0, 0 - tocHeight);\n      }\n      tocNav.focus();\n      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room\n    }\n    else {\n      document.body.classList.add('toc-inline');\n      document.body.classList.remove('toc-sidebar');\n      toggle.innerHTML = expandSidebarText;\n      if (!skipScroll) {\n        window.scrollBy(0, tocNav.offsetHeight);\n      }\n      if (toggle.matches(':hover')) {\n        /* Unfocus button when not using keyboard navigation,\n           because I don’t know where else to send the focus. */\n        toggle.blur();\n      }\n    }\n  }\n\n  function createSidebarToggle() {\n    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */\n    var toggle = document.createElement('a');\n      /* This should probably be a button, but appearance isn’t standards-track.*/\n    toggle.id = 'toc-toggle';\n    toggle.class = 'toc-toggle';\n    toggle.href = '#toc';\n    toggle.innerHTML = collapseSidebarText;\n\n    sidebarMedia.addListener(autoToggle);\n    var toggler = function(e) {\n      e.preventDefault();\n      sidebarMedia.removeListener(autoToggle); // persist explicit off states\n      toggleSidebar();\n      return false;\n    }\n    toggle.addEventListener('click', toggler, false);\n\n\n    /* Get <nav id=toc-nav>, or make it if we don’t have one. */\n    var tocNav = document.getElementById('toc-nav');\n    if (!tocNav) {\n      tocNav = document.createElement('p');\n      tocNav.id = 'toc-nav';\n      /* Prepend for better keyboard navigation */\n      document.body.insertBefore(tocNav, document.body.firstChild);\n    }\n    /* While we’re at it, make sure we have a Jump to Toc link. */\n    var tocJump = document.getElementById('toc-jump');\n    if (!tocJump) {\n      tocJump = document.createElement('a');\n      tocJump.id = 'toc-jump';\n      tocJump.href = '#toc';\n      tocJump.innerHTML = tocJumpText;\n      tocNav.appendChild(tocJump);\n    }\n\n    tocNav.appendChild(toggle);\n  }\n\n  var toc = document.getElementById('toc');\n  if (toc) {\n    createSidebarToggle();\n    toggleSidebar(sidebarMedia.matches);\n\n    /* If the sidebar has been manually opened and is currently overlaying the text\n       (window too small for the MQ to add the margin to body),\n       then auto-close the sidebar once you click on something in there. */\n    toc.addEventListener('click', function(e) {\n      if(e.target.tagName.toLowerCase() == \"a\" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {\n        toggleSidebar(false);\n      }\n    }, false);\n  }\n  else {\n    console.warn(\"Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.\");\n  }\n\n  /* Wrap tables in case they overflow */\n  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');\n  var numTables = tables.length;\n  for (var i = 0; i < numTables; i++) {\n    var table = tables[i];\n    var wrapper = document.createElement('div');\n    wrapper.className = 'overlarge';\n    table.parentNode.insertBefore(wrapper, table);\n    wrapper.appendChild(table);\n  }\n\n})();\n</script>\n  <h2 class=\"no-num no-ref heading settled\" id=\"index\"><span class=\"content\">Index</span><a class=\"self-link\" href=\"#index\"></a></h2>\n  <h3 class=\"no-num no-ref heading settled\" id=\"index-defined-here\"><span class=\"content\">Terms defined by this specification</span><a class=\"self-link\" href=\"#index-defined-here\"></a></h3>\n  <ul class=\"index\">\n   <li><a href=\"#attacker\">attacker</a><span>, in §2</span>\n   <li><a href=\"#correlation\">Correlation</a><span>, in §3</span>\n   <li><a href=\"#disclosure\">Disclosure</a><span>, in §3</span>\n   <li><a href=\"#exclusion\">Exclusion</a><span>, in §3</span>\n   <li><a href=\"#first-party\">first party</a><span>, in §2</span>\n   <li><a href=\"#global-identifier\">global identifier</a><span>, in §2</span>\n   <li><a href=\"#identification\">Identification</a><span>, in §3</span>\n   <li><a href=\"#intrusion\">Intrusion</a><span>, in §3</span>\n   <li><a href=\"#misattribution\">Misattribution</a><span>, in §3</span>\n   <li><a href=\"#party\">party</a><span>, in §2</span>\n   <li><a href=\"#publisher\">publisher</a><span>, in §2</span>\n   <li><a href=\"#restricted-sensitive-information\">restricted sensitive information</a><span>, in §4.2</span>\n   <li><a href=\"#secondary-use\">Secondary Use</a><span>, in §3</span>\n   <li><a href=\"#site\">site</a><span>, in §2</span>\n   <li><a href=\"#stored-data-compromise\">Stored Data Compromise</a><span>, in §3</span>\n   <li><a href=\"#surveillance\">Surveillance</a><span>, in §3</span>\n   <li><a href=\"#third-party\">third party</a><span>, in §2</span>\n   <li><a href=\"#tracker\">tracker</a><span>, in §2</span>\n   <li><a href=\"#user\">user</a><span>, in §2</span>\n   <li><a href=\"#user-id\">user ID</a><span>, in §2</span>\n  </ul>\n  <aside class=\"dfn-panel\" data-for=\"term-for-dfn-browser-fingerprinting\">\n   <a href=\"https://w3c.github.io/fingerprinting-guidance/#dfn-browser-fingerprinting\">https://w3c.github.io/fingerprinting-guidance/#dfn-browser-fingerprinting</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-dfn-browser-fingerprinting\">3.1. Unwanted same-site recognition</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-dom-localstorage\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage\">https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-dom-localstorage\">3.1. Unwanted same-site recognition</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-concept-origin\">\n   <a href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\">https://html.spec.whatwg.org/multipage/origin.html#concept-origin</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-concept-origin\">2. Terminology</a> <a href=\"#ref-for-concept-origin①\">(2)</a> <a href=\"#ref-for-concept-origin②\">(3)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-same-site\">\n   <a href=\"https://html.spec.whatwg.org/multipage/origin.html#same-site\">https://html.spec.whatwg.org/multipage/origin.html#same-site</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-same-site\">2. Terminology</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-top-level-browsing-context\">\n   <a href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\">https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-top-level-browsing-context\">2. Terminology</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-dom-windoworworkerglobalscope-indexeddb\">\n   <a href=\"https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb\">https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-dom-windoworworkerglobalscope-indexeddb\">3.1. Unwanted same-site recognition</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-user-agent\">\n   <a href=\"https://infra.spec.whatwg.org/#user-agent\">https://infra.spec.whatwg.org/#user-agent</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-user-agent\">4.2. Sensitive-information</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-descdef-media-prefers-reduced-motion\">\n   <a href=\"https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-reduced-motion\">https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-reduced-motion</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-descdef-media-prefers-reduced-motion\">4.2. Sensitive-information</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-list-format\">\n   <a href=\"https://publicsuffix.org/list/#list-format\">https://publicsuffix.org/list/#list-format</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-list-format\">2. Terminology</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-section-4.1.2.6\">\n   <a href=\"https://tools.ietf.org/html/rfc6265#section-4.1.2.6\">https://tools.ietf.org/html/rfc6265#section-4.1.2.6</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-section-4.1.2.6\">5.2. Run Javascript in a first-party context</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-cachestorage\">\n   <a href=\"https://w3c.github.io/ServiceWorker/#cachestorage\">https://w3c.github.io/ServiceWorker/#cachestorage</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-cachestorage\">3.1. Unwanted same-site recognition</a>\n   </ul>\n  </aside>\n  <h3 class=\"no-num no-ref heading settled\" id=\"index-defined-elsewhere\"><span class=\"content\">Terms defined by reference</span><a class=\"self-link\" href=\"#index-defined-elsewhere\"></a></h3>\n  <ul class=\"index\">\n   <li>\n    <a data-link-type=\"biblio\">[fingerprinting-guidance]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-dfn-browser-fingerprinting\" style=\"color:initial\">browser fingerprinting</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[HTML]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-dom-localstorage\" style=\"color:initial\">localStorage</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-concept-origin\" style=\"color:initial\">origin</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-same-site\" style=\"color:initial\">same site</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-top-level-browsing-context\" style=\"color:initial\">top-level browsing context</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[IndexedDB-2]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-dom-windoworworkerglobalscope-indexeddb\" style=\"color:initial\">indexedDB</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[INFRA]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-user-agent\" style=\"color:initial\">user agent</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[mediaqueries-5]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-descdef-media-prefers-reduced-motion\" style=\"color:initial\">prefers-reduced-motion</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[PSL]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-list-format\" style=\"color:initial\">registrable domain</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[RFC6265]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-section-4.1.2.6\" style=\"color:initial\">httponly</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[service-workers-1]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-cachestorage\" style=\"color:initial\">CacheStorage</span>\n    </ul>\n  </ul>\n  <h2 class=\"no-num no-ref heading settled\" id=\"references\"><span class=\"content\">References</span><a class=\"self-link\" href=\"#references\"></a></h2>\n  <h3 class=\"no-num no-ref heading settled\" id=\"normative\"><span class=\"content\">Normative References</span><a class=\"self-link\" href=\"#normative\"></a></h3>\n  <dl>\n   <dt id=\"biblio-fingerprinting-guidance\">[FINGERPRINTING-GUIDANCE]\n   <dd>Nick Doty. <a href=\"https://www.w3.org/TR/fingerprinting-guidance/\">Mitigating Browser Fingerprinting in Web Specifications</a>. 28 March 2019. NOTE. URL: <a href=\"https://www.w3.org/TR/fingerprinting-guidance/\">https://www.w3.org/TR/fingerprinting-guidance/</a>\n   <dt id=\"biblio-html\">[HTML]\n   <dd>Anne van Kesteren; et al. <a href=\"https://html.spec.whatwg.org/multipage/\">HTML Standard</a>. Living Standard. URL: <a href=\"https://html.spec.whatwg.org/multipage/\">https://html.spec.whatwg.org/multipage/</a>\n   <dt id=\"biblio-indexeddb-2\">[IndexedDB-2]\n   <dd>Ali Alabbas; Joshua Bell. <a href=\"https://www.w3.org/TR/IndexedDB-2/\">Indexed Database API 2.0</a>. 30 January 2018. REC. URL: <a href=\"https://www.w3.org/TR/IndexedDB-2/\">https://www.w3.org/TR/IndexedDB-2/</a>\n   <dt id=\"biblio-infra\">[INFRA]\n   <dd>Anne van Kesteren; Domenic Denicola. <a href=\"https://infra.spec.whatwg.org/\">Infra Standard</a>. Living Standard. URL: <a href=\"https://infra.spec.whatwg.org/\">https://infra.spec.whatwg.org/</a>\n   <dt id=\"biblio-mediaqueries-5\">[MEDIAQUERIES-5]\n   <dd>Dean Jackson; Florian Rivoal; Tab Atkins Jr.. <a href=\"https://www.w3.org/TR/mediaqueries-5/\">Media Queries Level 5</a>. 31 July 2020. WD. URL: <a href=\"https://www.w3.org/TR/mediaqueries-5/\">https://www.w3.org/TR/mediaqueries-5/</a>\n   <dt id=\"biblio-psl\">[PSL]\n   <dd><cite><a href=\"https://publicsuffix.org/\">Public Suffix List</a></cite>.    Mozilla Foundation.\n   <dt id=\"biblio-rfc2119\">[RFC2119]\n   <dd>S. Bradner. <a href=\"https://tools.ietf.org/html/rfc2119\">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href=\"https://tools.ietf.org/html/rfc2119\">https://tools.ietf.org/html/rfc2119</a>\n   <dt id=\"biblio-rfc6265\">[RFC6265]\n   <dd>A. Barth. <a href=\"https://httpwg.org/specs/rfc6265.html\">HTTP State Management Mechanism</a>. April 2011. Proposed Standard. URL: <a href=\"https://httpwg.org/specs/rfc6265.html\">https://httpwg.org/specs/rfc6265.html</a>\n   <dt id=\"biblio-service-workers-1\">[SERVICE-WORKERS-1]\n   <dd>Alex Russell; et al. <a href=\"https://www.w3.org/TR/service-workers-1/\">Service Workers 1</a>. 19 November 2019. CR. URL: <a href=\"https://www.w3.org/TR/service-workers-1/\">https://www.w3.org/TR/service-workers-1/</a>\n  </dl>\n  <h3 class=\"no-num no-ref heading settled\" id=\"informative\"><span class=\"content\">Informative References</span><a class=\"self-link\" href=\"#informative\"></a></h3>\n  <dl>\n   <dt id=\"biblio-psl-problems\">[PSL-PROBLEMS]\n   <dd>Ryan Sleevi. <a href=\"https://github.com/sleevi/psl-problems\">Public Suffix List Problems</a>. URL: <a href=\"https://github.com/sleevi/psl-problems\">https://github.com/sleevi/psl-problems</a>\n   <dt id=\"biblio-rfc6973\">[RFC6973]\n   <dd>A. Cooper; et al. <a href=\"https://tools.ietf.org/html/rfc6973\">Privacy Considerations for Internet Protocols</a>. July 2013. Informational. URL: <a href=\"https://tools.ietf.org/html/rfc6973\">https://tools.ietf.org/html/rfc6973</a>\n   <dt id=\"biblio-tracking-dnt\">[TRACKING-DNT]\n   <dd>Roy Fielding; David Singer. <a href=\"https://www.w3.org/TR/tracking-dnt/\">Tracking Preference Expression (DNT)</a>. 17 January 2019. NOTE. URL: <a href=\"https://www.w3.org/TR/tracking-dnt/\">https://www.w3.org/TR/tracking-dnt/</a>\n   <dt id=\"biblio-what-does-private-browsing-do\">[WHAT-DOES-PRIVATE-BROWSING-DO]\n   <dd>Martin Shelton. <a href=\"https://medium.com/@mshelton/what-does-private-browsing-mode-do-adfe5a70a8b1\">What Does Private Browsing Mode Do?</a>. URL: <a href=\"https://medium.com/@mshelton/what-does-private-browsing-mode-do-adfe5a70a8b1\">https://medium.com/@mshelton/what-does-private-browsing-mode-do-adfe5a70a8b1</a>\n  </dl>\n  <h2 class=\"no-num no-ref heading settled\" id=\"issues-index\"><span class=\"content\">Issues Index</span><a class=\"self-link\" href=\"#issues-index\"></a></h2>\n  <div style=\"counter-reset:issue\">\n   <div class=\"issue\"> This description of what makes information sensitive still needs to\nbe refined. <a href=\"https://github.com/w3cping/privacy-threat-model/issues/16\">&lt;https://github.com/w3cping/privacy-threat-model/issues/16></a><a href=\"#issue-71c59b1e\"> ↵ </a></div>\n   <div class=\"issue\"> Should we mark goals attackers can currently achieve, which we want to\nremove, differently from goals attackers already can’t achieve?<a href=\"#issue-eb037c92\"> ↵ </a></div>\n   <div class=\"issue\"> Add more information about local attackers and confused users and how\nbrowsers can mitigate. <a href=\"https://github.com/w3cping/privacy-threat-model/issues/19\">&lt;https://github.com/w3cping/privacy-threat-model/issues/19></a><a href=\"#issue-db535e06\"> ↵ </a></div>\n  </div>\n  <aside class=\"dfn-panel\" data-for=\"site\">\n   <b><a href=\"#site\">#site</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-site\">2. Terminology</a> <a href=\"#ref-for-site①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"party\">\n   <b><a href=\"#party\">#party</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-party\">2. Terminology</a> <a href=\"#ref-for-party①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"first-party\">\n   <b><a href=\"#first-party\">#first-party</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-first-party\">2. Terminology</a> <a href=\"#ref-for-first-party①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"third-party\">\n   <b><a href=\"#third-party\">#third-party</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-third-party\">2. Terminology</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"user\">\n   <b><a href=\"#user\">#user</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-user\">2. Terminology</a> <a href=\"#ref-for-user①\">(2)</a> <a href=\"#ref-for-user②\">(3)</a>\n    <li><a href=\"#ref-for-user③\">6.2.1. Transfer user ID from publisher 1 to publisher 2 on navigation.</a>\n    <li><a href=\"#ref-for-user④\">6.2.2. Transfer user ID from tracker to that tracker running within a publisher, on navigation.</a>\n    <li><a href=\"#ref-for-user⑤\">6.2.3. Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</a>\n    <li><a href=\"#ref-for-user⑥\">6.2.4. Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</a>\n    <li><a href=\"#ref-for-user⑦\">6.2.5. Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"user-id\">\n   <b><a href=\"#user-id\">#user-id</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-user-id\">2. Terminology</a>\n    <li><a href=\"#ref-for-user-id①\">4.1. Cross-site recognition</a> <a href=\"#ref-for-user-id②\">(2)</a> <a href=\"#ref-for-user-id③\">(3)</a>\n    <li><a href=\"#ref-for-user-id④\">5.3. Modify server processing</a>\n    <li><a href=\"#ref-for-user-id⑤\">6.2.1. Transfer user ID from publisher 1 to publisher 2 on navigation.</a> <a href=\"#ref-for-user-id⑥\">(2)</a>\n    <li><a href=\"#ref-for-user-id⑦\">6.2.2. Transfer user ID from tracker to that tracker running within a publisher, on navigation.</a> <a href=\"#ref-for-user-id⑧\">(2)</a>\n    <li><a href=\"#ref-for-user-id⑨\">6.2.3. Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</a> <a href=\"#ref-for-user-id①⓪\">(2)</a>\n    <li><a href=\"#ref-for-user-id①①\">6.2.4. Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</a> <a href=\"#ref-for-user-id①②\">(2)</a>\n    <li><a href=\"#ref-for-user-id①③\">6.2.5. Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</a> <a href=\"#ref-for-user-id①④\">(2)</a>\n    <li><a href=\"#ref-for-user-id①⑤\">8. Acknowledgements</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"global-identifier\">\n   <b><a href=\"#global-identifier\">#global-identifier</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-global-identifier\">2. Terminology</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"attacker\">\n   <b><a href=\"#attacker\">#attacker</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-attacker\">6. Attacker goals</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"publisher\">\n   <b><a href=\"#publisher\">#publisher</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-publisher\">6.2.1. Transfer user ID from publisher 1 to publisher 2 on navigation.</a> <a href=\"#ref-for-publisher①\">(2)</a>\n    <li><a href=\"#ref-for-publisher②\">6.2.4. Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</a> <a href=\"#ref-for-publisher③\">(2)</a>\n    <li><a href=\"#ref-for-publisher④\">6.2.5. Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</a> <a href=\"#ref-for-publisher⑤\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"tracker\">\n   <b><a href=\"#tracker\">#tracker</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-tracker\">6.2.2. Transfer user ID from tracker to that tracker running within a publisher, on navigation.</a>\n    <li><a href=\"#ref-for-tracker①\">6.2.3. Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"surveillance\">\n   <b><a href=\"#surveillance\">#surveillance</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-surveillance\">3.1. Unwanted same-site recognition</a>\n    <li><a href=\"#ref-for-surveillance①\">3.2. Unwanted cross-site recognition</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"intrusion\">\n   <b><a href=\"#intrusion\">#intrusion</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-intrusion\">3.4. Intrusive behavior</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"misattribution\">\n   <b><a href=\"#misattribution\">#misattribution</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-misattribution\">3.5. Powerful capabilities</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"correlation\">\n   <b><a href=\"#correlation\">#correlation</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-correlation\">3.1. Unwanted same-site recognition</a>\n    <li><a href=\"#ref-for-correlation①\">3.2. Unwanted cross-site recognition</a>\n    <li><a href=\"#ref-for-correlation②\">3.3. Sensitive information disclosure</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"identification\">\n   <b><a href=\"#identification\">#identification</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-identification\">3.1. Unwanted same-site recognition</a>\n    <li><a href=\"#ref-for-identification①\">3.2. Unwanted cross-site recognition</a>\n    <li><a href=\"#ref-for-identification②\">3.3. Sensitive information disclosure</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"secondary-use\">\n   <b><a href=\"#secondary-use\">#secondary-use</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-secondary-use\">3.3. Sensitive information disclosure</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"disclosure\">\n   <b><a href=\"#disclosure\">#disclosure</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-disclosure\">3.3. Sensitive information disclosure</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"restricted-sensitive-information\">\n   <b><a href=\"#restricted-sensitive-information\">#restricted-sensitive-information</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-restricted-sensitive-information\">4.2. Sensitive-information</a> <a href=\"#ref-for-restricted-sensitive-information①\">(2)</a> <a href=\"#ref-for-restricted-sensitive-information②\">(3)</a>\n   </ul>\n  </aside>\n<script>/* script-dfn-panel */\n\ndocument.body.addEventListener(\"click\", function(e) {\n    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }\n    // Find the dfn element or panel, if any, that was clicked on.\n    var el = e.target;\n    var target;\n    var hitALink = false;\n    while(el.parentElement) {\n        if(el.tagName == \"A\") {\n            // Clicking on a link in a <dfn> shouldn't summon the panel\n            hitALink = true;\n        }\n        if(el.classList.contains(\"dfn-paneled\")) {\n            target = \"dfn\";\n            break;\n        }\n        if(el.classList.contains(\"dfn-panel\")) {\n            target = \"dfn-panel\";\n            break;\n        }\n        el = el.parentElement;\n    }\n    if(target != \"dfn-panel\") {\n        // Turn off any currently \"on\" or \"activated\" panels.\n        queryAll(\".dfn-panel.on, .dfn-panel.activated\").forEach(function(el){\n            el.classList.remove(\"on\");\n            el.classList.remove(\"activated\");\n        });\n    }\n    if(target == \"dfn\" && !hitALink) {\n        // open the panel\n        var dfnPanel = document.querySelector(\".dfn-panel[data-for='\" + el.id + \"']\");\n        if(dfnPanel) {\n            dfnPanel.classList.add(\"on\");\n            var rect = el.getBoundingClientRect();\n            dfnPanel.style.left = window.scrollX + rect.right + 5 + \"px\";\n            dfnPanel.style.top = window.scrollY + rect.top + \"px\";\n            var panelRect = dfnPanel.getBoundingClientRect();\n            var panelWidth = panelRect.right - panelRect.left;\n            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {\n                // Reposition, because the panel is overflowing\n                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + \"px\";\n            }\n        } else {\n            console.log(\"Couldn't find .dfn-panel[data-for='\" + el.id + \"']\");\n        }\n    } else if(target == \"dfn-panel\") {\n        // Switch it to \"activated\" state, which pins it.\n        el.classList.add(\"activated\");\n        el.style.left = null;\n        el.style.top = null;\n    }\n\n});\n</script>","oembed":false,"readabilityObject":{"title":"Target Privacy Threat Model","content":"<div id=\"readability-page-1\" class=\"page\"><div>\n   <p><strong> This document is at a very early stage. Many things in it are wrong\nand/or incomplete. Please take it as a rough shape for how we might document the\ntarget threat model, rather than as definite statements about what should be in\nthe target threat model.</strong></p>\n   <h2 data-level=\"1\" id=\"intro\"><span>1. </span><span>Introduction</span><a href=\"#intro\"></a></h2>\n   <p>As a <strong>threat model</strong>, this specification describes attacker capabilities and\nattacker goals, and says, for each possible set of capabilities an attacker\nmight have, which goals we expect the attacker can achieve.</p>\n   <p>As a <strong>privacy</strong> threat model, the attacker goals compromise the privacy of\nusers, rather than their security.</p>\n   <p>As a <strong>target</strong> threat model, it describes not the current state of the Web\nincluding all current maybe-unwise APIs, but rather an end state that we hope to\nmigrate to, and that new APIs should be held to. This is meant to be a <em>plausible</em> threat model: it doesn’t expect to remove any APIs or browser\nbehavior that is deemed essential to the viability of the Web.</p>\n   <p>Since people are likely to disagree about which APIs are essential to the Web,\nwhen saying that an attacker can achieve their goal, this document describes how\nthe attacker achieves it using particular \"essential\" APIs, and it provides an\nindex of those APIs so readers can point out ones that they don’t consider\nessential.</p>\n   <h2 data-level=\"2\" id=\"terminology\"><span>2. </span><span>Terminology</span><a href=\"#terminology\"></a></h2>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-html\">[HTML]</a> defines an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin\">origin</a> as the tuple of a scheme, hostname, and port that\nprovides the main security boundary on the web.</p>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"site\">site</dfn> is a set of <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin①\">origins</a> that are all <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#same-site\" id=\"ref-for-same-site\">same site</a> with each\nother. Note that there are problems (<a data-link-type=\"biblio\" href=\"#biblio-psl-problems\">[PSL-PROBLEMS]</a>) with using <a data-link-type=\"dfn\" href=\"https://publicsuffix.org/list/#list-format\" id=\"ref-for-list-format\">registrable\ndomains</a> as a logical boundary.</p>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"party\">party</dfn> is defined by <a data-link-type=\"biblio\" href=\"#biblio-tracking-dnt\">[tracking-dnt]</a> as \"a natural person, a legal\nentity, or a set of legal entities that share common owner(s), common\ncontroller(s), and a group identity that is easily discoverable by a user.\"</p>\n   <p>The <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"first-party\">first party</dfn> for a user action is the <a data-link-type=\"dfn\" href=\"#party\" id=\"ref-for-party\">party</a> that controls the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin②\">origin</a> of the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" id=\"ref-for-top-level-browsing-context\">top-level browsing context</a> under which the action\nhappened. Intuitively, this is the owner of the domain in the browser’s URL bar.\nThis differs from <a href=\"https://wiki.mozilla.org/Security/Anti_tracking_policy#Tracking_Definition\">Mozilla’s\ndefinition</a> in that Mozilla defines other parties as first parties if the\nuser can easily discover which party it is and intends to interact with that\nparty, for example to allow sign-in widgets to be first-party.</p>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"third-party\">third party</dfn> for a user action is any party that isn’t the <a data-link-type=\"dfn\" href=\"#first-party\" id=\"ref-for-first-party\">first\nparty</a> or the user (the second party).</p>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"user\">user</dfn> is a human or program that controls a user agent.</p>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"user-id\">user ID</dfn> is a pair of a <a data-link-type=\"dfn\" href=\"#site\" id=\"ref-for-site\">site</a> and a (potentially-large) integer\nallocated by that site that is used to identify a <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user\">user</a> on that site. A\nsingle user will generally have many user IDs that refer to them, and a single\nsite may or may not know that multiple user IDs refer to the same user.</p>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"global-identifier\">global identifier</dfn> is a string that identifies a particular <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user①\">user</a> independent of which site they’re visiting. Users generally have relatively few\nglobal identifiers and can usually list and recognize them. A goal of\nanti-tracking policy is to prevent <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id\">user IDs</a> from becoming <a data-link-type=\"dfn\" href=\"#global-identifier\" id=\"ref-for-global-identifier\">global\nidentifiers</a>.</p>\n   <p>An <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"attacker\">attacker</dfn> is any entity trying to get information that a <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user②\">user</a> might not want them to get. Attackers are often entities that a user intends to\ninteract with in other ways, as both <a data-link-type=\"dfn\" href=\"#first-party\" id=\"ref-for-first-party①\">first</a> and <a data-link-type=\"dfn\" href=\"#third-party\" id=\"ref-for-third-party\">third parties</a>, and some users may\nnot mind their collection of this information.</p>\n   <p>This document uses the terms <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"publisher\">publisher</dfn> and <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"tracker\">tracker</dfn> colloquially to refer to particular kinds of <a data-link-type=\"dfn\" href=\"#site\" id=\"ref-for-site①\">sites</a> and the <a data-link-type=\"dfn\" href=\"#party\" id=\"ref-for-party①\">parties</a> that\noperate them. They are not rigorously defined.</p>\n   <h2 data-level=\"3\" id=\"high-level-threats\"><span>3. </span><span>High-level threats</span><a href=\"#high-level-threats\"></a></h2>\n   <p>User agents should attempt to defend their users from a variety of high-level\nthreats or attacker goals, described in this section. <a href=\"#goals\">§ 6 Attacker goals</a> then describes\nthe low-level steps an attacker would use to achieve these high-level goals.</p>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a> describes the following high-level privacy threats, which the TAG\nhas adopted into <a href=\"https://www.w3.org/TR/security-privacy-questionnaire/#threats\">Self-Review Questionnaire: Security and Privacy §threats</a>:</p>\n   <dl>\n    <dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"surveillance\">Surveillance</dfn>\n    </dt><dd data-md=\"\">\n     <p>Surveillance is the observation or monitoring of an individual’s\ncommunications or activities. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.1\">Privacy Considerations for Internet Protocols §section-5.1.1</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"stored-data-compromise\">Stored Data Compromise<a href=\"#stored-data-compromise\"></a></dfn>\n    </dt><dd data-md=\"\">\n     <p>End systems that do not take adequate measures to secure stored data from\nunauthorized or inappropriate access. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.2\">Privacy Considerations for Internet Protocols §section-5.1.2</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"intrusion\">Intrusion</dfn>\n    </dt><dd data-md=\"\">\n     <p>Intrusion consists of invasive acts that disturb or interrupt one’s life or\nactivities. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.3\">Privacy Considerations for Internet Protocols §section-5.1.3</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"misattribution\">Misattribution</dfn>\n    </dt><dd data-md=\"\">\n     <p>Misattribution occurs when data or communications related to one individual\nare attributed to another. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.1.4\">Privacy Considerations for Internet Protocols §section-5.1.4</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"correlation\">Correlation</dfn>\n    </dt><dd data-md=\"\">\n     <p>Correlation is the combination of various pieces of information related to an\nindividual or that obtain that characteristic when combined. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.1\">Privacy Considerations for Internet Protocols §section-5.2.1</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"identification\">Identification</dfn>\n    </dt><dd data-md=\"\">\n     <p>Identification is the linking of information to a particular individual to\ninfer an individual’s identity or to allow the inference of an individual’s\nidentity. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.2\">Privacy Considerations for Internet Protocols §section-5.2.2</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"secondary-use\">Secondary Use</dfn>\n    </dt><dd data-md=\"\">\n     <p>Secondary use is the use of collected information about an individual without\nthe individual’s consent for a purpose different from that for which the\ninformation was collected. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.3\">Privacy Considerations for Internet Protocols §section-5.2.3</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"disclosure\">Disclosure</dfn>\n    </dt><dd data-md=\"\">\n     <p>Disclosure is the revelation of information about an individual that affects\nthe way others judge the individual. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.4\">Privacy Considerations for Internet Protocols §section-5.2.4</a>.</p>\n    </dd><dt data-md=\"\"><dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"exclusion\">Exclusion<a href=\"#exclusion\"></a></dfn>\n    </dt><dd data-md=\"\">\n     <p>Exclusion is the failure to allow individuals to know about the data that\nothers have about them and to participate in its handling and use. See <a href=\"https://tools.ietf.org/html/rfc6973#section-5.2.5\">Privacy Considerations for Internet Protocols §section-5.2.5</a>.</p>\n   </dd></dl>\n   <p>These threats combine into the particular concrete threats we want web\nspecifications to defend against, described in subsections here:</p>\n   <h3 data-level=\"3.1\" id=\"hl-recognition-same-site\"><span>3.1. </span><span>Unwanted same-site recognition</span><a href=\"#hl-recognition-same-site\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#surveillance\" id=\"ref-for-surveillance\">surveillance</a>, <a data-link-type=\"dfn\" href=\"#correlation\" id=\"ref-for-correlation\">correlation</a>, and <a data-link-type=\"dfn\" href=\"#identification\" id=\"ref-for-identification\">identification</a>.</p>\n   <p>Users of most instantiations of the web platform expect that if they visit a\nsite on one day, and then visit again the next day, the site will be able to\nrecognize that they’re the same user. This allows sites to save the user’s\npreferences, shopping carts, etc. The web platform offers many mechanisms that\nare either intended to accomplish this recognition or that can be trivially used\nfor it, including <a data-link-type=\"biblio\" href=\"#biblio-rfc6265\">cookies</a>, <code><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage\" id=\"ref-for-dom-localstorage\">localStorage</a></code>, <code><a data-link-type=\"idl\" href=\"https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb\" id=\"ref-for-dom-windoworworkerglobalscope-indexeddb\">indexedDB</a></code>, <code><a data-link-type=\"idl\" href=\"https://w3c.github.io/ServiceWorker/#cachestorage\" id=\"ref-for-cachestorage\">CacheStorage</a></code>, and other forms of\nstorage.</p>\n   <p>A privacy harm only occurs if the user wants to break the association between\ntwo visits, but the site can still determine with high probability that the two\nvisits came from the same user.</p>\n   <p>A user might expect that their two visits won’t be associated if they:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>Use a browser that promises to avoid such correlation.</p>\n    </li><li data-md=\"\">\n     <p>Use their browser’s private browsing mode. (<a data-link-type=\"biblio\" href=\"#biblio-what-does-private-browsing-do\">[WHAT-DOES-PRIVATE-BROWSING-DO]</a>)</p>\n    </li><li data-md=\"\">\n     <p>Use two different browser profiles between the two visits.</p>\n    </li><li data-md=\"\">\n     <p>Explicitly clear the site’s cookies or storage.</p>\n   </li></ul>\n   <p>This recognition is generally accomplished by either \"supercookies\" or <a data-link-type=\"dfn\" href=\"https://w3c.github.io/fingerprinting-guidance/#dfn-browser-fingerprinting\" id=\"ref-for-dfn-browser-fingerprinting\">browser\nfingerprinting</a>.</p>\n   <p>Supercookies occur when a browser stores data for a site but makes that data\nmore difficult to clear than other cookies or storage. <a href=\"https://w3c.github.io/fingerprinting-guidance/#clearing-all-local-state\">Fingerprinting Guidance §5.4 Clearing all local state</a> discusses how\nspecifications can help browsers avoid this mistake.</p>\n   <p>Fingerprinting consists of using attributes of the user’s browser and platform\nthat are consistent between the two visits and probabilistically unique to the\nuser.</p>\n   <p>The attributes can be exposed as information about the user’s device that is\notherwise benign (as opposed to <a href=\"#hl-sensitive-information\">§ 3.3 Sensitive information disclosure</a>). For example:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>What are the user’s language and time zone?</p>\n    </li><li data-md=\"\">\n     <p>What size is the user’s window?</p>\n    </li><li data-md=\"\">\n     <p>What system preferences has the user set? Dark mode, serif font, etc...</p>\n    </li><li data-md=\"\">\n     <p>...</p>\n   </li></ul>\n   <p>See <a data-link-type=\"biblio\" href=\"#biblio-fingerprinting-guidance\">[fingerprinting-guidance]</a> for how to mitigate this threat.</p>\n   <h3 data-level=\"3.2\" id=\"hl-recognition-cross-site\"><span>3.2. </span><span>Unwanted cross-site recognition</span><a href=\"#hl-recognition-cross-site\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#surveillance\" id=\"ref-for-surveillance①\">surveillance</a>, <a data-link-type=\"dfn\" href=\"#correlation\" id=\"ref-for-correlation①\">correlation</a>, and <a data-link-type=\"dfn\" href=\"#identification\" id=\"ref-for-identification①\">identification</a>,\nusually more significantly than <a href=\"#hl-recognition-same-site\">§ 3.1 Unwanted same-site recognition</a>.</p>\n   <p>This occurs if a site can determine with high probability that a visit to that\nsite comes from the same user as another visit to a <em>different</em> site.  This\nthreat is discussed in <a href=\"#model-cross-site-recognition\">§ 4.1 Cross-site recognition</a>.</p>\n   <h3 data-level=\"3.3\" id=\"hl-sensitive-information\"><span>3.3. </span><span>Sensitive information disclosure</span><a href=\"#hl-sensitive-information\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#correlation\" id=\"ref-for-correlation②\">correlation</a>, <a data-link-type=\"dfn\" href=\"#identification\" id=\"ref-for-identification②\">identification</a>, <a data-link-type=\"dfn\" href=\"#secondary-use\" id=\"ref-for-secondary-use\">secondary use</a>, and <a data-link-type=\"dfn\" href=\"#disclosure\" id=\"ref-for-disclosure\">disclosure</a>.</p>\n   <p>Many pieces of information about a user could cause privacy harms if disclosed.\nFor example:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>The user’s location.</p>\n    </li><li data-md=\"\">\n     <p>Video or audio from the user’s camera or microphone.</p>\n    </li><li data-md=\"\">\n     <p>The content of certain files on the user’s filesystem.</p>\n    </li><li data-md=\"\">\n     <p>Financial data.</p>\n    </li><li data-md=\"\">\n     <p>Contacts.</p>\n    </li><li data-md=\"\">\n     <p>Calendar entries.</p>\n    </li><li data-md=\"\">\n     <p><a href=\"https://w3ctag.github.io/design-principles/#do-not-expose-use-of-assistive-tech\">Whether the user is using assistive technology.</a></p>\n    </li><li data-md=\"\">\n     <p>...</p>\n   </li></ul>\n   <p>A particular piece of information may have different sensitivity for different\nusers. Language preferences, for example, might typically seem innocent, but\nalso can be an indicator of belonging to an ethnic minority. Precise location\ninformation can be extremely sensitive (because it’s identifying, because it\nallows for in-person intrusions, because it can reveal detailed information\nabout a person’s life) but it might also be public and not sensitive at all, or\nit might be low-enough granularity that it is much less sensitive for many\nusers.</p>\n   <p>When considering whether a class of information is likely to be sensitive to\nusers, consider at least these factors:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>whether it serves as a persistent identifier (see severity in Mitigating\nbrowser fingerprinting);</p>\n    </li><li data-md=\"\">\n     <p>whether it discloses substantial (including intimate details or inferences)\ninformation about the user or other users;</p>\n    </li><li data-md=\"\">\n     <p>whether it can be revoked (as in determining whether a permission is\nnecessary);</p>\n    </li><li data-md=\"\">\n     <p>whether it enables other threats, like intrusion.</p>\n   </li></ul>\n   <p id=\"issue-71c59b1e\"><a href=\"#issue-71c59b1e\"></a> This description of what makes information sensitive still needs to\nbe refined. <a href=\"https://github.com/w3cping/privacy-threat-model/issues/16\">&lt;https://github.com/w3cping/privacy-threat-model/issues/16&gt;</a></p>\n   <h3 data-level=\"3.4\" id=\"hl-intrusion\"><span>3.4. </span><span>Intrusive behavior</span><a href=\"#hl-intrusion\"></a></h3>\n   <p>See <a data-link-type=\"dfn\" href=\"#intrusion\" id=\"ref-for-intrusion\">intrusion</a>.</p>\n   <p>Privacy harms don’t always come from a site learning things. For example it is\nintrusive for a site to</p>\n   <ul>\n    <li data-md=\"\">\n     <p>Display messages or notifications,</p>\n    </li><li data-md=\"\">\n     <p>Play sounds,</p>\n    </li><li data-md=\"\">\n     <p>Occupy the full screen,</p>\n    </li><li data-md=\"\">\n     <p>etc.</p>\n   </li></ul>\n   <p>if the user doesn’t intend for it to do so.</p>\n   <h3 data-level=\"3.5\" id=\"hl-capabilities\"><span>3.5. </span><span>Powerful capabilities</span><a href=\"#hl-capabilities\"></a></h3>\n   <p>Contributes to <a data-link-type=\"dfn\" href=\"#misattribution\" id=\"ref-for-misattribution\">misattribution</a>.</p>\n   <p>For example, a site that sends SMS without the user’s intent could cause them to\nbe blamed for things they didn’t intend.</p>\n   <h2 data-level=\"4\" id=\"model\"><span>4. </span><span>Threat Model</span><a href=\"#model\"></a></h2>\n   <p>For each of the <a href=\"#high-level-threats\">high-level threats</a>, we\ndescribe a threat model: a description of what goals attackers with various\ncapabilities should or should not be able to achieve. For simple threats, a\nmodel can be expressed in prose, while complex threat models use a grid to\nexpress the web platform’s target guarantees.</p>\n   <p><span>✘</span> indicates that the goal should be frustrated,\nwhile <span>✓</span> indicates that the attacker can achieve\ntheir goal.</p>\n   <p id=\"issue-eb037c92\"><a href=\"#issue-eb037c92\"></a> Should we mark goals attackers can currently achieve, which we want to\nremove, differently from goals attackers already can’t achieve?</p>\n   <h3 data-level=\"4.1\" id=\"model-cross-site-recognition\"><span>4.1. </span><span>Cross-site recognition</span><a href=\"#model-cross-site-recognition\"></a></h3>\n   <table>\n    <tbody>\n     <tr>\n      <td>\n      </td><th>\n       <div><p><a href=\"#goal-transfer-userid\">§ 6.2.1 Transfer user ID from publisher 1 to publisher 2 on navigation.</a></p></div>\n      </th><th>\n       <div><p><a href=\"#goal-userid-tracker-to-self-in-pub\">§ 6.2.2 Transfer user ID from tracker to that tracker running within a publisher, on navigation.</a></p></div>\n      </th><th>\n       <div><p><a href=\"#goal-userid-tracker-in-pub1-to-self-in-pub2\">§ 6.2.3 Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</a></p></div>\n      </th><th>\n       <div><p><a href=\"#goal-prob-transfer-userid-no-nav\">§ 6.2.5 Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</a></p></div>\n      </th><th>\n       <div><p><a href=\"#goal-prob-transfer-userid\">§ 6.2.4 Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</a></p></div>\n     </th></tr><tr>\n      <th><a href=\"#cap-iframes\">§ 5.1 Load iframes</a>\n      </th><td data-goal=\"transfer-userid\">✘\n      </td><td data-goal=\"userid-tracker-to-self-in-pub\">✘\n      </td><td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\">✘\n      </td><td data-goal=\"prob-transfer-userid-no-nav\">✘\n      </td><td data-goal=\"prob-transfer-userid\">✘\n     </td></tr><tr>\n      <th><a href=\"#cap-first-party-js\">§ 5.2 Run Javascript in a first-party context</a>\n      </th><td data-goal=\"transfer-userid\">✘\n      </td><td data-goal=\"userid-tracker-to-self-in-pub\">✘\n      </td><td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\">✘\n      </td><td data-goal=\"prob-transfer-userid-no-nav\">✘\n      </td><td data-goal=\"prob-transfer-userid\">✘\n     </td></tr><tr>\n      <th><a href=\"#cap-read-logs\">§ 5.4 Read server logs</a> on other publishers\n      </th><td data-goal=\"transfer-userid\">✘\n      </td><td data-goal=\"userid-tracker-to-self-in-pub\">✘\n      </td><td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\">✘\n      </td><td data-goal=\"prob-transfer-userid-no-nav\">✘\n      </td><td data-goal=\"prob-transfer-userid\">\n       <details>\n        <summary>✓</summary>\n         Publisher 2 reads their own logs for the page load and publisher 1’s logs for the click tracking of the navigation click. <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①\">User IDs</a> that clicked on publisher 1 approximately the same\n    time as that link’s target loaded on publisher 2 are\n    probabilistically correlated. \n       </details>\n     </td></tr><tr>\n      <th><a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> on the target publisher\n      </th><td data-goal=\"transfer-userid\"> <span>✘</span> \n      </td><td data-goal=\"userid-tracker-to-self-in-pub\">\n       <details>\n        <summary>✓</summary>\n         The tracker adds a path segment, possibly encrypted, in their links to the\n    publisher, encoding the user’s ID within the tracker. They convince the\n    publisher to <a href=\"#ess-server-defined-paths\">ignore that path segment in\n    their server processing</a>. The tracker running inside that publisher reads\n    the URL, decodes the tracker site’s user ID, and <a href=\"#ess-js-requests\">sends that and the tracker-within-publisher user ID\n    up to the tracker’s server</a>. \n       </details>\n      </td><td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\"> <span>✘</span> \n      </td><td data-goal=\"prob-transfer-userid-no-nav\"> <span>✘</span> \n      </td><td data-goal=\"prob-transfer-userid\"> <span>✘</span> \n     </td></tr><tr>\n      <th><a href=\"#cap-first-party-js\">§ 5.2 Run Javascript in a first-party context</a> or <a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> on the source site and <a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> on the target publisher\n      </th><td data-goal=\"transfer-userid\"> <span>✘</span> \n      </td><td data-goal=\"userid-tracker-to-self-in-pub\">\n       <details>\n        <summary>✓</summary>\n         The tracker adds a path segment, possibly encrypted, in their links to the\n      publisher, encoding the user’s ID within the tracker. They convince the\n      publisher to <a href=\"#ess-server-defined-paths\">ignore that path segment in\n      their server processing</a>. The tracker running inside that publisher reads\n      the URL, decodes the tracker site’s user ID, and <a href=\"#ess-js-requests\">sends that and the tracker-within-publisher user ID\n      up to the tracker’s server</a>. \n       </details>\n      </td><td data-goal=\"userid-tracker-in-pub1-to-self-in-pub2\">\n       <details>\n        <summary>✓</summary>\n         The tracker adds a path segment, possibly encrypted, in the publisher 1’s\n      links to publisher 2, encoding the user’s ID within publisher 1. They\n      convince publisher 2 to <a href=\"#ess-server-defined-paths\">ignore that\n      path segment in their server processing</a>. The tracker running inside\n      that publisher reads the URL, decodes publisher 1’s user ID, and <a href=\"#ess-js-requests\">sends that and publisher 2’s user ID up to the\n      tracker’s server</a>. \n       </details>\n      </td><td data-goal=\"prob-transfer-userid-no-nav\"> <span>✓</span> \n      </td><td data-goal=\"prob-transfer-userid\"> <span>✓</span> \n   </td></tr></tbody></table>\n   <p>Further cross-site recognition is available by combining capabilities with the\nability to <a href=\"#cap-first-party-js\">§ 5.2 Run Javascript in a first-party context</a> (or <a href=\"#cap-run-on-server\">§ 5.3 Modify server processing</a> to add\nattacker-controlled javascript):</p>\n   <table>\n    <tbody>\n     <tr>\n      <td>\n      </td><th>\n       <div><p><a href=\"#goal-prob-transfer-userid-no-nav\">§ 6.2.5 Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</a></p></div>\n     </th></tr><tr>\n      <th><a href=\"#cap-type-identifier\">§ 5.5 Convince the user to type an identifier</a>\n      </th><td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary>✓</summary>\n         The tracker gets a report of the identifiers typed in both publisher\n        sites, along with each publisher’s <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id②\">user id</a>. If they’re equal, the <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id③\">user ids</a> probably refer to the same user. The probability depends on\n        the type of identifier: email addresses or credit card numbers are very\n        high probability. Names or dates of birth are lower probability unless\n        combined with other information like a zip code. \n       </details>\n     </td></tr><tr>\n      <th><a href=\"#cap-same-device-same-time\">§ 5.6 Convince the user to open the same device in two cross-site tabs</a>\n      </th><td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary>✓</summary>\n         The tracker reads the two devices, and if they give the same output at\n        approximately the same time, the user is probably the same. For devices\n        like cameras and microphones, detection is likely to be very accurate.\n        Others, like ambient light, might only give a few bits per sample, and\n        so need a long period of overlap in order to provide a good correlation. \n        <p>For some devices, this transfer can be mitigated by turning off input\n        when the site isn’t visible or isn’t focused, but user expectations\n        limit where that mitigation is applicable.</p>\n       </details>\n     </td></tr><tr>\n      <th><a href=\"#cap-same-rw-device\">§ 5.7 Convince the user to open the same read+write device in two different sites</a>\n      </th><td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary>✓</summary>\n         The tracker writes identifying content to the device and then reads it\n        back when the other site is opened. This is visible to varying degrees\n        depending on the device: an individual native file or a Bluetooth or USB\n        device that isn’t designed to cooperate with this sort of tracking, is\n        likely to break in obvious ways when the tracker tries to write an\n        identifier. A native directory, on the other hand, has many available\n        filenames that could hold identifying information without a user being\n        likely to notice. \n       </details>\n     </td></tr><tr>\n      <th><a href=\"#cap-open-for-browser-event\">§ 5.8 Have two sites open when a browser-wide event happens</a>\n      </th><td data-goal=\"prob-transfer-userid-no-nav\"> <span>✘</span> \n     </td></tr><tr>\n      <th><a href=\"#cap-visible-for-browser-event\">§ 5.9 Have two sites visible when a browser-wide event happens</a>\n      </th><td data-goal=\"prob-transfer-userid-no-nav\">\n       <details>\n        <summary>✓</summary>\n         Browser-wide events generally need to be visible immediately when a user\n        is looking at a website, so the tracker just needs to notice that the\n        event’s parameters are the same, and its timestamp across two sites is\n        close together. The probability of identifying a single user goes up as\n        more events are observed. \n       </details>\n   </td></tr></tbody></table>\n   <h3 data-level=\"4.2\" id=\"model-sensitive-information\"><span>4.2. </span><span>Sensitive-information</span><a href=\"#model-sensitive-information\"></a></h3>\n   <p>Attackers should only be able to get access to sensitive information from a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#user-agent\" id=\"ref-for-user-agent\">user agent</a> if the user expresses their intent that the attacker get access\nto this information at the time the attacker gets access to it. User agents vary\nin how they gather this expression of intent.</p>\n   <p>That a user intends an attacker to get a piece of information at one time, for\nexample their location or their contact book, may be, but is not necessarily\nevidence that the user intends to give out the same piece of information at\na later time. There is not consensus about how long it’s reasonable to infer\ncontinued intent, but there is consensus that intent doesn’t last for years\nwithout interaction.</p>\n   <p id=\"issue-db535e06\"><a href=\"#issue-db535e06\"></a> Add more information about local attackers and confused users and how\nbrowsers can mitigate. <a href=\"https://github.com/w3cping/privacy-threat-model/issues/19\">&lt;https://github.com/w3cping/privacy-threat-model/issues/19&gt;</a></p>\n   <p>This threat model defines a kind of information as <dfn data-dfn-type=\"dfn\" data-lt=\"restricted sensitive information\" data-noexport=\"\" id=\"restricted-sensitive-information\">restricted sensitive\ninformation</dfn> if the web platform currently blocks access to it by default\nor if we plan to evolve the web platform to block access to it by default\nbecause of the potential privacy harms from disclosure of that kind of\ninformation.</p>\n   <p>Other information is described as \"not <a data-link-type=\"dfn\" href=\"#restricted-sensitive-information\" id=\"ref-for-restricted-sensitive-information\">restricted sensitive information</a>\"\neven if some users in some situations would find it sensitive. Information in\nthis category may have a lower risk of privacy harm to users or may not\ncurrently be restricted because of incompatibility with functionality of the\nWeb. These categories are not static and it may become feasible to block access\nby default to more kinds of information as the platform develops.</p>\n   <p>There is consensus that some kinds of information are <a data-link-type=\"dfn\" href=\"#restricted-sensitive-information\" id=\"ref-for-restricted-sensitive-information①\">restricted sensitive\ninformation</a>:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>Location</p>\n    </li><li data-md=\"\">\n     <p>Disability status</p>\n    </li><li data-md=\"\">\n     <p>Microphone input</p>\n    </li><li data-md=\"\">\n     <p>Etc.</p>\n   </li></ul>\n   <p>There is consensus that some other kinds of information are not <a data-link-type=\"dfn\" href=\"#restricted-sensitive-information\" id=\"ref-for-restricted-sensitive-information②\">restricted\nsensitive information</a>:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>User agent</p>\n    </li><li data-md=\"\">\n     <p>Language</p>\n    </li><li data-md=\"\">\n     <p>A user’s <a data-link-type=\"descriptor\" href=\"https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-reduced-motion\" id=\"ref-for-descdef-media-prefers-reduced-motion\">preference for\nless motion</a>.</p>\n    </li><li data-md=\"\">\n     <p>Etc.</p>\n   </li></ul>\n   <p>There is not consensus about the sensitivity of all kinds of information:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>TODO: examples?</p>\n   </li></ul>\n   <h2 data-level=\"5\" id=\"capabilities\"><span>5. </span><span>Attacker Capabilities</span><a href=\"#capabilities\"></a></h2>\n   <p>These are things some attackers can do. The attackers can use them to achieve\ntheir <a href=\"#goals\">goals</a>. All attackers are assumed to be able to buy\ndomains and host sites on their domains.</p>\n   <h3 data-level=\"5.1\" id=\"cap-iframes\"><span>5.1. </span><span>Load iframes</span><a href=\"#cap-iframes\"></a></h3>\n   <p>The attacker can convince a publisher to load an iframe from the attacker’s site.</p>\n   <h3 data-level=\"5.2\" id=\"cap-first-party-js\"><span>5.2. </span><span>Run Javascript in a first-party context</span><a href=\"#cap-first-party-js\"></a></h3>\n   <p>When a publisher wants to show ads from an ad network, many/most ad networks\nrequire that publisher to use a <code>&lt;script src=\"adnetwork.js\"&gt;</code> tag instead of an <code>&lt;iframe src=\"adnetwork.html\"&gt;</code>, which allows the ad network to see any\npublisher data that’s exposed to Javascript. This includes query parameters\n(e.g. <code>fbclid</code>) and any cookies that aren’t <a data-link-type=\"http-header\" href=\"https://tools.ietf.org/html/rfc6265#section-4.1.2.6\" id=\"ref-for-section-4.1.2.6\">HttpOnly</a>.</p>\n   <h3 data-level=\"5.3\" id=\"cap-run-on-server\"><span>5.3. </span><span>Modify server processing</span><a href=\"#cap-run-on-server\"></a></h3>\n   <p>Some attackers can convince some publishers (perhaps by paying them) to modify\ntheir server software. This could be used, for example, to receive <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id④\">user IDs</a> passed in a path segment instead of a query parameter, without breaking the\nnormal logic mapping a path to content.</p>\n   <h3 data-level=\"5.4\" id=\"cap-read-logs\"><span>5.4. </span><span>Read server logs</span><a href=\"#cap-read-logs\"></a></h3>\n   <p>Servers can keep logs of requests. The attacker may be able to convince some\nserver operators to give them these logs or let them run queries over the logs.</p>\n   <h3 data-level=\"5.5\" id=\"cap-type-identifier\"><span>5.5. </span><span>Convince the user to type an identifier</span><a href=\"#cap-type-identifier\"></a></h3>\n   <p>The attacker can convince a user to type their email address, name, zip code,\netc. into two publishers' sites.</p>\n   <h3 data-level=\"5.6\" id=\"cap-same-device-same-time\"><span>5.6. </span><span>Convince the user to open the same device in two cross-site tabs</span><a href=\"#cap-same-device-same-time\"></a></h3>\n   <p>The attacker can convince a user to open the same device on two publishers'\nsites that are both open at the same time in different tabs or windows.</p>\n   <h3 data-level=\"5.7\" id=\"cap-same-rw-device\"><span>5.7. </span><span>Convince the user to open the same read+write device in two different sites</span><a href=\"#cap-same-rw-device\"></a></h3>\n   <p>A read+write device is something like a native filesystem file or directory, or\na bluetooth or USB device that can be configured to save data. The two sites\nneed to be given access to the same device, but they don’t need to both be open\nat the same time.</p>\n   <h3 data-level=\"5.8\" id=\"cap-open-for-browser-event\"><span>5.8. </span><span>Have two sites open when a browser-wide event happens</span><a href=\"#cap-open-for-browser-event\"></a></h3>\n   <p>A browser-wide event is something that happens to the browser as a whole instead\nof to an individual site or web page. For example, the user going idle, sensor\ndata changing, or the device’s time zone changing, would affect all tabs at the\nsame time.</p>\n   <h3 data-level=\"5.9\" id=\"cap-visible-for-browser-event\"><span>5.9. </span><span>Have two sites visible when a browser-wide event happens</span><a href=\"#cap-visible-for-browser-event\"></a></h3>\n   <p>Unlike <a href=\"#cap-open-for-browser-event\">§ 5.8 Have two sites open when a browser-wide event happens</a>, this capability requires both sites to be\nvisible (probably in two separate browser windows) at the same time during the\nevent.</p>\n   <h2 data-level=\"6\" id=\"goals\"><span>6. </span><span>Attacker goals</span><a href=\"#goals\"></a></h2>\n   <p>These are things <a data-link-type=\"dfn\" href=\"#attacker\" id=\"ref-for-attacker\">attackers</a> want to accomplish.</p>\n   <h3 data-level=\"6.1\" id=\"goals-metrics\"><span>6.1. </span><span>User metrics within a single site</span><a href=\"#goals-metrics\"></a></h3>\n   <h4 data-level=\"6.1.1\" id=\"goal-click-tracking\"><span>6.1.1. </span><span>Click tracking</span><a href=\"#goal-click-tracking\"></a></h4>\n   <p>A site wants to know which of its links a user clicks on.</p>\n   <h3 data-level=\"6.2\" id=\"goals-tracking\"><span>6.2. </span><span>Tracking</span><a href=\"#goals-tracking\"></a></h3>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-tracking-dnt\">[tracking-dnt]</a> defines \"tracking\" as the collection of data regarding a\nparticular user’s activity across multiple distinct contexts and the retention,\nuse, or sharing of data derived from that activity outside the context in which\nit occurred. A context is a set of resources that are controlled by the same\nparty or jointly controlled by a set of parties. The following are building\nblocks that allow a tracker to build such a log of a user’s activity.</p>\n   <h4 data-level=\"6.2.1\" id=\"goal-transfer-userid\"><span>6.2.1. </span><span>Transfer user ID from publisher 1 to publisher 2 on navigation.</span><a href=\"#goal-transfer-userid\"></a></h4>\n   <p>When the user clicks a link from <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher\">publisher</a> 1 that navigates to <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher①\">publisher</a> 2, publisher 2’s server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑤\">user ID</a> on publisher 2 and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑥\">user ID</a> on\npublisher 1 represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user③\">user</a>.</p>\n   <h4 data-level=\"6.2.2\" id=\"goal-userid-tracker-to-self-in-pub\"><span>6.2.2. </span><span>Transfer user ID from tracker to that tracker running within a publisher, on navigation.</span><a href=\"#goal-userid-tracker-to-self-in-pub\"></a></h4>\n   <p>When the user clicks a link from <code>tracker.example</code> to <code>publisher.example</code>, that <a data-link-type=\"dfn\" href=\"#tracker\" id=\"ref-for-tracker\">tracker’s</a> server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑦\">user ID</a> for either <code>publisher.example</code> or\nthe tracker running within <code>publisher.example</code> and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑧\">user ID</a> for <code>tracker.example</code> represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user④\">user</a>.</p>\n   <h4 data-level=\"6.2.3\" id=\"goal-userid-tracker-in-pub1-to-self-in-pub2\"><span>6.2.3. </span><span>Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.</span><a href=\"#goal-userid-tracker-in-pub1-to-self-in-pub2\"></a></h4>\n   <p>When the user clicks a link from <code>publisher1.example</code> (where a tracker was\nembedded within that site) to <code>publisher2.example</code> (which has the same tracker\nembedded), that <a data-link-type=\"dfn\" href=\"#tracker\" id=\"ref-for-tracker①\">tracker’s</a> server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id⑨\">user ID</a> for either <code>publisher1.example</code> or the tracker running within <code>publisher1.example</code> and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①⓪\">user ID</a> for either <code>publisher2.example</code> or the tracker running within <code>publisher2.example</code> represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user⑤\">user</a>.</p>\n   <h4 data-level=\"6.2.4\" id=\"goal-prob-transfer-userid\"><span>6.2.4. </span><span>Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.</span><a href=\"#goal-prob-transfer-userid\"></a></h4>\n   <p>When the user clicks a link from <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher②\">publisher</a> 1 that navigates to <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher③\">publisher</a> 2, publisher 2’s server learns that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①①\">user ID</a> on publisher 2 and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①②\">user ID</a> on\npublisher 1 are more likely than chance to represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user⑥\">user</a>.</p>\n   <h4 data-level=\"6.2.5\" id=\"goal-prob-transfer-userid-no-nav\"><span>6.2.5. </span><span>Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.</span><a href=\"#goal-prob-transfer-userid-no-nav\"></a></h4>\n   <p>While the user is visiting <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher④\">publisher</a> 1, that publisher can tell <a data-link-type=\"dfn\" href=\"#publisher\" id=\"ref-for-publisher⑤\">publisher</a> 2 that a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①③\">user ID</a> on publisher 2 and a <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①④\">user ID</a> on publisher\n1 are more likely than chance to represent the same <a data-link-type=\"dfn\" href=\"#user\" id=\"ref-for-user⑦\">user</a>, without requiring\nthe user to navigate from publisher 1 to publisher 2.</p>\n   <h2 data-level=\"7\" id=\"essential\"><span>7. </span><span>Essential Web APIs</span><a href=\"#essential\"></a></h2>\n   <p>These are Web APIs and features that would destroy the Web as we know it if they\nwent away. The placement of some features here will be contentious, and those\nfeatures are marked as I discover the contention.</p>\n   <h3 data-level=\"7.1\" id=\"ess-js-requests\"><span>7.1. </span><span>Javascript can make requests to servers</span><a href=\"#ess-js-requests\"></a></h3>\n   <p>This could perhaps be broken down into same-origin requests and cross-origin\nrequests, with cross-origin requests being more contentious.</p>\n   <h3 data-level=\"7.2\" id=\"ess-server-defined-paths\"><span>7.2. </span><span>Servers can define the paths under which they host content</span><a href=\"#ess-server-defined-paths\"></a></h3>\n   <p>These paths can include opaque strings that neither a human nor a user agent can\ninterpret without knowing how the server works, like <code>/t/proposal-packaging-for-the-web-signed-and-indexed/1827/10</code> and <code>/Moby-Dick-Herman-Melville/dp/1503280780/</code>.</p>\n   <h2 data-level=\"8\" id=\"acknowledgements\"><span>8. </span><span>Acknowledgements</span><a href=\"#acknowledgements\"></a></h2>\n   <p>Safari did the first work to prove that a more privacy-preserving web was\npossible, by blocking third-party cookies by default and then shipping <a href=\"https://webkit.org/blog/7675/intelligent-tracking-prevention/\">ITP\n1.0</a>, without\nbreaking the world. They eventually published their <a href=\"https://webkit.org/tracking-prevention-policy/\">policy for Tracking\nPrevention</a>, which heavily\ninfluenced this document.</p>\n   <p>Mozilla wrote the first concrete <a href=\"https://wiki.mozilla.org/Security/Anti_tracking_policy\">anti-tracking\npolicy</a>, which inspired\nSafari’s policy.</p>\n   <p>Michael Kleber on the Chrome team proposed a <a href=\"https://github.com/michaelkleber/privacy-model\">Privacy Model for the\nWeb</a>, which suggests blocking\nthe transfer of <a data-link-type=\"dfn\" href=\"#user-id\" id=\"ref-for-user-id①⑤\">user IDs</a> between top-level sites and suggests a few ways\nthat information could flow between sites without compromising user privacy.</p>\n  </div></div>","textContent":"\n    This document is at a very early stage. Many things in it are wrong\nand/or incomplete. Please take it as a rough shape for how we might document the\ntarget threat model, rather than as definite statements about what should be in\nthe target threat model.\n   1. Introduction\n   As a threat model, this specification describes attacker capabilities and\nattacker goals, and says, for each possible set of capabilities an attacker\nmight have, which goals we expect the attacker can achieve.\n   As a privacy threat model, the attacker goals compromise the privacy of\nusers, rather than their security.\n   As a target threat model, it describes not the current state of the Web\nincluding all current maybe-unwise APIs, but rather an end state that we hope to\nmigrate to, and that new APIs should be held to. This is meant to be a plausible threat model: it doesn’t expect to remove any APIs or browser\nbehavior that is deemed essential to the viability of the Web.\n   Since people are likely to disagree about which APIs are essential to the Web,\nwhen saying that an attacker can achieve their goal, this document describes how\nthe attacker achieves it using particular \"essential\" APIs, and it provides an\nindex of those APIs so readers can point out ones that they don’t consider\nessential.\n   2. Terminology\n   [HTML] defines an origin as the tuple of a scheme, hostname, and port that\nprovides the main security boundary on the web.\n   A site is a set of origins that are all same site with each\nother. Note that there are problems ([PSL-PROBLEMS]) with using registrable\ndomains as a logical boundary.\n   A party is defined by [tracking-dnt] as \"a natural person, a legal\nentity, or a set of legal entities that share common owner(s), common\ncontroller(s), and a group identity that is easily discoverable by a user.\"\n   The first party for a user action is the party that controls the origin of the top-level browsing context under which the action\nhappened. Intuitively, this is the owner of the domain in the browser’s URL bar.\nThis differs from Mozilla’s\ndefinition in that Mozilla defines other parties as first parties if the\nuser can easily discover which party it is and intends to interact with that\nparty, for example to allow sign-in widgets to be first-party.\n   A third party for a user action is any party that isn’t the first\nparty or the user (the second party).\n   A user is a human or program that controls a user agent.\n   A user ID is a pair of a site and a (potentially-large) integer\nallocated by that site that is used to identify a user on that site. A\nsingle user will generally have many user IDs that refer to them, and a single\nsite may or may not know that multiple user IDs refer to the same user.\n   A global identifier is a string that identifies a particular user independent of which site they’re visiting. Users generally have relatively few\nglobal identifiers and can usually list and recognize them. A goal of\nanti-tracking policy is to prevent user IDs from becoming global\nidentifiers.\n   An attacker is any entity trying to get information that a user might not want them to get. Attackers are often entities that a user intends to\ninteract with in other ways, as both first and third parties, and some users may\nnot mind their collection of this information.\n   This document uses the terms publisher and tracker colloquially to refer to particular kinds of sites and the parties that\noperate them. They are not rigorously defined.\n   3. High-level threats\n   User agents should attempt to defend their users from a variety of high-level\nthreats or attacker goals, described in this section. § 6 Attacker goals then describes\nthe low-level steps an attacker would use to achieve these high-level goals.\n   [RFC6973] describes the following high-level privacy threats, which the TAG\nhas adopted into Self-Review Questionnaire: Security and Privacy §threats:\n   \n    Surveillance\n    \n     Surveillance is the observation or monitoring of an individual’s\ncommunications or activities. See Privacy Considerations for Internet Protocols §section-5.1.1.\n    Stored Data Compromise\n    \n     End systems that do not take adequate measures to secure stored data from\nunauthorized or inappropriate access. See Privacy Considerations for Internet Protocols §section-5.1.2.\n    Intrusion\n    \n     Intrusion consists of invasive acts that disturb or interrupt one’s life or\nactivities. See Privacy Considerations for Internet Protocols §section-5.1.3.\n    Misattribution\n    \n     Misattribution occurs when data or communications related to one individual\nare attributed to another. See Privacy Considerations for Internet Protocols §section-5.1.4.\n    Correlation\n    \n     Correlation is the combination of various pieces of information related to an\nindividual or that obtain that characteristic when combined. See Privacy Considerations for Internet Protocols §section-5.2.1.\n    Identification\n    \n     Identification is the linking of information to a particular individual to\ninfer an individual’s identity or to allow the inference of an individual’s\nidentity. See Privacy Considerations for Internet Protocols §section-5.2.2.\n    Secondary Use\n    \n     Secondary use is the use of collected information about an individual without\nthe individual’s consent for a purpose different from that for which the\ninformation was collected. See Privacy Considerations for Internet Protocols §section-5.2.3.\n    Disclosure\n    \n     Disclosure is the revelation of information about an individual that affects\nthe way others judge the individual. See Privacy Considerations for Internet Protocols §section-5.2.4.\n    Exclusion\n    \n     Exclusion is the failure to allow individuals to know about the data that\nothers have about them and to participate in its handling and use. See Privacy Considerations for Internet Protocols §section-5.2.5.\n   \n   These threats combine into the particular concrete threats we want web\nspecifications to defend against, described in subsections here:\n   3.1. Unwanted same-site recognition\n   Contributes to surveillance, correlation, and identification.\n   Users of most instantiations of the web platform expect that if they visit a\nsite on one day, and then visit again the next day, the site will be able to\nrecognize that they’re the same user. This allows sites to save the user’s\npreferences, shopping carts, etc. The web platform offers many mechanisms that\nare either intended to accomplish this recognition or that can be trivially used\nfor it, including cookies, localStorage, indexedDB, CacheStorage, and other forms of\nstorage.\n   A privacy harm only occurs if the user wants to break the association between\ntwo visits, but the site can still determine with high probability that the two\nvisits came from the same user.\n   A user might expect that their two visits won’t be associated if they:\n   \n    \n     Use a browser that promises to avoid such correlation.\n    \n     Use their browser’s private browsing mode. ([WHAT-DOES-PRIVATE-BROWSING-DO])\n    \n     Use two different browser profiles between the two visits.\n    \n     Explicitly clear the site’s cookies or storage.\n   \n   This recognition is generally accomplished by either \"supercookies\" or browser\nfingerprinting.\n   Supercookies occur when a browser stores data for a site but makes that data\nmore difficult to clear than other cookies or storage. Fingerprinting Guidance §5.4 Clearing all local state discusses how\nspecifications can help browsers avoid this mistake.\n   Fingerprinting consists of using attributes of the user’s browser and platform\nthat are consistent between the two visits and probabilistically unique to the\nuser.\n   The attributes can be exposed as information about the user’s device that is\notherwise benign (as opposed to § 3.3 Sensitive information disclosure). For example:\n   \n    \n     What are the user’s language and time zone?\n    \n     What size is the user’s window?\n    \n     What system preferences has the user set? Dark mode, serif font, etc...\n    \n     ...\n   \n   See [fingerprinting-guidance] for how to mitigate this threat.\n   3.2. Unwanted cross-site recognition\n   Contributes to surveillance, correlation, and identification,\nusually more significantly than § 3.1 Unwanted same-site recognition.\n   This occurs if a site can determine with high probability that a visit to that\nsite comes from the same user as another visit to a different site.  This\nthreat is discussed in § 4.1 Cross-site recognition.\n   3.3. Sensitive information disclosure\n   Contributes to correlation, identification, secondary use, and disclosure.\n   Many pieces of information about a user could cause privacy harms if disclosed.\nFor example:\n   \n    \n     The user’s location.\n    \n     Video or audio from the user’s camera or microphone.\n    \n     The content of certain files on the user’s filesystem.\n    \n     Financial data.\n    \n     Contacts.\n    \n     Calendar entries.\n    \n     Whether the user is using assistive technology.\n    \n     ...\n   \n   A particular piece of information may have different sensitivity for different\nusers. Language preferences, for example, might typically seem innocent, but\nalso can be an indicator of belonging to an ethnic minority. Precise location\ninformation can be extremely sensitive (because it’s identifying, because it\nallows for in-person intrusions, because it can reveal detailed information\nabout a person’s life) but it might also be public and not sensitive at all, or\nit might be low-enough granularity that it is much less sensitive for many\nusers.\n   When considering whether a class of information is likely to be sensitive to\nusers, consider at least these factors:\n   \n    \n     whether it serves as a persistent identifier (see severity in Mitigating\nbrowser fingerprinting);\n    \n     whether it discloses substantial (including intimate details or inferences)\ninformation about the user or other users;\n    \n     whether it can be revoked (as in determining whether a permission is\nnecessary);\n    \n     whether it enables other threats, like intrusion.\n   \n    This description of what makes information sensitive still needs to\nbe refined. <https://github.com/w3cping/privacy-threat-model/issues/16>\n   3.4. Intrusive behavior\n   See intrusion.\n   Privacy harms don’t always come from a site learning things. For example it is\nintrusive for a site to\n   \n    \n     Display messages or notifications,\n    \n     Play sounds,\n    \n     Occupy the full screen,\n    \n     etc.\n   \n   if the user doesn’t intend for it to do so.\n   3.5. Powerful capabilities\n   Contributes to misattribution.\n   For example, a site that sends SMS without the user’s intent could cause them to\nbe blamed for things they didn’t intend.\n   4. Threat Model\n   For each of the high-level threats, we\ndescribe a threat model: a description of what goals attackers with various\ncapabilities should or should not be able to achieve. For simple threats, a\nmodel can be expressed in prose, while complex threat models use a grid to\nexpress the web platform’s target guarantees.\n   ✘ indicates that the goal should be frustrated,\nwhile ✓ indicates that the attacker can achieve\ntheir goal.\n    Should we mark goals attackers can currently achieve, which we want to\nremove, differently from goals attackers already can’t achieve?\n   4.1. Cross-site recognition\n   \n    \n     \n      \n      \n       § 6.2.1 Transfer user ID from publisher 1 to publisher 2 on navigation.\n      \n       § 6.2.2 Transfer user ID from tracker to that tracker running within a publisher, on navigation.\n      \n       § 6.2.3 Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.\n      \n       § 6.2.5 Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.\n      \n       § 6.2.4 Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.\n     \n      § 5.1 Load iframes\n      ✘\n      ✘\n      ✘\n      ✘\n      ✘\n     \n      § 5.2 Run Javascript in a first-party context\n      ✘\n      ✘\n      ✘\n      ✘\n      ✘\n     \n      § 5.4 Read server logs on other publishers\n      ✘\n      ✘\n      ✘\n      ✘\n      \n       \n        ✓\n         Publisher 2 reads their own logs for the page load and publisher 1’s logs for the click tracking of the navigation click. User IDs that clicked on publisher 1 approximately the same\n    time as that link’s target loaded on publisher 2 are\n    probabilistically correlated. \n       \n     \n      § 5.3 Modify server processing on the target publisher\n       ✘ \n      \n       \n        ✓\n         The tracker adds a path segment, possibly encrypted, in their links to the\n    publisher, encoding the user’s ID within the tracker. They convince the\n    publisher to ignore that path segment in\n    their server processing. The tracker running inside that publisher reads\n    the URL, decodes the tracker site’s user ID, and sends that and the tracker-within-publisher user ID\n    up to the tracker’s server. \n       \n       ✘ \n       ✘ \n       ✘ \n     \n      § 5.2 Run Javascript in a first-party context or § 5.3 Modify server processing on the source site and § 5.3 Modify server processing on the target publisher\n       ✘ \n      \n       \n        ✓\n         The tracker adds a path segment, possibly encrypted, in their links to the\n      publisher, encoding the user’s ID within the tracker. They convince the\n      publisher to ignore that path segment in\n      their server processing. The tracker running inside that publisher reads\n      the URL, decodes the tracker site’s user ID, and sends that and the tracker-within-publisher user ID\n      up to the tracker’s server. \n       \n      \n       \n        ✓\n         The tracker adds a path segment, possibly encrypted, in the publisher 1’s\n      links to publisher 2, encoding the user’s ID within publisher 1. They\n      convince publisher 2 to ignore that\n      path segment in their server processing. The tracker running inside\n      that publisher reads the URL, decodes publisher 1’s user ID, and sends that and publisher 2’s user ID up to the\n      tracker’s server. \n       \n       ✓ \n       ✓ \n   \n   Further cross-site recognition is available by combining capabilities with the\nability to § 5.2 Run Javascript in a first-party context (or § 5.3 Modify server processing to add\nattacker-controlled javascript):\n   \n    \n     \n      \n      \n       § 6.2.5 Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.\n     \n      § 5.5 Convince the user to type an identifier\n      \n       \n        ✓\n         The tracker gets a report of the identifiers typed in both publisher\n        sites, along with each publisher’s user id. If they’re equal, the user ids probably refer to the same user. The probability depends on\n        the type of identifier: email addresses or credit card numbers are very\n        high probability. Names or dates of birth are lower probability unless\n        combined with other information like a zip code. \n       \n     \n      § 5.6 Convince the user to open the same device in two cross-site tabs\n      \n       \n        ✓\n         The tracker reads the two devices, and if they give the same output at\n        approximately the same time, the user is probably the same. For devices\n        like cameras and microphones, detection is likely to be very accurate.\n        Others, like ambient light, might only give a few bits per sample, and\n        so need a long period of overlap in order to provide a good correlation. \n        For some devices, this transfer can be mitigated by turning off input\n        when the site isn’t visible or isn’t focused, but user expectations\n        limit where that mitigation is applicable.\n       \n     \n      § 5.7 Convince the user to open the same read+write device in two different sites\n      \n       \n        ✓\n         The tracker writes identifying content to the device and then reads it\n        back when the other site is opened. This is visible to varying degrees\n        depending on the device: an individual native file or a Bluetooth or USB\n        device that isn’t designed to cooperate with this sort of tracking, is\n        likely to break in obvious ways when the tracker tries to write an\n        identifier. A native directory, on the other hand, has many available\n        filenames that could hold identifying information without a user being\n        likely to notice. \n       \n     \n      § 5.8 Have two sites open when a browser-wide event happens\n       ✘ \n     \n      § 5.9 Have two sites visible when a browser-wide event happens\n      \n       \n        ✓\n         Browser-wide events generally need to be visible immediately when a user\n        is looking at a website, so the tracker just needs to notice that the\n        event’s parameters are the same, and its timestamp across two sites is\n        close together. The probability of identifying a single user goes up as\n        more events are observed. \n       \n   \n   4.2. Sensitive-information\n   Attackers should only be able to get access to sensitive information from a user agent if the user expresses their intent that the attacker get access\nto this information at the time the attacker gets access to it. User agents vary\nin how they gather this expression of intent.\n   That a user intends an attacker to get a piece of information at one time, for\nexample their location or their contact book, may be, but is not necessarily\nevidence that the user intends to give out the same piece of information at\na later time. There is not consensus about how long it’s reasonable to infer\ncontinued intent, but there is consensus that intent doesn’t last for years\nwithout interaction.\n    Add more information about local attackers and confused users and how\nbrowsers can mitigate. <https://github.com/w3cping/privacy-threat-model/issues/19>\n   This threat model defines a kind of information as restricted sensitive\ninformation if the web platform currently blocks access to it by default\nor if we plan to evolve the web platform to block access to it by default\nbecause of the potential privacy harms from disclosure of that kind of\ninformation.\n   Other information is described as \"not restricted sensitive information\"\neven if some users in some situations would find it sensitive. Information in\nthis category may have a lower risk of privacy harm to users or may not\ncurrently be restricted because of incompatibility with functionality of the\nWeb. These categories are not static and it may become feasible to block access\nby default to more kinds of information as the platform develops.\n   There is consensus that some kinds of information are restricted sensitive\ninformation:\n   \n    \n     Location\n    \n     Disability status\n    \n     Microphone input\n    \n     Etc.\n   \n   There is consensus that some other kinds of information are not restricted\nsensitive information:\n   \n    \n     User agent\n    \n     Language\n    \n     A user’s preference for\nless motion.\n    \n     Etc.\n   \n   There is not consensus about the sensitivity of all kinds of information:\n   \n    \n     TODO: examples?\n   \n   5. Attacker Capabilities\n   These are things some attackers can do. The attackers can use them to achieve\ntheir goals. All attackers are assumed to be able to buy\ndomains and host sites on their domains.\n   5.1. Load iframes\n   The attacker can convince a publisher to load an iframe from the attacker’s site.\n   5.2. Run Javascript in a first-party context\n   When a publisher wants to show ads from an ad network, many/most ad networks\nrequire that publisher to use a <script src=\"adnetwork.js\"> tag instead of an <iframe src=\"adnetwork.html\">, which allows the ad network to see any\npublisher data that’s exposed to Javascript. This includes query parameters\n(e.g. fbclid) and any cookies that aren’t HttpOnly.\n   5.3. Modify server processing\n   Some attackers can convince some publishers (perhaps by paying them) to modify\ntheir server software. This could be used, for example, to receive user IDs passed in a path segment instead of a query parameter, without breaking the\nnormal logic mapping a path to content.\n   5.4. Read server logs\n   Servers can keep logs of requests. The attacker may be able to convince some\nserver operators to give them these logs or let them run queries over the logs.\n   5.5. Convince the user to type an identifier\n   The attacker can convince a user to type their email address, name, zip code,\netc. into two publishers' sites.\n   5.6. Convince the user to open the same device in two cross-site tabs\n   The attacker can convince a user to open the same device on two publishers'\nsites that are both open at the same time in different tabs or windows.\n   5.7. Convince the user to open the same read+write device in two different sites\n   A read+write device is something like a native filesystem file or directory, or\na bluetooth or USB device that can be configured to save data. The two sites\nneed to be given access to the same device, but they don’t need to both be open\nat the same time.\n   5.8. Have two sites open when a browser-wide event happens\n   A browser-wide event is something that happens to the browser as a whole instead\nof to an individual site or web page. For example, the user going idle, sensor\ndata changing, or the device’s time zone changing, would affect all tabs at the\nsame time.\n   5.9. Have two sites visible when a browser-wide event happens\n   Unlike § 5.8 Have two sites open when a browser-wide event happens, this capability requires both sites to be\nvisible (probably in two separate browser windows) at the same time during the\nevent.\n   6. Attacker goals\n   These are things attackers want to accomplish.\n   6.1. User metrics within a single site\n   6.1.1. Click tracking\n   A site wants to know which of its links a user clicks on.\n   6.2. Tracking\n   [tracking-dnt] defines \"tracking\" as the collection of data regarding a\nparticular user’s activity across multiple distinct contexts and the retention,\nuse, or sharing of data derived from that activity outside the context in which\nit occurred. A context is a set of resources that are controlled by the same\nparty or jointly controlled by a set of parties. The following are building\nblocks that allow a tracker to build such a log of a user’s activity.\n   6.2.1. Transfer user ID from publisher 1 to publisher 2 on navigation.\n   When the user clicks a link from publisher 1 that navigates to publisher 2, publisher 2’s server learns that a user ID on publisher 2 and a user ID on\npublisher 1 represent the same user.\n   6.2.2. Transfer user ID from tracker to that tracker running within a publisher, on navigation.\n   When the user clicks a link from tracker.example to publisher.example, that tracker’s server learns that a user ID for either publisher.example or\nthe tracker running within publisher.example and a user ID for tracker.example represent the same user.\n   6.2.3. Transfer user ID from tracker within publisher 1 to that tracker within publisher 2, on navigation.\n   When the user clicks a link from publisher1.example (where a tracker was\nembedded within that site) to publisher2.example (which has the same tracker\nembedded), that tracker’s server learns that a user ID for either publisher1.example or the tracker running within publisher1.example and a user ID for either publisher2.example or the tracker running within publisher2.example represent the same user.\n   6.2.4. Probabilistically transfer user ID from publisher 1 to publisher 2 on navigation.\n   When the user clicks a link from publisher 1 that navigates to publisher 2, publisher 2’s server learns that a user ID on publisher 2 and a user ID on\npublisher 1 are more likely than chance to represent the same user.\n   6.2.5. Probabilistically transfer user ID from publisher 1 to publisher 2 without navigation.\n   While the user is visiting publisher 1, that publisher can tell publisher 2 that a user ID on publisher 2 and a user ID on publisher\n1 are more likely than chance to represent the same user, without requiring\nthe user to navigate from publisher 1 to publisher 2.\n   7. Essential Web APIs\n   These are Web APIs and features that would destroy the Web as we know it if they\nwent away. The placement of some features here will be contentious, and those\nfeatures are marked as I discover the contention.\n   7.1. Javascript can make requests to servers\n   This could perhaps be broken down into same-origin requests and cross-origin\nrequests, with cross-origin requests being more contentious.\n   7.2. Servers can define the paths under which they host content\n   These paths can include opaque strings that neither a human nor a user agent can\ninterpret without knowing how the server works, like /t/proposal-packaging-for-the-web-signed-and-indexed/1827/10 and /Moby-Dick-Herman-Melville/dp/1503280780/.\n   8. Acknowledgements\n   Safari did the first work to prove that a more privacy-preserving web was\npossible, by blocking third-party cookies by default and then shipping ITP\n1.0, without\nbreaking the world. They eventually published their policy for Tracking\nPrevention, which heavily\ninfluenced this document.\n   Mozilla wrote the first concrete anti-tracking\npolicy, which inspired\nSafari’s policy.\n   Michael Kleber on the Chrome team proposed a Privacy Model for the\nWeb, which suggests blocking\nthe transfer of user IDs between top-level sites and suggests a few ways\nthat information could flow between sites without compromising user privacy.\n  ","length":25556,"excerpt":"This document is at a very early stage. Many things in it are wrong\nand/or incomplete. Please take it as a rough shape for how we might document the\ntarget threat model, rather than as definite statements about what should be in\nthe target threat model.","byline":"Jeffrey Yasskin (Google Inc.)","dir":null,"siteName":null,"lang":"en"},"finalizedMeta":{"title":"Target Privacy Threat Model","description":"This document is at a very early stage. Many things in it are wrong\nand/or incomplete. Please take it as a rough shape for how we might document the\ntarget threat model, rather than as definite statements about what should be in\nthe target threat model.","author":false,"creator":"","publisher":false,"date":"2022-04-05T17:38:44.876Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"Target Privacy Threat Model","description":false,"canonical":"https://w3cping.github.io/privacy-threat-model","keywords":[],"image":false,"firstParagraph":""},"dublinCore":{},"opengraph":{"title":false,"description":false,"url":false,"site_name":false,"locale":false,"type":false,"typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":false},"twitter":{"site":false,"description":false,"card":false,"creator":false,"title":false,"image":false},"archivedData":{"link":false,"wayback":false}}}