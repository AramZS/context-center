{"initialLink":"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","sanitizedLink":"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","finalLink":"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md\" itemprop=\"url\">conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-04-06T20:01:02.610Z\">3/6/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a href=\"https://web.archive.org/web/20220406200105/https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md\" is=\"contexter-link\" target=\"_blank\" rel=\"timemap\" class=\"read-link archive-link\" itemprop=\"archivedAt\" slot=\"archive-link\">Archived</a><a is=\"contexter-link\" href=\"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"684e53373b0edeb59c449a369e7f2fff8dfe34fd","data":{"originalLink":"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","sanitizedLink":"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","canonical":"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","htmlText":"\n\n\n\n\n\n<!DOCTYPE html>\n<html lang=\"en\" data-color-mode=\"auto\" data-light-theme=\"light\" data-dark-theme=\"dark\" >\n  <head>\n    <meta charset=\"utf-8\">\n  <link rel=\"dns-prefetch\" href=\"https://github.githubassets.com\">\n  <link rel=\"dns-prefetch\" href=\"https://avatars.githubusercontent.com\">\n  <link rel=\"dns-prefetch\" href=\"https://github-cloud.s3.amazonaws.com\">\n  <link rel=\"dns-prefetch\" href=\"https://user-images.githubusercontent.com/\">\n  <link rel=\"preconnect\" href=\"https://github.githubassets.com\" crossorigin>\n  <link rel=\"preconnect\" href=\"https://avatars.githubusercontent.com\">\n\n\n\n  <link crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-sD8zc/Dn1lguLc4FdbeVhD2gfxFCTXGr/y+MpJG3oX1vkAyaFf/7BHPtvv1dAHA0KG4bDEW3Ex1EPrzGTMtN2Q==\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/light-b03f3373f0e7.css\" /><link crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-V0872pNNqPTaPQFzdwX9tHIzJvB4F1Foi6VYDciZAMo/qHgBC8PvN2d/SkMweiNDbR6eF3cXcG0aPVrEtC8zqw==\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/dark-574f3bda934d.css\" /><link data-color-theme=\"dark_dimmed\" crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-PzuUWYSTZfXfFMEstZYF7zd5TnBiunweYKf7SA0USRWwzNBPELoB8ZhGVGTwcMSwF5ff9kyBAdGzEbfJ2/4cig==\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/dark_dimmed-3f3b94598493.css\" /><link data-color-theme=\"dark_high_contrast\" crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-PDguTqV/sgFBBIdGLWGe50pI4GUQjVg3NQIm1ue9+6Wtn5qdx122aGJ1/M6IydIYhVs1tRfeLBl8P+7lNRRHlg==\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/dark_high_contrast-3c382e4ea57f.css\" /><link data-color-theme=\"dark_colorblind\" crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-PZ0pkh4DltajJswDsmdCrHotI3eS5qb+etb48dcRDxUuiy0g2YP+kw5sQi04CE7AO+J33JXg86PAQoivVKkdKg==\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/dark_colorblind-3d9d29921e03.css\" /><link data-color-theme=\"light_colorblind\" crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-P+VDoZFVyqfAb06foA/ZLUzHkdMPqEQq1d1B0VSzEzOF3fidwKWULgI+b1E+OoF7VnC5HXRS4lMJPKKc6wrc8g==\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/light_colorblind-3fe543a19155.css\" /><link data-color-theme=\"light_high_contrast\" crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-33ulzUgAM4pZv65KAcvjwZLHiC4bQaF61LiK9BiAQ/kuCG/+LtNi2clT1gfb72sa9SOsiu4fs4bEBL543Ms3Iw==\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/light_high_contrast-df7ba5cd4800.css\" />\n    <link crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-YzLultu2w1Oy/KNLZTVD3VcRDQTKnjugYRNFeaH6uHU895tcHmFFuw88IGkhhOG6Dvzf/SltNShW0Xw+i5z7eA==\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/frameworks-6332ee96dbb6.css\" />\n    <link crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-edPSYTzWPBF/t8CNCEmGOgxy62UXgpi5KD3NuoiZNVB3UrYvghDi2LyFVU8eQEqDh2o7oUNfM8bIgOVARgISKg==\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/behaviors-79d3d2613cd6.css\" />\n  <link crossorigin=\"anonymous\" media=\"all\" integrity=\"sha512-aBhgFrIANvKxfe2qyZEPZal5IdRIypG5bSaA1r+nlI4dIyekQ+VQxFihz6xOGPiAKql7o+NSzD7SVCST6CpUmg==\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/github-68186016b200.css\" />\n\n    <meta name=\"optimizely-datafile\" content=\"{&quot;groups&quot;: [], &quot;environmentKey&quot;: &quot;production&quot;, &quot;rollouts&quot;: [], &quot;typedAudiences&quot;: [], &quot;projectId&quot;: &quot;16737760170&quot;, &quot;variables&quot;: [], &quot;featureFlags&quot;: [], &quot;experiments&quot;: [{&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20438636352&quot;, &quot;key&quot;: &quot;control&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20484957397&quot;, &quot;key&quot;: &quot;treatment&quot;}], &quot;id&quot;: &quot;20479227424&quot;, &quot;key&quot;: &quot;growth_ghec_onboarding_experience&quot;, &quot;layerId&quot;: &quot;20467848595&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 1000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 3000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 6000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 8000}, {&quot;entityId&quot;: &quot;20484957397&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {&quot;85e2238ce2b9074907d7a3d91d6feeae&quot;: &quot;control&quot;}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20667381018&quot;, &quot;key&quot;: &quot;control&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20680930759&quot;, &quot;key&quot;: &quot;treatment&quot;}], &quot;id&quot;: &quot;20652570897&quot;, &quot;key&quot;: &quot;project_genesis&quot;, &quot;layerId&quot;: &quot;20672300363&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20667381018&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20680930759&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {&quot;83356e17066d336d1803024138ecb683&quot;: &quot;treatment&quot;, &quot;18e31c8a9b2271332466133162a4aa0d&quot;: &quot;treatment&quot;, &quot;10f8ab3fbc5ebe989a36a05f79d48f32&quot;: &quot;treatment&quot;, &quot;1686089f6d540cd2deeaec60ee43ecf7&quot;: &quot;treatment&quot;}}], &quot;version&quot;: &quot;4&quot;, &quot;audiences&quot;: [{&quot;conditions&quot;: &quot;[\\&quot;or\\&quot;, {\\&quot;match\\&quot;: \\&quot;exact\\&quot;, \\&quot;name\\&quot;: \\&quot;$opt_dummy_attribute\\&quot;, \\&quot;type\\&quot;: \\&quot;custom_attribute\\&quot;, \\&quot;value\\&quot;: \\&quot;$opt_dummy_value\\&quot;}]&quot;, &quot;id&quot;: &quot;$opt_dummy_audience&quot;, &quot;name&quot;: &quot;Optimizely-Generated Audience for Backwards Compatibility&quot;}], &quot;anonymizeIP&quot;: true, &quot;sdkKey&quot;: &quot;WTc6awnGuYDdG98CYRban&quot;, &quot;attributes&quot;: [{&quot;id&quot;: &quot;16822470375&quot;, &quot;key&quot;: &quot;user_id&quot;}, {&quot;id&quot;: &quot;17143601254&quot;, &quot;key&quot;: &quot;spammy&quot;}, {&quot;id&quot;: &quot;18175660309&quot;, &quot;key&quot;: &quot;organization_plan&quot;}, {&quot;id&quot;: &quot;18813001570&quot;, &quot;key&quot;: &quot;is_logged_in&quot;}, {&quot;id&quot;: &quot;19073851829&quot;, &quot;key&quot;: &quot;geo&quot;}, {&quot;id&quot;: &quot;20175462351&quot;, &quot;key&quot;: &quot;requestedCurrency&quot;}, {&quot;id&quot;: &quot;20785470195&quot;, &quot;key&quot;: &quot;country_code&quot;}], &quot;botFiltering&quot;: false, &quot;accountId&quot;: &quot;16737760170&quot;, &quot;events&quot;: [{&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;17911811441&quot;, &quot;key&quot;: &quot;hydro_click.dashboard.teacher_toolbox_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18124116703&quot;, &quot;key&quot;: &quot;submit.organizations.complete_sign_up&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18145892387&quot;, &quot;key&quot;: &quot;no_metric.tracked_outside_of_optimizely&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18178755568&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.add_repo&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18180553241&quot;, &quot;key&quot;: &quot;submit.repository_imports.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18186103728&quot;, &quot;key&quot;: &quot;click.help.learn_more_about_repository_creation&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18188530140&quot;, &quot;key&quot;: &quot;test_event&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18191963644&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.transfer_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18195612788&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.import_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18210945499&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.invite_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18211063248&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.create_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18215721889&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.update_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18224360785&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.dismiss&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18234832286&quot;, &quot;key&quot;: &quot;submit.organization_activation.complete&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18252392383&quot;, &quot;key&quot;: &quot;submit.org_repository.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18257551537&quot;, &quot;key&quot;: &quot;submit.org_member_invitation.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18259522260&quot;, &quot;key&quot;: &quot;submit.organization_profile.update&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18564603625&quot;, &quot;key&quot;: &quot;view.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18568612016&quot;, &quot;key&quot;: &quot;click.classroom_sign_in_click&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18572592540&quot;, &quot;key&quot;: &quot;view.classroom_name&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18574203855&quot;, &quot;key&quot;: &quot;click.classroom_create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18582053415&quot;, &quot;key&quot;: &quot;click.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18589463420&quot;, &quot;key&quot;: &quot;click.classroom_create_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591323364&quot;, &quot;key&quot;: &quot;click.classroom_create_first_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591652321&quot;, &quot;key&quot;: &quot;click.classroom_grant_access&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18607131425&quot;, &quot;key&quot;: &quot;view.classroom_creation&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;18831680583&quot;, &quot;key&quot;: &quot;upgrade_account_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19064064515&quot;, &quot;key&quot;: &quot;click.signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19075373687&quot;, &quot;key&quot;: &quot;click.view_account_billing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19077355841&quot;, &quot;key&quot;: &quot;click.dismiss_signup_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19079713938&quot;, &quot;key&quot;: &quot;click.contact_sales&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19120963070&quot;, &quot;key&quot;: &quot;click.compare_account_plans&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19151690317&quot;, &quot;key&quot;: &quot;click.upgrade_account_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19424193129&quot;, &quot;key&quot;: &quot;click.open_account_switcher&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19520330825&quot;, &quot;key&quot;: &quot;click.visit_account_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19540970635&quot;, &quot;key&quot;: &quot;click.switch_account_context&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19730198868&quot;, &quot;key&quot;: &quot;submit.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19820830627&quot;, &quot;key&quot;: &quot;click.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19988571001&quot;, &quot;key&quot;: &quot;click.create_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20036538294&quot;, &quot;key&quot;: &quot;click.create_organization_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20040653299&quot;, &quot;key&quot;: &quot;click.input_enterprise_trial_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20062030003&quot;, &quot;key&quot;: &quot;click.continue_with_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20068947153&quot;, &quot;key&quot;: &quot;click.create_organization_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20086636658&quot;, &quot;key&quot;: &quot;click.signup_continue.username&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20091648988&quot;, &quot;key&quot;: &quot;click.signup_continue.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20103637615&quot;, &quot;key&quot;: &quot;click.signup_continue.email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20111574253&quot;, &quot;key&quot;: &quot;click.signup_continue.password&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20120044111&quot;, &quot;key&quot;: &quot;view.pricing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20152062109&quot;, &quot;key&quot;: &quot;submit.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20165800992&quot;, &quot;key&quot;: &quot;submit.upgrade_payment_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20171520319&quot;, &quot;key&quot;: &quot;submit.create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20222645674&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.discuss_your_needs&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20227443657&quot;, &quot;key&quot;: &quot;submit.verify_primary_user_email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20234607160&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.try_enterprise&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20238175784&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20239847212&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.continue_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20251097193&quot;, &quot;key&quot;: &quot;recommended_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20438619534&quot;, &quot;key&quot;: &quot;click.pricing_calculator.1_member&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20456699683&quot;, &quot;key&quot;: &quot;click.pricing_calculator.15_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20467868331&quot;, &quot;key&quot;: &quot;click.pricing_calculator.10_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20476267432&quot;, &quot;key&quot;: &quot;click.trial_days_remaining&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20476357660&quot;, &quot;key&quot;: &quot;click.discover_feature&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20479287901&quot;, &quot;key&quot;: &quot;click.pricing_calculator.custom_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20481107083&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.apply_teacher_benefits&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20483089392&quot;, &quot;key&quot;: &quot;click.pricing_calculator.5_members&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;, &quot;20652570897&quot;], &quot;id&quot;: &quot;20484283944&quot;, &quot;key&quot;: &quot;click.onboarding_task&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20484996281&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.apply_student_benefits&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20486713726&quot;, &quot;key&quot;: &quot;click.onboarding_task_breadcrumb&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20490791319&quot;, &quot;key&quot;: &quot;click.upgrade_to_enterprise&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20491786766&quot;, &quot;key&quot;: &quot;click.talk_to_us&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20494144087&quot;, &quot;key&quot;: &quot;click.dismiss_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;, &quot;20652570897&quot;], &quot;id&quot;: &quot;20499722759&quot;, &quot;key&quot;: &quot;completed_all_tasks&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;, &quot;20652570897&quot;], &quot;id&quot;: &quot;20500710104&quot;, &quot;key&quot;: &quot;completed_onboarding_tasks&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20513160672&quot;, &quot;key&quot;: &quot;click.read_doc&quot;}, {&quot;experimentIds&quot;: [&quot;20652570897&quot;], &quot;id&quot;: &quot;20516196762&quot;, &quot;key&quot;: &quot;actions_enabled&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20518980986&quot;, &quot;key&quot;: &quot;click.dismiss_trial_banner&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20535446721&quot;, &quot;key&quot;: &quot;click.issue_actions_prompt.dismiss_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20557002247&quot;, &quot;key&quot;: &quot;click.issue_actions_prompt.setup_workflow&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20595070227&quot;, &quot;key&quot;: &quot;click.pull_request_setup_workflow&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20626600314&quot;, &quot;key&quot;: &quot;click.seats_input&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20642310305&quot;, &quot;key&quot;: &quot;click.decrease_seats_number&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20662990045&quot;, &quot;key&quot;: &quot;click.increase_seats_number&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20679620969&quot;, &quot;key&quot;: &quot;click.public_product_roadmap&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20761240940&quot;, &quot;key&quot;: &quot;click.dismiss_survey_banner&quot;}, {&quot;experimentIds&quot;: [&quot;20479227424&quot;], &quot;id&quot;: &quot;20767210721&quot;, &quot;key&quot;: &quot;click.take_survey&quot;}, {&quot;experimentIds&quot;: [&quot;20652570897&quot;], &quot;id&quot;: &quot;20795281201&quot;, &quot;key&quot;: &quot;click.archive_list&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20966790249&quot;, &quot;key&quot;: &quot;contact_sales.submit&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20996500333&quot;, &quot;key&quot;: &quot;contact_sales.existing_customer&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20996890162&quot;, &quot;key&quot;: &quot;contact_sales.blank_message_field&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21000470317&quot;, &quot;key&quot;: &quot;contact_sales.personal_email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21002790172&quot;, &quot;key&quot;: &quot;contact_sales.blank_phone_field&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21370840408&quot;, &quot;key&quot;: &quot;click.cta_create_readme&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21375451068&quot;, &quot;key&quot;: &quot;click.cta_create_new_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21385390948&quot;, &quot;key&quot;: &quot;click.zero_user_content&quot;}], &quot;revision&quot;: &quot;1107&quot;}\" />\n\n\n  <script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-OGnXSFCxRyurFBrI96yn3G8Mw8o4jU7l+d4NmpSr5d/WmLCqEQSKxlbvA49gcbSK6FjSoIXcSI0SoOeMxy72yw==\" src=\"https://github.githubassets.com/assets/runtime-3869d74850b1.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-/60A2/6dLC43TT9rA0QBLRuG9Sreq8FCULwAwUt8sxZWcDMhjHyiYSSO6TaEEcnb55AnhIBJTcgjkuoqcK8iKQ==\" src=\"https://github.githubassets.com/assets/environment-ffad00dbfe9d.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-mNt9opq5jyqeZdWMV25dquh3PeAJZk/NFBfdGMUbTN7JB344FlZu6Jr8g/ieGGy+3sy5REA/uZXM0GmGKqOpcw==\" src=\"https://github.githubassets.com/assets/5329-98db7da29ab9.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-9n/KDFl7RTBwlMhFd7BrFVXj5dJnvyMjRzKu4rxr4eKDf8zqcP3hbZVzCiBdR0e0jS2L8asQfzsnHSK2c+ZF7g==\" src=\"https://github.githubassets.com/assets/2486-f67fca0c597b.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-qNL70NcbKIFaK7Pc/pynQJLTpp1jZIBaFA7o31IrfbYEiuDqi/TnCkEU4QxKSVaLxtt5B1Y6zNRz2iUgqaqdew==\" src=\"https://github.githubassets.com/assets/8475-a8d2fbd0d71b.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-H/F50N+M9z2+JkI/7v34Hcedrm01LD6TPomVD3jiqhDkjk/uIAate1EKFGfoQOT+jJGEOuWw7zxoXd/MpeD6qg==\" src=\"https://github.githubassets.com/assets/github-elements-1ff179d0df8c.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-Nwpsq0eOm0uoh+1uOfX+IQXYn+CnS8p60qYCRmWnT5OvEo8ffE27QpDqqqiJDH/J0yaUX6VLSVEQG8HkSNKSkg==\" src=\"https://github.githubassets.com/assets/element-registry-370a6cab478e.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-ZAKZQWCEc6bs9LSQOCPRWq3wqRDkQxG2bPL/pW9Lj/Seap0PV0kF/yKCHske8mW3Zytde9n1Im83jxrCmpaMrA==\" src=\"https://github.githubassets.com/assets/5724-640299416084.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-Hb8d69V10VxkC90NX3zvjNovHq5vrRv0XCde5qNf5WiQAB6BziCN+gEbKG+fDj8i05B2pBdyGIh+3pmaRvzLJA==\" src=\"https://github.githubassets.com/assets/5388-1dbf1debd575.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-j9tCiIT7h+++Hko9qwRezOfoO32kBBlf6Te9zZyxxmrxG1EA5ji2QCYAIzd5vXB7616gZ5m9J+WMQwv3VEf1wA==\" src=\"https://github.githubassets.com/assets/93-8fdb428884fb.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-JPHg6lXC/kVMbA05VoaD5W739fMUF/ObaJ4NrZWLi91OWI9xEhJ9NtwbGROmxjCm5FGwNOVohY+DXILkO19dtA==\" src=\"https://github.githubassets.com/assets/8932-24f1e0ea55c2.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-heG3JMoQq3ducVj0rke7ixXR6HU4XKtSlNnKQ6uGDD+JjKmcpeXRiBBQnX1biRw9F33Eyqkqv7wifIWv4lEk/Q==\" src=\"https://github.githubassets.com/assets/1717-85e1b724ca10.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-Fdjf+VMPiRTZp0c99jKxOL5u/xLImvoDNWFxd2Lmb9dVBzC58xNeBe0aKv80LbIhMmY435Pk6Y6Oan4vpD+cAg==\" src=\"https://github.githubassets.com/assets/8646-15d8dff9530f.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-/V7241I4oTyrmfzf1ZLgzrDMftUwrGlFXG26BaMgW8Koi8/8InvjGu+skviYVpZN5G4FOCsUNoE3zS6R73Sqgg==\" src=\"https://github.githubassets.com/assets/3682-fd5ef6e35238.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-JLnnTPhYd6z7k1g7CjOIUK4YQRvqCzvSNqRq6GH8tenPhyDVVXDp//clwLGS9xZc07/khbn/oI6NNUUUU5viPQ==\" src=\"https://github.githubassets.com/assets/3932-24b9e74cf858.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-avY7kgWZi20dcW5UgNkiKrgbOKvJGW0kArbkQcA9MWQx0SRjJv4JcKHNdMN3o6ML+inGPd8ib1+nJECF5VJ5Kw==\" src=\"https://github.githubassets.com/assets/3826-6af63b920599.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-VfEhOF3vJdJ+i5cQoTmkzhJkxjRPTIrU1bTLu39ms25ObDi0opXGXXwnJxmDuYgumNezrhY8CSC2Za7ZKQNVaA==\" src=\"https://github.githubassets.com/assets/5222-55f121385def.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-743Ib7G1b4mJuk7POhW/9TDlRWUqSk28bQ+/nq7em3kPIibv4diV6/I2fIEA8SEWkEmD98u+DCTmpM77LwcJXQ==\" src=\"https://github.githubassets.com/assets/behaviors-ef8dc86fb1b5.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-gy8qIM5ywfZwY9t64qGa3rDcqWJGKXayF+CsUt0owghpz2eqnNX2tMtSRRdOybIIwu6cScH/b8SkXvSHQt5qow==\" src=\"https://github.githubassets.com/assets/7749-832f2a20ce72.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-KKLG+hE5uCMJHxwocsH3WQNYzT3qftRjkNe7L0b5aOMgoS5iT5oWDIwhiy38adTWwg6xdomYeWvi2+wQBjOBAg==\" src=\"https://github.githubassets.com/assets/notifications-global-28a2c6fa1139.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-CXG0JIxMwRoz4AhA97h6N2FXg+xKzJMJqAoIjzJlUwcmof+tDjD61i1wEGsUANoz0VSlCYySZVt6/4D1rh3ZgQ==\" src=\"https://github.githubassets.com/assets/4978-0971b4248c4c.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-2iuelErDqJXOThk/Ket7cnVDGEp9l92imYE75HqmhqWzoIRFB/OYA/pygMAC0QstgJRgWXRwE/DTMGHJE05P3w==\" src=\"https://github.githubassets.com/assets/optimizely-da2b9e944ac3.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-xyGHYwjeMuGHmOdgy9Kb/p7zpSxjrw197tH6c+PzJj3L9zUCmjXBRbPky6B3Dqc/dN0x6OPF7n2Uh5u5MdbVUw==\" src=\"https://github.githubassets.com/assets/90-c721876308de.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-AYqt3h3e9yBPkTVipsLLUCU2qCv7M31EodfqWxo5UKYyx8iI44MniIvWI5K+skqivkk0Auq3QaWslerlSihYqA==\" src=\"https://github.githubassets.com/assets/6813-018aadde1dde.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-fVWEYrwNiNqMDgK2qU/B+IumJZbvKseQoon/V//Dxcm9+btlS1AEfEWqogm9ZVQtDGEeu+fyazqJuSOxYsqSLA==\" src=\"https://github.githubassets.com/assets/6637-7d558462bc0d.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-5JQgCiZ0WFkBrH+atihAyvkuEVNwQvl+HNCdIQlNSu5T9WJqvXtu3HN36CZ2fKs0GY7EgVynmlzHIza0dbPhaA==\" src=\"https://github.githubassets.com/assets/6791-e494200a2674.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-+9R0LxZEurMW2xaxOHFOgRF3/v/5UrZzh65sQECbfbvXVTZ5Emm5OAEEWa/WV/LN77PKhjVQqQOxHZXiiw9qCQ==\" src=\"https://github.githubassets.com/assets/repositories-fbd4742f1644.js\"></script>\n<script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" integrity=\"sha512-O7GiIXufoT3Nx9FwsSjttIuHuHM/QFZFczRID9aesZd1T5Lv3Pm8yQ13w4gQ315DR2TG8j6P0oVNNjyHvJhbxg==\" src=\"https://github.githubassets.com/assets/diffs-3bb1a2217b9f.js\"></script>\n  \n\n  <meta name=\"viewport\" content=\"width=device-width\">\n  \n  <title>conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api · GitHub</title>\n    <meta name=\"description\" content=\"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.\">\n    <link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch.xml\" title=\"GitHub\">\n  <link rel=\"fluid-icon\" href=\"https://github.com/fluidicon.png\" title=\"GitHub\">\n  <meta property=\"fb:app_id\" content=\"1401488693436528\">\n  <meta name=\"apple-itunes-app\" content=\"app-id=1477376905\" />\n    <meta name=\"twitter:image:src\" content=\"https://opengraph.githubassets.com/c59c17d8d9d465fd98d108767a2391340ea95f220a7afc426d5288a9c80307c6/WICG/conversion-measurement-api\" /><meta name=\"twitter:site\" content=\"@github\" /><meta name=\"twitter:card\" content=\"summary_large_image\" /><meta name=\"twitter:title\" content=\"conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api\" /><meta name=\"twitter:description\" content=\"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.\" />\n    <meta property=\"og:image\" content=\"https://opengraph.githubassets.com/c59c17d8d9d465fd98d108767a2391340ea95f220a7afc426d5288a9c80307c6/WICG/conversion-measurement-api\" /><meta property=\"og:image:alt\" content=\"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.\" /><meta property=\"og:image:width\" content=\"1200\" /><meta property=\"og:image:height\" content=\"600\" /><meta property=\"og:site_name\" content=\"GitHub\" /><meta property=\"og:type\" content=\"object\" /><meta property=\"og:title\" content=\"conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api\" /><meta property=\"og:url\" content=\"https://github.com/WICG/conversion-measurement-api\" /><meta property=\"og:description\" content=\"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.\" />\n    \n\n\n\n    \n\n  <link rel=\"assets\" href=\"https://github.githubassets.com/\">\n  \n\n\n  <meta name=\"request-id\" content=\"F720:9F21:98F0EB:108603A:624DF17D\" data-pjax-transient=\"true\"/><meta name=\"html-safe-nonce\" content=\"4b7d0fc4e895431d3822d066b0b761534d7019755f1bb8de4cb1e062144067a8\" data-pjax-transient=\"true\"/><meta name=\"visitor-payload\" content=\"eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiJGNzIwOjlGMjE6OThGMEVCOjEwODYwM0E6NjI0REYxN0QiLCJ2aXNpdG9yX2lkIjoiNzE2NzY2NjIzODY0NTgyNTI1IiwicmVnaW9uX2VkZ2UiOiJpYWQiLCJyZWdpb25fcmVuZGVyIjoiaWFkIn0=\" data-pjax-transient=\"true\"/><meta name=\"visitor-hmac\" content=\"b977b8a2915e1e59a8eccb6431b1254a42ec17c0afaaa6fc1a3afcb7ed39d465\" data-pjax-transient=\"true\"/>\n\n    <meta name=\"hovercard-subject-tag\" content=\"repository:188087302\" data-pjax-transient>\n\n\n  <meta name=\"github-keyboard-shortcuts\" content=\"repository,source-code\" data-pjax-transient=\"true\" />\n\n  \n\n  <meta name=\"selected-link\" value=\"repo_source\" data-pjax-transient>\n\n    <meta name=\"google-site-verification\" content=\"c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY\">\n  <meta name=\"google-site-verification\" content=\"KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU\">\n  <meta name=\"google-site-verification\" content=\"ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA\">\n  <meta name=\"google-site-verification\" content=\"GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc\">\n\n<meta name=\"octolytics-url\" content=\"https://collector.github.com/github/collect\" />\n\n  <meta name=\"analytics-location\" content=\"/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show\" data-pjax-transient=\"true\" />\n\n  \n\n\n\n\n  \n\n      <meta name=\"hostname\" content=\"github.com\">\n    <meta name=\"user-login\" content=\"\">\n\n\n\n      <meta name=\"expected-hostname\" content=\"github.com\">\n\n\n    <meta name=\"enabled-features\" content=\"MARKETPLACE_PENDING_INSTALLATIONS\">\n\n\n  <meta http-equiv=\"x-pjax-version\" content=\"2151f0716cb2d296badb335228e70c9ce0b7c3499f638ad4c7b05842fed434ed\" data-turbo-track=\"reload\">\n  <meta http-equiv=\"x-pjax-csp-version\" content=\"ca8f28be2f02ebc697029bdc0646515d9017cf770c4c1ff8414eccd96f6b5a2a\" data-turbo-track=\"reload\">\n  <meta http-equiv=\"x-pjax-css-version\" content=\"aa1b49d15595f58f7ba801a8e0051ba67d1041f64ebea80dda6c9917b05616ed\" data-turbo-track=\"reload\">\n  <meta http-equiv=\"x-pjax-js-version\" content=\"ef2801e0d265795a68edc153b5e5d12a2aea31449bc46d59461f0be758e3a5cd\" data-turbo-track=\"reload\">\n  \n\n    \n  <meta name=\"go-import\" content=\"github.com/WICG/conversion-measurement-api git https://github.com/WICG/conversion-measurement-api.git\">\n\n  <meta name=\"octolytics-dimension-user_id\" content=\"13145324\" /><meta name=\"octolytics-dimension-user_login\" content=\"WICG\" /><meta name=\"octolytics-dimension-repository_id\" content=\"188087302\" /><meta name=\"octolytics-dimension-repository_nwo\" content=\"WICG/conversion-measurement-api\" /><meta name=\"octolytics-dimension-repository_public\" content=\"true\" /><meta name=\"octolytics-dimension-repository_is_fork\" content=\"false\" /><meta name=\"octolytics-dimension-repository_network_root_id\" content=\"188087302\" /><meta name=\"octolytics-dimension-repository_network_root_nwo\" content=\"WICG/conversion-measurement-api\" />\n\n\n\n    <link rel=\"canonical\" href=\"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md\" data-pjax-transient>\n\n\n  <meta name=\"browser-stats-url\" content=\"https://api.github.com/_private/browser/stats\">\n\n  <meta name=\"browser-errors-url\" content=\"https://api.github.com/_private/browser/errors\">\n\n  <meta name=\"browser-optimizely-client-errors-url\" content=\"https://api.github.com/_private/browser/optimizely_client/errors\">\n\n  <link rel=\"mask-icon\" href=\"https://github.githubassets.com/pinned-octocat.svg\" color=\"#000000\">\n  <link rel=\"alternate icon\" class=\"js-site-favicon\" type=\"image/png\" href=\"https://github.githubassets.com/favicons/favicon.png\">\n  <link rel=\"icon\" class=\"js-site-favicon\" type=\"image/svg+xml\" href=\"https://github.githubassets.com/favicons/favicon.svg\">\n\n<meta name=\"theme-color\" content=\"#1e2327\">\n<meta name=\"color-scheme\" content=\"light dark\" />\n\n\n  <link rel=\"manifest\" href=\"/manifest.json\" crossOrigin=\"use-credentials\">\n\n  </head>\n\n  <body class=\"logged-out env-production page-responsive page-blob\" style=\"word-wrap: break-word;\">\n    \n\n    <div class=\"position-relative js-header-wrapper \">\n      <a href=\"#start-of-content\" class=\"px-2 py-4 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content\">Skip to content</a>\n      <span data-view-component=\"true\" class=\"progress-pjax-loader js-pjax-loader-bar Progress position-fixed width-full\">\n    <span style=\"width: 0%;\" data-view-component=\"true\" class=\"Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis\"></span>\n</span>      \n      \n\n\n        \n\n            <header class=\"Header-old header-logged-out js-details-container Details position-relative f4 py-2\" role=\"banner\">\n  <div class=\"container-xl d-lg-flex flex-items-center p-responsive\">\n    <div class=\"d-flex flex-justify-between flex-items-center\">\n      <a class=\"mr-4 color-fg-inherit\" href=\"https://github.com/\" aria-label=\"Homepage\" data-ga-click=\"(Logged out) Header, go to homepage, icon:logo-wordmark\">\n        <svg height=\"32\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" data-view-component=\"true\" class=\"octicon octicon-mark-github\">\n    <path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path>\n</svg>\n      </a>\n\n        <div class=\"d-lg-none css-truncate css-truncate-target width-fit p-2\">\n          \n\n        </div>\n\n      <div class=\"d-flex flex-items-center\">\n            <a href=\"/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo\"\n              class=\"d-inline-block d-lg-none f5 no-underline border color-border-default rounded-2 px-2 py-1 mr-3 mr-sm-5 color-fg-inherit\"\n              data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"b7eb529ea69deb7abb182504ececd23ebb5c972223dd11087495674e8064c04a\"\n            >\n              Sign&nbsp;up\n            </a>\n\n        <button aria-label=\"Toggle navigation\" aria-expanded=\"false\" type=\"button\" data-view-component=\"true\" class=\"js-details-target btn-link d-lg-none mt-1 color-fg-inherit\">  <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-three-bars\">\n    <path fill-rule=\"evenodd\" d=\"M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z\"></path>\n</svg>\n  \n</button>      </div>\n    </div>\n\n    <div class=\"HeaderMenu HeaderMenu--logged-out position-fixed top-0 right-0 bottom-0 height-fit position-lg-relative d-lg-flex flex-justify-between flex-items-center flex-auto\">\n      <div class=\"d-flex d-lg-none flex-justify-end border-bottom color-bg-subtle p-3\">\n        <button aria-label=\"Toggle navigation\" aria-expanded=\"false\" type=\"button\" data-view-component=\"true\" class=\"js-details-target btn-link\">  <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-x color-fg-muted\">\n    <path fill-rule=\"evenodd\" d=\"M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z\"></path>\n</svg>\n  \n</button>      </div>\n\n        <nav class=\"mt-0 px-3 px-lg-0 mb-5 mb-lg-0\" aria-label=\"Global\">\n          <ul class=\"d-lg-flex list-style-none\">\n              <li class=\"mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center\">\n    <details class=\"HeaderMenu-details details-overlay details-reset width-full\">\n      <summary class=\"HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block\">\n        Product\n        <svg x=\"0\" y=\"0\" viewBox=\"0 0 14 8\" xml:space=\"preserve\" fill=\"none\" class=\"icon-chevon-down-mktg position-absolute position-lg-relative\"><path d=\"M1,1l6.2,6L13,1\"></path></svg>\n      </summary>\n      <div class=\"dropdown-menu flex-auto rounded px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4\">\n        <ul class=\"list-style-none f5 pb-1\">\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Features&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Features;&quot;}\" href=\"/features\">\n      Features\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Mobile&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Mobile;&quot;}\" href=\"/mobile\">\n      Mobile\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Actions;&quot;}\" href=\"/features/actions\">\n      Actions\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Codespaces;&quot;}\" href=\"/features/codespaces\">\n      Codespaces\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Packages;&quot;}\" href=\"/features/packages\">\n      Packages\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Security;&quot;}\" href=\"/features/security\">\n      Security\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Code review;&quot;}\" href=\"/features/code-review\">\n      Code review\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Issues;&quot;}\" href=\"/features/issues\">\n      Issues\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Integrations&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Integrations;&quot;}\" href=\"/features/integrations\">\n      Integrations\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold border-top pt-4 pb-2 mt-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:GitHub Sponsors;&quot;}\" href=\"/sponsors\">\n      GitHub Sponsors\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Customer stories&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Customer stories;&quot;}\" href=\"/customer-stories\">\n      Customer stories\n</a>  </li>\n\n        </ul>\n      </div>\n    </details>\n</li>\n\n\n              <li class=\"mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center\">\n    <a class=\"HeaderMenu-link no-underline py-3 d-block d-lg-inline-block\" data-analytics-event=\"{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Team&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Team;&quot;}\" href=\"/team\">Team</a>\n</li>\n\n              <li class=\"mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center\">\n    <a class=\"HeaderMenu-link no-underline py-3 d-block d-lg-inline-block\" data-analytics-event=\"{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Enterprise&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Enterprise;&quot;}\" href=\"/enterprise\">Enterprise</a>\n</li>\n\n\n            <li class=\"mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center\">\n    <details class=\"HeaderMenu-details details-overlay details-reset width-full\">\n      <summary class=\"HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block\">\n        Explore\n        <svg x=\"0\" y=\"0\" viewBox=\"0 0 14 8\" xml:space=\"preserve\" fill=\"none\" class=\"icon-chevon-down-mktg position-absolute position-lg-relative\"><path d=\"M1,1l6.2,6L13,1\"></path></svg>\n      </summary>\n      <div class=\"dropdown-menu flex-auto rounded px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4\">\n        <ul class=\"list-style-none f5 pb-1\">\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Explore GitHub&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Explore GitHub;&quot;}\" href=\"/explore\">\n      Explore GitHub\n</a>  </li>\n\n              <li class=\"color-fg-muted text-normal f6 text-mono mb-1 border-top pt-3 mt-3 mb-1\">Learn and contribute</li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Topics&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Topics;&quot;}\" href=\"/topics\">\n      Topics\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Collections&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Collections;&quot;}\" href=\"/collections\">\n      Collections\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Trending&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Trending;&quot;}\" href=\"/trending\">\n      Trending\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Learning Lab&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Learning Lab;&quot;}\" href=\"https://lab.github.com/\">\n      Learning Lab\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Open source guides&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Open source guides;&quot;}\" href=\"https://opensource.guide\">\n      Open source guides\n</a>  </li>\n\n              <li class=\"color-fg-muted text-normal f6 text-mono mb-1 border-top pt-3 mt-3 mb-1\">Connect with others</li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:The ReadME Project;&quot;}\" href=\"/readme\">\n      The ReadME Project\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Events&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Events;&quot;}\" href=\"/events\">\n      Events\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to Community forum&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Community forum;&quot;}\" href=\"https://github.community\">\n      Community forum\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to GitHub Education&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:GitHub Education;&quot;}\" href=\"https://education.github.com\">\n      GitHub Education\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Explore&quot;,&quot;action&quot;:&quot;click to go to GitHub Stars program&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:GitHub Stars program;&quot;}\" href=\"https://stars.github.com\">\n      GitHub Stars program\n</a>  </li>\n\n        </ul>\n      </div>\n    </details>\n</li>\n\n\n            <li class=\"mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center\">\n    <a class=\"HeaderMenu-link no-underline py-3 d-block d-lg-inline-block\" data-analytics-event=\"{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Marketplace&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Marketplace;&quot;}\" href=\"/marketplace\">Marketplace</a>\n</li>\n\n\n            <li class=\"mr-0 mr-lg-3 position-relative flex-wrap flex-justify-between flex-items-center border-bottom border-lg-bottom-0 d-block d-lg-flex flex-lg-nowrap flex-lg-items-center\">\n    <details class=\"HeaderMenu-details details-overlay details-reset width-full\">\n      <summary class=\"HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block\">\n        Pricing\n        <svg x=\"0\" y=\"0\" viewBox=\"0 0 14 8\" xml:space=\"preserve\" fill=\"none\" class=\"icon-chevon-down-mktg position-absolute position-lg-relative\"><path d=\"M1,1l6.2,6L13,1\"></path></svg>\n      </summary>\n      <div class=\"dropdown-menu flex-auto rounded px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4\">\n        <ul class=\"list-style-none f5 pb-1\">\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Plans&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Plans;&quot;}\" href=\"/pricing\">\n      Plans\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Compare plans&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Compare plans;&quot;}\" href=\"/pricing#compare-features\">\n      Compare plans\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--secondary py-2\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Contact Sales&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Contact Sales;&quot;}\" href=\"https://github.com/enterprise/contact\">\n      Contact Sales\n</a>  </li>\n\n              <li>\n    <a class=\"lh-condensed-ultra d-block no-underline position-relative Link--primary text-bold border-top pt-4 pb-2 mt-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Pricing&quot;,&quot;action&quot;:&quot;click to go to Education&quot;,&quot;label&quot;:&quot;ref_page:/WICG/conversion-measurement-api/blob/main/EVENT.md;ref_cta:Education;&quot;}\" href=\"https://education.github.com\">\n      Education\n</a>  </li>\n\n        </ul>\n      </div>\n    </details>\n</li>\n\n          </ul>\n        </nav>\n\n      <div class=\"d-lg-flex flex-items-center px-3 px-lg-0 text-center text-lg-left\">\n          <div class=\"d-lg-flex min-width-0 mb-3 mb-lg-0\">\n            \n\n\n\n<div class=\"header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to\"\n>\n  <div class=\"position-relative\">\n    <!-- '\"` --><!-- </textarea></xmp> --></option></form><form class=\"js-site-search-form\" role=\"search\" aria-label=\"Site\" data-scope-type=\"Repository\" data-scope-id=\"188087302\" data-scoped-search-url=\"/WICG/conversion-measurement-api/search\" data-owner-scoped-search-url=\"/orgs/WICG/search\" data-unscoped-search-url=\"/search\" data-turbo=\"false\" action=\"/WICG/conversion-measurement-api/search\" accept-charset=\"UTF-8\" method=\"get\">\n      <label class=\"form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center\">\n        <input type=\"text\"\n          class=\"form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable\"\n          data-hotkey=s,/\n          name=\"q\"\n          data-test-selector=\"nav-search-input\"\n          placeholder=\"Search\"\n          data-unscoped-placeholder=\"Search GitHub\"\n          data-scoped-placeholder=\"Search\"\n          autocapitalize=\"off\"\n          role=\"combobox\"\n          aria-haspopup=\"listbox\"\n          aria-expanded=\"false\"\n          aria-autocomplete=\"list\"\n          aria-controls=\"jump-to-results\"\n          aria-label=\"Search\"\n          data-jump-to-suggestions-path=\"/_graphql/GetSuggestedNavigationDestinations\"\n          spellcheck=\"false\"\n          autocomplete=\"off\"\n        >\n        <input type=\"hidden\" data-csrf=\"true\" class=\"js-data-jump-to-suggestions-path-csrf\" value=\"u4cQOA5WCD6EF1NYxf8HHw7K1HnTUIVVTXTC3swfX1WkNWVpas+g/rTBWhIRL2k6qxHfxdGV8fc3222E3848EQ==\" />\n        <input type=\"hidden\" class=\"js-site-search-type-field\" name=\"type\" >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"20\" aria-hidden=\"true\" class=\"mr-1 header-search-key-slash\"><path fill=\"none\" stroke=\"#979A9C\" opacity=\".4\" d=\"M3.5.5h12c1.7 0 3 1.3 3 3v13c0 1.7-1.3 3-3 3h-12c-1.7 0-3-1.3-3-3v-13c0-1.7 1.3-3 3-3z\"></path><path fill=\"#979A9C\" d=\"M11.8 6L8 15.1h-.9L10.8 6h1z\"></path></svg>\n\n\n          <div class=\"Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container\">\n            \n<ul class=\"d-none js-jump-to-suggestions-template-container\">\n  \n\n<li class=\"d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion\" role=\"option\">\n  <a tabindex=\"-1\" class=\"no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2\" href=\"\" data-item-type=\"suggestion\">\n    <div class=\"jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none\">\n      <svg title=\"Repository\" aria-label=\"Repository\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path>\n</svg>\n      <svg title=\"Project\" aria-label=\"Project\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path>\n</svg>\n      <svg title=\"Search\" aria-label=\"Search\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path>\n</svg>\n    </div>\n\n    <img class=\"avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none\" alt=\"\" aria-label=\"Team\" src=\"\" width=\"28\" height=\"28\">\n\n    <div class=\"jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target\">\n    </div>\n\n    <div class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search\">\n      <span class=\"js-jump-to-badge-search-text-default d-none\" aria-label=\"in this repository\">\n        In this repository\n      </span>\n      <span class=\"js-jump-to-badge-search-text-global d-none\" aria-label=\"in all of GitHub\">\n        All GitHub\n      </span>\n      <span aria-hidden=\"true\" class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n\n    <div aria-hidden=\"true\" class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump\">\n      Jump to\n      <span class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n  </a>\n</li>\n\n</ul>\n\n<ul class=\"d-none js-jump-to-no-results-template-container\">\n  <li class=\"d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2\">\n    <span class=\"color-fg-muted\">No suggested jump to results</span>\n  </li>\n</ul>\n\n<ul id=\"jump-to-results\" role=\"listbox\" class=\"p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container\">\n  \n\n<li class=\"d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none\" role=\"option\">\n  <a tabindex=\"-1\" class=\"no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2\" href=\"\" data-item-type=\"scoped_search\">\n    <div class=\"jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none\">\n      <svg title=\"Repository\" aria-label=\"Repository\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path>\n</svg>\n      <svg title=\"Project\" aria-label=\"Project\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path>\n</svg>\n      <svg title=\"Search\" aria-label=\"Search\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path>\n</svg>\n    </div>\n\n    <img class=\"avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none\" alt=\"\" aria-label=\"Team\" src=\"\" width=\"28\" height=\"28\">\n\n    <div class=\"jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target\">\n    </div>\n\n    <div class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search\">\n      <span class=\"js-jump-to-badge-search-text-default d-none\" aria-label=\"in this repository\">\n        In this repository\n      </span>\n      <span class=\"js-jump-to-badge-search-text-global d-none\" aria-label=\"in all of GitHub\">\n        All GitHub\n      </span>\n      <span aria-hidden=\"true\" class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n\n    <div aria-hidden=\"true\" class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump\">\n      Jump to\n      <span class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n  </a>\n</li>\n\n  \n\n<li class=\"d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-owner-scoped-search d-none\" role=\"option\">\n  <a tabindex=\"-1\" class=\"no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2\" href=\"\" data-item-type=\"owner_scoped_search\">\n    <div class=\"jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none\">\n      <svg title=\"Repository\" aria-label=\"Repository\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path>\n</svg>\n      <svg title=\"Project\" aria-label=\"Project\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path>\n</svg>\n      <svg title=\"Search\" aria-label=\"Search\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path>\n</svg>\n    </div>\n\n    <img class=\"avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none\" alt=\"\" aria-label=\"Team\" src=\"\" width=\"28\" height=\"28\">\n\n    <div class=\"jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target\">\n    </div>\n\n    <div class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search\">\n      <span class=\"js-jump-to-badge-search-text-default d-none\" aria-label=\"in this organization\">\n        In this organization\n      </span>\n      <span class=\"js-jump-to-badge-search-text-global d-none\" aria-label=\"in all of GitHub\">\n        All GitHub\n      </span>\n      <span aria-hidden=\"true\" class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n\n    <div aria-hidden=\"true\" class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump\">\n      Jump to\n      <span class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n  </a>\n</li>\n\n  \n\n<li class=\"d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none\" role=\"option\">\n  <a tabindex=\"-1\" class=\"no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2\" href=\"\" data-item-type=\"global_search\">\n    <div class=\"jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none\">\n      <svg title=\"Repository\" aria-label=\"Repository\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path>\n</svg>\n      <svg title=\"Project\" aria-label=\"Project\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path>\n</svg>\n      <svg title=\"Search\" aria-label=\"Search\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0\">\n    <path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path>\n</svg>\n    </div>\n\n    <img class=\"avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none\" alt=\"\" aria-label=\"Team\" src=\"\" width=\"28\" height=\"28\">\n\n    <div class=\"jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target\">\n    </div>\n\n    <div class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search\">\n      <span class=\"js-jump-to-badge-search-text-default d-none\" aria-label=\"in this repository\">\n        In this repository\n      </span>\n      <span class=\"js-jump-to-badge-search-text-global d-none\" aria-label=\"in all of GitHub\">\n        All GitHub\n      </span>\n      <span aria-hidden=\"true\" class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n\n    <div aria-hidden=\"true\" class=\"border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump\">\n      Jump to\n      <span class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n  </a>\n</li>\n\n\n</ul>\n\n          </div>\n      </label>\n</form>  </div>\n</div>\n\n          </div>\n\n        <div class=\"position-relative mr-3 mb-4 mb-lg-0 d-inline-block\">\n          <a href=\"/login?return_to=https%3A%2F%2Fgithub.com%2FWICG%2Fconversion-measurement-api%2Fblob%2Fmain%2FEVENT.md\"\n            class=\"HeaderMenu-link flex-shrink-0 no-underline\"\n            data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"6d1e98e6acc7ee8562ebe56cbf95c3944e90d7a56b5c3b2e2e25270901e91631\"\n            data-ga-click=\"(Logged out) Header, clicked Sign in, text:sign-in\">\n            Sign in\n          </a>\n        </div>\n\n          <a href=\"/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo&amp;source_repo=WICG%2Fconversion-measurement-api\"\n            class=\"HeaderMenu-link flex-shrink-0 d-inline-block no-underline border color-border-default rounded px-2 py-1\"\n            data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"6d1e98e6acc7ee8562ebe56cbf95c3944e90d7a56b5c3b2e2e25270901e91631\"\n            data-analytics-event=\"{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show;ref_cta:Sign up;ref_loc:header logged out&quot;}\"\n          >\n            Sign up\n          </a>\n      </div>\n    </div>\n  </div>\n</header>\n\n    </div>\n\n  <div id=\"start-of-content\" class=\"show-on-focus\"></div>\n\n\n\n\n\n\n\n    <div data-pjax-replace id=\"js-flash-container\">\n\n\n  <template class=\"js-flash-template\">\n    <div class=\"flash flash-full  {{ className }}\">\n  <div class=\"px-2\" >\n    <button class=\"flash-close js-flash-close\" type=\"button\" aria-label=\"Dismiss this message\">\n      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">\n    <path fill-rule=\"evenodd\" d=\"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z\"></path>\n</svg>\n    </button>\n    \n      <div>{{ message }}</div>\n\n  </div>\n</div>\n  </template>\n</div>\n\n\n    \n\n  <include-fragment class=\"js-notification-shelf-include-fragment\" data-base-src=\"https://github.com/notifications/beta/shelf\"></include-fragment>\n\n\n\n\n\n  <div\n    class=\"application-main \"\n    data-commit-hovercards-enabled\n    data-discussion-hovercards-enabled\n    data-issue-and-pr-hovercards-enabled\n  >\n        <div itemscope itemtype=\"http://schema.org/SoftwareSourceCode\" class=\"\">\n    <main id=\"js-repo-pjax-container\" data-pjax-container >\n      \n\n    \n    \n\n\n\n\n\n\n\n\n  <div id=\"repository-container-header\" class=\"pt-3 hide-full-screen\" style=\"background-color: var(--color-page-header-bg);\" data-pjax-replace>\n\n      <div class=\"d-flex mb-3 px-3 px-md-4 px-lg-5\">\n\n        <div class=\"flex-auto min-width-0 width-fit mr-3\">\n            <h2 class=\" d-flex flex-wrap flex-items-center wb-break-word f3 text-normal\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo color-fg-muted mr-2\">\n    <path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path>\n</svg>\n  <span class=\"author flex-self-stretch\" itemprop=\"author\">\n    <a class=\"url fn\" rel=\"author\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/WICG/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/WICG\">WICG</a>\n  </span>\n  <span class=\"mx-1 flex-self-stretch color-fg-muted\">/</span>\n  <strong itemprop=\"name\" class=\"mr-2 flex-self-stretch\">\n    <a data-pjax=\"#repo-content-pjax-container\" href=\"/WICG/conversion-measurement-api\">conversion-measurement-api</a>\n  </strong>\n\n  <span></span><span class=\"Label Label--secondary v-align-middle mr-1\">Public</span>\n</h2>\n\n        </div>\n\n          <ul class=\"pagehead-actions flex-shrink-0 d-none d-md-inline\" style=\"padding: 2px 0;\">\n\n  \n\n  <li>\n      <a href=\"/login?return_to=%2FWICG%2Fconversion-measurement-api\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"d58ef9f68c9bb7004a0b74a1abe2d1b7c2fab547fbf8bbc778fec5cccef009cb\" aria-label=\"You must be signed in to change notification settings\" data-view-component=\"true\" class=\"tooltipped tooltipped-s btn-sm btn\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-bell mr-2\">\n    <path d=\"M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z\"></path><path fill-rule=\"evenodd\" d=\"M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z\"></path>\n</svg>Notifications\n  \n</a>\n  </li>\n\n  <li>\n        <a href=\"/login?return_to=%2FWICG%2Fconversion-measurement-api\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;repo details fork button&quot;,&quot;repository_id&quot;:188087302,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"817d0581eb97e87e92fe0ad09591943213361cf79b149879e549d7d95c72739b\" aria-label=\"You must be signed in to fork a repository\" data-view-component=\"true\" class=\"tooltipped tooltipped-s btn-sm btn\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo-forked mr-2\">\n    <path fill-rule=\"evenodd\" d=\"M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z\"></path>\n</svg>Fork\n    <span id=\"repo-network-counter\" data-pjax-replace=\"true\" title=\"63\" data-view-component=\"true\" class=\"Counter\">63</span>\n  \n</a>\n  </li>\n\n  <li>\n        <div data-view-component=\"true\" class=\"BtnGroup d-flex\">\n      <a href=\"/login?return_to=%2FWICG%2Fconversion-measurement-api\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:188087302,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"76afe2ddb3a1db42a08a0222acda72416c53e5d1f4b78aaf67363eb77ac17b7f\" aria-label=\"You must be signed in to star a repository\" data-view-component=\"true\" class=\"tooltipped tooltipped-s btn-sm btn BtnGroup-item\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-star v-align-text-bottom d-inline-block mr-2\">\n    <path fill-rule=\"evenodd\" d=\"M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z\"></path>\n</svg><span data-view-component=\"true\" class=\"d-inline\">\n          Star\n</span>          <span id=\"repo-stars-counter-star\" aria-label=\"208 users starred this repository\" data-singular-suffix=\"user starred this repository\" data-plural-suffix=\"users starred this repository\" data-pjax-replace=\"true\" title=\"208\" data-view-component=\"true\" class=\"Counter js-social-count\">208</span>\n  \n</a>      <button disabled=\"disabled\" aria-label=\"You must be signed in to add this repository to a list\" type=\"button\" data-view-component=\"true\" class=\"btn-sm btn BtnGroup-item px-2\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-triangle-down\">\n    <path d=\"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z\"></path>\n</svg>\n  \n</button></div>\n  </li>\n\n  \n\n</ul>\n\n      </div>\n\n      <div id=\"responsive-meta-container\" data-pjax-replace>\n</div>\n\n\n        \n<nav data-pjax=\"#js-repo-pjax-container\" aria-label=\"Repository\" data-view-component=\"true\" class=\"js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5\">\n\n  <ul data-view-component=\"true\" class=\"UnderlineNav-body list-style-none\">\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"code-tab\" href=\"/WICG/conversion-measurement-api\" data-tab-item=\"i0code-tab\" data-selected-links=\"repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /WICG/conversion-measurement-api\" data-pjax=\"#repo-content-pjax-container\" data-hotkey=\"g c\" data-ga-click=\"Repository, Navigation click, Code tab\" aria-current=\"page\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item selected\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code UnderlineNav-octicon d-none d-sm-inline\">\n    <path fill-rule=\"evenodd\" d=\"M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z\"></path>\n</svg>\n          <span data-content=\"Code\">Code</span>\n            <span id=\"code-repo-tab-count\" data-pjax-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>\n\n\n    \n</a></li>\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"issues-tab\" href=\"/WICG/conversion-measurement-api/issues\" data-tab-item=\"i1issues-tab\" data-selected-links=\"repo_issues repo_labels repo_milestones /WICG/conversion-measurement-api/issues\" data-pjax=\"#repo-content-pjax-container\" data-hotkey=\"g i\" data-ga-click=\"Repository, Navigation click, Issues tab\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline\">\n    <path d=\"M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"></path><path fill-rule=\"evenodd\" d=\"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z\"></path>\n</svg>\n          <span data-content=\"Issues\">Issues</span>\n            <span id=\"issues-repo-tab-count\" data-pjax-replace=\"\" title=\"118\" data-view-component=\"true\" class=\"Counter\">118</span>\n\n\n    \n</a></li>\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"pull-requests-tab\" href=\"/WICG/conversion-measurement-api/pulls\" data-tab-item=\"i2pull-requests-tab\" data-selected-links=\"repo_pulls checks /WICG/conversion-measurement-api/pulls\" data-pjax=\"#repo-content-pjax-container\" data-hotkey=\"g p\" data-ga-click=\"Repository, Navigation click, Pull requests tab\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline\">\n    <path fill-rule=\"evenodd\" d=\"M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z\"></path>\n</svg>\n          <span data-content=\"Pull requests\">Pull requests</span>\n            <span id=\"pull-requests-repo-tab-count\" data-pjax-replace=\"\" title=\"6\" data-view-component=\"true\" class=\"Counter\">6</span>\n\n\n    \n</a></li>\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"actions-tab\" href=\"/WICG/conversion-measurement-api/actions\" data-tab-item=\"i3actions-tab\" data-selected-links=\"repo_actions /WICG/conversion-measurement-api/actions\" data-pjax=\"#repo-content-pjax-container\" data-hotkey=\"g a\" data-analytics-event=\"{&quot;category&quot;:&quot;Actions&quot;,&quot;action&quot;:&quot;clicked&quot;,&quot;label&quot;:&quot;ref_cta:Actions;ref_loc:navigation_helper&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-play UnderlineNav-octicon d-none d-sm-inline\">\n    <path fill-rule=\"evenodd\" d=\"M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z\"></path>\n</svg>\n          <span data-content=\"Actions\">Actions</span>\n            <span id=\"actions-repo-tab-count\" data-pjax-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>\n\n\n    \n</a></li>\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"projects-tab\" href=\"/WICG/conversion-measurement-api/projects?type=beta\" data-tab-item=\"i4projects-tab\" data-selected-links=\"repo_projects new_repo_project repo_project /WICG/conversion-measurement-api/projects?type=beta\" data-pjax=\"#repo-content-pjax-container\" data-hotkey=\"g b\" data-ga-click=\"Repository, Navigation click, Projects tab\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-table UnderlineNav-octicon d-none d-sm-inline\">\n    <path fill-rule=\"evenodd\" d=\"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v3.585a.746.746 0 010 .83v8.085A1.75 1.75 0 0114.25 16H6.309a.748.748 0 01-1.118 0H1.75A1.75 1.75 0 010 14.25V6.165a.746.746 0 010-.83V1.75zM1.5 6.5v7.75c0 .138.112.25.25.25H5v-8H1.5zM5 5H1.5V1.75a.25.25 0 01.25-.25H5V5zm1.5 1.5v8h7.75a.25.25 0 00.25-.25V6.5h-8zm8-1.5h-8V1.5h7.75a.25.25 0 01.25.25V5z\"></path>\n</svg>\n          <span data-content=\"Projects\">Projects</span>\n            <span id=\"projects-repo-tab-count\" data-pjax-replace=\"\" title=\"0\" hidden=\"hidden\" data-view-component=\"true\" class=\"Counter\">0</span>\n\n\n    \n</a></li>\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"wiki-tab\" href=\"/WICG/conversion-measurement-api/wiki\" data-tab-item=\"i5wiki-tab\" data-selected-links=\"repo_wiki /WICG/conversion-measurement-api/wiki\" data-pjax=\"#repo-content-pjax-container\" data-hotkey=\"g w\" data-ga-click=\"Repository, Navigation click, Wikis tab\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-book UnderlineNav-octicon d-none d-sm-inline\">\n    <path fill-rule=\"evenodd\" d=\"M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z\"></path>\n</svg>\n          <span data-content=\"Wiki\">Wiki</span>\n            <span id=\"wiki-repo-tab-count\" data-pjax-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>\n\n\n    \n</a></li>\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"security-tab\" href=\"/WICG/conversion-measurement-api/security\" data-tab-item=\"i6security-tab\" data-selected-links=\"security overview alerts policy token_scanning code_scanning /WICG/conversion-measurement-api/security\" data-pjax=\"#repo-content-pjax-container\" data-hotkey=\"g s\" data-ga-click=\"Repository, Navigation click, Security tab\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline\">\n    <path fill-rule=\"evenodd\" d=\"M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z\"></path>\n</svg>\n          <span data-content=\"Security\">Security</span>\n            <include-fragment src=\"/WICG/conversion-measurement-api/security/overall-count\" accept=\"text/fragment+html\"></include-fragment>\n\n    \n</a></li>\n      <li data-view-component=\"true\" class=\"d-inline-flex\">\n  <a id=\"insights-tab\" href=\"/WICG/conversion-measurement-api/pulse\" data-tab-item=\"i7insights-tab\" data-selected-links=\"repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /WICG/conversion-measurement-api/pulse\" data-pjax=\"#repo-content-pjax-container\" data-ga-click=\"Repository, Navigation click, Insights tab\" data-view-component=\"true\" class=\"UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">\n    \n                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline\">\n    <path fill-rule=\"evenodd\" d=\"M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z\"></path>\n</svg>\n          <span data-content=\"Insights\">Insights</span>\n            <span id=\"insights-repo-tab-count\" data-pjax-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>\n\n\n    \n</a></li>\n</ul>\n    <div style=\"visibility:hidden;\" data-view-component=\"true\" class=\"UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0\">      <details data-view-component=\"true\" class=\"details-overlay details-reset position-relative\">\n  <summary role=\"button\" data-view-component=\"true\">          <div class=\"UnderlineNav-item mr-0 border-0\">\n            <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-kebab-horizontal\">\n    <path d=\"M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"></path>\n</svg>\n            <span class=\"sr-only\">More</span>\n          </div>\n</summary>\n  <div data-view-component=\"true\">          <details-menu role=\"menu\" data-view-component=\"true\" class=\"dropdown-menu dropdown-menu-sw\">\n  \n            <ul>\n                <li data-menu-item=\"i0code-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item selected dropdown-item\" aria-current=\"page\" data-selected-links=\"repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /WICG/conversion-measurement-api\" href=\"/WICG/conversion-measurement-api\">\n                    Code\n</a>                </li>\n                <li data-menu-item=\"i1issues-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item dropdown-item\" data-selected-links=\"repo_issues repo_labels repo_milestones /WICG/conversion-measurement-api/issues\" href=\"/WICG/conversion-measurement-api/issues\">\n                    Issues\n</a>                </li>\n                <li data-menu-item=\"i2pull-requests-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item dropdown-item\" data-selected-links=\"repo_pulls checks /WICG/conversion-measurement-api/pulls\" href=\"/WICG/conversion-measurement-api/pulls\">\n                    Pull requests\n</a>                </li>\n                <li data-menu-item=\"i3actions-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item dropdown-item\" data-selected-links=\"repo_actions /WICG/conversion-measurement-api/actions\" href=\"/WICG/conversion-measurement-api/actions\">\n                    Actions\n</a>                </li>\n                <li data-menu-item=\"i4projects-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item dropdown-item\" data-selected-links=\"repo_projects new_repo_project repo_project /WICG/conversion-measurement-api/projects?type=beta\" href=\"/WICG/conversion-measurement-api/projects?type=beta\">\n                    Projects\n</a>                </li>\n                <li data-menu-item=\"i5wiki-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item dropdown-item\" data-selected-links=\"repo_wiki /WICG/conversion-measurement-api/wiki\" href=\"/WICG/conversion-measurement-api/wiki\">\n                    Wiki\n</a>                </li>\n                <li data-menu-item=\"i6security-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item dropdown-item\" data-selected-links=\"security overview alerts policy token_scanning code_scanning /WICG/conversion-measurement-api/security\" href=\"/WICG/conversion-measurement-api/security\">\n                    Security\n</a>                </li>\n                <li data-menu-item=\"i7insights-tab\" hidden>\n                  <a role=\"menuitem\" class=\"js-selected-navigation-item dropdown-item\" data-selected-links=\"repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /WICG/conversion-measurement-api/pulse\" href=\"/WICG/conversion-measurement-api/pulse\">\n                    Insights\n</a>                </li>\n            </ul>\n\n</details-menu></div>\n</details></div>\n</nav>\n  </div>\n\n\n\n<div id=\"repo-content-pjax-container\" class=\"repository-content \" >\n  \n  \n\n\n  \n      \n  <div class=\"clearfix container-xl px-3 px-md-4 px-lg-5 mt-4\">\n    \n    \n<div>\n  \n\n\n\n\n    \n<a class=\"d-none js-permalink-shortcut\" data-hotkey=\"y\" href=\"/WICG/conversion-measurement-api/blob/d134e0ff6be035a46140ab496dde1a117f88c431/EVENT.md\">Permalink</a>\n\n<div class=\"d-flex flex-items-start flex-shrink-0 pb-3 flex-wrap flex-md-nowrap flex-justify-between flex-md-justify-start\">\n  \n<div class=\"position-relative\">\n  <details class=\"details-reset details-overlay mr-0 mb-0 \" id=\"branch-select-menu\">\n    <summary class=\"btn css-truncate\"\n            data-hotkey=\"w\"\n            title=\"Switch branches or tags\">\n      <svg text=\"gray\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-git-branch\">\n    <path fill-rule=\"evenodd\" d=\"M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z\"></path>\n</svg>\n      <span class=\"css-truncate-target\" data-menu-button>main</span>\n      <span class=\"dropdown-caret\"></span>\n    </summary>\n\n      \n<div class=\"SelectMenu\">\n  <div class=\"SelectMenu-modal\">\n    <header class=\"SelectMenu-header\">\n      <span class=\"SelectMenu-title\">Switch branches/tags</span>\n      <button class=\"SelectMenu-closeButton\" type=\"button\" data-toggle-for=\"branch-select-menu\"><svg aria-label=\"Close menu\" aria-hidden=\"false\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">\n    <path fill-rule=\"evenodd\" d=\"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z\"></path>\n</svg></button>\n    </header>\n\n    <input-demux data-action=\"tab-container-change:input-demux#storeInput tab-container-changed:input-demux#updateInput\">\n      <tab-container class=\"d-flex flex-column js-branches-tags-tabs\" style=\"min-height: 0;\">\n        <div class=\"SelectMenu-filter\">\n          <input data-target=\"input-demux.source\"\n                 id=\"context-commitish-filter-field\"\n                 class=\"SelectMenu-input form-control\"\n                 aria-owns=\"ref-list-branches\"\n                 data-controls-ref-menu-id=\"ref-list-branches\"\n                 autofocus\n                 autocomplete=\"off\"\n                 aria-label=\"Filter branches/tags\"\n                 placeholder=\"Filter branches/tags\"\n                 type=\"text\"\n          >\n        </div>\n\n        <div class=\"SelectMenu-tabs\" role=\"tablist\" data-target=\"input-demux.control\" >\n          <button class=\"SelectMenu-tab\" type=\"button\" role=\"tab\" aria-selected=\"true\">Branches</button>\n          <button class=\"SelectMenu-tab\" type=\"button\" role=\"tab\">Tags</button>\n        </div>\n\n        <div role=\"tabpanel\" id=\"ref-list-branches\" data-filter-placeholder=\"Filter branches/tags\" tabindex=\"\" class=\"d-flex flex-column flex-auto overflow-auto\">\n          <ref-selector\n            type=\"branch\"\n            data-targets=\"input-demux.sinks\"\n            data-action=\"\n              input-entered:ref-selector#inputEntered\n              tab-selected:ref-selector#tabSelected\n              focus-list:ref-selector#focusFirstListMember\n            \"\n            query-endpoint=\"/WICG/conversion-measurement-api/refs\"\n            \n            cache-key=\"v0:1649165273.489074\"\n            current-committish=\"bWFpbg==\"\n            default-branch=\"bWFpbg==\"\n            name-with-owner=\"V0lDRy9jb252ZXJzaW9uLW1lYXN1cmVtZW50LWFwaQ==\"\n            prefetch-on-mouseover\n          >\n\n            <template data-target=\"ref-selector.fetchFailedTemplate\">\n              <div class=\"SelectMenu-message\" data-index=\"{{ index }}\">Could not load branches</div>\n            </template>\n\n              <template data-target=\"ref-selector.noMatchTemplate\">\n    <div class=\"SelectMenu-message\">Nothing to show</div>\n</template>\n\n\n            <!-- TODO: this max-height is necessary or else the branch list won't scroll.  why? -->\n            <div data-target=\"ref-selector.listContainer\" role=\"menu\" class=\"SelectMenu-list \" style=\"max-height: 330px\" data-pjax=\"#repo-content-pjax-container\">\n              <div class=\"SelectMenu-loading pt-3 pb-0 overflow-hidden\" aria-label=\"Menu is loading\">\n                <svg style=\"box-sizing: content-box; color: var(--color-icon-primary);\" width=\"32\" height=\"32\" viewBox=\"0 0 16 16\" fill=\"none\" data-view-component=\"true\" class=\"anim-rotate\">\n  <circle cx=\"8\" cy=\"8\" r=\"7\" stroke=\"currentColor\" stroke-opacity=\"0.25\" stroke-width=\"2\" vector-effect=\"non-scaling-stroke\" />\n  <path d=\"M15 8a7.002 7.002 0 00-7-7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" vector-effect=\"non-scaling-stroke\" />\n</svg>\n              </div>\n            </div>\n\n              <template data-target=\"ref-selector.itemTemplate\">\n  <a href=\"https://github.com/WICG/conversion-measurement-api/blob/{{ urlEncodedRefName }}/EVENT.md\" class=\"SelectMenu-item\" role=\"menuitemradio\" rel=\"nofollow\" aria-checked=\"{{ isCurrent }}\" data-index=\"{{ index }}\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-check SelectMenu-icon SelectMenu-icon--check\">\n    <path fill-rule=\"evenodd\" d=\"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\"></path>\n</svg>\n    <span class=\"flex-1 css-truncate css-truncate-overflow {{ isFilteringClass }}\">{{ refName }}</span>\n    <span hidden=\"{{ isNotDefault }}\" class=\"Label Label--secondary flex-self-start\">default</span>\n  </a>\n</template>\n\n\n              <footer class=\"SelectMenu-footer\"><a href=\"/WICG/conversion-measurement-api/branches\">View all branches</a></footer>\n          </ref-selector>\n\n        </div>\n\n        <div role=\"tabpanel\" id=\"tags-menu\" data-filter-placeholder=\"Find a tag\" tabindex=\"\" hidden class=\"d-flex flex-column flex-auto overflow-auto\">\n          <ref-selector\n            type=\"tag\"\n            data-action=\"\n              input-entered:ref-selector#inputEntered\n              tab-selected:ref-selector#tabSelected\n              focus-list:ref-selector#focusFirstListMember\n            \"\n            data-targets=\"input-demux.sinks\"\n            query-endpoint=\"/WICG/conversion-measurement-api/refs\"\n            cache-key=\"v0:1649165273.489074\"\n            current-committish=\"bWFpbg==\"\n            default-branch=\"bWFpbg==\"\n            name-with-owner=\"V0lDRy9jb252ZXJzaW9uLW1lYXN1cmVtZW50LWFwaQ==\"\n          >\n\n            <template data-target=\"ref-selector.fetchFailedTemplate\">\n              <div class=\"SelectMenu-message\" data-index=\"{{ index }}\">Could not load tags</div>\n            </template>\n\n            <template data-target=\"ref-selector.noMatchTemplate\">\n              <div class=\"SelectMenu-message\" data-index=\"{{ index }}\">Nothing to show</div>\n            </template>\n\n              <template data-target=\"ref-selector.itemTemplate\">\n  <a href=\"https://github.com/WICG/conversion-measurement-api/blob/{{ urlEncodedRefName }}/EVENT.md\" class=\"SelectMenu-item\" role=\"menuitemradio\" rel=\"nofollow\" aria-checked=\"{{ isCurrent }}\" data-index=\"{{ index }}\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-check SelectMenu-icon SelectMenu-icon--check\">\n    <path fill-rule=\"evenodd\" d=\"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\"></path>\n</svg>\n    <span class=\"flex-1 css-truncate css-truncate-overflow {{ isFilteringClass }}\">{{ refName }}</span>\n    <span hidden=\"{{ isNotDefault }}\" class=\"Label Label--secondary flex-self-start\">default</span>\n  </a>\n</template>\n\n\n            <div data-target=\"ref-selector.listContainer\" role=\"menu\" class=\"SelectMenu-list\" style=\"max-height: 330px\" data-pjax=\"#repo-content-pjax-container\">\n              <div class=\"SelectMenu-loading pt-3 pb-0 overflow-hidden\" aria-label=\"Menu is loading\">\n                <svg style=\"box-sizing: content-box; color: var(--color-icon-primary);\" width=\"32\" height=\"32\" viewBox=\"0 0 16 16\" fill=\"none\" data-view-component=\"true\" class=\"anim-rotate\">\n  <circle cx=\"8\" cy=\"8\" r=\"7\" stroke=\"currentColor\" stroke-opacity=\"0.25\" stroke-width=\"2\" vector-effect=\"non-scaling-stroke\" />\n  <path d=\"M15 8a7.002 7.002 0 00-7-7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" vector-effect=\"non-scaling-stroke\" />\n</svg>\n              </div>\n            </div>\n              <footer class=\"SelectMenu-footer\"><a href=\"/WICG/conversion-measurement-api/tags\">View all tags</a></footer>\n          </ref-selector>\n        </div>\n      </tab-container>\n    </input-demux>\n  </div>\n</div>\n\n  </details>\n\n</div>\n\n  <h2 id=\"blob-path\" class=\"breadcrumb flex-auto flex-self-center min-width-0 text-normal mx-2 width-full width-md-auto flex-order-1 flex-md-order-none mt-3 mt-md-0\">\n    <span class=\"js-repo-root text-bold\"><span class=\"js-path-segment d-inline-block wb-break-all\"><a data-pjax=\"#repo-content-pjax-container\" href=\"/WICG/conversion-measurement-api\"><span>conversion-measurement-api</span></a></span></span><span class=\"separator\">/</span><strong class=\"final-path\">EVENT.md</strong>\n  </h2>\n  <a href=\"/WICG/conversion-measurement-api/find/main\" data-pjax=\"\" data-hotkey=\"t\" data-view-component=\"true\" class=\"js-pjax-capture-input btn mr-2 d-none d-md-block\">  Go to file\n  \n</a>\n  <details id=\"blob-more-options-details\" data-view-component=\"true\" class=\"details-overlay details-reset position-relative\">\n  <summary role=\"button\" data-view-component=\"true\" class=\"btn\">  <svg aria-label=\"More options\" role=\"img\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-kebab-horizontal\">\n    <path d=\"M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"></path>\n</svg>\n  \n</summary>\n  <div data-view-component=\"true\">      <ul class=\"dropdown-menu dropdown-menu-sw\">\n        <li class=\"d-block d-md-none\">\n          <a class=\"dropdown-item d-flex flex-items-baseline\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FIND_FILE_BUTTON&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"b1cee787701fc74ec8f69f13c3222ece207e4b1efbc6deab2bdc4a08d5e746bc\" data-ga-click=\"Repository, find file, location:repo overview\" data-hotkey=\"t\" data-pjax=\"true\" href=\"/WICG/conversion-measurement-api/find/main\">\n            <span class=\"flex-auto\">Go to file</span>\n            <span class=\"text-small color-fg-muted\" aria-hidden=\"true\">T</span>\n</a>        </li>\n        <li data-toggle-for=\"blob-more-options-details\">\n          <button data-toggle-for=\"jumpto-line-details-dialog\" type=\"button\" data-view-component=\"true\" class=\"dropdown-item btn-link\">  <span class=\"d-flex flex-items-baseline\">\n              <span class=\"flex-auto\">Go to line</span>\n              <span class=\"text-small color-fg-muted\" aria-hidden=\"true\">L</span>\n            </span>\n  \n</button>        </li>\n        <li class=\"dropdown-divider\" role=\"none\"></li>\n        <li>\n          <clipboard-copy data-toggle-for=\"blob-more-options-details\" aria-label=\"Copy path\" value=\"EVENT.md\" data-view-component=\"true\" class=\"dropdown-item cursor-pointer\">\n    \n            Copy path\n\n</clipboard-copy>        </li>\n        <li>\n          <clipboard-copy data-toggle-for=\"blob-more-options-details\" aria-label=\"Copy permalink\" value=\"https://github.com/WICG/conversion-measurement-api/blob/d134e0ff6be035a46140ab496dde1a117f88c431/EVENT.md\" data-view-component=\"true\" class=\"dropdown-item cursor-pointer\">\n    \n            <span class=\"d-flex flex-items-baseline\">\n              <span class=\"flex-auto\">Copy permalink</span>\n            </span>\n\n</clipboard-copy>        </li>\n      </ul>\n</div>\n</details></div>\n\n\n\n\n\n    <div id=\"spoof-warning\" class=\"mt-0 pb-3\" hidden aria-hidden>\n  <div data-view-component=\"true\" class=\"flash flash-warn mt-0 clearfix\">\n  \n  \n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert float-left mt-1\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n\n      <div class=\"overflow-hidden\">This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.</div>\n\n\n  \n</div></div>\n\n    <include-fragment src=\"/WICG/conversion-measurement-api/spoofed_commit_check/d134e0ff6be035a46140ab496dde1a117f88c431\" data-test-selector=\"spoofed-commit-check\"></include-fragment>\n\n    <div class=\"Box d-flex flex-column flex-shrink-0 mb-3\">\n  \n  <div class=\"Box-header Details js-details-container\">\n      <div class=\"d-flex flex-items-center\">\n        <span class=\"flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1\">\n          <a rel=\"contributor\" data-skip-pjax=\"true\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/johnivdel/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/johnivdel\"><img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/40465606?s=48&amp;v=4\" width=\"24\" height=\"24\" alt=\"@johnivdel\" /></a>\n        </span>\n        <div class=\"flex-1 d-flex flex-items-center ml-3 min-width-0\">\n          <div class=\"css-truncate css-truncate-overflow\">\n            <a class=\"text-bold Link--primary\" rel=\"contributor\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/johnivdel/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/johnivdel\">johnivdel</a>\n\n              <span class=\"markdown-title\">\n                <a data-pjax=\"true\" title='Remove speculative &lt;a&gt; view API surface (#366)\n\n* Remove speculative &lt;a&gt; view API surface\r\n\r\nThere is an existing TODO which speculates whether anchor tags support registering a view source in addition to a click source.\r\n\r\nThis is naturally possible by instead including two separate tags:\r\n\r\n&lt;img attributionsrc=\"...register-view\" style=\"display:none\"/&gt;\r\n&lt;a href=\"...\" attributionsrc=\"..register-click\"&gt;&lt;/a&gt;\r\n\r\nThe specualtive API to register views on anchor tags involves adding a new attribute, and a new response header to allow sites to differentiate between duplicate requests to the same url.\r\n\r\nIt makes more sense to frame this TODO as an ask for whether this API should be supported, rather than including it by default.\r\n\r\n* Update EVENT.md' class=\"Link--secondary\" href=\"/WICG/conversion-measurement-api/commit/1aa07f69f43084df15cadc2a7188369ee4198108\">Remove speculative &lt;a&gt; view API surface (</a><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1171595994\" data-permission-text=\"Title is private\" data-url=\"https://github.com/WICG/conversion-measurement-api/issues/366\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/WICG/conversion-measurement-api/pull/366/hovercard\" href=\"https://github.com/WICG/conversion-measurement-api/pull/366\">#366</a><a data-pjax=\"true\" title='Remove speculative &lt;a&gt; view API surface (#366)\n\n* Remove speculative &lt;a&gt; view API surface\r\n\r\nThere is an existing TODO which speculates whether anchor tags support registering a view source in addition to a click source.\r\n\r\nThis is naturally possible by instead including two separate tags:\r\n\r\n&lt;img attributionsrc=\"...register-view\" style=\"display:none\"/&gt;\r\n&lt;a href=\"...\" attributionsrc=\"..register-click\"&gt;&lt;/a&gt;\r\n\r\nThe specualtive API to register views on anchor tags involves adding a new attribute, and a new response header to allow sites to differentiate between duplicate requests to the same url.\r\n\r\nIt makes more sense to frame this TODO as an ask for whether this API should be supported, rather than including it by default.\r\n\r\n* Update EVENT.md' class=\"Link--secondary\" href=\"/WICG/conversion-measurement-api/commit/1aa07f69f43084df15cadc2a7188369ee4198108\">)</a>\n              </span>\n          </div>\n\n            <span class=\"hidden-text-expander ml-1 flex-shrink-0\">\n              <button type=\"button\" class=\"ellipsis-expander js-details-target\" aria-expanded=\"false\">&hellip;</button>\n            </span>\n\n          <span class=\"ml-2\">\n            <include-fragment accept=\"text/fragment+html\" src=\"/WICG/conversion-measurement-api/commit/1aa07f69f43084df15cadc2a7188369ee4198108/rollup?direction=e\" class=\"d-inline\"></include-fragment>\n          </span>\n        </div>\n        <div class=\"ml-3 d-flex flex-shrink-0 flex-items-center flex-justify-end color-fg-muted no-wrap\">\n          <span class=\"d-none d-md-inline\">\n            <span>Latest commit</span>\n            <a class=\"text-small text-mono Link--secondary\" href=\"/WICG/conversion-measurement-api/commit/1aa07f69f43084df15cadc2a7188369ee4198108\" data-pjax>1aa07f6</a>\n            <span itemprop=\"dateModified\"><relative-time datetime=\"2022-03-17T19:37:33Z\" class=\"no-wrap\">Mar 17, 2022</relative-time></span>\n          </span>\n\n          <a data-pjax href=\"/WICG/conversion-measurement-api/commits/main/EVENT.md\" class=\"ml-3 no-wrap Link--primary no-underline\">\n            <svg text=\"gray\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-history\">\n    <path fill-rule=\"evenodd\" d=\"M1.643 3.143L.427 1.927A.25.25 0 000 2.104V5.75c0 .138.112.25.25.25h3.646a.25.25 0 00.177-.427L2.715 4.215a6.5 6.5 0 11-1.18 4.458.75.75 0 10-1.493.154 8.001 8.001 0 101.6-5.684zM7.75 4a.75.75 0 01.75.75v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5A.75.75 0 017.75 4z\"></path>\n</svg>\n            <span class=\"d-none d-sm-inline\">\n              <strong>History</strong>\n            </span>\n          </a>\n        </div>\n      </div>\n        <div class=\"Details-content--hidden ml-5 mt-2\"><pre class=\"mt-2 f6 ws-pre-wrap\">* Remove speculative &lt;a&gt; view API surface\n\nThere is an existing TODO which speculates whether anchor tags support registering a view source in addition to a click source.\n\nThis is naturally possible by instead including two separate tags:\n\n&lt;img attributionsrc=\"...register-view\" style=\"display:none\"/&gt;\n&lt;a href=\"...\" attributionsrc=\"..register-click\"&gt;&lt;/a&gt;\n\nThe specualtive API to register views on anchor tags involves adding a new attribute, and a new response header to allow sites to differentiate between duplicate requests to the same url.\n\nIt makes more sense to frame this TODO as an ask for whether this API should be supported, rather than including it by default.\n\n* Update EVENT.md</pre></div>\n\n  </div>\n\n  <div class=\"Box-body d-flex flex-items-center flex-auto border-bottom-0 flex-wrap\" >\n    <details class=\"details-reset details-overlay details-overlay-dark lh-default color-fg-default float-left mr-3\" id=\"blob_contributors_box\">\n      <summary class=\"Link--primary\">\n        <svg text=\"gray\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-people\">\n    <path fill-rule=\"evenodd\" d=\"M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z\"></path>\n</svg>\n        <strong>5</strong>\n        \n        contributors\n      </summary>\n      <details-dialog\n        class=\"Box Box--overlay d-flex flex-column anim-fade-in fast\"\n        aria-label=\"Users who have contributed to this file\"\n        src=\"/WICG/conversion-measurement-api/contributors-list/main/EVENT.md\" preload>\n        <div class=\"Box-header\">\n          <button class=\"Box-btn-octicon btn-octicon float-right\" type=\"button\" aria-label=\"Close dialog\" data-close-dialog>\n            <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">\n    <path fill-rule=\"evenodd\" d=\"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z\"></path>\n</svg>\n          </button>\n          <h3 class=\"Box-title\">\n            Users who have contributed to this file\n          </h3>\n        </div>\n        <include-fragment>\n          <svg style=\"box-sizing: content-box; color: var(--color-icon-primary);\" width=\"32\" height=\"32\" viewBox=\"0 0 16 16\" fill=\"none\" data-view-component=\"true\" class=\"my-3 mx-auto d-block anim-rotate\">\n  <circle cx=\"8\" cy=\"8\" r=\"7\" stroke=\"currentColor\" stroke-opacity=\"0.25\" stroke-width=\"2\" vector-effect=\"non-scaling-stroke\" />\n  <path d=\"M15 8a7.002 7.002 0 00-7-7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" vector-effect=\"non-scaling-stroke\" />\n</svg>\n        </include-fragment>\n      </details-dialog>\n    </details>\n      <span class=\"\">\n    <a class=\"avatar-link\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/apasel422/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/WICG/conversion-measurement-api/commits/main/EVENT.md?author=apasel422\">\n      <img class=\"avatar mr-2 avatar-user\" src=\"https://avatars.githubusercontent.com/u/8644784?s=48&amp;v=4\" width=\"24\" height=\"24\" alt=\"@apasel422\" /> \n</a>    <a class=\"avatar-link\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/csharrison/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/WICG/conversion-measurement-api/commits/main/EVENT.md?author=csharrison\">\n      <img class=\"avatar mr-2 avatar-user\" src=\"https://avatars.githubusercontent.com/u/1066818?s=48&amp;v=4\" width=\"24\" height=\"24\" alt=\"@csharrison\" /> \n</a>    <a class=\"avatar-link\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/johnivdel/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/WICG/conversion-measurement-api/commits/main/EVENT.md?author=johnivdel\">\n      <img class=\"avatar mr-2 avatar-user\" src=\"https://avatars.githubusercontent.com/u/40465606?s=48&amp;v=4\" width=\"24\" height=\"24\" alt=\"@johnivdel\" /> \n</a>    <a class=\"avatar-link\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/linnan-github/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/WICG/conversion-measurement-api/commits/main/EVENT.md?author=linnan-github\">\n      <img class=\"avatar mr-2 avatar-user\" src=\"https://avatars.githubusercontent.com/u/80365263?s=48&amp;v=4\" width=\"24\" height=\"24\" alt=\"@linnan-github\" /> \n</a>    <a class=\"avatar-link\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/maudnals/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/WICG/conversion-measurement-api/commits/main/EVENT.md?author=maudnals\">\n      <img class=\"avatar mr-2 avatar-user\" src=\"https://avatars.githubusercontent.com/u/9762897?s=48&amp;v=4\" width=\"24\" height=\"24\" alt=\"@maudnals\" /> \n</a>\n</span>\n\n  </div>\n</div>\n\n\n\n\n\n\n\n    <readme-toc>\n\n    <div data-target=\"readme-toc.content\" class=\"Box mt-3 position-relative\">\n      \n  <div\n    class=\"Box-header js-blob-header blob-header js-sticky js-position-sticky top-0 p-2 d-flex flex-shrink-0 flex-md-row flex-items-center\"\n    style=\"position: sticky; z-index: 1;\"\n  >\n\n      <details\n  data-target=\"readme-toc.trigger\"\n  data-menu-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;trigger&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\"\n  data-menu-hydro-click-hmac=\"62bda3cd6a2870009d5243cd344ed54bc5c88dd423bdef0f439d03a9698ddafb\"\n  class=\"dropdown details-reset details-overlay\"\n>\n  <summary\n    class=\"btn btn-octicon m-0 mr-2 p-2\"\n    aria-haspopup=\"true\"\n    aria-label=\"Table of Contents\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-list-unordered\">\n    <path fill-rule=\"evenodd\" d=\"M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n  </summary>\n\n\n  <details-menu class=\"SelectMenu\" role=\"menu\">\n    <div class=\"SelectMenu-modal rounded-3 mt-1\" style=\"max-height:340px;\">\n\n        <div class=\"SelectMenu-filter\">\n          <input\n            class=\"SelectMenu-input form-control js-filterable-field\"\n            id=\"toc-filter-field\"\n            type=\"text\"\n            autocomplete=\"off\"\n            spellcheck=\"false\"\n            autofocus\n            placeholder=\"Filter headings\"\n            aria-label=\"Filter headings\">\n        </div>\n\n      <div class=\"SelectMenu-list SelectMenu-list--borderless p-2\" style=\"overscroll-behavior: contain;\" data-filterable-for=\"toc-filter-field\" data-filterable-type=\"substring\">\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 text-emphasized\" style=\"-webkit-box-orient: vertical; padding-left: 12px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#attribution-reporting-with-event-level-reports\">Attribution Reporting with event-level reports</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 24px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#motivation\">Motivation</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 24px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#related-work\">Related work</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 24px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#api-overview\">API Overview</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#registering-attribution-sources\">Registering attribution sources</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#handling-an-attribution-source-event\">Handling an attribution source event</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#publisher-side-controls-for-attribution-source-declaration\">Publisher-side Controls for Attribution Source Declaration</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#triggering-attribution\">Triggering Attribution</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#data-limits-and-noise\">Data limits and noise</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#trigger-attribution-algorithm\">Trigger attribution algorithm</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#multiple-sources-for-the-same-trigger-multi-touch\">Multiple sources for the same trigger (Multi-touch)</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#sending-scheduled-reports\">Sending Scheduled Reports</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#attribution-reports\">Attribution Reports</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#data-encoding\">Data Encoding</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#optional-attribution-filters\">Optional attribution filters</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#optional-extended-debugging-reports\">Optional: extended debugging reports</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 24px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#sample-usage\">Sample Usage</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#noisy-fake-conversion-example\">Noisy fake conversion example</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#storage-limits\">Storage limits</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 24px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#privacy-considerations\">Privacy Considerations</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#trigger-data\">Trigger Data</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#reporting-delay\">Reporting Delay</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#reporting-origin-limits\">Reporting origin limits</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#clearing-site-data\">Clearing Site Data</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#reporting-cooldown--rate-limits\">Reporting cooldown / rate limits</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#less-trigger-side-data\">Less trigger-side data</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#browsing-history-reconstruction\">Browsing history reconstruction</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 48px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#adding-noise-to-whether-a-trigger-is-genuine\">Adding noise to whether a trigger is genuine</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 48px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#limiting-the-number-of-unique-destinations-covered-by-pending-sources\">Limiting the number of unique destinations covered by pending sources</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#differential-privacy\">Differential privacy</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#speculative-limits-based-on-first-party-storage\">Speculative: Limits based on first party storage</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 24px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#security-considerations\">Security considerations</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#reporting-origin-control\">Reporting origin control</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#denial-of-service\">Denial of service</a>\n          <a role=\"menuitem\" class=\"filter-item SelectMenu-item ws-normal wb-break-word line-clamp-2 py-1 \" style=\"-webkit-box-orient: vertical; padding-left: 36px;\" data-action=\"click:readme-toc#blur\" data-targets=\"readme-toc.entries\" data-hydro-click=\"{&quot;event_type&quot;:&quot;repository_toc_menu.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;entry&quot;,&quot;repository_id&quot;:188087302,&quot;originating_url&quot;:&quot;https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"78fdd98ec433cc41f2f1fd0f642cf9652fcdf6abfb49fdb105bcb98ea1c5ecfe\" href=\"#top-site-permission-model\">Top site permission model</a>\n      </div>\n    </div>\n  </details-menu>\n</details>\n\n\n  <div class=\"text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1\">\n\n      902 lines (724 sloc)\n      <span class=\"file-info-divider\"></span>\n    38.4 KB\n  </div>\n\n  <div class=\"d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between hide-sm hide-md\">\n        <div class=\"BtnGroup\">\n    <a href=\"/WICG/conversion-measurement-api/blob/main/EVENT.md?plain=1\" data-permalink-href=\"/WICG/conversion-measurement-api/blob/d134e0ff6be035a46140ab496dde1a117f88c431/EVENT.md?plain=1\" aria-label=\"Display the source blob\" data-view-component=\"true\" class=\"source tooltipped tooltipped tooltipped-n  js-permalink-replaceable-link btn-sm btn BtnGroup-item\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code\">\n    <path fill-rule=\"evenodd\" d=\"M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z\"></path>\n</svg>\n  \n</a>    <a href=\"/WICG/conversion-measurement-api/blob/main/EVENT.md\" data-permalink-href=\"/WICG/conversion-measurement-api/blob/d134e0ff6be035a46140ab496dde1a117f88c431/EVENT.md\" aria-label=\"Display the rendered blob\" data-view-component=\"true\" class=\"rendered tooltipped tooltipped tooltipped-n selected js-permalink-replaceable-link btn-sm btn BtnGroup-item\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-file\">\n    <path fill-rule=\"evenodd\" d=\"M3.75 1.5a.25.25 0 00-.25.25v11.5c0 .138.112.25.25.25h8.5a.25.25 0 00.25-.25V6H9.75A1.75 1.75 0 018 4.25V1.5H3.75zm5.75.56v2.19c0 .138.112.25.25.25h2.19L9.5 2.06zM2 1.75C2 .784 2.784 0 3.75 0h5.086c.464 0 .909.184 1.237.513l3.414 3.414c.329.328.513.773.513 1.237v8.086A1.75 1.75 0 0112.25 15h-8.5A1.75 1.75 0 012 13.25V1.75z\"></path>\n</svg>\n  \n</a>  </div>\n\n\n    <div class=\"BtnGroup\">\n      <a data-permalink-href=\"/WICG/conversion-measurement-api/raw/d134e0ff6be035a46140ab496dde1a117f88c431/EVENT.md\" href=\"/WICG/conversion-measurement-api/raw/main/EVENT.md\" id=\"raw-url\" data-view-component=\"true\" class=\"js-permalink-replaceable-link btn-sm btn BtnGroup-item\">  Raw\n  \n</a>        <a data-permalink-href=\"/WICG/conversion-measurement-api/blame/d134e0ff6be035a46140ab496dde1a117f88c431/EVENT.md\" href=\"/WICG/conversion-measurement-api/blame/main/EVENT.md\" data-hotkey=\"b\" data-view-component=\"true\" class=\"js-update-url-with-hash js-permalink-replaceable-link btn-sm btn BtnGroup-item\">  Blame\n  \n</a>    </div>\n\n    <div>\n          <a class=\"btn-octicon tooltipped tooltipped-nw js-remove-unless-platform\"\n             data-platforms=\"windows,mac\"\n             href=\"https://desktop.github.com\"\n             aria-label=\"Open this file in GitHub Desktop\"\n             data-ga-click=\"Repository, open with desktop\">\n              <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-device-desktop\">\n    <path fill-rule=\"evenodd\" d=\"M1.75 2.5h12.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25zM14.25 1H1.75A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z\"></path>\n</svg>\n          </a>\n\n        \n          <a href=\"/login?return_to=https%3A%2F%2Fgithub.com%2FWICG%2Fconversion-measurement-api%2Fblob%2Fmain%2FEVENT.md\" class=\"btn-octicon disabled tooltipped tooltipped-nw\"\n            aria-label=\"You must be signed in to make or propose changes\">\n            <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-pencil\">\n    <path fill-rule=\"evenodd\" d=\"M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z\"></path>\n</svg>\n          </a>\n          <a href=\"/login?return_to=https%3A%2F%2Fgithub.com%2FWICG%2Fconversion-measurement-api%2Fblob%2Fmain%2FEVENT.md\" class=\"btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw\"\n            aria-label=\"You must be signed in to make or propose changes\">\n            <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-trash\">\n    <path fill-rule=\"evenodd\" d=\"M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z\"></path>\n</svg>\n          </a>\n    </div>\n  </div>\n\n    <div class=\"d-flex hide-lg hide-xl flex-order-2 flex-grow-0\">\n      <details class=\"dropdown details-reset details-overlay d-inline-block\">\n        <summary class=\"btn-octicon p-2\" aria-haspopup=\"true\" aria-label=\"possible actions\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-kebab-horizontal\">\n    <path d=\"M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"></path>\n</svg>\n        </summary>\n\n        <ul class=\"dropdown-menu dropdown-menu-sw\" style=\"width: 175px\">\n            <li>\n                <a class=\"dropdown-item tooltipped tooltipped-nw js-remove-unless-platform\"\n                   data-platforms=\"windows,mac\"\n                   href=\"https://desktop.github.com\"\n                   data-ga-click=\"Repository, open with desktop\">\n                  Open with Desktop\n                </a>\n            </li>\n          <li>\n            <a class=\"dropdown-item\" href=\"/WICG/conversion-measurement-api/raw/main/EVENT.md\">\n              View raw\n            </a>\n          </li>\n            <li>\n                          </li>\n            <li>\n              <a class=\"dropdown-item\" href=\"/WICG/conversion-measurement-api/blame/main/EVENT.md\">\n                View blame\n              </a>\n            </li>\n\n        </ul>\n      </details>\n    </div>\n</div>\n\n\n        <div id=\"readme\" class=\"Box-body readme blob js-code-block-container p-5 p-xl-6 gist-border-0\">\n    <article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><p dir=\"auto\"><em>This is an in-depth technical explainer. If you're looking for a high-level\nintroduction to Attribution Reporting with event-level reports, head over to\n<a href=\"https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-event-introduction/\" rel=\"nofollow\">Event-level reports in the Attribution Reporting API</a>.</em></p>\n<p dir=\"auto\"><em>A list of all API guides and blog posts for this API is also available\n<a href=\"https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting/\" rel=\"nofollow\">here</a>.</em></p>\n<h1 dir=\"auto\"><a id=\"user-content-attribution-reporting-with-event-level-reports\" class=\"anchor\" aria-hidden=\"true\" href=\"#attribution-reporting-with-event-level-reports\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Attribution Reporting with event-level reports</h1>\n<p dir=\"auto\">This document is an explainer for a potential new web platform feature which\nallows for measuring and reporting ad click and view conversions.</p>\n<p dir=\"auto\">See the explainer on <a href=\"/WICG/conversion-measurement-api/blob/main/AGGREGATE.md\">aggregate measurement</a> for a potential\nextension on top of this.</p>\n\n\n<p dir=\"auto\"><strong>Table of Contents</strong></p>\n<ul dir=\"auto\">\n<li><a href=\"#motivation\">Motivation</a></li>\n<li><a href=\"#related-work\">Related work</a></li>\n<li><a href=\"#api-overview\">API Overview</a>\n<ul dir=\"auto\">\n<li><a href=\"#registering-attribution-sources\">Registering attribution sources</a></li>\n<li><a href=\"#handling-an-attribution-source-event\">Handling an attribution source\nevent</a></li>\n<li><a href=\"#publisher-side-controls-for-attribution-source-declaration\">Publisher-side Controls for Attribution Source\nDeclaration</a></li>\n<li><a href=\"#triggering-attribution\">Triggering Attribution</a></li>\n<li><a href=\"#data-limits-and-noise\">Data limits and noise</a></li>\n<li><a href=\"#trigger-attribution-algorithm\">Trigger attribution algorithm</a></li>\n<li><a href=\"#multiple-sources-for-the-same-trigger-multi-touch\">Multiple sources for the same trigger\n(Multi-touch)</a></li>\n<li><a href=\"#sending-scheduled-reports\">Sending Scheduled Reports</a></li>\n<li><a href=\"#attribution-reports\">Attribution Reports</a></li>\n<li><a href=\"#data-encoding\">Data Encoding</a></li>\n<li><a href=\"#optional-attribution-filters\">Optional attribution filters</a></li>\n<li><a href=\"#optional-extended-debugging-reports\">Optional: extended debugging reports</a></li>\n<li><a href=\"#noisy-fake-conversion-example\">Noisy fake conversion example</a></li>\n<li><a href=\"#storage-limits\">Storage limits</a></li>\n</ul>\n</li>\n<li><a href=\"#privacy-considerations\">Privacy Considerations</a>\n<ul dir=\"auto\">\n<li><a href=\"#trigger-data\">Trigger Data</a></li>\n<li><a href=\"#reporting-delay\">Reporting Delay</a></li>\n<li><a href=\"#reporting-origin-limits\">Reporting origin limits</a></li>\n<li><a href=\"#clearing-site-data\">Clearing Site Data</a></li>\n<li><a href=\"#reporting-cooldown--rate-limits\">Reporting cooldown / rate limits</a></li>\n<li><a href=\"#less-trigger-side-data\">Less trigger-side data</a></li>\n<li><a href=\"#browsing-history-reconstruction\">Browsing history reconstruction</a>\n<ul dir=\"auto\">\n<li><a href=\"#adding-noise-to-whether-a-trigger-is-genuine\">Adding noise to whether a trigger is\ngenuine</a></li>\n<li><a href=\"#limiting-the-number-of-unique-destinations-covered-by-pending-sources\">Limiting the number of unique destinations covered by pending\nsources</a></li>\n</ul>\n</li>\n<li><a href=\"#differential-privacy\">Differential privacy</a></li>\n<li><a href=\"#speculative-limits-based-on-first-party-storage\">Speculative: Limits based on first party\nstorage</a></li>\n</ul>\n</li>\n<li><a href=\"#security-considerations\">Security considerations</a>\n<ul dir=\"auto\">\n<li><a href=\"#reporting-origin-control\">Reporting origin control</a></li>\n<li><a href=\"#denial-of-service\">Denial of service</a></li>\n<li><a href=\"#top-site-permission-model\">Top site permission model</a></li>\n</ul>\n</li>\n</ul>\n\n<h2 dir=\"auto\"><a id=\"user-content-motivation\" class=\"anchor\" aria-hidden=\"true\" href=\"#motivation\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Motivation</h2>\n<p dir=\"auto\">Currently, the web ad industry measures conversions via identifiers they can\nassociate across sites. These identifiers tie information about which ads were\nclicked to information about activity on the advertiser's site (the conversion).\nThis allows advertisers to measure ROI, and for the entire ads ecosystem to\nunderstand how well ads perform.</p>\n<p dir=\"auto\">Since the ads industry today uses common identifiers across advertiser and\npublisher sites to track conversions, these common identifiers can be used to\nenable other forms of cross-site tracking.</p>\n<p dir=\"auto\">This doesn’t have to be the case, though, especially in cases where identifiers\nsuch as third-party cookies are either unavailable or undesirable. A new API\nsurface can be added to the web platform to satisfy this use case without them,\nin a way that provides better privacy to users.</p>\n<p dir=\"auto\">This API alone will not be able to support all conversion measurement use cases.\nWe envision this API as one of potentially many new APIs that will seek to\nreproduce valid advertising use cases in the web platform in a privacy\npreserving way. In particular, we think this API could be extended by using\nserver side aggregation to provide richer data, which we are continuing to\nexplore.</p>\n<h2 dir=\"auto\"><a id=\"user-content-related-work\" class=\"anchor\" aria-hidden=\"true\" href=\"#related-work\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Related work</h2>\n<p dir=\"auto\">There is an alternative <a href=\"https://github.com/privacycg/private-click-measurement\">Private Click\nMeasurement</a> draft spec\nin the PrivacyCG. See this <a href=\"https://webkit.org/blog/8943/privacy-preserving-ad-click-attribution-for-the-web/\" rel=\"nofollow\">WebKit blog\npost</a>\nfor more details.</p>\n<p dir=\"auto\">There are multiple aggregate designs in\n<a href=\"https://github.com/WICG/privacy-preserving-ads\">wicg/privacy-preserving-ads</a>,\nincluding Bucketization and MaskedLARK.</p>\n<p dir=\"auto\">Folks from Meta and Mozilla have published the <a href=\"https://docs.google.com/document/d/1KpdSKD8-Rn0bWPTu4UtK54ks0yv2j22pA5SrAD9av4s/edit#heading=h.f4x9f0nqv28x\" rel=\"nofollow\">Interoperable Private\nAttribution(IPA)</a>\nproposal for doing aggregate attribution measurement.</p>\n<p dir=\"auto\">Brave has published and implemented an <a href=\"https://github.com/brave/brave-browser/wiki/Security-and-privacy-model-for-ad-confirmations\">Ads Confirmation\nProtocol</a>.</p>\n<h2 dir=\"auto\"><a id=\"user-content-api-overview\" class=\"anchor\" aria-hidden=\"true\" href=\"#api-overview\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>API Overview</h2>\n<h3 dir=\"auto\"><a id=\"user-content-registering-attribution-sources\" class=\"anchor\" aria-hidden=\"true\" href=\"#registering-attribution-sources\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Registering attribution sources</h3>\n<p dir=\"auto\">Attribution sources are events which future triggers can be attributed to. There\nare two types of attribution sources, <code>navigation</code> sources and <code>event</code> sources.</p>\n<p dir=\"auto\"><code>navigation</code> sources are registered via clicks on anchor tags:</p>\n<div class=\"highlight highlight-text-html-basic position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;a href=&quot;https://advertiser.example/landing&quot;\n   attributionsrc=&quot;https://adtech.example/attribution_source?my_ad_id=123&quot;&gt;\n   click me\n&lt;/a&gt;\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">a</span> <span class=\"pl-c1\">href</span>=\"<span class=\"pl-s\">https://advertiser.example/landing</span>\"\n   <span class=\"pl-c1\">attributionsrc</span>=\"<span class=\"pl-s\">https://adtech.example/attribution_source?my_ad_id=123</span>\"<span class=\"pl-kos\">&gt;</span>\n   click me\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">a</span><span class=\"pl-kos\">&gt;</span></pre></div>\n<p dir=\"auto\">or via calls to <code>window.open</code> that occur with <a href=\"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation\" rel=\"nofollow\">transient\nactivation</a>:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"window.open(\n  &quot;https://advertiser.example/landing&quot;,\n  &quot;_blank&quot;,\n  &quot;attributionsrc=https://adtech.example/attribution_source?my_ad_id=123&quot;);\"><pre><span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">open</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-s\">\"https://advertiser.example/landing\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"_blank\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"attributionsrc=https://adtech.example/attribution_source?my_ad_id=123\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\"><code>event</code> sources do not require any user interaction and are registered via\n<code>&lt;img&gt;</code> tags with the new <code>attributionsrc</code> attribute too:</p>\n<div class=\"highlight highlight-text-html-basic position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;!-- TODO: is view registration via an `&lt;a&gt;` tag necessary?\n    It may require a new attribute and a way to differentiate the requests. --&gt;\n\n&lt;img src=&quot;https://advertiser.example/pixel&quot; \n     attributionsrc=&quot;https://adtech.example/attribution_source?my_ad_id=123&quot; /&gt;\"><pre><span class=\"pl-c\">&lt;!-- TODO: is view registration via an `&lt;a&gt;` tag necessary?</span>\n<span class=\"pl-c\">    It may require a new attribute and a way to differentiate the requests. --&gt;</span>\n\n<span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">img</span> <span class=\"pl-c1\">src</span>=\"<span class=\"pl-s\">https://advertiser.example/pixel</span>\" \n     <span class=\"pl-c1\">attributionsrc</span>=\"<span class=\"pl-s\">https://adtech.example/attribution_source?my_ad_id=123</span>\" /&gt;</pre></div>\n<p dir=\"auto\">or via a JavaScript API:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"window.attributionReporting.registerSource(\n  &quot;https://adtech.example/attribution_source?my_ad_id=123&quot;);\"><pre><span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">attributionReporting</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">registerSource</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-s\">\"https://adtech.example/attribution_source?my_ad_id=123\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">Each of these mechanisms will cause the browser to initiate a <code>keepalive</code> fetch\nrequest to the URL indicated by <code>attributionsrc</code>.</p>\n<p dir=\"auto\">The response to this request will configure the API. The browser will expect\ndata in a new JSON HTTP header <code>Attribution-Reporting-Register-Source</code> which\nconfigures the API:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n  &quot;source_event_id&quot;: &quot;12340873456&quot;,\n  &quot;destination&quot;: &quot;[eTLD+1]&quot;,\n  &quot;expiry&quot;: &quot;[64-bit signed integer]&quot;,\n  &quot;priority&quot;: &quot;[64-bit signed integer]&quot;\n}\"><pre><span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"source_event_id\"</span>: <span class=\"pl-s\">\"12340873456\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"destination\"</span>: <span class=\"pl-s\">\"[eTLD+1]\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"expiry\"</span>: <span class=\"pl-s\">\"[64-bit signed integer]\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"priority\"</span>: <span class=\"pl-s\">\"[64-bit signed integer]\"</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\"><code>destination</code>: an origin whose eTLD+1 is where attribution will be triggered\nfor this source.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>source_event_id</code>: A DOMString encoding a 64-bit unsigned integer which\nrepresents the event-level data associated with this source. This will be\nlimited to 64 bits of information but the value can vary.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>expiry</code>: (optional) expiry in seconds for when the source should be\ndeleted. Default is 30 days, with a maximum value of 30 days. The maximum expiry\ncan also vary between browsers. This will be rounded to the nearest day.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>priority</code>: (optional) a signed 64-bit integer used to prioritize\nthis source with respect to other matching sources. When a trigger redirect is\nreceived, the browser will find the matching source with highest\n<code>priority</code> value and generate a report. The other sources will not\ngenerate reports.</p>\n</li>\n</ul>\n<p dir=\"auto\">Once this header is received, the browser will proceed with <a href=\"#handling-an-attribution-source-event\">handling an\nattribution source event</a>. Note that it\nis possible to register multiple sources for the same request using HTTP\nredirects (though these multiple sources may not set distinct destinations).</p>\n<p dir=\"auto\">Note that we sometimes call the <code>attributionsrc</code>'s origin the \"reporting origin\"\nsince it is the origin that will end up receiving attribution reports.</p>\n<h3 dir=\"auto\"><a id=\"user-content-handling-an-attribution-source-event\" class=\"anchor\" aria-hidden=\"true\" href=\"#handling-an-attribution-source-event\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Handling an attribution source event</h3>\n<p dir=\"auto\">A <code>navigation</code> attribution source event will be logged to storage if the\nresulting document being navigated to ends up sharing an eTLD+1 with the\n<code>destination</code> origin. Additionally, the navigation needs occur with <a href=\"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation\" rel=\"nofollow\">transient\nuser\nactivation</a>.</p>\n<p dir=\"auto\"><code>event</code> sources don’t require any of the above constraints to be logged.</p>\n<p dir=\"auto\">When a source is logged for &lt;<code>attributionsrc</code> origin, <code>destination</code>&gt; pair,\nexisting sources matching this pair will be looked up in storage. If the\nmatching sources have been triggered at least once (i.e. have scheduled a\nreport), they will be removed from browser storage and will not be eligible for\nfurther reporting. Any pending reports for these sources will still be sent.</p>\n<p dir=\"auto\">An attribution source will be eligible for reporting if any page on the\n<code>destination</code> eTLD+1 (advertiser site) triggers attribution for the associated\nreporting origin.</p>\n<h3 dir=\"auto\"><a id=\"user-content-publisher-side-controls-for-attribution-source-declaration\" class=\"anchor\" aria-hidden=\"true\" href=\"#publisher-side-controls-for-attribution-source-declaration\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Publisher-side Controls for Attribution Source Declaration</h3>\n<p dir=\"auto\">In order to prevent arbitrary third parties from registering sources without the\npublisher’s knowledge, the Attribution Reporting API will need to be enabled in\nchild contexts by a new <a href=\"https://w3c.github.io/webappsec-permissions-policy/\" rel=\"nofollow\">Permissions\nPolicy</a>:</p>\n<div class=\"highlight highlight-text-html-basic position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;iframe src=&quot;https://advertiser.example&quot; allow=&quot;attribution-reporting 'src'&quot;&gt;\n\n&lt;a … id=&quot;...&quot; attributionsrc=&quot;https://ad-tech.example?...&quot;&gt;&lt;/a&gt;\n\n&lt;/iframe&gt;\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">iframe</span> <span class=\"pl-c1\">src</span>=\"<span class=\"pl-s\">https://advertiser.example</span>\" <span class=\"pl-c1\">allow</span>=\"<span class=\"pl-s\">attribution-reporting 'src'</span>\"<span class=\"pl-kos\">&gt;</span>\n\n<span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">a</span> <span class=\"pl-c1\">…</span> <span class=\"pl-c1\">id</span>=\"<span class=\"pl-s\">...</span>\" <span class=\"pl-c1\">attributionsrc</span>=\"<span class=\"pl-s\">https://ad-tech.example?...</span>\"<span class=\"pl-kos\">&gt;</span><span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">a</span><span class=\"pl-kos\">&gt;</span>\n\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">iframe</span><span class=\"pl-kos\">&gt;</span></pre></div>\n<p dir=\"auto\">The API will be enabled by default in the top-level context and in same-origin\nchildren. Any script running in these contexts can declare a source with any\nreporting origin. Publishers who wish to explicitly disable the API for all\nparties can do so via an <a href=\"https://w3c.github.io/webappsec-permissions-policy/#permissions-policy-http-header-field\" rel=\"nofollow\">HTTP\nheader</a>.</p>\n<p dir=\"auto\">Without a Permissions Policy, a top-level document and cooperating iframe could\nrecreate this functionality. This is possible by using\n<a href=\"https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage\" rel=\"nofollow\">postMessage</a>\nto send the <code>source_event_id</code>, <code>attributionsrc</code> origin, <code>destination</code> values to\nthe top level document who can then wrap the iframe in an anchor tag (with some\nadditional complexities behind handling clicks on the iframe). Using Permissions\nPolicy prevents the need for these hacks. This is inline with the classification\nof powerful features as discussed on <a href=\"https://github.com/w3c/webappsec-permissions-policy/issues/252\" data-hovercard-type=\"issue\" data-hovercard-url=\"/w3c/webappsec-permissions-policy/issues/252/hovercard\">this\nissue</a>.</p>\n<h3 dir=\"auto\"><a id=\"user-content-triggering-attribution\" class=\"anchor\" aria-hidden=\"true\" href=\"#triggering-attribution\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Triggering Attribution</h3>\n<p dir=\"auto\">Attribution can only be triggered for a source on a page whose eTLD+1 matches\nthe eTLD+1 of the site provided in <code>destination</code>. To trigger attribution, a\nsimilar mechanism is used as source event registration, via HTML:</p>\n<div class=\"highlight highlight-text-html-basic position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;img src=&quot;https://ad-tech.example/conversionpixel&quot; \n     attributionsrc=”https://adtech.example/attribution_trigger?purchase=13” /&gt;\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">img</span> <span class=\"pl-c1\">src</span>=\"<span class=\"pl-s\">https://ad-tech.example/conversionpixel</span>\" \n     <span class=\"pl-c1\">attributionsrc</span>=<span class=\"pl-s\">”https://adtech.example/attribution_trigger?purchase</span>=13” /&gt;</pre></div>\n<p dir=\"auto\">or JavaScript:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"window.attributionReporting.registerTrigger(\n    &quot;https://adtech.example/attribution_trigger?purchase=13&quot;)\"><pre><span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">attributionReporting</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">registerTrigger</span><span class=\"pl-kos\">(</span>\n    <span class=\"pl-s\">\"https://adtech.example/attribution_trigger?purchase=13\"</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">As a stop-gap to support pre-existing conversion tags which do not include the\n<code>attributionsrc</code> attribute, or use a different Fetch API, the browser will also\nprocess trigger registration headers for all subresource requests on the page\nwhere the <code>attribution-reporting</code> Permissions Policy is enabled.</p>\n<p dir=\"auto\">Like source event registrations, these requests should respond with a new HTTP\nheader <code>Attribution-Reporting-Register-Event-Trigger</code> which contains information\nabout how to treat the trigger event:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[{\n    &quot;trigger_data&quot;: &quot;[unsigned 64-bit integer, but the browser will sanitize it down to 3 bits]&quot;,\n    &quot;priority&quot;: &quot;[signed 64-bit integer]&quot;,\n    &quot;deduplication_key&quot;: &quot;[unsigned 64-bit integer]&quot;\n}]\"><pre><span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-s\">\"trigger_data\"</span>: <span class=\"pl-s\">\"[unsigned 64-bit integer, but the browser will sanitize it down to 3 bits]\"</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-s\">\"priority\"</span>: <span class=\"pl-s\">\"[signed 64-bit integer]\"</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-s\">\"deduplication_key\"</span>: <span class=\"pl-s\">\"[unsigned 64-bit integer]\"</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span></pre></div>\n<p dir=\"auto\">TODO: Consider moving this over to a structured header. See <a href=\"https://github.com/WICG/conversion-measurement-api/issues/194\" data-hovercard-type=\"issue\" data-hovercard-url=\"/WICG/conversion-measurement-api/issues/194/hovercard\">issue\n194</a>.</p>\n<ul dir=\"auto\">\n<li><code>trigger_data</code>: optional coarse-grained data to identify the triggering event.</li>\n<li><code>priority</code>: optional signed 64-bit integer representing the priority\nof this trigger compared to other triggers for the same source.</li>\n<li><code>deduplication_key</code>: optional unsigned 64-bit integer which will be used to\ndeduplicate multiple triggers which contain the same deduplication_key for a\nsingle source.</li>\n</ul>\n<p dir=\"auto\">When this header is received, the browser will schedule an attribution report as\ndetailed in <a href=\"#trigger-attribution-algorithm\">Trigger attribution algorithm</a>.\nNote that the header can be present on redirect requests.</p>\n<p dir=\"auto\">Triggering attribution requires the <code>attribution-reporting</code> Permissions Policy\nto be enabled in the context the request is made. As described in <a href=\"#publisher-side-controls-for-attribution-source-declaration\">Publisher\nControls for Attribution Source\nDeclaration</a>, this\nPermissions Policy will be enabled by default in the top-level context and in\nsame-origin children, but disabled in cross-origin children.</p>\n<p dir=\"auto\">Navigation sources may be attributed up to 3 times. Event sources may be\nattributed up to 1 time.</p>\n<h3 dir=\"auto\"><a id=\"user-content-data-limits-and-noise\" class=\"anchor\" aria-hidden=\"true\" href=\"#data-limits-and-noise\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Data limits and noise</h3>\n<p dir=\"auto\">The <code>source_event_id</code> will be limited to 64 bits of information to enable\nuniquely identifying an ad click.</p>\n<p dir=\"auto\">The advertiser-side data must therefore be limited quite strictly, by limiting\nthe amount of data and by applying noise to the data. <code>navigation</code> sources will\nbe limited to only 3 bits of <code>trigger_data</code>, while <code>event</code> sources will be\nlimited to only 1 bit.</p>\n<p dir=\"auto\">Noise will be applied to whether a source event will be reported truthfully.\nWhen an attribution source is registered, the browser will perform one of the\nfollowing steps given a probability <code>p</code>:</p>\n<ul dir=\"auto\">\n<li>With probability <code>1 - p</code>, the browser logs the source as normal</li>\n<li>With probability <code>p</code>, the browser chooses randomly among all the possible\noutput states of the API. This includes the choice of not reporting anything at\nall, or potentially reporting multiple fake reports for the event.</li>\n</ul>\n<p dir=\"auto\">Note that this scheme is an instantiation of k-randomized response, see\n<a href=\"#differential-privacy\">Differential privacy</a>.</p>\n<p dir=\"auto\">Strawman: we can set <code>p</code> such that each source is protected with randomized\nresponse that satisfies an epsilon value of 14. This would entail:</p>\n<ul dir=\"auto\">\n<li><code>p = .24%</code> for <code>navigation</code> sources</li>\n<li><code>p = .00025%</code> for <code>event</code> sources</li>\n</ul>\n<p dir=\"auto\">Note that correcting for this noise addition is straightforward in most cases,\nplease see &lt;TODO link to de-biasing advice/code snippet here&gt;. Reports will be\nupdated to include <code>p</code> so that noise correction can work correctly in the event\nthat <code>p</code> changes over time, or if different browsers apply different\nprobabilities:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n  &quot;randomized_trigger_rate&quot;: 0.0024,\n  ...\n}\"><pre><span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"randomized_trigger_rate\"</span>: <span class=\"pl-c1\">0.0024</span><span class=\"pl-kos\">,</span>\n  ...\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Note that these initial strawman parameters were chosen as a way to ease\nadoption of the API without negatively impacting utility substantially. They are\nsubject to change in the future with additional feedback and do not necessarily\nreflect a final set of parameters.</p>\n<h3 dir=\"auto\"><a id=\"user-content-trigger-attribution-algorithm\" class=\"anchor\" aria-hidden=\"true\" href=\"#trigger-attribution-algorithm\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Trigger attribution algorithm</h3>\n<p dir=\"auto\">When the browser receives an attribution trigger redirect on a URL matching the\n<code>destination</code> eTLD+1, it looks up all sources in storage that match\n&lt;<code>attributionsrc</code> origin, <code>destination</code>&gt; and picks the one with the greatest\n<code>priority</code>. If multiple sources have the greatest <code>priority</code>, the\nbrowser picks the one that was stored most recently.</p>\n<p dir=\"auto\">The browser then schedules a report for the source that was picked by storing\n{<code>attributionsrc</code> origin, <code>destination</code> eTLD+1, <code>source_event_id</code>,\n<a href=\"#data-encoding\">decoded</a> <code>trigger_data</code>, <code>priority</code>, <code>deduplication_key</code>} for\nthe source. Scheduled reports will be sent as detailed in <a href=\"#sending-scheduled-reports\">Sending scheduled\nreports</a>.</p>\n<p dir=\"auto\">The browser will create reports for a source only if the trigger's\n<code>deduplication_key</code> has not already been associated with a report for that source.</p>\n<p dir=\"auto\">Each <code>navigation</code> source is allowed to schedule only a maximum of three reports,\nwhile each <code>event</code> source is only allowed to schedule a maximum of one.</p>\n<p dir=\"auto\">If a source has already scheduled the maximum number of reports when a new\nreport is being scheduled, the browser will compare the priority of the new\nreport with the priorities of the scheduled reports for that source. If the new\nreport has the lowest priority, it will be ignored. Otherwise, the browser will\ndelete the scheduled report with the lowest priority and schedule the new\nreport.</p>\n<h3 dir=\"auto\"><a id=\"user-content-multiple-sources-for-the-same-trigger-multi-touch\" class=\"anchor\" aria-hidden=\"true\" href=\"#multiple-sources-for-the-same-trigger-multi-touch\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Multiple sources for the same trigger (Multi-touch)</h3>\n<p dir=\"auto\">If multiple sources were registered and associated with a single attribution\ntrigger, send reports for the one with the highest priority. If no priority is\nspecified, the browser performs last-touch.</p>\n<p dir=\"auto\">There are many possible alternatives to this, like providing a choice of\nrules-based attribution models. However, it isn’t clear the benefits outweigh\nthe additional complexity. Additionally, models other than last-click\npotentially leak more cross-site information if sources are clicked across\ndifferent sites.</p>\n<h3 dir=\"auto\"><a id=\"user-content-sending-scheduled-reports\" class=\"anchor\" aria-hidden=\"true\" href=\"#sending-scheduled-reports\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Sending Scheduled Reports</h3>\n<p dir=\"auto\">Reports for <code>event</code> sources will be sent 1 hour after the source expires at its\n<code>expiry</code>.</p>\n<p dir=\"auto\">Reports for <code>navigation</code> sources may be reported earlier than the source's\n<code>expiry</code>, at specified points in time relative to when the source event was\nregistered. See\n<a href=\"https://wicg.github.io/conversion-measurement-api/#delivery-time\" rel=\"nofollow\">here</a> for the\nprecise algorithm.</p>\n<p dir=\"auto\">Note that the report may be sent at a later date if the browser was not running\nwhen the window finished. In this case, reports will be sent on startup. The\nbrowser may also decide to delay some of these reports for a short random time\non startup, so that they cannot be joined together easily by a given reporting\norigin.</p>\n<h3 dir=\"auto\"><a id=\"user-content-attribution-reports\" class=\"anchor\" aria-hidden=\"true\" href=\"#attribution-reports\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Attribution Reports</h3>\n<p dir=\"auto\">To send a report, the browser will make a non-credentialed (i.e. without session\ncookies) secure HTTP POST request to:</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"https://&lt;reporting origin&gt;/.well-known/attribution-reporting/report-event-attribution\"><pre><code>https://&lt;reporting origin&gt;/.well-known/attribution-reporting/report-event-attribution\n</code></pre></div>\n<p dir=\"auto\">The report data is included in the request body as a JSON object with the\nfollowing keys:</p>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\"><code>attribution_destination</code>: the attribution destination set on the source</p>\n</li>\n<li>\n<p dir=\"auto\"><code>source_event_id</code>: 64-bit event id set on the attribution source</p>\n</li>\n<li>\n<p dir=\"auto\"><code>trigger_data</code>: Coarse data set in the attribution trigger registration</p>\n</li>\n<li>\n<p dir=\"auto\"><code>report_id</code>: A UUID string for this report which can be used to prevent\ndouble counting</p>\n</li>\n<li>\n<p dir=\"auto\"><code>source_type</code>: Either \"navigation\" or \"event\", indicates whether this source\nwas associated with a navigation.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>randomized_trigger_rate</code>: Decimal number between 0 and 1 indicating how\noften noise is applied.</p>\n</li>\n</ul>\n<h3 dir=\"auto\"><a id=\"user-content-data-encoding\" class=\"anchor\" aria-hidden=\"true\" href=\"#data-encoding\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Data Encoding</h3>\n<p dir=\"auto\">The source event id and trigger data should be specified in a way that is\namenable to the privacy assurances a browser wants to provide (i.e. the number\nof distinct data states supported).</p>\n<p dir=\"auto\">The input values will be 64-bit integers which the browser will interpret modulo\nits maximum data value chosen by the browser. The browser will take the input\nand performs the equivalent of:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"function getData(input, max_value) {\n  return input % max_value;\n}\"><pre><span class=\"pl-k\">function</span> <span class=\"pl-en\">getData</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">input</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">max_value</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">input</span> <span class=\"pl-c1\">%</span> <span class=\"pl-s1\">max_value</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">The benefit of this method over using a fixed bit mask is that it allows\nbrowsers to implement max_values that aren’t multiples of 2. That is, browers\ncan choose a \"fractional\" bit limit if they want to.</p>\n<h3 dir=\"auto\"><a id=\"user-content-optional-attribution-filters\" class=\"anchor\" aria-hidden=\"true\" href=\"#optional-attribution-filters\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Optional attribution filters</h3>\n<p dir=\"auto\">Source and trigger registration has additional optional functionality to both:</p>\n<ol dir=\"auto\">\n<li>Selectively filter some triggers (effectively ignoring them)</li>\n<li>Choose trigger data based on source event data</li>\n</ol>\n<p dir=\"auto\">This can be done via simple extensions to the registration configuration.</p>\n<p dir=\"auto\">Source registration:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n  &quot;source_event_id&quot;: &quot;12345678&quot;,\n  &quot;destination&quot;: &quot;https://toasters.example&quot;,\n  &quot;expiry&quot;: &quot;604800000&quot;,\n  &quot;filter_data&quot;: {\n    &quot;conversion_subdomain&quot;: [&quot;electronics.megastore&quot;\n                             &quot;electronics2.megastore&quot;],\n    &quot;product&quot;: [&quot;1234&quot;],\n    // Note that &quot;source_type&quot; will be automatically generated as\n    // one of {&quot;navigation&quot;, &quot;event&quot;}\n  }\n}\"><pre><span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"source_event_id\"</span>: <span class=\"pl-s\">\"12345678\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"destination\"</span>: <span class=\"pl-s\">\"https://toasters.example\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"expiry\"</span>: <span class=\"pl-s\">\"604800000\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"filter_data\"</span>: <span class=\"pl-kos\">{</span>\n    <span class=\"pl-s\">\"conversion_subdomain\"</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"electronics.megastore\"</span>\n                             <span class=\"pl-s\">\"electronics2.megastore\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-s\">\"product\"</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"1234\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c\">// Note that \"source_type\" will be automatically generated as</span>\n    <span class=\"pl-c\">// one of {\"navigation\", \"event\"}</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Trigger registration will now accept an option header\n<code>Attribution-Reporting-Filters</code>:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n  &quot;conversion_subdomain&quot;: [&quot;electronics.megastore&quot;],\n  // Not set on the source side, so this key is ignored\n  &quot;directory&quot;: [&quot;/store/electronics]&quot;\n}\"><pre><span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"conversion_subdomain\"</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"electronics.megastore\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c\">// Not set on the source side, so this key is ignored</span>\n  <span class=\"pl-s\">\"directory\"</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"/store/electronics]\"</span><span class=\"pl-kos\"></span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">If keys in the filters JSON match keys in <code>filter_data</code>, the trigger is\ncompletely ignored if the intersection is empty.</p>\n<p dir=\"auto\">Note: A key which is present in one JSON and not the other will not be included\nin the matching logic.</p>\n<p dir=\"auto\">Note: The filter JSON does not support nested dictionaries or lists.\n<code>filter_data</code> and <code>filters</code> are only allowed to have a list of values with\nstring type.</p>\n<p dir=\"auto\">The <code>Attribution-Reporting-Register-Event-Trigger</code> header can also be extended\nto do selective filtering to set <code>trigger_data</code> based on <code>filter_data</code>:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// Filter by the source type to handle different bit limits.\n[{\n  &quot;trigger_data&quot;: &quot;2&quot;,\n  // Note that “not_filters” which filters with a negation is also supported.\n  &quot;filters&quot;: {&quot;source_type&quot;: [&quot;navigation&quot;]}\n},\n{\n  &quot;trigger_data&quot;: &quot;1&quot;,\n  &quot;filters&quot;: {&quot;source_type&quot;: [&quot;event&quot;]}\n}]\"><pre><span class=\"pl-c\">// Filter by the source type to handle different bit limits.</span>\n<span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"trigger_data\"</span>: <span class=\"pl-s\">\"2\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c\">// Note that “not_filters” which filters with a negation is also supported.</span>\n  <span class=\"pl-s\">\"filters\"</span>: <span class=\"pl-kos\">{</span><span class=\"pl-s\">\"source_type\"</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"navigation\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"trigger_data\"</span>: <span class=\"pl-s\">\"1\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"filters\"</span>: <span class=\"pl-kos\">{</span><span class=\"pl-s\">\"source_type\"</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"event\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span></pre></div>\n<p dir=\"auto\">If the filters do not match for any of the event triggers, the trigger data and\npriority both default to 0 and the dedup key defaults to not being set, and\nattribution proceeds normally.</p>\n<p dir=\"auto\">If the filters match for multiple event triggers, the first matching event\ntrigger is used.</p>\n<h3 dir=\"auto\"><a id=\"user-content-optional-extended-debugging-reports\" class=\"anchor\" aria-hidden=\"true\" href=\"#optional-extended-debugging-reports\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Optional: extended debugging reports</h3>\n<p dir=\"auto\">The Attribution Reporting API is a new and fairly complex way to do attribution\nmeasurement without third-party cookies. As such, we are open to introducing a\ntransitional mechanism to learn more information about attribution reports\n<em>while third-party cookies are available</em>. This ensures that the API can be\nfully understood during roll-out and help flush out any bugs (either in browser\nor caller code), and more easily compare the performance to cookie-based\nalternatives.</p>\n<p dir=\"auto\">Source registration will accept a new parameter <code>debug_key</code>:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n    ...\n    &quot;debug_key&quot;: &quot;[64-bit unsigned integer]&quot;\n}\"><pre><span class=\"pl-kos\">{</span>\n    ...\n    <span class=\"pl-s\">\"debug_key\"</span>: <span class=\"pl-s\">\"[64-bit unsigned integer]\"</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Trigger debug keys are created using a separate header:</p>\n<div class=\"highlight highlight-source-httpspec position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Attribution-Reporting-Trigger-Debug-Key: [64-bit unsigned integer]\"><pre><span class=\"pl-s\"><span class=\"pl-v\">Attribution-Reporting-Trigger-Debug-Key:</span> [64-bit unsigned integer]</span></pre></div>\n<p dir=\"auto\">If a report is created with source and trigger debug keys, a duplicate debug report\nwill be sent immediately to a\n<code>.well-known/attribution-reporting/debug/report-event-attribution</code>\nendpoint. The debug reports will be identical to normal reports, but\nadditionally contain both debug keys:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n    // normal report fields...\n    &quot;source_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;,\n    &quot;trigger_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;\n}\"><pre><span class=\"pl-kos\">{</span>\n    <span class=\"pl-c\">// normal report fields...</span>\n    <span class=\"pl-s\">\"source_debug_key\"</span>: <span class=\"pl-s\">\"[64-bit unsigned integer]\"</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-s\">\"trigger_debug_key\"</span>: <span class=\"pl-s\">\"[64-bit unsigned integer]\"</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Normal reports will also include two new parameters which pass the debug keys\nfrom source and trigger events unaltered. This allows tying normal reports to the\nseparate stream of debug reports.</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n    ...\n    &quot;source_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;,\n    &quot;trigger_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;\n}\"><pre><span class=\"pl-kos\">{</span>\n    ...\n    <span class=\"pl-s\">\"source_debug_key\"</span>: <span class=\"pl-s\">\"[64-bit unsigned integer]\"</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-s\">\"trigger_debug_key\"</span>: <span class=\"pl-s\">\"[64-bit unsigned integer]\"</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Note that event-level reports associated with false trigger events\nwill not have <code>trigger_debug_key</code>s. This allows developers to more\nclosely understand how noise is applied in the API.</p>\n<p dir=\"auto\">To ensure that this data (which could enable cross-site tracking) is only\navailable in a transitional phase while third-party cookies are available and\nare already capable of user tracking, the browser will check (at both source\nand trigger registration) for the presence of a special <code>SameSite=None</code> cookie\nset by the reporting origin:</p>\n<div class=\"highlight highlight-source-httpspec position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Set-Cookie: ar_debug=1; SameSite=None; Secure; HttpOnly\"><pre><span class=\"pl-s\"><span class=\"pl-v\">Set-Cookie:</span> ar_debug=1; SameSite=None; Secure; HttpOnly</span></pre></div>\n<p dir=\"auto\">If a cookie of this form is not present, debugging information will be ignored.</p>\n<h2 dir=\"auto\"><a id=\"user-content-sample-usage\" class=\"anchor\" aria-hidden=\"true\" href=\"#sample-usage\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Sample Usage</h2>\n<p dir=\"auto\"><code>publisher.example</code> wants to show ads on their site, so they contract out to\n<code>ad-tech.example</code>. <code>ad-tech.example</code>'s script in the main document creates a\ncross-origin iframe to host the third party advertisement for\n<code>toasters.example</code>.</p>\n<p dir=\"auto\">Within the iframe, <code>toasters.example</code> code annotates their anchor tags to use\nthe <code>ad-tech.example</code> reporting origin.</p>\n<div class=\"highlight highlight-text-html-basic position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;iframe src=&quot;https://ad-tech-3p.example/show-some-ad&quot; \n        allow=&quot;attribution-reporting&quot;&gt;\n...\n&lt;a \n  href=&quot;https://toasters.example/purchase&quot;\n  attributionsrc=&quot;https://ad-tech.example?adid=123456&quot;&gt;\n  click me!\n&lt;/a&gt;\n...\n&lt;/iframe&gt;\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">iframe</span> <span class=\"pl-c1\">src</span>=\"<span class=\"pl-s\">https://ad-tech-3p.example/show-some-ad</span>\" \n        <span class=\"pl-c1\">allow</span>=\"<span class=\"pl-s\">attribution-reporting</span>\"<span class=\"pl-kos\">&gt;</span>\n...\n<span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">a</span> \n  <span class=\"pl-c1\">href</span>=\"<span class=\"pl-s\">https://toasters.example/purchase</span>\"\n  <span class=\"pl-c1\">attributionsrc</span>=\"<span class=\"pl-s\">https://ad-tech.example?adid=123456</span>\"<span class=\"pl-kos\">&gt;</span>\n  click me!\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">a</span><span class=\"pl-kos\">&gt;</span>\n...\n<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">iframe</span><span class=\"pl-kos\">&gt;</span></pre></div>\n<p dir=\"auto\">A user clicks on the ad and this opens a window that lands on a URL to\n<code>toasters.example/purchase</code>. In the background, the browser issues an HTTP\nrequest to <code>https://ad-tech.example?adid=123456</code>. The ad-tech responds with a\n<code>Attribution-Reporting-Register-Source</code> JSON header:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n  &quot;source_event_id&quot;: &quot;12345678&quot;,\n  &quot;destination&quot;: &quot;https://toasters.example&quot;,\n  &quot;expiry&quot;: &quot;604800000&quot;\n}\"><pre><span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"source_event_id\"</span>: <span class=\"pl-s\">\"12345678\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"destination\"</span>: <span class=\"pl-s\">\"https://toasters.example\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"expiry\"</span>: <span class=\"pl-s\">\"604800000\"</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">2 days later, the user buys something on <code>toasters.example</code>. <code>toasters.example</code>\ntriggers attribution on the few different ad-tech companies it buys ads on,\nincluding <code>ad-tech.example</code>, by adding conversion pixels:</p>\n<div class=\"highlight highlight-text-html-basic position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;img src=&quot;...” attributionsrc=”https://ad-tech.example/trigger-attribution?model=toastmaster3000&amp;price=$49.99&amp;...&quot; /&gt;\"><pre><span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">img</span> <span class=\"pl-c1\">src</span>=\"<span class=\"pl-s\">...” attributionsrc=”https://ad-tech.example/trigger-attribution?model=toastmaster3000&amp;price=$49.99&amp;...</span>\" /&gt;</pre></div>\n<p dir=\"auto\"><code>ad-tech.example</code> receives this request, and decides to trigger attribution on\n<code>toasters.example</code>. They must compress all of the data into 3 bits, so\n<code>ad-tech.example</code> chooses to encode the value as “2\" (e.g. some bucketed version\nof the purchase value). They respond to the request with a\n<code>Attribution-Reporting-Register-Event-Trigger</code> header:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[{\n    &quot;trigger_data&quot;: &quot;2&quot;\n}]\"><pre><span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span>\n    <span class=\"pl-s\">\"trigger_data\"</span>: <span class=\"pl-s\">\"2\"</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span></pre></div>\n<p dir=\"auto\">The browser sees this response, and schedules a report to be sent. The report is\nassociated with the 7-day deadline as the 2-day deadline has passed. Roughly 5\ndays later, <code>ad-tech.example</code> receives the following HTTP POST to\n<code>https://ad-tech.example/.well-known/attribution-reporting/report-event-attribution</code>\nwith the following body:</p>\n<div class=\"highlight highlight-source-js position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n  &quot;attribution_destination&quot;: &quot;https://toasters.example&quot;,\n  &quot;source_event_id&quot;: &quot;12345678&quot;,\n  &quot;trigger_data&quot;: &quot;2&quot;,\n}\"><pre><span class=\"pl-kos\">{</span>\n  <span class=\"pl-s\">\"attribution_destination\"</span>: <span class=\"pl-s\">\"https://toasters.example\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"source_event_id\"</span>: <span class=\"pl-s\">\"12345678\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"trigger_data\"</span>: <span class=\"pl-s\">\"2\"</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<h3 dir=\"auto\"><a id=\"user-content-noisy-fake-conversion-example\" class=\"anchor\" aria-hidden=\"true\" href=\"#noisy-fake-conversion-example\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Noisy fake conversion example</h3>\n<p dir=\"auto\">Assume the caller uses the same inputs as in the above example, however, the\n<a href=\"#data-limits-and-noise\">noise mechanism</a> in the browser chooses to generate\ncompletely fake data for the source event. This occurs with some probability\n<code>p</code>.</p>\n<p dir=\"auto\">To generate fake events, the browser considers all possible outputs for a given\nsource event:</p>\n<ul dir=\"auto\">\n<li>No reports at all</li>\n<li>One report with metadata “0” at the first reporting window</li>\n<li>One report with metadata “1” at the first reporting window and one report with\nmetadata “3” at the second reporting window</li>\n<li>etc. etc. etc.</li>\n</ul>\n<p dir=\"auto\">After enumerating all possible outputs of the API for a given source event, the\nbrowser simply selects one of them at random uniformly. Any subsequent true\ntrigger events that would be attributed to the source event are completely\nignored.</p>\n<p dir=\"auto\">In the above example, the browser could have chosen to generate three reports:</p>\n<ul dir=\"auto\">\n<li>One report with metadata “7”, sent 2 days after the click</li>\n<li>One report with metadata “3”, sent 7 days after the click</li>\n<li>One report with metadata “0”, also sent 7 days after the click</li>\n</ul>\n<h3 dir=\"auto\"><a id=\"user-content-storage-limits\" class=\"anchor\" aria-hidden=\"true\" href=\"#storage-limits\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Storage limits</h3>\n<p dir=\"auto\">The browser may apply storage limits in order to prevent excessive resource\nusage.</p>\n<p dir=\"auto\">Strawman: There should be a limit of 1024 pending sources per source origin.</p>\n<p dir=\"auto\">Strawman: There should be a limit of 1024 pending reports per destination site.</p>\n<h2 dir=\"auto\"><a id=\"user-content-privacy-considerations\" class=\"anchor\" aria-hidden=\"true\" href=\"#privacy-considerations\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Privacy Considerations</h2>\n<p dir=\"auto\">A primary privacy goal of the API is to make <em>linking identity</em> between two\ndifferent top-level sites difficult. This happens when either a request or a\nJavaScript environment has two user IDs from two different sites simultaneously.</p>\n<p dir=\"auto\">Secondary goals of the API are to:</p>\n<ul dir=\"auto\">\n<li>give some level of <em>plausible deniability</em> to cross-site data leakage\nassociated with source events.</li>\n<li>limit the raw amount of cross-site information a site can learn relative to a\nsource event</li>\n</ul>\n<p dir=\"auto\">In this API, the 64-bit source ID can encode a user ID from the publisher’s top-\nlevel site, but the low-entropy, noisy trigger data could only encode a small\npart of a user ID from the advertiser’s top-level site. The source ID and the\ntrigger data are never exposed to a JavaScript environment together, and the\nrequest that includes both of them is sent without credentials and at a\ndifferent time from either event, so the request adds little new information\nlinkable to these events. This allows us to limit the information gained by the\nad-tech relative to a source event.</p>\n<p dir=\"auto\">Additionally, there is a small chance that all the output for a given source\nevent is completely fabricated by the browser, giving the user plausible\ndeniability whether subsequent trigger events actually occurred the way they\nwere reported.</p>\n<h3 dir=\"auto\"><a id=\"user-content-trigger-data\" class=\"anchor\" aria-hidden=\"true\" href=\"#trigger-data\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Trigger Data</h3>\n<p dir=\"auto\">Trigger data, e.g. advertiser-side data, is extremely important for critical use\ncases like reporting the <em>purchase value</em> of a conversion. However, too much\nadvertiser-side data could be used to link advertiser identity with publisher\nidentity.</p>\n<p dir=\"auto\">Mitigations against this are to provide only coarse information (only a few bits\nat a time), and introduce some noise to the API output. Even sophisticated\nattackers will therefore need to invoke the API multiple times (through multiple\nclicks/views) to join identity between sites with high confidence.</p>\n<p dir=\"auto\">Note that this noise still allows for aggregate measurement of bucket sizes with\nan unbiased estimator (assuming rate-limits are not hit) See generic approaches\nof dealing with <a href=\"https://en.wikipedia.org/wiki/Randomized_response\" rel=\"nofollow\">Randomized\nresponse</a> for a starting\npoint.</p>\n<p dir=\"auto\">TODO: Update this script to account for the more complicated randomized response\napproach.</p>\n<h3 dir=\"auto\"><a id=\"user-content-reporting-delay\" class=\"anchor\" aria-hidden=\"true\" href=\"#reporting-delay\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Reporting Delay</h3>\n<p dir=\"auto\">By bucketing reports within a small number reporting deadlines, it becomes\nharder to associate a report with the identity of the user on the advertiser’s\nsite via timing side channels.</p>\n<p dir=\"auto\">Reports within the same reporting window occur within an anonymity set with all\nothers during that time period. For example, if we didn’t bucket reports with a\ndelay (and instead sent them immediately after a trigger event), the reports\n(which contain publisher IDs) could be easily joined up with the advertiser’s\nfirst-party information via correlating timestamps.</p>\n<p dir=\"auto\">Note that the delay windows / deadlines chosen represent a trade-off with\nutility, since it becomes harder to properly assign credit to a click if the\ntime from click to conversion is not known. That is, time-to-conversion is an\nimportant signal for proper attribution. Browsers should make sure that this\ntrade-off is concretely evaluated for both privacy and utility before deciding\non a delay.</p>\n<h3 dir=\"auto\"><a id=\"user-content-reporting-origin-limits\" class=\"anchor\" aria-hidden=\"true\" href=\"#reporting-origin-limits\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Reporting origin limits</h3>\n<p dir=\"auto\">If the advertiser is allowed to cycle through many possible reporting origins,\nthen the publisher and advertiser don’t necessarily have to agree apriori on\nwhat origin to use, and which origin actually ends up getting used reveals some\nextra information.</p>\n<p dir=\"auto\">To prevent this kind of abuse, the browser should limit the number of reporting\norigins per &lt;source site, destination site&gt; pair, counted per source\nregistration. This should be limited to 100 origins per 30 days.</p>\n<p dir=\"auto\">Additionally, there should be a limit of 10 reporting origins per &lt;source site,\ndestination site, 30 days&gt;, counted for every attribution that is generated.</p>\n<h3 dir=\"auto\"><a id=\"user-content-clearing-site-data\" class=\"anchor\" aria-hidden=\"true\" href=\"#clearing-site-data\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Clearing Site Data</h3>\n<p dir=\"auto\">Attribution source data and attribution reports in browser storage should be\nclearable using existing “clear browsing data\" functionality offered by\nbrowsers.</p>\n<h3 dir=\"auto\"><a id=\"user-content-reporting-cooldown--rate-limits\" class=\"anchor\" aria-hidden=\"true\" href=\"#reporting-cooldown--rate-limits\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Reporting cooldown / rate limits</h3>\n<p dir=\"auto\">To limit the amount of user identity leakage between a &lt;source site,\ndestination&gt; pair, the browser should throttle the amount of total information\nsent through this API in a given time period for a user. The browser should set\na maximum number of attributions per</p>\n tuple per time period. If this\nthreshold is hit, the browser will stop scheduling reports the API for the\nrest of the time period for attributions matching that tuple.\n<p dir=\"auto\">The longer the cooldown windows are, the harder it is to abuse the API and join\nidentity. Ideally attribution thresholds should be low enough to avoid leaking too\nmuch information, with cooldown windows as long as practically possible.</p>\n<p dir=\"auto\">Note that splitting these limits by the reporting origin introduces a possible\nleak when multiple origins collude with each other. However, the alternative\nmakes it very difficult to adopt the API if all reporting origins had to share a\nbudget.</p>\n<p dir=\"auto\">Strawman rate limit: 100 attributions per {source site, destination, reporting\norigin, 30 days}</p>\n<h3 dir=\"auto\"><a id=\"user-content-less-trigger-side-data\" class=\"anchor\" aria-hidden=\"true\" href=\"#less-trigger-side-data\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Less trigger-side data</h3>\n<p dir=\"auto\">Registering event attribution sources is not gated on a user interaction or top-\nlevel navigation, allowing them to be registered more frequently and with\ngreater ease. For example, by restricting to 1 bit of data and 1 report per\nevent source, a <code>reportingorigin</code> would need to register many more sources in\norder to link cross-site identity relative to the Click Through API.</p>\n<p dir=\"auto\">This is further restricted by rate-limiting the usage of the API between two\nsites, using <a href=\"/WICG/conversion-measurement-api/blob/main/event_attribution_reporting_clicks.md#reporting-cooldown--rate-limits\">reporting\ncooldowns</a>.\nDue to the different characteristics between classes of sources, these cooldowns\nshould have independent limits on the number of reports of each type.</p>\n<p dir=\"auto\">The number of reporting windows is another vector which can contain trigger-side\ninformation. By restricting to a <a href=\"#single-reporting-window\">single window</a>, a\n<code>reportingorigin</code> does not receive any additional information on when in the\nattribution window a source was triggered.</p>\n<h3 dir=\"auto\"><a id=\"user-content-browsing-history-reconstruction\" class=\"anchor\" aria-hidden=\"true\" href=\"#browsing-history-reconstruction\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Browsing history reconstruction</h3>\n<p dir=\"auto\">Reporting attribution without a pre-existing navigation allows the\n<code>reportingorigin</code> to learn whether a given user on the source site visited the\n<code>destination</code> site at all. For click-through reports, this is not an issue\nbecause the <code>reportingorigin</code> knows a priori the user was navigating to\n<code>destination</code>.</p>\n<p dir=\"auto\">This new threat is be mitigated in a number of ways:</p>\n<h4 dir=\"auto\"><a id=\"user-content-adding-noise-to-whether-a-trigger-is-genuine\" class=\"anchor\" aria-hidden=\"true\" href=\"#adding-noise-to-whether-a-trigger-is-genuine\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Adding noise to whether a trigger is genuine</h4>\n<p dir=\"auto\">By adding noise to whether an attribute source gets\n<a href=\"#data-limits-and-noise\">triggered</a>, a reporting origin will not know with\nabsolute certainty whether a particular ad view led to a site visit. See\n<a href=\"#differential-privacy\">Differential privacy</a>.</p>\n<h4 dir=\"auto\"><a id=\"user-content-limiting-the-number-of-unique-destinations-covered-by-pending-sources\" class=\"anchor\" aria-hidden=\"true\" href=\"#limiting-the-number-of-unique-destinations-covered-by-pending-sources\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Limiting the number of unique destinations covered by pending sources</h4>\n<p dir=\"auto\">To limit the breadth of <code>destination</code> sites that a reporting origin may be\ntrying to measure user visits on, the browser can limit the number <code>destination</code>\neTLD+1s represented by pending sources for a source-site.</p>\n<p dir=\"auto\">The browser can place a limit on the number of a source site's pending source's\nunique <code>destination</code>s. When an attribution source is registered for an eTLD+1\nthat is not already in the pending sources and a source site is at its limit,\nthe browser will drop the new source.</p>\n<p dir=\"auto\">The lower this value, the harder it is for a reporting origin to use the API to\ntry and measure user browsing activity not associated with ads being shown.\nBrowsers may choose parameters on the number of <code>destination</code>s to make their own\ntradeoffs for privacy and utility.</p>\n<p dir=\"auto\">Because this limit is per source site, it is possible for different reporting\norigin on a site to push the other attribution sources out of the browser. See\nthe <a href=\"#denial-of-service\">denial of service</a> for more details. To prevent this\nattack, the browser should maintain these limits per reporting origin. This\neffectively limits the number of unique sites covered by pending sources from\nany one reporting origin.</p>\n<p dir=\"auto\">Strawman: 100 distinct destination sites per-{source site, reporting origin},\napplied to all pending sources regardless of type.</p>\n<p dir=\"auto\">TODO: should this be applied over a time period?</p>\n<h3 dir=\"auto\"><a id=\"user-content-differential-privacy\" class=\"anchor\" aria-hidden=\"true\" href=\"#differential-privacy\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Differential privacy</h3>\n<p dir=\"auto\">A goal of this work is to create a framework that would support making\nevent-level measurement that satisfies local differential privacy. This follows\nfrom our use of k-randomized response to generate noisy output for each source\nevent. For a given output space O with cardinality k, true value v in the output\nspace, and flip probability p, the k-randomized response algorithm:</p>\n<ul dir=\"auto\">\n<li>Flips a biased coin with heads probability p</li>\n<li>If heads, return a random value in O</li>\n<li>Otherwise return v</li>\n</ul>\n<p dir=\"auto\">k-randomized response is an algorithm that is epsilon differentially private if\np = k / (k + exp(epsilon) - 1). For low enough values of epsilon, a given\nsource’s true output should be well protected by the randomized response\nmechanism.</p>\n<p dir=\"auto\">Note that the number of all possible output states k in the above design is:</p>\n<ul dir=\"auto\">\n<li>2925 for click sources. This results from a particular “stars and bars”\ncounting method which derives k = (num_reporting_windows * num_trigger_data +\nnum_reports choose num_reports) = (3 * 8 + 3 choose 3). TODO: outline why this\nis the case.</li>\n<li>3 for event-sources (no attribution, attribution with trigger data 1,\nattribution with trigger data 0). This also follows from (1 * 2 + 1 choose 1).</li>\n</ul>\n<p dir=\"auto\">Note that the scope of privacy in the current design is not user-level, but\nrather source-level. This follows from the fact that noise is added\nindependently per source-event, and source events are not strictly rate-limited.\nExact noise parameters are subject to change with feedback. The primary goal\nwith this proposal as written is to ensure that the browser has the appropriate\ninfrastructure foundation to develop locally differentially private methods in\nthe future. Tightening the privacy scope will also be considered in future work.</p>\n<p dir=\"auto\">Our plan is to adjust the level of noise added based on feedback during the\norigin trial period, and our goal with this initial version is to create a\nfoundation for further exploration into formally private methods for\nmeasurement.</p>\n<h3 dir=\"auto\"><a id=\"user-content-speculative-limits-based-on-first-party-storage\" class=\"anchor\" aria-hidden=\"true\" href=\"#speculative-limits-based-on-first-party-storage\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Speculative: Limits based on first party storage</h3>\n<p dir=\"auto\">Another mitigation on joining identity across publisher and advertiser sites is\nto limit the number of reports for any given &lt;publisher, advertiser&gt; pair until\nthe advertiser clears their site data. This could occur via the\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Clear-Site-Data\" rel=\"nofollow\">Clear-Site-Data</a>\nheader or by explicit user action.</p>\n<p dir=\"auto\">To prevent linking across deletions, we might need to introduce new options to\nthe Clear-Site-Data header to only clear data after the page has unloaded.</p>\n<h2 dir=\"auto\"><a id=\"user-content-security-considerations\" class=\"anchor\" aria-hidden=\"true\" href=\"#security-considerations\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Security considerations</h2>\n<h3 dir=\"auto\"><a id=\"user-content-reporting-origin-control\" class=\"anchor\" aria-hidden=\"true\" href=\"#reporting-origin-control\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Reporting origin control</h3>\n<p dir=\"auto\">Reports can only be generated if the same origin responds with headers that\nregister source events and trigger events. There is no way for an origin to\nregister events on behalf of another origin, which is an important restriction\nto prevent fraudulent reports.</p>\n<h3 dir=\"auto\"><a id=\"user-content-denial-of-service\" class=\"anchor\" aria-hidden=\"true\" href=\"#denial-of-service\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Denial of service</h3>\n<p dir=\"auto\">Rate limits and other restrictions to the API can cause reports to no longer be\nsent in some cases. It is important to consider all the cases where an origin\ncould utilize the API in some way to lock out other origins, and minimize that\nrisk if possible.</p>\n<p dir=\"auto\">Currently, the only known limit in this proposal that could risk denial of\nservice is the <a href=\"#reporting-origin-limits\">reporting origin limits</a>. This is an\nexplicit trade-off for privacy that should be monitored for abuse.</p>\n<h3 dir=\"auto\"><a id=\"user-content-top-site-permission-model\" class=\"anchor\" aria-hidden=\"true\" href=\"#top-site-permission-model\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a>Top site permission model</h3>\n<p dir=\"auto\">The Permissions Policy is used to globally enable or disable the API.\nAdditionally, network requests need fine grained permission in the form of\nrequiring an <code>attributionsrc</code> attribute.</p>\n</article>\n  </div>\n\n    </div>\n\n  </readme-toc>\n\n  \n\n  <details class=\"details-reset details-overlay details-overlay-dark\" id=\"jumpto-line-details-dialog\">\n    <summary data-hotkey=\"l\" aria-label=\"Jump to line\"></summary>\n    <details-dialog class=\"Box Box--overlay d-flex flex-column anim-fade-in fast linejump\" aria-label=\"Jump to line\">\n      <!-- '\"` --><!-- </textarea></xmp> --></option></form><form class=\"js-jump-to-line-form Box-body d-flex\" data-turbo=\"false\" action=\"\" accept-charset=\"UTF-8\" method=\"get\">\n        <input class=\"form-control flex-auto mr-3 linejump-input js-jump-to-line-field\" type=\"text\" placeholder=\"Jump to line&hellip;\" aria-label=\"Jump to line\" autofocus>\n        <button data-close-dialog=\"\" type=\"submit\" data-view-component=\"true\" class=\"btn\">  Go\n  \n</button>\n</form>    </details-dialog>\n  </details>\n\n    <div class=\"Popover anim-scale-in js-tagsearch-popover\"\n     hidden\n     data-tagsearch-url=\"/WICG/conversion-measurement-api/find-definition\"\n     data-tagsearch-ref=\"main\"\n     data-tagsearch-code-nav-context=\"BLOB_VIEW\">\n  <div class=\"Popover-message Popover-message--large Popover-message--top-left TagsearchPopover mt-1 mb-4 mx-auto Box color-shadow-large\">\n    <div class=\"TagsearchPopover-content js-tagsearch-popover-content overflow-auto\" style=\"will-change:transform;\">\n    </div>\n  </div>\n</div>\n\n\n</div>\n\n  </div>\n\n\n</div>\n\n    </main>\n  </div>\n\n  </div>\n\n          <footer class=\"footer width-full container-xl p-responsive\" role=\"contentinfo\">\n\n\n  <div class=\"position-relative d-flex flex-items-center pb-2 f6 color-fg-muted border-top color-border-muted flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap mt-6 pt-6\">\n    <ul class=\"list-style-none d-flex flex-wrap col-0 col-lg-2 flex-justify-start flex-lg-justify-between mb-2 mb-lg-0\">\n      <li class=\"mt-2 mt-lg-0 d-flex flex-items-center\">\n        <a aria-label=\"Homepage\" title=\"GitHub\" class=\"footer-octicon mr-2\" href=\"https://github.com\">\n          <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-mark-github\">\n    <path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path>\n</svg>\n</a>        <span>\n        &copy; 2022 GitHub, Inc.\n        </span>\n      </li>\n    </ul>\n    <ul class=\"list-style-none d-flex flex-wrap col-12 col-lg-8 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0\">\n        <li class=\"mr-3 mr-lg-0\"><a href=\"https://docs.github.com/en/github/site-policy/github-terms-of-service\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}\">Terms</a></li>\n        <li class=\"mr-3 mr-lg-0\"><a href=\"https://docs.github.com/en/github/site-policy/github-privacy-statement\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}\">Privacy</a></li>\n        <li class=\"mr-3 mr-lg-0\"><a data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}\" href=\"https://github.com/security\">Security</a></li>\n        <li class=\"mr-3 mr-lg-0\"><a href=\"https://www.githubstatus.com/\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}\">Status</a></li>\n        <li class=\"mr-3 mr-lg-0\"><a data-ga-click=\"Footer, go to help, text:Docs\" href=\"https://docs.github.com\">Docs</a></li>\n        <li class=\"mr-3 mr-lg-0\"><a href=\"https://support.github.com?tags=dotcom-footer\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}\">Contact GitHub</a></li>\n        <li class=\"mr-3 mr-lg-0\"><a href=\"https://github.com/pricing\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Pricing&quot;,&quot;label&quot;:&quot;text:Pricing&quot;}\">Pricing</a></li>\n      <li class=\"mr-3 mr-lg-0\"><a href=\"https://docs.github.com\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to api&quot;,&quot;label&quot;:&quot;text:api&quot;}\">API</a></li>\n      <li class=\"mr-3 mr-lg-0\"><a href=\"https://services.github.com\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to training&quot;,&quot;label&quot;:&quot;text:training&quot;}\">Training</a></li>\n        <li class=\"mr-3 mr-lg-0\"><a href=\"https://github.blog\" data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to blog&quot;,&quot;label&quot;:&quot;text:blog&quot;}\">Blog</a></li>\n        <li><a data-ga-click=\"Footer, go to about, text:about\" href=\"https://github.com/about\">About</a></li>\n    </ul>\n  </div>\n  <div class=\"d-flex flex-justify-center pb-6\">\n    <span class=\"f6 color-fg-muted\"></span>\n  </div>\n</footer>\n\n\n\n\n  <div id=\"ajax-error-message\" class=\"ajax-error-message flash flash-error\" hidden>\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n    <button type=\"button\" class=\"flash-close js-ajax-error-dismiss\" aria-label=\"Dismiss error\">\n      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">\n    <path fill-rule=\"evenodd\" d=\"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z\"></path>\n</svg>\n    </button>\n    You can’t perform that action at this time.\n  </div>\n\n  <div class=\"js-stale-session-flash flash flash-warn flash-banner\" hidden\n    >\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n    <span class=\"js-stale-session-flash-signed-in\" hidden>You signed in with another tab or window. <a href=\"\">Reload</a> to refresh your session.</span>\n    <span class=\"js-stale-session-flash-signed-out\" hidden>You signed out in another tab or window. <a href=\"\">Reload</a> to refresh your session.</span>\n  </div>\n    <template id=\"site-details-dialog\">\n  <details class=\"details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm\" open>\n    <summary role=\"button\" aria-label=\"Close dialog\"></summary>\n    <details-dialog class=\"Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal\">\n      <button class=\"Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0\" type=\"button\" aria-label=\"Close dialog\" data-close-dialog>\n        <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">\n    <path fill-rule=\"evenodd\" d=\"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z\"></path>\n</svg>\n      </button>\n      <div class=\"octocat-spinner my-6 js-details-dialog-spinner\"></div>\n    </details-dialog>\n  </details>\n</template>\n\n    <div class=\"Popover js-hovercard-content position-absolute\" style=\"display: none; outline: none;\" tabindex=\"0\">\n  <div class=\"Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large\" style=\"width:360px;\">\n  </div>\n</div>\n\n    <template id=\"snippet-clipboard-copy-button\">\n  <div class=\"zeroclipboard-container position-absolute right-0 top-0\">\n    <clipboard-copy aria-label=\"Copy\" class=\"ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay\" data-copy-feedback=\"Copied!\" data-tooltip-direction=\"w\">\n      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-copy js-clipboard-copy-icon m-2\">\n    <path fill-rule=\"evenodd\" d=\"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\"></path><path fill-rule=\"evenodd\" d=\"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\"></path>\n</svg>\n      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2\">\n    <path fill-rule=\"evenodd\" d=\"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\"></path>\n</svg>\n    </clipboard-copy>\n  </div>\n</template>\n\n\n\n\n  </body>\n</html>\n\n","oembed":false,"readabilityObject":{"title":"conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api","content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"readme\" data-target=\"readme-toc.content\">\n    <article itemprop=\"text\"><p dir=\"auto\"><em>This is an in-depth technical explainer. If you're looking for a high-level\nintroduction to Attribution Reporting with event-level reports, head over to\n<a href=\"https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-event-introduction/\" rel=\"nofollow\">Event-level reports in the Attribution Reporting API</a>.</em></p>\n<p dir=\"auto\"><em>A list of all API guides and blog posts for this API is also available\n<a href=\"https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting/\" rel=\"nofollow\">here</a>.</em></p>\n<h2 dir=\"auto\">Attribution Reporting with event-level reports</h2>\n<p dir=\"auto\">This document is an explainer for a potential new web platform feature which\nallows for measuring and reporting ad click and view conversions.</p>\n<p dir=\"auto\">See the explainer on <a href=\"/WICG/conversion-measurement-api/blob/main/AGGREGATE.md\">aggregate measurement</a> for a potential\nextension on top of this.</p>\n\n\n<p dir=\"auto\"><strong>Table of Contents</strong></p>\n<ul dir=\"auto\">\n<li><a href=\"#motivation\">Motivation</a></li>\n<li><a href=\"#related-work\">Related work</a></li>\n<li><a href=\"#api-overview\">API Overview</a>\n<ul dir=\"auto\">\n<li><a href=\"#registering-attribution-sources\">Registering attribution sources</a></li>\n<li><a href=\"#handling-an-attribution-source-event\">Handling an attribution source\nevent</a></li>\n<li><a href=\"#publisher-side-controls-for-attribution-source-declaration\">Publisher-side Controls for Attribution Source\nDeclaration</a></li>\n<li><a href=\"#triggering-attribution\">Triggering Attribution</a></li>\n<li><a href=\"#data-limits-and-noise\">Data limits and noise</a></li>\n<li><a href=\"#trigger-attribution-algorithm\">Trigger attribution algorithm</a></li>\n<li><a href=\"#multiple-sources-for-the-same-trigger-multi-touch\">Multiple sources for the same trigger\n(Multi-touch)</a></li>\n<li><a href=\"#sending-scheduled-reports\">Sending Scheduled Reports</a></li>\n<li><a href=\"#attribution-reports\">Attribution Reports</a></li>\n<li><a href=\"#data-encoding\">Data Encoding</a></li>\n<li><a href=\"#optional-attribution-filters\">Optional attribution filters</a></li>\n<li><a href=\"#optional-extended-debugging-reports\">Optional: extended debugging reports</a></li>\n<li><a href=\"#noisy-fake-conversion-example\">Noisy fake conversion example</a></li>\n<li><a href=\"#storage-limits\">Storage limits</a></li>\n</ul>\n</li>\n<li><a href=\"#privacy-considerations\">Privacy Considerations</a>\n<ul dir=\"auto\">\n<li><a href=\"#trigger-data\">Trigger Data</a></li>\n<li><a href=\"#reporting-delay\">Reporting Delay</a></li>\n<li><a href=\"#reporting-origin-limits\">Reporting origin limits</a></li>\n<li><a href=\"#clearing-site-data\">Clearing Site Data</a></li>\n<li><a href=\"#reporting-cooldown--rate-limits\">Reporting cooldown / rate limits</a></li>\n<li><a href=\"#less-trigger-side-data\">Less trigger-side data</a></li>\n<li><a href=\"#browsing-history-reconstruction\">Browsing history reconstruction</a>\n<ul dir=\"auto\">\n<li><a href=\"#adding-noise-to-whether-a-trigger-is-genuine\">Adding noise to whether a trigger is\ngenuine</a></li>\n<li><a href=\"#limiting-the-number-of-unique-destinations-covered-by-pending-sources\">Limiting the number of unique destinations covered by pending\nsources</a></li>\n</ul>\n</li>\n<li><a href=\"#differential-privacy\">Differential privacy</a></li>\n<li><a href=\"#speculative-limits-based-on-first-party-storage\">Speculative: Limits based on first party\nstorage</a></li>\n</ul>\n</li>\n<li><a href=\"#security-considerations\">Security considerations</a>\n<ul dir=\"auto\">\n<li><a href=\"#reporting-origin-control\">Reporting origin control</a></li>\n<li><a href=\"#denial-of-service\">Denial of service</a></li>\n<li><a href=\"#top-site-permission-model\">Top site permission model</a></li>\n</ul>\n</li>\n</ul>\n\n<h2 dir=\"auto\">Motivation</h2>\n<p dir=\"auto\">Currently, the web ad industry measures conversions via identifiers they can\nassociate across sites. These identifiers tie information about which ads were\nclicked to information about activity on the advertiser's site (the conversion).\nThis allows advertisers to measure ROI, and for the entire ads ecosystem to\nunderstand how well ads perform.</p>\n<p dir=\"auto\">Since the ads industry today uses common identifiers across advertiser and\npublisher sites to track conversions, these common identifiers can be used to\nenable other forms of cross-site tracking.</p>\n<p dir=\"auto\">This doesn’t have to be the case, though, especially in cases where identifiers\nsuch as third-party cookies are either unavailable or undesirable. A new API\nsurface can be added to the web platform to satisfy this use case without them,\nin a way that provides better privacy to users.</p>\n<p dir=\"auto\">This API alone will not be able to support all conversion measurement use cases.\nWe envision this API as one of potentially many new APIs that will seek to\nreproduce valid advertising use cases in the web platform in a privacy\npreserving way. In particular, we think this API could be extended by using\nserver side aggregation to provide richer data, which we are continuing to\nexplore.</p>\n<h2 dir=\"auto\">Related work</h2>\n<p dir=\"auto\">There is an alternative <a href=\"https://github.com/privacycg/private-click-measurement\">Private Click\nMeasurement</a> draft spec\nin the PrivacyCG. See this <a href=\"https://webkit.org/blog/8943/privacy-preserving-ad-click-attribution-for-the-web/\" rel=\"nofollow\">WebKit blog\npost</a>\nfor more details.</p>\n<p dir=\"auto\">There are multiple aggregate designs in\n<a href=\"https://github.com/WICG/privacy-preserving-ads\">wicg/privacy-preserving-ads</a>,\nincluding Bucketization and MaskedLARK.</p>\n<p dir=\"auto\">Folks from Meta and Mozilla have published the <a href=\"https://docs.google.com/document/d/1KpdSKD8-Rn0bWPTu4UtK54ks0yv2j22pA5SrAD9av4s/edit#heading=h.f4x9f0nqv28x\" rel=\"nofollow\">Interoperable Private\nAttribution(IPA)</a>\nproposal for doing aggregate attribution measurement.</p>\n<p dir=\"auto\">Brave has published and implemented an <a href=\"https://github.com/brave/brave-browser/wiki/Security-and-privacy-model-for-ad-confirmations\">Ads Confirmation\nProtocol</a>.</p>\n<h2 dir=\"auto\">API Overview</h2>\n<h3 dir=\"auto\">Registering attribution sources</h3>\n<p dir=\"auto\">Attribution sources are events which future triggers can be attributed to. There\nare two types of attribution sources, <code>navigation</code> sources and <code>event</code> sources.</p>\n<p dir=\"auto\"><code>navigation</code> sources are registered via clicks on anchor tags:</p>\n<div data-snippet-clipboard-copy-content=\"<a href=&quot;https://advertiser.example/landing&quot;\n   attributionsrc=&quot;https://adtech.example/attribution_source?my_ad_id=123&quot;>\n   click me\n</a>\"><pre><span>&lt;</span><span>a</span> <span>href</span>=\"<span>https://advertiser.example/landing</span>\"\n   <span>attributionsrc</span>=\"<span>https://adtech.example/attribution_source?my_ad_id=123</span>\"<span>&gt;</span>\n   click me\n<span>&lt;/</span><span>a</span><span>&gt;</span></pre></div>\n<p dir=\"auto\">or via calls to <code>window.open</code> that occur with <a href=\"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation\" rel=\"nofollow\">transient\nactivation</a>:</p>\n<div data-snippet-clipboard-copy-content=\"window.open(\n  &quot;https://advertiser.example/landing&quot;,\n  &quot;_blank&quot;,\n  &quot;attributionsrc=https://adtech.example/attribution_source?my_ad_id=123&quot;);\"><pre><span>window</span><span>.</span><span>open</span><span>(</span>\n  <span>\"https://advertiser.example/landing\"</span><span>,</span>\n  <span>\"_blank\"</span><span>,</span>\n  <span>\"attributionsrc=https://adtech.example/attribution_source?my_ad_id=123\"</span><span>)</span><span>;</span></pre></div>\n<p dir=\"auto\"><code>event</code> sources do not require any user interaction and are registered via\n<code>&lt;img&gt;</code> tags with the new <code>attributionsrc</code> attribute too:</p>\n<div data-snippet-clipboard-copy-content=\"<!-- TODO: is view registration via an `<a>` tag necessary?\n    It may require a new attribute and a way to differentiate the requests. -->\n\n<img src=&quot;https://advertiser.example/pixel&quot; \n     attributionsrc=&quot;https://adtech.example/attribution_source?my_ad_id=123&quot; />\"><pre><span>&lt;!-- TODO: is view registration via an `&lt;a&gt;` tag necessary?</span>\n<span>    It may require a new attribute and a way to differentiate the requests. --&gt;</span>\n\n<span>&lt;</span><span>img</span> <span>src</span>=\"<span>https://advertiser.example/pixel</span>\" \n     <span>attributionsrc</span>=\"<span>https://adtech.example/attribution_source?my_ad_id=123</span>\" /&gt;</pre></div>\n<p dir=\"auto\">or via a JavaScript API:</p>\n<div data-snippet-clipboard-copy-content=\"window.attributionReporting.registerSource(\n  &quot;https://adtech.example/attribution_source?my_ad_id=123&quot;);\"><pre><span>window</span><span>.</span><span>attributionReporting</span><span>.</span><span>registerSource</span><span>(</span>\n  <span>\"https://adtech.example/attribution_source?my_ad_id=123\"</span><span>)</span><span>;</span></pre></div>\n<p dir=\"auto\">Each of these mechanisms will cause the browser to initiate a <code>keepalive</code> fetch\nrequest to the URL indicated by <code>attributionsrc</code>.</p>\n<p dir=\"auto\">The response to this request will configure the API. The browser will expect\ndata in a new JSON HTTP header <code>Attribution-Reporting-Register-Source</code> which\nconfigures the API:</p>\n<div data-snippet-clipboard-copy-content=\"{\n  &quot;source_event_id&quot;: &quot;12340873456&quot;,\n  &quot;destination&quot;: &quot;[eTLD+1]&quot;,\n  &quot;expiry&quot;: &quot;[64-bit signed integer]&quot;,\n  &quot;priority&quot;: &quot;[64-bit signed integer]&quot;\n}\"><pre><span>{</span>\n  <span>\"source_event_id\"</span>: <span>\"12340873456\"</span><span>,</span>\n  <span>\"destination\"</span>: <span>\"[eTLD+1]\"</span><span>,</span>\n  <span>\"expiry\"</span>: <span>\"[64-bit signed integer]\"</span><span>,</span>\n  <span>\"priority\"</span>: <span>\"[64-bit signed integer]\"</span>\n<span>}</span></pre></div>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\"><code>destination</code>: an origin whose eTLD+1 is where attribution will be triggered\nfor this source.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>source_event_id</code>: A DOMString encoding a 64-bit unsigned integer which\nrepresents the event-level data associated with this source. This will be\nlimited to 64 bits of information but the value can vary.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>expiry</code>: (optional) expiry in seconds for when the source should be\ndeleted. Default is 30 days, with a maximum value of 30 days. The maximum expiry\ncan also vary between browsers. This will be rounded to the nearest day.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>priority</code>: (optional) a signed 64-bit integer used to prioritize\nthis source with respect to other matching sources. When a trigger redirect is\nreceived, the browser will find the matching source with highest\n<code>priority</code> value and generate a report. The other sources will not\ngenerate reports.</p>\n</li>\n</ul>\n<p dir=\"auto\">Once this header is received, the browser will proceed with <a href=\"#handling-an-attribution-source-event\">handling an\nattribution source event</a>. Note that it\nis possible to register multiple sources for the same request using HTTP\nredirects (though these multiple sources may not set distinct destinations).</p>\n<p dir=\"auto\">Note that we sometimes call the <code>attributionsrc</code>'s origin the \"reporting origin\"\nsince it is the origin that will end up receiving attribution reports.</p>\n<h3 dir=\"auto\">Handling an attribution source event</h3>\n<p dir=\"auto\">A <code>navigation</code> attribution source event will be logged to storage if the\nresulting document being navigated to ends up sharing an eTLD+1 with the\n<code>destination</code> origin. Additionally, the navigation needs occur with <a href=\"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation\" rel=\"nofollow\">transient\nuser\nactivation</a>.</p>\n<p dir=\"auto\"><code>event</code> sources don’t require any of the above constraints to be logged.</p>\n<p dir=\"auto\">When a source is logged for &lt;<code>attributionsrc</code> origin, <code>destination</code>&gt; pair,\nexisting sources matching this pair will be looked up in storage. If the\nmatching sources have been triggered at least once (i.e. have scheduled a\nreport), they will be removed from browser storage and will not be eligible for\nfurther reporting. Any pending reports for these sources will still be sent.</p>\n<p dir=\"auto\">An attribution source will be eligible for reporting if any page on the\n<code>destination</code> eTLD+1 (advertiser site) triggers attribution for the associated\nreporting origin.</p>\n<h3 dir=\"auto\">Publisher-side Controls for Attribution Source Declaration</h3>\n<p dir=\"auto\">In order to prevent arbitrary third parties from registering sources without the\npublisher’s knowledge, the Attribution Reporting API will need to be enabled in\nchild contexts by a new <a href=\"https://w3c.github.io/webappsec-permissions-policy/\" rel=\"nofollow\">Permissions\nPolicy</a>:</p>\n<div data-snippet-clipboard-copy-content=\"<iframe src=&quot;https://advertiser.example&quot; allow=&quot;attribution-reporting 'src'&quot;>\n\n<a … id=&quot;...&quot; attributionsrc=&quot;https://ad-tech.example?...&quot;></a>\n\n</iframe>\"><pre><span>&lt;</span><span>iframe</span> <span>src</span>=\"<span>https://advertiser.example</span>\" <span>allow</span>=\"<span>attribution-reporting 'src'</span>\"<span>&gt;</span>\n\n<span>&lt;</span><span>a</span> <span>…</span> <span>id</span>=\"<span>...</span>\" <span>attributionsrc</span>=\"<span>https://ad-tech.example?...</span>\"<span>&gt;</span><span>&lt;/</span><span>a</span><span>&gt;</span>\n\n<span>&lt;/</span><span>iframe</span><span>&gt;</span></pre></div>\n<p dir=\"auto\">The API will be enabled by default in the top-level context and in same-origin\nchildren. Any script running in these contexts can declare a source with any\nreporting origin. Publishers who wish to explicitly disable the API for all\nparties can do so via an <a href=\"https://w3c.github.io/webappsec-permissions-policy/#permissions-policy-http-header-field\" rel=\"nofollow\">HTTP\nheader</a>.</p>\n<p dir=\"auto\">Without a Permissions Policy, a top-level document and cooperating iframe could\nrecreate this functionality. This is possible by using\n<a href=\"https://html.spec.whatwg.org/multipage/web-messaging.html#dom-window-postmessage\" rel=\"nofollow\">postMessage</a>\nto send the <code>source_event_id</code>, <code>attributionsrc</code> origin, <code>destination</code> values to\nthe top level document who can then wrap the iframe in an anchor tag (with some\nadditional complexities behind handling clicks on the iframe). Using Permissions\nPolicy prevents the need for these hacks. This is inline with the classification\nof powerful features as discussed on <a href=\"https://github.com/w3c/webappsec-permissions-policy/issues/252\" data-hovercard-type=\"issue\" data-hovercard-url=\"/w3c/webappsec-permissions-policy/issues/252/hovercard\">this\nissue</a>.</p>\n<h3 dir=\"auto\">Triggering Attribution</h3>\n<p dir=\"auto\">Attribution can only be triggered for a source on a page whose eTLD+1 matches\nthe eTLD+1 of the site provided in <code>destination</code>. To trigger attribution, a\nsimilar mechanism is used as source event registration, via HTML:</p>\n<div data-snippet-clipboard-copy-content=\"<img src=&quot;https://ad-tech.example/conversionpixel&quot; \n     attributionsrc=”https://adtech.example/attribution_trigger?purchase=13” />\"><pre><span>&lt;</span><span>img</span> <span>src</span>=\"<span>https://ad-tech.example/conversionpixel</span>\" \n     <span>attributionsrc</span>=<span>”https://adtech.example/attribution_trigger?purchase</span>=13” /&gt;</pre></div>\n<p dir=\"auto\">or JavaScript:</p>\n<div data-snippet-clipboard-copy-content=\"window.attributionReporting.registerTrigger(\n    &quot;https://adtech.example/attribution_trigger?purchase=13&quot;)\"><pre><span>window</span><span>.</span><span>attributionReporting</span><span>.</span><span>registerTrigger</span><span>(</span>\n    <span>\"https://adtech.example/attribution_trigger?purchase=13\"</span><span>)</span></pre></div>\n<p dir=\"auto\">As a stop-gap to support pre-existing conversion tags which do not include the\n<code>attributionsrc</code> attribute, or use a different Fetch API, the browser will also\nprocess trigger registration headers for all subresource requests on the page\nwhere the <code>attribution-reporting</code> Permissions Policy is enabled.</p>\n<p dir=\"auto\">Like source event registrations, these requests should respond with a new HTTP\nheader <code>Attribution-Reporting-Register-Event-Trigger</code> which contains information\nabout how to treat the trigger event:</p>\n<div data-snippet-clipboard-copy-content=\"[{\n    &quot;trigger_data&quot;: &quot;[unsigned 64-bit integer, but the browser will sanitize it down to 3 bits]&quot;,\n    &quot;priority&quot;: &quot;[signed 64-bit integer]&quot;,\n    &quot;deduplication_key&quot;: &quot;[unsigned 64-bit integer]&quot;\n}]\"><pre><span>[</span><span>{</span>\n    <span>\"trigger_data\"</span>: <span>\"[unsigned 64-bit integer, but the browser will sanitize it down to 3 bits]\"</span><span>,</span>\n    <span>\"priority\"</span>: <span>\"[signed 64-bit integer]\"</span><span>,</span>\n    <span>\"deduplication_key\"</span>: <span>\"[unsigned 64-bit integer]\"</span>\n<span>}</span><span>]</span></pre></div>\n<p dir=\"auto\">TODO: Consider moving this over to a structured header. See <a href=\"https://github.com/WICG/conversion-measurement-api/issues/194\" data-hovercard-type=\"issue\" data-hovercard-url=\"/WICG/conversion-measurement-api/issues/194/hovercard\">issue\n194</a>.</p>\n<ul dir=\"auto\">\n<li><code>trigger_data</code>: optional coarse-grained data to identify the triggering event.</li>\n<li><code>priority</code>: optional signed 64-bit integer representing the priority\nof this trigger compared to other triggers for the same source.</li>\n<li><code>deduplication_key</code>: optional unsigned 64-bit integer which will be used to\ndeduplicate multiple triggers which contain the same deduplication_key for a\nsingle source.</li>\n</ul>\n<p dir=\"auto\">When this header is received, the browser will schedule an attribution report as\ndetailed in <a href=\"#trigger-attribution-algorithm\">Trigger attribution algorithm</a>.\nNote that the header can be present on redirect requests.</p>\n<p dir=\"auto\">Triggering attribution requires the <code>attribution-reporting</code> Permissions Policy\nto be enabled in the context the request is made. As described in <a href=\"#publisher-side-controls-for-attribution-source-declaration\">Publisher\nControls for Attribution Source\nDeclaration</a>, this\nPermissions Policy will be enabled by default in the top-level context and in\nsame-origin children, but disabled in cross-origin children.</p>\n<p dir=\"auto\">Navigation sources may be attributed up to 3 times. Event sources may be\nattributed up to 1 time.</p>\n<h3 dir=\"auto\">Data limits and noise</h3>\n<p dir=\"auto\">The <code>source_event_id</code> will be limited to 64 bits of information to enable\nuniquely identifying an ad click.</p>\n<p dir=\"auto\">The advertiser-side data must therefore be limited quite strictly, by limiting\nthe amount of data and by applying noise to the data. <code>navigation</code> sources will\nbe limited to only 3 bits of <code>trigger_data</code>, while <code>event</code> sources will be\nlimited to only 1 bit.</p>\n<p dir=\"auto\">Noise will be applied to whether a source event will be reported truthfully.\nWhen an attribution source is registered, the browser will perform one of the\nfollowing steps given a probability <code>p</code>:</p>\n<ul dir=\"auto\">\n<li>With probability <code>1 - p</code>, the browser logs the source as normal</li>\n<li>With probability <code>p</code>, the browser chooses randomly among all the possible\noutput states of the API. This includes the choice of not reporting anything at\nall, or potentially reporting multiple fake reports for the event.</li>\n</ul>\n<p dir=\"auto\">Note that this scheme is an instantiation of k-randomized response, see\n<a href=\"#differential-privacy\">Differential privacy</a>.</p>\n<p dir=\"auto\">Strawman: we can set <code>p</code> such that each source is protected with randomized\nresponse that satisfies an epsilon value of 14. This would entail:</p>\n<ul dir=\"auto\">\n<li><code>p = .24%</code> for <code>navigation</code> sources</li>\n<li><code>p = .00025%</code> for <code>event</code> sources</li>\n</ul>\n<p dir=\"auto\">Note that correcting for this noise addition is straightforward in most cases,\nplease see &lt;TODO link to de-biasing advice/code snippet here&gt;. Reports will be\nupdated to include <code>p</code> so that noise correction can work correctly in the event\nthat <code>p</code> changes over time, or if different browsers apply different\nprobabilities:</p>\n<div data-snippet-clipboard-copy-content=\"{\n  &quot;randomized_trigger_rate&quot;: 0.0024,\n  ...\n}\"><pre><span>{</span>\n  <span>\"randomized_trigger_rate\"</span>: <span>0.0024</span><span>,</span>\n  ...\n<span>}</span></pre></div>\n<p dir=\"auto\">Note that these initial strawman parameters were chosen as a way to ease\nadoption of the API without negatively impacting utility substantially. They are\nsubject to change in the future with additional feedback and do not necessarily\nreflect a final set of parameters.</p>\n<h3 dir=\"auto\">Trigger attribution algorithm</h3>\n<p dir=\"auto\">When the browser receives an attribution trigger redirect on a URL matching the\n<code>destination</code> eTLD+1, it looks up all sources in storage that match\n&lt;<code>attributionsrc</code> origin, <code>destination</code>&gt; and picks the one with the greatest\n<code>priority</code>. If multiple sources have the greatest <code>priority</code>, the\nbrowser picks the one that was stored most recently.</p>\n<p dir=\"auto\">The browser then schedules a report for the source that was picked by storing\n{<code>attributionsrc</code> origin, <code>destination</code> eTLD+1, <code>source_event_id</code>,\n<a href=\"#data-encoding\">decoded</a> <code>trigger_data</code>, <code>priority</code>, <code>deduplication_key</code>} for\nthe source. Scheduled reports will be sent as detailed in <a href=\"#sending-scheduled-reports\">Sending scheduled\nreports</a>.</p>\n<p dir=\"auto\">The browser will create reports for a source only if the trigger's\n<code>deduplication_key</code> has not already been associated with a report for that source.</p>\n<p dir=\"auto\">Each <code>navigation</code> source is allowed to schedule only a maximum of three reports,\nwhile each <code>event</code> source is only allowed to schedule a maximum of one.</p>\n<p dir=\"auto\">If a source has already scheduled the maximum number of reports when a new\nreport is being scheduled, the browser will compare the priority of the new\nreport with the priorities of the scheduled reports for that source. If the new\nreport has the lowest priority, it will be ignored. Otherwise, the browser will\ndelete the scheduled report with the lowest priority and schedule the new\nreport.</p>\n<h3 dir=\"auto\">Multiple sources for the same trigger (Multi-touch)</h3>\n<p dir=\"auto\">If multiple sources were registered and associated with a single attribution\ntrigger, send reports for the one with the highest priority. If no priority is\nspecified, the browser performs last-touch.</p>\n<p dir=\"auto\">There are many possible alternatives to this, like providing a choice of\nrules-based attribution models. However, it isn’t clear the benefits outweigh\nthe additional complexity. Additionally, models other than last-click\npotentially leak more cross-site information if sources are clicked across\ndifferent sites.</p>\n<h3 dir=\"auto\">Sending Scheduled Reports</h3>\n<p dir=\"auto\">Reports for <code>event</code> sources will be sent 1 hour after the source expires at its\n<code>expiry</code>.</p>\n<p dir=\"auto\">Reports for <code>navigation</code> sources may be reported earlier than the source's\n<code>expiry</code>, at specified points in time relative to when the source event was\nregistered. See\n<a href=\"https://wicg.github.io/conversion-measurement-api/#delivery-time\" rel=\"nofollow\">here</a> for the\nprecise algorithm.</p>\n<p dir=\"auto\">Note that the report may be sent at a later date if the browser was not running\nwhen the window finished. In this case, reports will be sent on startup. The\nbrowser may also decide to delay some of these reports for a short random time\non startup, so that they cannot be joined together easily by a given reporting\norigin.</p>\n<h3 dir=\"auto\">Attribution Reports</h3>\n<p dir=\"auto\">To send a report, the browser will make a non-credentialed (i.e. without session\ncookies) secure HTTP POST request to:</p>\n<div data-snippet-clipboard-copy-content=\"https://<reporting origin>/.well-known/attribution-reporting/report-event-attribution\"><pre><code>https://&lt;reporting origin&gt;/.well-known/attribution-reporting/report-event-attribution\n</code></pre></div>\n<p dir=\"auto\">The report data is included in the request body as a JSON object with the\nfollowing keys:</p>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\"><code>attribution_destination</code>: the attribution destination set on the source</p>\n</li>\n<li>\n<p dir=\"auto\"><code>source_event_id</code>: 64-bit event id set on the attribution source</p>\n</li>\n<li>\n<p dir=\"auto\"><code>trigger_data</code>: Coarse data set in the attribution trigger registration</p>\n</li>\n<li>\n<p dir=\"auto\"><code>report_id</code>: A UUID string for this report which can be used to prevent\ndouble counting</p>\n</li>\n<li>\n<p dir=\"auto\"><code>source_type</code>: Either \"navigation\" or \"event\", indicates whether this source\nwas associated with a navigation.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>randomized_trigger_rate</code>: Decimal number between 0 and 1 indicating how\noften noise is applied.</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Data Encoding</h3>\n<p dir=\"auto\">The source event id and trigger data should be specified in a way that is\namenable to the privacy assurances a browser wants to provide (i.e. the number\nof distinct data states supported).</p>\n<p dir=\"auto\">The input values will be 64-bit integers which the browser will interpret modulo\nits maximum data value chosen by the browser. The browser will take the input\nand performs the equivalent of:</p>\n<div data-snippet-clipboard-copy-content=\"function getData(input, max_value) {\n  return input % max_value;\n}\"><pre><span>function</span> <span>getData</span><span>(</span><span>input</span><span>,</span> <span>max_value</span><span>)</span> <span>{</span>\n  <span>return</span> <span>input</span> <span>%</span> <span>max_value</span><span>;</span>\n<span>}</span></pre></div>\n<p dir=\"auto\">The benefit of this method over using a fixed bit mask is that it allows\nbrowsers to implement max_values that aren’t multiples of 2. That is, browers\ncan choose a \"fractional\" bit limit if they want to.</p>\n<h3 dir=\"auto\">Optional attribution filters</h3>\n<p dir=\"auto\">Source and trigger registration has additional optional functionality to both:</p>\n<ol dir=\"auto\">\n<li>Selectively filter some triggers (effectively ignoring them)</li>\n<li>Choose trigger data based on source event data</li>\n</ol>\n<p dir=\"auto\">This can be done via simple extensions to the registration configuration.</p>\n<p dir=\"auto\">Source registration:</p>\n<div data-snippet-clipboard-copy-content=\"{\n  &quot;source_event_id&quot;: &quot;12345678&quot;,\n  &quot;destination&quot;: &quot;https://toasters.example&quot;,\n  &quot;expiry&quot;: &quot;604800000&quot;,\n  &quot;filter_data&quot;: {\n    &quot;conversion_subdomain&quot;: [&quot;electronics.megastore&quot;\n                             &quot;electronics2.megastore&quot;],\n    &quot;product&quot;: [&quot;1234&quot;],\n    // Note that &quot;source_type&quot; will be automatically generated as\n    // one of {&quot;navigation&quot;, &quot;event&quot;}\n  }\n}\"><pre><span>{</span>\n  <span>\"source_event_id\"</span>: <span>\"12345678\"</span><span>,</span>\n  <span>\"destination\"</span>: <span>\"https://toasters.example\"</span><span>,</span>\n  <span>\"expiry\"</span>: <span>\"604800000\"</span><span>,</span>\n  <span>\"filter_data\"</span>: <span>{</span>\n    <span>\"conversion_subdomain\"</span>: <span>[</span><span>\"electronics.megastore\"</span>\n                             <span>\"electronics2.megastore\"</span><span>]</span><span>,</span>\n    <span>\"product\"</span>: <span>[</span><span>\"1234\"</span><span>]</span><span>,</span>\n    <span>// Note that \"source_type\" will be automatically generated as</span>\n    <span>// one of {\"navigation\", \"event\"}</span>\n  <span>}</span>\n<span>}</span></pre></div>\n<p dir=\"auto\">Trigger registration will now accept an option header\n<code>Attribution-Reporting-Filters</code>:</p>\n<div data-snippet-clipboard-copy-content=\"{\n  &quot;conversion_subdomain&quot;: [&quot;electronics.megastore&quot;],\n  // Not set on the source side, so this key is ignored\n  &quot;directory&quot;: [&quot;/store/electronics]&quot;\n}\"><pre><span>{</span>\n  <span>\"conversion_subdomain\"</span>: <span>[</span><span>\"electronics.megastore\"</span><span>]</span><span>,</span>\n  <span>// Not set on the source side, so this key is ignored</span>\n  <span>\"directory\"</span>: <span>[</span><span>\"/store/electronics]\"</span><span></span>\n<span>}</span></pre></div>\n<p dir=\"auto\">If keys in the filters JSON match keys in <code>filter_data</code>, the trigger is\ncompletely ignored if the intersection is empty.</p>\n<p dir=\"auto\">Note: A key which is present in one JSON and not the other will not be included\nin the matching logic.</p>\n<p dir=\"auto\">Note: The filter JSON does not support nested dictionaries or lists.\n<code>filter_data</code> and <code>filters</code> are only allowed to have a list of values with\nstring type.</p>\n<p dir=\"auto\">The <code>Attribution-Reporting-Register-Event-Trigger</code> header can also be extended\nto do selective filtering to set <code>trigger_data</code> based on <code>filter_data</code>:</p>\n<div data-snippet-clipboard-copy-content=\"// Filter by the source type to handle different bit limits.\n[{\n  &quot;trigger_data&quot;: &quot;2&quot;,\n  // Note that “not_filters” which filters with a negation is also supported.\n  &quot;filters&quot;: {&quot;source_type&quot;: [&quot;navigation&quot;]}\n},\n{\n  &quot;trigger_data&quot;: &quot;1&quot;,\n  &quot;filters&quot;: {&quot;source_type&quot;: [&quot;event&quot;]}\n}]\"><pre><span>// Filter by the source type to handle different bit limits.</span>\n<span>[</span><span>{</span>\n  <span>\"trigger_data\"</span>: <span>\"2\"</span><span>,</span>\n  <span>// Note that “not_filters” which filters with a negation is also supported.</span>\n  <span>\"filters\"</span>: <span>{</span><span>\"source_type\"</span>: <span>[</span><span>\"navigation\"</span><span>]</span><span>}</span>\n<span>}</span><span>,</span>\n<span>{</span>\n  <span>\"trigger_data\"</span>: <span>\"1\"</span><span>,</span>\n  <span>\"filters\"</span>: <span>{</span><span>\"source_type\"</span>: <span>[</span><span>\"event\"</span><span>]</span><span>}</span>\n<span>}</span><span>]</span></pre></div>\n<p dir=\"auto\">If the filters do not match for any of the event triggers, the trigger data and\npriority both default to 0 and the dedup key defaults to not being set, and\nattribution proceeds normally.</p>\n<p dir=\"auto\">If the filters match for multiple event triggers, the first matching event\ntrigger is used.</p>\n<h3 dir=\"auto\">Optional: extended debugging reports</h3>\n<p dir=\"auto\">The Attribution Reporting API is a new and fairly complex way to do attribution\nmeasurement without third-party cookies. As such, we are open to introducing a\ntransitional mechanism to learn more information about attribution reports\n<em>while third-party cookies are available</em>. This ensures that the API can be\nfully understood during roll-out and help flush out any bugs (either in browser\nor caller code), and more easily compare the performance to cookie-based\nalternatives.</p>\n<p dir=\"auto\">Source registration will accept a new parameter <code>debug_key</code>:</p>\n<div data-snippet-clipboard-copy-content=\"{\n    ...\n    &quot;debug_key&quot;: &quot;[64-bit unsigned integer]&quot;\n}\"><pre><span>{</span>\n    ...\n    <span>\"debug_key\"</span>: <span>\"[64-bit unsigned integer]\"</span>\n<span>}</span></pre></div>\n<p dir=\"auto\">Trigger debug keys are created using a separate header:</p>\n<div data-snippet-clipboard-copy-content=\"Attribution-Reporting-Trigger-Debug-Key: [64-bit unsigned integer]\"><pre><span><span>Attribution-Reporting-Trigger-Debug-Key:</span> [64-bit unsigned integer]</span></pre></div>\n<p dir=\"auto\">If a report is created with source and trigger debug keys, a duplicate debug report\nwill be sent immediately to a\n<code>.well-known/attribution-reporting/debug/report-event-attribution</code>\nendpoint. The debug reports will be identical to normal reports, but\nadditionally contain both debug keys:</p>\n<div data-snippet-clipboard-copy-content=\"{\n    // normal report fields...\n    &quot;source_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;,\n    &quot;trigger_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;\n}\"><pre><span>{</span>\n    <span>// normal report fields...</span>\n    <span>\"source_debug_key\"</span>: <span>\"[64-bit unsigned integer]\"</span><span>,</span>\n    <span>\"trigger_debug_key\"</span>: <span>\"[64-bit unsigned integer]\"</span>\n<span>}</span></pre></div>\n<p dir=\"auto\">Normal reports will also include two new parameters which pass the debug keys\nfrom source and trigger events unaltered. This allows tying normal reports to the\nseparate stream of debug reports.</p>\n<div data-snippet-clipboard-copy-content=\"{\n    ...\n    &quot;source_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;,\n    &quot;trigger_debug_key&quot;: &quot;[64-bit unsigned integer]&quot;\n}\"><pre><span>{</span>\n    ...\n    <span>\"source_debug_key\"</span>: <span>\"[64-bit unsigned integer]\"</span><span>,</span>\n    <span>\"trigger_debug_key\"</span>: <span>\"[64-bit unsigned integer]\"</span>\n<span>}</span></pre></div>\n<p dir=\"auto\">Note that event-level reports associated with false trigger events\nwill not have <code>trigger_debug_key</code>s. This allows developers to more\nclosely understand how noise is applied in the API.</p>\n<p dir=\"auto\">To ensure that this data (which could enable cross-site tracking) is only\navailable in a transitional phase while third-party cookies are available and\nare already capable of user tracking, the browser will check (at both source\nand trigger registration) for the presence of a special <code>SameSite=None</code> cookie\nset by the reporting origin:</p>\n<div data-snippet-clipboard-copy-content=\"Set-Cookie: ar_debug=1; SameSite=None; Secure; HttpOnly\"><pre><span><span>Set-Cookie:</span> ar_debug=1; SameSite=None; Secure; HttpOnly</span></pre></div>\n<p dir=\"auto\">If a cookie of this form is not present, debugging information will be ignored.</p>\n<h2 dir=\"auto\">Sample Usage</h2>\n<p dir=\"auto\"><code>publisher.example</code> wants to show ads on their site, so they contract out to\n<code>ad-tech.example</code>. <code>ad-tech.example</code>'s script in the main document creates a\ncross-origin iframe to host the third party advertisement for\n<code>toasters.example</code>.</p>\n<p dir=\"auto\">Within the iframe, <code>toasters.example</code> code annotates their anchor tags to use\nthe <code>ad-tech.example</code> reporting origin.</p>\n<div data-snippet-clipboard-copy-content=\"<iframe src=&quot;https://ad-tech-3p.example/show-some-ad&quot; \n        allow=&quot;attribution-reporting&quot;>\n...\n<a \n  href=&quot;https://toasters.example/purchase&quot;\n  attributionsrc=&quot;https://ad-tech.example?adid=123456&quot;>\n  click me!\n</a>\n...\n</iframe>\"><pre><span>&lt;</span><span>iframe</span> <span>src</span>=\"<span>https://ad-tech-3p.example/show-some-ad</span>\" \n        <span>allow</span>=\"<span>attribution-reporting</span>\"<span>&gt;</span>\n...\n<span>&lt;</span><span>a</span> \n  <span>href</span>=\"<span>https://toasters.example/purchase</span>\"\n  <span>attributionsrc</span>=\"<span>https://ad-tech.example?adid=123456</span>\"<span>&gt;</span>\n  click me!\n<span>&lt;/</span><span>a</span><span>&gt;</span>\n...\n<span>&lt;/</span><span>iframe</span><span>&gt;</span></pre></div>\n<p dir=\"auto\">A user clicks on the ad and this opens a window that lands on a URL to\n<code>toasters.example/purchase</code>. In the background, the browser issues an HTTP\nrequest to <code>https://ad-tech.example?adid=123456</code>. The ad-tech responds with a\n<code>Attribution-Reporting-Register-Source</code> JSON header:</p>\n<div data-snippet-clipboard-copy-content=\"{\n  &quot;source_event_id&quot;: &quot;12345678&quot;,\n  &quot;destination&quot;: &quot;https://toasters.example&quot;,\n  &quot;expiry&quot;: &quot;604800000&quot;\n}\"><pre><span>{</span>\n  <span>\"source_event_id\"</span>: <span>\"12345678\"</span><span>,</span>\n  <span>\"destination\"</span>: <span>\"https://toasters.example\"</span><span>,</span>\n  <span>\"expiry\"</span>: <span>\"604800000\"</span>\n<span>}</span></pre></div>\n<p dir=\"auto\">2 days later, the user buys something on <code>toasters.example</code>. <code>toasters.example</code>\ntriggers attribution on the few different ad-tech companies it buys ads on,\nincluding <code>ad-tech.example</code>, by adding conversion pixels:</p>\n<div data-snippet-clipboard-copy-content=\"<img src=&quot;...” attributionsrc=”https://ad-tech.example/trigger-attribution?model=toastmaster3000&amp;price=$49.99&amp;...&quot; />\"><pre><span>&lt;</span><span>img</span> <span>src</span>=\"<span>...” attributionsrc=”https://ad-tech.example/trigger-attribution?model=toastmaster3000&amp;price=$49.99&amp;...</span>\" /&gt;</pre></div>\n<p dir=\"auto\"><code>ad-tech.example</code> receives this request, and decides to trigger attribution on\n<code>toasters.example</code>. They must compress all of the data into 3 bits, so\n<code>ad-tech.example</code> chooses to encode the value as “2\" (e.g. some bucketed version\nof the purchase value). They respond to the request with a\n<code>Attribution-Reporting-Register-Event-Trigger</code> header:</p>\n<div data-snippet-clipboard-copy-content=\"[{\n    &quot;trigger_data&quot;: &quot;2&quot;\n}]\"><pre><span>[</span><span>{</span>\n    <span>\"trigger_data\"</span>: <span>\"2\"</span>\n<span>}</span><span>]</span></pre></div>\n<p dir=\"auto\">The browser sees this response, and schedules a report to be sent. The report is\nassociated with the 7-day deadline as the 2-day deadline has passed. Roughly 5\ndays later, <code>ad-tech.example</code> receives the following HTTP POST to\n<code>https://ad-tech.example/.well-known/attribution-reporting/report-event-attribution</code>\nwith the following body:</p>\n<div data-snippet-clipboard-copy-content=\"{\n  &quot;attribution_destination&quot;: &quot;https://toasters.example&quot;,\n  &quot;source_event_id&quot;: &quot;12345678&quot;,\n  &quot;trigger_data&quot;: &quot;2&quot;,\n}\"><pre><span>{</span>\n  <span>\"attribution_destination\"</span>: <span>\"https://toasters.example\"</span><span>,</span>\n  <span>\"source_event_id\"</span>: <span>\"12345678\"</span><span>,</span>\n  <span>\"trigger_data\"</span>: <span>\"2\"</span><span>,</span>\n<span>}</span></pre></div>\n<h3 dir=\"auto\">Noisy fake conversion example</h3>\n<p dir=\"auto\">Assume the caller uses the same inputs as in the above example, however, the\n<a href=\"#data-limits-and-noise\">noise mechanism</a> in the browser chooses to generate\ncompletely fake data for the source event. This occurs with some probability\n<code>p</code>.</p>\n<p dir=\"auto\">To generate fake events, the browser considers all possible outputs for a given\nsource event:</p>\n<ul dir=\"auto\">\n<li>No reports at all</li>\n<li>One report with metadata “0” at the first reporting window</li>\n<li>One report with metadata “1” at the first reporting window and one report with\nmetadata “3” at the second reporting window</li>\n<li>etc. etc. etc.</li>\n</ul>\n<p dir=\"auto\">After enumerating all possible outputs of the API for a given source event, the\nbrowser simply selects one of them at random uniformly. Any subsequent true\ntrigger events that would be attributed to the source event are completely\nignored.</p>\n<p dir=\"auto\">In the above example, the browser could have chosen to generate three reports:</p>\n<ul dir=\"auto\">\n<li>One report with metadata “7”, sent 2 days after the click</li>\n<li>One report with metadata “3”, sent 7 days after the click</li>\n<li>One report with metadata “0”, also sent 7 days after the click</li>\n</ul>\n<h3 dir=\"auto\">Storage limits</h3>\n<p dir=\"auto\">The browser may apply storage limits in order to prevent excessive resource\nusage.</p>\n<p dir=\"auto\">Strawman: There should be a limit of 1024 pending sources per source origin.</p>\n<p dir=\"auto\">Strawman: There should be a limit of 1024 pending reports per destination site.</p>\n<h2 dir=\"auto\">Privacy Considerations</h2>\n<p dir=\"auto\">A primary privacy goal of the API is to make <em>linking identity</em> between two\ndifferent top-level sites difficult. This happens when either a request or a\nJavaScript environment has two user IDs from two different sites simultaneously.</p>\n<p dir=\"auto\">Secondary goals of the API are to:</p>\n<ul dir=\"auto\">\n<li>give some level of <em>plausible deniability</em> to cross-site data leakage\nassociated with source events.</li>\n<li>limit the raw amount of cross-site information a site can learn relative to a\nsource event</li>\n</ul>\n<p dir=\"auto\">In this API, the 64-bit source ID can encode a user ID from the publisher’s top-\nlevel site, but the low-entropy, noisy trigger data could only encode a small\npart of a user ID from the advertiser’s top-level site. The source ID and the\ntrigger data are never exposed to a JavaScript environment together, and the\nrequest that includes both of them is sent without credentials and at a\ndifferent time from either event, so the request adds little new information\nlinkable to these events. This allows us to limit the information gained by the\nad-tech relative to a source event.</p>\n<p dir=\"auto\">Additionally, there is a small chance that all the output for a given source\nevent is completely fabricated by the browser, giving the user plausible\ndeniability whether subsequent trigger events actually occurred the way they\nwere reported.</p>\n<h3 dir=\"auto\">Trigger Data</h3>\n<p dir=\"auto\">Trigger data, e.g. advertiser-side data, is extremely important for critical use\ncases like reporting the <em>purchase value</em> of a conversion. However, too much\nadvertiser-side data could be used to link advertiser identity with publisher\nidentity.</p>\n<p dir=\"auto\">Mitigations against this are to provide only coarse information (only a few bits\nat a time), and introduce some noise to the API output. Even sophisticated\nattackers will therefore need to invoke the API multiple times (through multiple\nclicks/views) to join identity between sites with high confidence.</p>\n<p dir=\"auto\">Note that this noise still allows for aggregate measurement of bucket sizes with\nan unbiased estimator (assuming rate-limits are not hit) See generic approaches\nof dealing with <a href=\"https://en.wikipedia.org/wiki/Randomized_response\" rel=\"nofollow\">Randomized\nresponse</a> for a starting\npoint.</p>\n<p dir=\"auto\">TODO: Update this script to account for the more complicated randomized response\napproach.</p>\n<h3 dir=\"auto\">Reporting Delay</h3>\n<p dir=\"auto\">By bucketing reports within a small number reporting deadlines, it becomes\nharder to associate a report with the identity of the user on the advertiser’s\nsite via timing side channels.</p>\n<p dir=\"auto\">Reports within the same reporting window occur within an anonymity set with all\nothers during that time period. For example, if we didn’t bucket reports with a\ndelay (and instead sent them immediately after a trigger event), the reports\n(which contain publisher IDs) could be easily joined up with the advertiser’s\nfirst-party information via correlating timestamps.</p>\n<p dir=\"auto\">Note that the delay windows / deadlines chosen represent a trade-off with\nutility, since it becomes harder to properly assign credit to a click if the\ntime from click to conversion is not known. That is, time-to-conversion is an\nimportant signal for proper attribution. Browsers should make sure that this\ntrade-off is concretely evaluated for both privacy and utility before deciding\non a delay.</p>\n<h3 dir=\"auto\">Reporting origin limits</h3>\n<p dir=\"auto\">If the advertiser is allowed to cycle through many possible reporting origins,\nthen the publisher and advertiser don’t necessarily have to agree apriori on\nwhat origin to use, and which origin actually ends up getting used reveals some\nextra information.</p>\n<p dir=\"auto\">To prevent this kind of abuse, the browser should limit the number of reporting\norigins per &lt;source site, destination site&gt; pair, counted per source\nregistration. This should be limited to 100 origins per 30 days.</p>\n<p dir=\"auto\">Additionally, there should be a limit of 10 reporting origins per &lt;source site,\ndestination site, 30 days&gt;, counted for every attribution that is generated.</p>\n<h3 dir=\"auto\">Clearing Site Data</h3>\n<p dir=\"auto\">Attribution source data and attribution reports in browser storage should be\nclearable using existing “clear browsing data\" functionality offered by\nbrowsers.</p>\n<h3 dir=\"auto\">Reporting cooldown / rate limits</h3>\n<p dir=\"auto\">To limit the amount of user identity leakage between a &lt;source site,\ndestination&gt; pair, the browser should throttle the amount of total information\nsent through this API in a given time period for a user. The browser should set\na maximum number of attributions per</p>\n tuple per time period. If this\nthreshold is hit, the browser will stop scheduling reports the API for the\nrest of the time period for attributions matching that tuple.\n<p dir=\"auto\">The longer the cooldown windows are, the harder it is to abuse the API and join\nidentity. Ideally attribution thresholds should be low enough to avoid leaking too\nmuch information, with cooldown windows as long as practically possible.</p>\n<p dir=\"auto\">Note that splitting these limits by the reporting origin introduces a possible\nleak when multiple origins collude with each other. However, the alternative\nmakes it very difficult to adopt the API if all reporting origins had to share a\nbudget.</p>\n<p dir=\"auto\">Strawman rate limit: 100 attributions per {source site, destination, reporting\norigin, 30 days}</p>\n<h3 dir=\"auto\">Less trigger-side data</h3>\n<p dir=\"auto\">Registering event attribution sources is not gated on a user interaction or top-\nlevel navigation, allowing them to be registered more frequently and with\ngreater ease. For example, by restricting to 1 bit of data and 1 report per\nevent source, a <code>reportingorigin</code> would need to register many more sources in\norder to link cross-site identity relative to the Click Through API.</p>\n<p dir=\"auto\">This is further restricted by rate-limiting the usage of the API between two\nsites, using <a href=\"/WICG/conversion-measurement-api/blob/main/event_attribution_reporting_clicks.md#reporting-cooldown--rate-limits\">reporting\ncooldowns</a>.\nDue to the different characteristics between classes of sources, these cooldowns\nshould have independent limits on the number of reports of each type.</p>\n<p dir=\"auto\">The number of reporting windows is another vector which can contain trigger-side\ninformation. By restricting to a <a href=\"#single-reporting-window\">single window</a>, a\n<code>reportingorigin</code> does not receive any additional information on when in the\nattribution window a source was triggered.</p>\n<h3 dir=\"auto\">Browsing history reconstruction</h3>\n<p dir=\"auto\">Reporting attribution without a pre-existing navigation allows the\n<code>reportingorigin</code> to learn whether a given user on the source site visited the\n<code>destination</code> site at all. For click-through reports, this is not an issue\nbecause the <code>reportingorigin</code> knows a priori the user was navigating to\n<code>destination</code>.</p>\n<p dir=\"auto\">This new threat is be mitigated in a number of ways:</p>\n<h4 dir=\"auto\">Adding noise to whether a trigger is genuine</h4>\n<p dir=\"auto\">By adding noise to whether an attribute source gets\n<a href=\"#data-limits-and-noise\">triggered</a>, a reporting origin will not know with\nabsolute certainty whether a particular ad view led to a site visit. See\n<a href=\"#differential-privacy\">Differential privacy</a>.</p>\n<h4 dir=\"auto\">Limiting the number of unique destinations covered by pending sources</h4>\n<p dir=\"auto\">To limit the breadth of <code>destination</code> sites that a reporting origin may be\ntrying to measure user visits on, the browser can limit the number <code>destination</code>\neTLD+1s represented by pending sources for a source-site.</p>\n<p dir=\"auto\">The browser can place a limit on the number of a source site's pending source's\nunique <code>destination</code>s. When an attribution source is registered for an eTLD+1\nthat is not already in the pending sources and a source site is at its limit,\nthe browser will drop the new source.</p>\n<p dir=\"auto\">The lower this value, the harder it is for a reporting origin to use the API to\ntry and measure user browsing activity not associated with ads being shown.\nBrowsers may choose parameters on the number of <code>destination</code>s to make their own\ntradeoffs for privacy and utility.</p>\n<p dir=\"auto\">Because this limit is per source site, it is possible for different reporting\norigin on a site to push the other attribution sources out of the browser. See\nthe <a href=\"#denial-of-service\">denial of service</a> for more details. To prevent this\nattack, the browser should maintain these limits per reporting origin. This\neffectively limits the number of unique sites covered by pending sources from\nany one reporting origin.</p>\n<p dir=\"auto\">Strawman: 100 distinct destination sites per-{source site, reporting origin},\napplied to all pending sources regardless of type.</p>\n<p dir=\"auto\">TODO: should this be applied over a time period?</p>\n<h3 dir=\"auto\">Differential privacy</h3>\n<p dir=\"auto\">A goal of this work is to create a framework that would support making\nevent-level measurement that satisfies local differential privacy. This follows\nfrom our use of k-randomized response to generate noisy output for each source\nevent. For a given output space O with cardinality k, true value v in the output\nspace, and flip probability p, the k-randomized response algorithm:</p>\n<ul dir=\"auto\">\n<li>Flips a biased coin with heads probability p</li>\n<li>If heads, return a random value in O</li>\n<li>Otherwise return v</li>\n</ul>\n<p dir=\"auto\">k-randomized response is an algorithm that is epsilon differentially private if\np = k / (k + exp(epsilon) - 1). For low enough values of epsilon, a given\nsource’s true output should be well protected by the randomized response\nmechanism.</p>\n<p dir=\"auto\">Note that the number of all possible output states k in the above design is:</p>\n<ul dir=\"auto\">\n<li>2925 for click sources. This results from a particular “stars and bars”\ncounting method which derives k = (num_reporting_windows * num_trigger_data +\nnum_reports choose num_reports) = (3 * 8 + 3 choose 3). TODO: outline why this\nis the case.</li>\n<li>3 for event-sources (no attribution, attribution with trigger data 1,\nattribution with trigger data 0). This also follows from (1 * 2 + 1 choose 1).</li>\n</ul>\n<p dir=\"auto\">Note that the scope of privacy in the current design is not user-level, but\nrather source-level. This follows from the fact that noise is added\nindependently per source-event, and source events are not strictly rate-limited.\nExact noise parameters are subject to change with feedback. The primary goal\nwith this proposal as written is to ensure that the browser has the appropriate\ninfrastructure foundation to develop locally differentially private methods in\nthe future. Tightening the privacy scope will also be considered in future work.</p>\n<p dir=\"auto\">Our plan is to adjust the level of noise added based on feedback during the\norigin trial period, and our goal with this initial version is to create a\nfoundation for further exploration into formally private methods for\nmeasurement.</p>\n<h3 dir=\"auto\">Speculative: Limits based on first party storage</h3>\n<p dir=\"auto\">Another mitigation on joining identity across publisher and advertiser sites is\nto limit the number of reports for any given &lt;publisher, advertiser&gt; pair until\nthe advertiser clears their site data. This could occur via the\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Clear-Site-Data\" rel=\"nofollow\">Clear-Site-Data</a>\nheader or by explicit user action.</p>\n<p dir=\"auto\">To prevent linking across deletions, we might need to introduce new options to\nthe Clear-Site-Data header to only clear data after the page has unloaded.</p>\n<h2 dir=\"auto\">Security considerations</h2>\n<h3 dir=\"auto\">Reporting origin control</h3>\n<p dir=\"auto\">Reports can only be generated if the same origin responds with headers that\nregister source events and trigger events. There is no way for an origin to\nregister events on behalf of another origin, which is an important restriction\nto prevent fraudulent reports.</p>\n<h3 dir=\"auto\">Denial of service</h3>\n<p dir=\"auto\">Rate limits and other restrictions to the API can cause reports to no longer be\nsent in some cases. It is important to consider all the cases where an origin\ncould utilize the API in some way to lock out other origins, and minimize that\nrisk if possible.</p>\n<p dir=\"auto\">Currently, the only known limit in this proposal that could risk denial of\nservice is the <a href=\"#reporting-origin-limits\">reporting origin limits</a>. This is an\nexplicit trade-off for privacy that should be monitored for abuse.</p>\n<h3 dir=\"auto\">Top site permission model</h3>\n<p dir=\"auto\">The Permissions Policy is used to globally enable or disable the API.\nAdditionally, network requests need fine grained permission in the form of\nrequiring an <code>attributionsrc</code> attribute.</p>\n</article>\n  </div></div>","textContent":"\n    This is an in-depth technical explainer. If you're looking for a high-level\nintroduction to Attribution Reporting with event-level reports, head over to\nEvent-level reports in the Attribution Reporting API.\nA list of all API guides and blog posts for this API is also available\nhere.\nAttribution Reporting with event-level reports\nThis document is an explainer for a potential new web platform feature which\nallows for measuring and reporting ad click and view conversions.\nSee the explainer on aggregate measurement for a potential\nextension on top of this.\n\n\nTable of Contents\n\nMotivation\nRelated work\nAPI Overview\n\nRegistering attribution sources\nHandling an attribution source\nevent\nPublisher-side Controls for Attribution Source\nDeclaration\nTriggering Attribution\nData limits and noise\nTrigger attribution algorithm\nMultiple sources for the same trigger\n(Multi-touch)\nSending Scheduled Reports\nAttribution Reports\nData Encoding\nOptional attribution filters\nOptional: extended debugging reports\nNoisy fake conversion example\nStorage limits\n\n\nPrivacy Considerations\n\nTrigger Data\nReporting Delay\nReporting origin limits\nClearing Site Data\nReporting cooldown / rate limits\nLess trigger-side data\nBrowsing history reconstruction\n\nAdding noise to whether a trigger is\ngenuine\nLimiting the number of unique destinations covered by pending\nsources\n\n\nDifferential privacy\nSpeculative: Limits based on first party\nstorage\n\n\nSecurity considerations\n\nReporting origin control\nDenial of service\nTop site permission model\n\n\n\n\nMotivation\nCurrently, the web ad industry measures conversions via identifiers they can\nassociate across sites. These identifiers tie information about which ads were\nclicked to information about activity on the advertiser's site (the conversion).\nThis allows advertisers to measure ROI, and for the entire ads ecosystem to\nunderstand how well ads perform.\nSince the ads industry today uses common identifiers across advertiser and\npublisher sites to track conversions, these common identifiers can be used to\nenable other forms of cross-site tracking.\nThis doesn’t have to be the case, though, especially in cases where identifiers\nsuch as third-party cookies are either unavailable or undesirable. A new API\nsurface can be added to the web platform to satisfy this use case without them,\nin a way that provides better privacy to users.\nThis API alone will not be able to support all conversion measurement use cases.\nWe envision this API as one of potentially many new APIs that will seek to\nreproduce valid advertising use cases in the web platform in a privacy\npreserving way. In particular, we think this API could be extended by using\nserver side aggregation to provide richer data, which we are continuing to\nexplore.\nRelated work\nThere is an alternative Private Click\nMeasurement draft spec\nin the PrivacyCG. See this WebKit blog\npost\nfor more details.\nThere are multiple aggregate designs in\nwicg/privacy-preserving-ads,\nincluding Bucketization and MaskedLARK.\nFolks from Meta and Mozilla have published the Interoperable Private\nAttribution(IPA)\nproposal for doing aggregate attribution measurement.\nBrave has published and implemented an Ads Confirmation\nProtocol.\nAPI Overview\nRegistering attribution sources\nAttribution sources are events which future triggers can be attributed to. There\nare two types of attribution sources, navigation sources and event sources.\nnavigation sources are registered via clicks on anchor tags:\n<a href=\"https://advertiser.example/landing\"\n   attributionsrc=\"https://adtech.example/attribution_source?my_ad_id=123\">\n   click me\n</a>\nor via calls to window.open that occur with transient\nactivation:\nwindow.open(\n  \"https://advertiser.example/landing\",\n  \"_blank\",\n  \"attributionsrc=https://adtech.example/attribution_source?my_ad_id=123\");\nevent sources do not require any user interaction and are registered via\n<img> tags with the new attributionsrc attribute too:\n<!-- TODO: is view registration via an `<a>` tag necessary?\n    It may require a new attribute and a way to differentiate the requests. -->\n\n<img src=\"https://advertiser.example/pixel\" \n     attributionsrc=\"https://adtech.example/attribution_source?my_ad_id=123\" />\nor via a JavaScript API:\nwindow.attributionReporting.registerSource(\n  \"https://adtech.example/attribution_source?my_ad_id=123\");\nEach of these mechanisms will cause the browser to initiate a keepalive fetch\nrequest to the URL indicated by attributionsrc.\nThe response to this request will configure the API. The browser will expect\ndata in a new JSON HTTP header Attribution-Reporting-Register-Source which\nconfigures the API:\n{\n  \"source_event_id\": \"12340873456\",\n  \"destination\": \"[eTLD+1]\",\n  \"expiry\": \"[64-bit signed integer]\",\n  \"priority\": \"[64-bit signed integer]\"\n}\n\n\ndestination: an origin whose eTLD+1 is where attribution will be triggered\nfor this source.\n\n\nsource_event_id: A DOMString encoding a 64-bit unsigned integer which\nrepresents the event-level data associated with this source. This will be\nlimited to 64 bits of information but the value can vary.\n\n\nexpiry: (optional) expiry in seconds for when the source should be\ndeleted. Default is 30 days, with a maximum value of 30 days. The maximum expiry\ncan also vary between browsers. This will be rounded to the nearest day.\n\n\npriority: (optional) a signed 64-bit integer used to prioritize\nthis source with respect to other matching sources. When a trigger redirect is\nreceived, the browser will find the matching source with highest\npriority value and generate a report. The other sources will not\ngenerate reports.\n\n\nOnce this header is received, the browser will proceed with handling an\nattribution source event. Note that it\nis possible to register multiple sources for the same request using HTTP\nredirects (though these multiple sources may not set distinct destinations).\nNote that we sometimes call the attributionsrc's origin the \"reporting origin\"\nsince it is the origin that will end up receiving attribution reports.\nHandling an attribution source event\nA navigation attribution source event will be logged to storage if the\nresulting document being navigated to ends up sharing an eTLD+1 with the\ndestination origin. Additionally, the navigation needs occur with transient\nuser\nactivation.\nevent sources don’t require any of the above constraints to be logged.\nWhen a source is logged for <attributionsrc origin, destination> pair,\nexisting sources matching this pair will be looked up in storage. If the\nmatching sources have been triggered at least once (i.e. have scheduled a\nreport), they will be removed from browser storage and will not be eligible for\nfurther reporting. Any pending reports for these sources will still be sent.\nAn attribution source will be eligible for reporting if any page on the\ndestination eTLD+1 (advertiser site) triggers attribution for the associated\nreporting origin.\nPublisher-side Controls for Attribution Source Declaration\nIn order to prevent arbitrary third parties from registering sources without the\npublisher’s knowledge, the Attribution Reporting API will need to be enabled in\nchild contexts by a new Permissions\nPolicy:\n<iframe src=\"https://advertiser.example\" allow=\"attribution-reporting 'src'\">\n\n<a … id=\"...\" attributionsrc=\"https://ad-tech.example?...\"></a>\n\n</iframe>\nThe API will be enabled by default in the top-level context and in same-origin\nchildren. Any script running in these contexts can declare a source with any\nreporting origin. Publishers who wish to explicitly disable the API for all\nparties can do so via an HTTP\nheader.\nWithout a Permissions Policy, a top-level document and cooperating iframe could\nrecreate this functionality. This is possible by using\npostMessage\nto send the source_event_id, attributionsrc origin, destination values to\nthe top level document who can then wrap the iframe in an anchor tag (with some\nadditional complexities behind handling clicks on the iframe). Using Permissions\nPolicy prevents the need for these hacks. This is inline with the classification\nof powerful features as discussed on this\nissue.\nTriggering Attribution\nAttribution can only be triggered for a source on a page whose eTLD+1 matches\nthe eTLD+1 of the site provided in destination. To trigger attribution, a\nsimilar mechanism is used as source event registration, via HTML:\n<img src=\"https://ad-tech.example/conversionpixel\" \n     attributionsrc=”https://adtech.example/attribution_trigger?purchase=13” />\nor JavaScript:\nwindow.attributionReporting.registerTrigger(\n    \"https://adtech.example/attribution_trigger?purchase=13\")\nAs a stop-gap to support pre-existing conversion tags which do not include the\nattributionsrc attribute, or use a different Fetch API, the browser will also\nprocess trigger registration headers for all subresource requests on the page\nwhere the attribution-reporting Permissions Policy is enabled.\nLike source event registrations, these requests should respond with a new HTTP\nheader Attribution-Reporting-Register-Event-Trigger which contains information\nabout how to treat the trigger event:\n[{\n    \"trigger_data\": \"[unsigned 64-bit integer, but the browser will sanitize it down to 3 bits]\",\n    \"priority\": \"[signed 64-bit integer]\",\n    \"deduplication_key\": \"[unsigned 64-bit integer]\"\n}]\nTODO: Consider moving this over to a structured header. See issue\n194.\n\ntrigger_data: optional coarse-grained data to identify the triggering event.\npriority: optional signed 64-bit integer representing the priority\nof this trigger compared to other triggers for the same source.\ndeduplication_key: optional unsigned 64-bit integer which will be used to\ndeduplicate multiple triggers which contain the same deduplication_key for a\nsingle source.\n\nWhen this header is received, the browser will schedule an attribution report as\ndetailed in Trigger attribution algorithm.\nNote that the header can be present on redirect requests.\nTriggering attribution requires the attribution-reporting Permissions Policy\nto be enabled in the context the request is made. As described in Publisher\nControls for Attribution Source\nDeclaration, this\nPermissions Policy will be enabled by default in the top-level context and in\nsame-origin children, but disabled in cross-origin children.\nNavigation sources may be attributed up to 3 times. Event sources may be\nattributed up to 1 time.\nData limits and noise\nThe source_event_id will be limited to 64 bits of information to enable\nuniquely identifying an ad click.\nThe advertiser-side data must therefore be limited quite strictly, by limiting\nthe amount of data and by applying noise to the data. navigation sources will\nbe limited to only 3 bits of trigger_data, while event sources will be\nlimited to only 1 bit.\nNoise will be applied to whether a source event will be reported truthfully.\nWhen an attribution source is registered, the browser will perform one of the\nfollowing steps given a probability p:\n\nWith probability 1 - p, the browser logs the source as normal\nWith probability p, the browser chooses randomly among all the possible\noutput states of the API. This includes the choice of not reporting anything at\nall, or potentially reporting multiple fake reports for the event.\n\nNote that this scheme is an instantiation of k-randomized response, see\nDifferential privacy.\nStrawman: we can set p such that each source is protected with randomized\nresponse that satisfies an epsilon value of 14. This would entail:\n\np = .24% for navigation sources\np = .00025% for event sources\n\nNote that correcting for this noise addition is straightforward in most cases,\nplease see <TODO link to de-biasing advice/code snippet here>. Reports will be\nupdated to include p so that noise correction can work correctly in the event\nthat p changes over time, or if different browsers apply different\nprobabilities:\n{\n  \"randomized_trigger_rate\": 0.0024,\n  ...\n}\nNote that these initial strawman parameters were chosen as a way to ease\nadoption of the API without negatively impacting utility substantially. They are\nsubject to change in the future with additional feedback and do not necessarily\nreflect a final set of parameters.\nTrigger attribution algorithm\nWhen the browser receives an attribution trigger redirect on a URL matching the\ndestination eTLD+1, it looks up all sources in storage that match\n<attributionsrc origin, destination> and picks the one with the greatest\npriority. If multiple sources have the greatest priority, the\nbrowser picks the one that was stored most recently.\nThe browser then schedules a report for the source that was picked by storing\n{attributionsrc origin, destination eTLD+1, source_event_id,\ndecoded trigger_data, priority, deduplication_key} for\nthe source. Scheduled reports will be sent as detailed in Sending scheduled\nreports.\nThe browser will create reports for a source only if the trigger's\ndeduplication_key has not already been associated with a report for that source.\nEach navigation source is allowed to schedule only a maximum of three reports,\nwhile each event source is only allowed to schedule a maximum of one.\nIf a source has already scheduled the maximum number of reports when a new\nreport is being scheduled, the browser will compare the priority of the new\nreport with the priorities of the scheduled reports for that source. If the new\nreport has the lowest priority, it will be ignored. Otherwise, the browser will\ndelete the scheduled report with the lowest priority and schedule the new\nreport.\nMultiple sources for the same trigger (Multi-touch)\nIf multiple sources were registered and associated with a single attribution\ntrigger, send reports for the one with the highest priority. If no priority is\nspecified, the browser performs last-touch.\nThere are many possible alternatives to this, like providing a choice of\nrules-based attribution models. However, it isn’t clear the benefits outweigh\nthe additional complexity. Additionally, models other than last-click\npotentially leak more cross-site information if sources are clicked across\ndifferent sites.\nSending Scheduled Reports\nReports for event sources will be sent 1 hour after the source expires at its\nexpiry.\nReports for navigation sources may be reported earlier than the source's\nexpiry, at specified points in time relative to when the source event was\nregistered. See\nhere for the\nprecise algorithm.\nNote that the report may be sent at a later date if the browser was not running\nwhen the window finished. In this case, reports will be sent on startup. The\nbrowser may also decide to delay some of these reports for a short random time\non startup, so that they cannot be joined together easily by a given reporting\norigin.\nAttribution Reports\nTo send a report, the browser will make a non-credentialed (i.e. without session\ncookies) secure HTTP POST request to:\nhttps://<reporting origin>/.well-known/attribution-reporting/report-event-attribution\n\nThe report data is included in the request body as a JSON object with the\nfollowing keys:\n\n\nattribution_destination: the attribution destination set on the source\n\n\nsource_event_id: 64-bit event id set on the attribution source\n\n\ntrigger_data: Coarse data set in the attribution trigger registration\n\n\nreport_id: A UUID string for this report which can be used to prevent\ndouble counting\n\n\nsource_type: Either \"navigation\" or \"event\", indicates whether this source\nwas associated with a navigation.\n\n\nrandomized_trigger_rate: Decimal number between 0 and 1 indicating how\noften noise is applied.\n\n\nData Encoding\nThe source event id and trigger data should be specified in a way that is\namenable to the privacy assurances a browser wants to provide (i.e. the number\nof distinct data states supported).\nThe input values will be 64-bit integers which the browser will interpret modulo\nits maximum data value chosen by the browser. The browser will take the input\nand performs the equivalent of:\nfunction getData(input, max_value) {\n  return input % max_value;\n}\nThe benefit of this method over using a fixed bit mask is that it allows\nbrowsers to implement max_values that aren’t multiples of 2. That is, browers\ncan choose a \"fractional\" bit limit if they want to.\nOptional attribution filters\nSource and trigger registration has additional optional functionality to both:\n\nSelectively filter some triggers (effectively ignoring them)\nChoose trigger data based on source event data\n\nThis can be done via simple extensions to the registration configuration.\nSource registration:\n{\n  \"source_event_id\": \"12345678\",\n  \"destination\": \"https://toasters.example\",\n  \"expiry\": \"604800000\",\n  \"filter_data\": {\n    \"conversion_subdomain\": [\"electronics.megastore\"\n                             \"electronics2.megastore\"],\n    \"product\": [\"1234\"],\n    // Note that \"source_type\" will be automatically generated as\n    // one of {\"navigation\", \"event\"}\n  }\n}\nTrigger registration will now accept an option header\nAttribution-Reporting-Filters:\n{\n  \"conversion_subdomain\": [\"electronics.megastore\"],\n  // Not set on the source side, so this key is ignored\n  \"directory\": [\"/store/electronics]\"\n}\nIf keys in the filters JSON match keys in filter_data, the trigger is\ncompletely ignored if the intersection is empty.\nNote: A key which is present in one JSON and not the other will not be included\nin the matching logic.\nNote: The filter JSON does not support nested dictionaries or lists.\nfilter_data and filters are only allowed to have a list of values with\nstring type.\nThe Attribution-Reporting-Register-Event-Trigger header can also be extended\nto do selective filtering to set trigger_data based on filter_data:\n// Filter by the source type to handle different bit limits.\n[{\n  \"trigger_data\": \"2\",\n  // Note that “not_filters” which filters with a negation is also supported.\n  \"filters\": {\"source_type\": [\"navigation\"]}\n},\n{\n  \"trigger_data\": \"1\",\n  \"filters\": {\"source_type\": [\"event\"]}\n}]\nIf the filters do not match for any of the event triggers, the trigger data and\npriority both default to 0 and the dedup key defaults to not being set, and\nattribution proceeds normally.\nIf the filters match for multiple event triggers, the first matching event\ntrigger is used.\nOptional: extended debugging reports\nThe Attribution Reporting API is a new and fairly complex way to do attribution\nmeasurement without third-party cookies. As such, we are open to introducing a\ntransitional mechanism to learn more information about attribution reports\nwhile third-party cookies are available. This ensures that the API can be\nfully understood during roll-out and help flush out any bugs (either in browser\nor caller code), and more easily compare the performance to cookie-based\nalternatives.\nSource registration will accept a new parameter debug_key:\n{\n    ...\n    \"debug_key\": \"[64-bit unsigned integer]\"\n}\nTrigger debug keys are created using a separate header:\nAttribution-Reporting-Trigger-Debug-Key: [64-bit unsigned integer]\nIf a report is created with source and trigger debug keys, a duplicate debug report\nwill be sent immediately to a\n.well-known/attribution-reporting/debug/report-event-attribution\nendpoint. The debug reports will be identical to normal reports, but\nadditionally contain both debug keys:\n{\n    // normal report fields...\n    \"source_debug_key\": \"[64-bit unsigned integer]\",\n    \"trigger_debug_key\": \"[64-bit unsigned integer]\"\n}\nNormal reports will also include two new parameters which pass the debug keys\nfrom source and trigger events unaltered. This allows tying normal reports to the\nseparate stream of debug reports.\n{\n    ...\n    \"source_debug_key\": \"[64-bit unsigned integer]\",\n    \"trigger_debug_key\": \"[64-bit unsigned integer]\"\n}\nNote that event-level reports associated with false trigger events\nwill not have trigger_debug_keys. This allows developers to more\nclosely understand how noise is applied in the API.\nTo ensure that this data (which could enable cross-site tracking) is only\navailable in a transitional phase while third-party cookies are available and\nare already capable of user tracking, the browser will check (at both source\nand trigger registration) for the presence of a special SameSite=None cookie\nset by the reporting origin:\nSet-Cookie: ar_debug=1; SameSite=None; Secure; HttpOnly\nIf a cookie of this form is not present, debugging information will be ignored.\nSample Usage\npublisher.example wants to show ads on their site, so they contract out to\nad-tech.example. ad-tech.example's script in the main document creates a\ncross-origin iframe to host the third party advertisement for\ntoasters.example.\nWithin the iframe, toasters.example code annotates their anchor tags to use\nthe ad-tech.example reporting origin.\n<iframe src=\"https://ad-tech-3p.example/show-some-ad\" \n        allow=\"attribution-reporting\">\n...\n<a \n  href=\"https://toasters.example/purchase\"\n  attributionsrc=\"https://ad-tech.example?adid=123456\">\n  click me!\n</a>\n...\n</iframe>\nA user clicks on the ad and this opens a window that lands on a URL to\ntoasters.example/purchase. In the background, the browser issues an HTTP\nrequest to https://ad-tech.example?adid=123456. The ad-tech responds with a\nAttribution-Reporting-Register-Source JSON header:\n{\n  \"source_event_id\": \"12345678\",\n  \"destination\": \"https://toasters.example\",\n  \"expiry\": \"604800000\"\n}\n2 days later, the user buys something on toasters.example. toasters.example\ntriggers attribution on the few different ad-tech companies it buys ads on,\nincluding ad-tech.example, by adding conversion pixels:\n<img src=\"...” attributionsrc=”https://ad-tech.example/trigger-attribution?model=toastmaster3000&price=$49.99&...\" />\nad-tech.example receives this request, and decides to trigger attribution on\ntoasters.example. They must compress all of the data into 3 bits, so\nad-tech.example chooses to encode the value as “2\" (e.g. some bucketed version\nof the purchase value). They respond to the request with a\nAttribution-Reporting-Register-Event-Trigger header:\n[{\n    \"trigger_data\": \"2\"\n}]\nThe browser sees this response, and schedules a report to be sent. The report is\nassociated with the 7-day deadline as the 2-day deadline has passed. Roughly 5\ndays later, ad-tech.example receives the following HTTP POST to\nhttps://ad-tech.example/.well-known/attribution-reporting/report-event-attribution\nwith the following body:\n{\n  \"attribution_destination\": \"https://toasters.example\",\n  \"source_event_id\": \"12345678\",\n  \"trigger_data\": \"2\",\n}\nNoisy fake conversion example\nAssume the caller uses the same inputs as in the above example, however, the\nnoise mechanism in the browser chooses to generate\ncompletely fake data for the source event. This occurs with some probability\np.\nTo generate fake events, the browser considers all possible outputs for a given\nsource event:\n\nNo reports at all\nOne report with metadata “0” at the first reporting window\nOne report with metadata “1” at the first reporting window and one report with\nmetadata “3” at the second reporting window\netc. etc. etc.\n\nAfter enumerating all possible outputs of the API for a given source event, the\nbrowser simply selects one of them at random uniformly. Any subsequent true\ntrigger events that would be attributed to the source event are completely\nignored.\nIn the above example, the browser could have chosen to generate three reports:\n\nOne report with metadata “7”, sent 2 days after the click\nOne report with metadata “3”, sent 7 days after the click\nOne report with metadata “0”, also sent 7 days after the click\n\nStorage limits\nThe browser may apply storage limits in order to prevent excessive resource\nusage.\nStrawman: There should be a limit of 1024 pending sources per source origin.\nStrawman: There should be a limit of 1024 pending reports per destination site.\nPrivacy Considerations\nA primary privacy goal of the API is to make linking identity between two\ndifferent top-level sites difficult. This happens when either a request or a\nJavaScript environment has two user IDs from two different sites simultaneously.\nSecondary goals of the API are to:\n\ngive some level of plausible deniability to cross-site data leakage\nassociated with source events.\nlimit the raw amount of cross-site information a site can learn relative to a\nsource event\n\nIn this API, the 64-bit source ID can encode a user ID from the publisher’s top-\nlevel site, but the low-entropy, noisy trigger data could only encode a small\npart of a user ID from the advertiser’s top-level site. The source ID and the\ntrigger data are never exposed to a JavaScript environment together, and the\nrequest that includes both of them is sent without credentials and at a\ndifferent time from either event, so the request adds little new information\nlinkable to these events. This allows us to limit the information gained by the\nad-tech relative to a source event.\nAdditionally, there is a small chance that all the output for a given source\nevent is completely fabricated by the browser, giving the user plausible\ndeniability whether subsequent trigger events actually occurred the way they\nwere reported.\nTrigger Data\nTrigger data, e.g. advertiser-side data, is extremely important for critical use\ncases like reporting the purchase value of a conversion. However, too much\nadvertiser-side data could be used to link advertiser identity with publisher\nidentity.\nMitigations against this are to provide only coarse information (only a few bits\nat a time), and introduce some noise to the API output. Even sophisticated\nattackers will therefore need to invoke the API multiple times (through multiple\nclicks/views) to join identity between sites with high confidence.\nNote that this noise still allows for aggregate measurement of bucket sizes with\nan unbiased estimator (assuming rate-limits are not hit) See generic approaches\nof dealing with Randomized\nresponse for a starting\npoint.\nTODO: Update this script to account for the more complicated randomized response\napproach.\nReporting Delay\nBy bucketing reports within a small number reporting deadlines, it becomes\nharder to associate a report with the identity of the user on the advertiser’s\nsite via timing side channels.\nReports within the same reporting window occur within an anonymity set with all\nothers during that time period. For example, if we didn’t bucket reports with a\ndelay (and instead sent them immediately after a trigger event), the reports\n(which contain publisher IDs) could be easily joined up with the advertiser’s\nfirst-party information via correlating timestamps.\nNote that the delay windows / deadlines chosen represent a trade-off with\nutility, since it becomes harder to properly assign credit to a click if the\ntime from click to conversion is not known. That is, time-to-conversion is an\nimportant signal for proper attribution. Browsers should make sure that this\ntrade-off is concretely evaluated for both privacy and utility before deciding\non a delay.\nReporting origin limits\nIf the advertiser is allowed to cycle through many possible reporting origins,\nthen the publisher and advertiser don’t necessarily have to agree apriori on\nwhat origin to use, and which origin actually ends up getting used reveals some\nextra information.\nTo prevent this kind of abuse, the browser should limit the number of reporting\norigins per <source site, destination site> pair, counted per source\nregistration. This should be limited to 100 origins per 30 days.\nAdditionally, there should be a limit of 10 reporting origins per <source site,\ndestination site, 30 days>, counted for every attribution that is generated.\nClearing Site Data\nAttribution source data and attribution reports in browser storage should be\nclearable using existing “clear browsing data\" functionality offered by\nbrowsers.\nReporting cooldown / rate limits\nTo limit the amount of user identity leakage between a <source site,\ndestination> pair, the browser should throttle the amount of total information\nsent through this API in a given time period for a user. The browser should set\na maximum number of attributions per\n tuple per time period. If this\nthreshold is hit, the browser will stop scheduling reports the API for the\nrest of the time period for attributions matching that tuple.\nThe longer the cooldown windows are, the harder it is to abuse the API and join\nidentity. Ideally attribution thresholds should be low enough to avoid leaking too\nmuch information, with cooldown windows as long as practically possible.\nNote that splitting these limits by the reporting origin introduces a possible\nleak when multiple origins collude with each other. However, the alternative\nmakes it very difficult to adopt the API if all reporting origins had to share a\nbudget.\nStrawman rate limit: 100 attributions per {source site, destination, reporting\norigin, 30 days}\nLess trigger-side data\nRegistering event attribution sources is not gated on a user interaction or top-\nlevel navigation, allowing them to be registered more frequently and with\ngreater ease. For example, by restricting to 1 bit of data and 1 report per\nevent source, a reportingorigin would need to register many more sources in\norder to link cross-site identity relative to the Click Through API.\nThis is further restricted by rate-limiting the usage of the API between two\nsites, using reporting\ncooldowns.\nDue to the different characteristics between classes of sources, these cooldowns\nshould have independent limits on the number of reports of each type.\nThe number of reporting windows is another vector which can contain trigger-side\ninformation. By restricting to a single window, a\nreportingorigin does not receive any additional information on when in the\nattribution window a source was triggered.\nBrowsing history reconstruction\nReporting attribution without a pre-existing navigation allows the\nreportingorigin to learn whether a given user on the source site visited the\ndestination site at all. For click-through reports, this is not an issue\nbecause the reportingorigin knows a priori the user was navigating to\ndestination.\nThis new threat is be mitigated in a number of ways:\nAdding noise to whether a trigger is genuine\nBy adding noise to whether an attribute source gets\ntriggered, a reporting origin will not know with\nabsolute certainty whether a particular ad view led to a site visit. See\nDifferential privacy.\nLimiting the number of unique destinations covered by pending sources\nTo limit the breadth of destination sites that a reporting origin may be\ntrying to measure user visits on, the browser can limit the number destination\neTLD+1s represented by pending sources for a source-site.\nThe browser can place a limit on the number of a source site's pending source's\nunique destinations. When an attribution source is registered for an eTLD+1\nthat is not already in the pending sources and a source site is at its limit,\nthe browser will drop the new source.\nThe lower this value, the harder it is for a reporting origin to use the API to\ntry and measure user browsing activity not associated with ads being shown.\nBrowsers may choose parameters on the number of destinations to make their own\ntradeoffs for privacy and utility.\nBecause this limit is per source site, it is possible for different reporting\norigin on a site to push the other attribution sources out of the browser. See\nthe denial of service for more details. To prevent this\nattack, the browser should maintain these limits per reporting origin. This\neffectively limits the number of unique sites covered by pending sources from\nany one reporting origin.\nStrawman: 100 distinct destination sites per-{source site, reporting origin},\napplied to all pending sources regardless of type.\nTODO: should this be applied over a time period?\nDifferential privacy\nA goal of this work is to create a framework that would support making\nevent-level measurement that satisfies local differential privacy. This follows\nfrom our use of k-randomized response to generate noisy output for each source\nevent. For a given output space O with cardinality k, true value v in the output\nspace, and flip probability p, the k-randomized response algorithm:\n\nFlips a biased coin with heads probability p\nIf heads, return a random value in O\nOtherwise return v\n\nk-randomized response is an algorithm that is epsilon differentially private if\np = k / (k + exp(epsilon) - 1). For low enough values of epsilon, a given\nsource’s true output should be well protected by the randomized response\nmechanism.\nNote that the number of all possible output states k in the above design is:\n\n2925 for click sources. This results from a particular “stars and bars”\ncounting method which derives k = (num_reporting_windows * num_trigger_data +\nnum_reports choose num_reports) = (3 * 8 + 3 choose 3). TODO: outline why this\nis the case.\n3 for event-sources (no attribution, attribution with trigger data 1,\nattribution with trigger data 0). This also follows from (1 * 2 + 1 choose 1).\n\nNote that the scope of privacy in the current design is not user-level, but\nrather source-level. This follows from the fact that noise is added\nindependently per source-event, and source events are not strictly rate-limited.\nExact noise parameters are subject to change with feedback. The primary goal\nwith this proposal as written is to ensure that the browser has the appropriate\ninfrastructure foundation to develop locally differentially private methods in\nthe future. Tightening the privacy scope will also be considered in future work.\nOur plan is to adjust the level of noise added based on feedback during the\norigin trial period, and our goal with this initial version is to create a\nfoundation for further exploration into formally private methods for\nmeasurement.\nSpeculative: Limits based on first party storage\nAnother mitigation on joining identity across publisher and advertiser sites is\nto limit the number of reports for any given <publisher, advertiser> pair until\nthe advertiser clears their site data. This could occur via the\nClear-Site-Data\nheader or by explicit user action.\nTo prevent linking across deletions, we might need to introduce new options to\nthe Clear-Site-Data header to only clear data after the page has unloaded.\nSecurity considerations\nReporting origin control\nReports can only be generated if the same origin responds with headers that\nregister source events and trigger events. There is no way for an origin to\nregister events on behalf of another origin, which is an important restriction\nto prevent fraudulent reports.\nDenial of service\nRate limits and other restrictions to the API can cause reports to no longer be\nsent in some cases. It is important to consider all the cases where an origin\ncould utilize the API in some way to lock out other origins, and minimize that\nrisk if possible.\nCurrently, the only known limit in this proposal that could risk denial of\nservice is the reporting origin limits. This is an\nexplicit trade-off for privacy that should be monitored for abuse.\nTop site permission model\nThe Permissions Policy is used to globally enable or disable the API.\nAdditionally, network requests need fine grained permission in the form of\nrequiring an attributionsrc attribute.\n\n  ","length":35100,"excerpt":"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.","byline":null,"dir":null,"siteName":"GitHub","lang":"en"},"finalizedMeta":{"title":"conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api","description":"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.","author":false,"creator":"","publisher":false,"date":"2022-04-06T20:01:02.610Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api · GitHub","description":"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.","canonical":"https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","keywords":[],"image":"","firstParagraph":"This is an in-depth technical explainer. If you're looking for a high-level\nintroduction to Attribution Reporting with event-level reports, head over to\nEvent-level reports in the Attribution Reporting API."},"dublinCore":{},"opengraph":{"title":"conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api","description":"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.","url":"https://github.com/WICG/conversion-measurement-api","site_name":"GitHub","locale":false,"type":"object","typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":"https://opengraph.githubassets.com/c59c17d8d9d465fd98d108767a2391340ea95f220a7afc426d5288a9c80307c6/WICG/conversion-measurement-api","image:alt":"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.","image:width":"1200","image:height":"600"},"twitter":{"site":"@github","description":"Conversion Measurement API. Contribute to WICG/conversion-measurement-api development by creating an account on GitHub.","card":"summary_large_image","creator":false,"title":"conversion-measurement-api/EVENT.md at main · WICG/conversion-measurement-api","image":false,"image:src":"https://opengraph.githubassets.com/c59c17d8d9d465fd98d108767a2391340ea95f220a7afc426d5288a9c80307c6/WICG/conversion-measurement-api"},"archivedData":{"link":"https://web.archive.org/web/20220406200105/https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md","wayback":"https://web.archive.org/web/20220406200105/https://github.com/WICG/conversion-measurement-api/blob/main/EVENT.md"}}}