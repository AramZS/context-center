{"initialLink":"https://datatracker.ietf.org/doc/html/rfc7089#section-5","sanitizedLink":"https://datatracker.ietf.org/doc/html/rfc7089#section-5","finalLink":"https://datatracker.ietf.org/doc/html/rfc7089#section-5","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://datatracker.ietf.org/doc/html/rfc7089#section-5\" itemprop=\"url\">RFC 7089 - HTTP Framework for Time-Based Access to Resource States -- Memento</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-03-09T18:44:06.894Z\">2/9/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>HTTP Framework for Time-Based Access to Resource States -- Memento (RFC )</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a is=\"contexter-link\" href=\"https://datatracker.ietf.org/doc/html/rfc7089#section-5\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"f6db1abb9b2cd3c773a6794ff3535c3fcc62cc22","data":{"originalLink":"https://datatracker.ietf.org/doc/html/rfc7089#section-5","sanitizedLink":"https://datatracker.ietf.org/doc/html/rfc7089#section-5","canonical":"https://datatracker.ietf.org/doc/html/rfc7089#section-5","htmlText":"<!DOCTYPE html> \n\n\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <title>\n  \n    RFC 7089 - HTTP Framework for Time-Based Access to Resource States -- Memento\n  \n</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n\n  @media only screen \n    and (min-width: 992px)\n    and (max-width: 1199px) {\n      body { font-size: 14pt; }\n            div.content { width: 96ex; margin: 0 auto; }\n        }\n  @media only screen \n    and (min-width: 768px)\n    and (max-width: 991px) {\n            body { font-size: 14pt; }\n            div.content { width: 96ex; margin: 0 auto; }\n        }\n  @media only screen \n    and (min-width: 480px)\n    and (max-width: 767px) {\n            body { font-size: 11pt; }\n            div.content { width: 96ex; margin: 0 auto; }\n        }\n  @media only screen \n    and (max-width: 479px) {\n            body { font-size: 8pt; }\n            div.content { width: 96ex; margin: 0 auto; }\n        }\n  @media only screen \n    and (min-device-width : 375px) \n    and (max-device-width : 667px) {\n            body { font-size: 9.5pt; }\n            div.content { width: 96ex; margin: 0; }\n        }\n  @media only screen \n    and (min-device-width: 1200px) {\n            body { font-size: 10pt; margin: 0 4em; }\n            div.content { width: 96ex; margin: 0; }\n        }\n        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {\n      font-weight: bold;\n            /* line-height: 0pt; */\n            display: inline;\n            white-space: pre;\n            font-family: monospace;\n            font-size: 1em;\n      font-weight: bold;\n        }\n        pre {\n            font-size: 1em;\n            margin-top: 0px;\n            margin-bottom: 0px;\n        }\n  .pre {\n      white-space: pre;\n      font-family: monospace;\n  }\n  .header{\n      font-weight: bold;\n  }\n        .newpage {\n            page-break-before: always;\n        }\n        .invisible {\n            text-decoration: none;\n            color: white;\n        }\n        @media print {\n            body {\n                margin-top: 5em;\n                font-family: monospace;\n                font-size: 10.5pt;\n            }\n            h1, h2, h3, h4, h5, h6 {\n                font-size: 1em;\n            }\n        \n            a:link, a:visited {\n                color: inherit;\n                text-decoration: none;\n            }\n            .noprint {\n                display: none;\n            }\n        }\n  @media screen {\n      .grey, .grey a:link, .grey a:visited {\n    color: #777;\n      }\n            .meta-info {\n                background-color: #EEE;\n            }\n            .top {\n                border-top: 7px solid #EEE;\n            }\n            .pad {\n                padding-top: 7px;\n                line-height: 24px;\n                padding-bottom: 4px;\n            }\n            .bgwhite  { background-color: white; }\n            .bgred    { background-color: #F44; }\n            .bggrey   { background-color: #666; }\n            .bgbrown  { background-color: #840; }            \n            .bgorange { background-color: #FA0; }\n            .bgyellow { background-color: #EE0; }\n            .bgmagenta{ background-color: #F4F; }\n            .bgblue   { background-color: #66F; }\n            .bgcyan   { background-color: #4DD; }\n            .bggreen  { background-color: #4F4; }\n\n            .legend   { font-size: 90%; }\n            .cplate   { font-size: 70%; border: solid grey 1px; }\n  }\n    \n     \n\n.bgwhite  { background-color: white; }\n.bgred    { background-color: #F44; }\n.bggrey   { background-color: #666; }\n.bgbrown  { background-color: #840; }            \n.bgorange { background-color: #FA0; }\n.bgyellow { background-color: #EE0; }\n.bgmagenta{ background-color: #F4F; }\n.bgblue   { background-color: #66F; }\n.bgcyan   { background-color: #4DD; }\n.bggreen  { background-color: #4F4; }\n\n.draftcontent { margin-top:0px !important;}\n\n\n    </style>\n\n    \n  <link rel=\"alternate\" type=\"application/atom+xml\" title=\"Document changes\" href=\"/feed/document-changes/draft-vandesompel-memento/\">\n  <meta name=\"description\" content=\"HTTP Framework for Time-Based Access to Resource States -- Memento (RFC )\">\n\n\n    \n    <link rel=\"shortcut icon\" href=\"https://www.ietf.org/lib/dt/7.46.0/ietf/images/ietf-icon-blue3.png\">\n    \n    <link rel=\"apple-touch-icon\" href=\"https://www.ietf.org/lib/dt/7.46.0/ietf/images/apple-touch-icon.png\">\n  <script async src='/cdn-cgi/bm/cv/669835187/api.js'></script></head>\n\n  <body style=\"padding-top: 0;\">\n\n\t  <div class=\"content\" id=\"content\">\n        \n  \n \n  <div class=\"rfcmarkup\">\n    <div class=\"noprint\" style=\"height: 6px;\">\n      <div onmouseover=\"this.style.cursor='pointer';\"\n         onclick=\"showLegend();\"\n         onmouseout=\"hideLegend()\"\n         style=\"height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; \"\n         class=\"meta-info bgorange\"\n         title=\"Click for colour legend.\" >&nbsp;</div>\n      <div id=\"legend\"\n           class=\"meta-info noprint pre legend\"\n           style=\"position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; \"\n           onmouseover=\"showLegend();\"\n           onmouseout=\"hideLegend();\">\n      </div>\n    </div>\n\n    \n      <div class=\"noprint\">\n\t <pre class=\"pre meta-info\">[<a href=\"https://datatracker.ietf.org\" title=\"Document search and retrieval page\">Search</a>] [<a href=\"https://www.rfc-editor.org/rfc/rfc7089.txt\" title=\"Plaintext version of this document\">txt</a>|<a href=\"https://www.rfc-editor.org/rfc/rfc7089.html\" title=\"HTML version of this document, from XML2RFC\">html</a>|<a href=\"https://www.rfc-editor.org/rfc/pdfrfc/rfc7089.txt.pdf\" title=\"PDF version of this document\">pdf</a>|<a href=\"/doc/rfc7089/bibtex/\" title=\"BibTex entry for this document\">bibtex</a>] [<a href=\"/doc/rfc7089/\" title=\"Datatracker information for this document\">Tracker</a>] [<a href=\"mailto:draft-vandesompel-memento@ietf.org?subject=draft-vandesompel-memento\" title=\"Send email to the document authors\">Email</a>] [<a href=\"https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-vandesompel-memento-11.txt\" title=\"Inline diff (wdiff)\">Diff1</a>] [<a href=\"https://www.ietf.org/rfcdiff?url2=draft-vandesompel-memento-11.txt\" title=\"Side-by-side diff\">Diff2</a>] [<a href=\"https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-vandesompel-memento-11.txt\" title=\"Run an idnits check of this document\">Nits</a>]\n\nFrom: <a href=\"/doc/html/draft-vandesompel-memento-11\">draft-vandesompel-memento-11</a>                         Informational</pre>\n      </div>\n    \n\n    <div class=\"draftcontent\">\n    <pre>Independent Submission                                  H. Van de Sompel\nRequest for Comments: 7089                Los Alamos National Laboratory\nCategory: Informational                                        M. Nelson\nISSN: 2070-1721                                  Old Dominion University\n                                                            R. Sanderson\n                                          Los Alamos National Laboratory\n                                                           December 2013\n\n\n   <span class=\"h1\">HTTP Framework for Time-Based Access to Resource States -- Memento</span>\n\nAbstract\n\n   The HTTP-based Memento framework bridges the present and past Web.\n   It facilitates obtaining representations of prior states of a given\n   resource by introducing datetime negotiation and TimeMaps.  Datetime\n   negotiation is a variation on content negotiation that leverages the\n   given resource&#x27;s URI and a user agent&#x27;s preferred datetime.  TimeMaps\n   are lists that enumerate URIs of resources that encapsulate prior\n   states of the given resource.  The framework also facilitates\n   recognizing a resource that encapsulates a frozen prior state of\n   another resource.\n\nStatus of This Memo\n\n   This document is not an Internet Standards Track specification; it is\n   published for informational purposes.\n\n   This is a contribution to the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has chosen to publish this document at\n   its discretion and makes no statement about its value for\n   implementation or deployment.  Documents approved for publication by\n   the RFC Editor are not a candidate for any level of Internet\n   Standard; see <a href=\"/doc/html/rfc5741#section-2\">Section&nbsp;2 of RFC 5741</a>.\n\n   Information about the current status of this document, any errata,\n   and how to provide feedback on it may be obtained at\n   <a href=\"https://www.rfc-editor.org/info/rfc7089\">http://www.rfc-editor.org/info/rfc7089</a>.\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 1]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-2\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\nCopyright Notice\n\n   Copyright (c) 2013 IETF Trust and the persons identified as the\n   document authors.  All rights reserved.\n\n   This document is subject to <a href=\"/doc/html/bcp78\">BCP 78</a> and the IETF Trust&#x27;s Legal\n   Provisions Relating to IETF Documents\n   (<a href=\"https://trustee.ietf.org/license-info\">http://trustee.ietf.org/license-info</a>) in effect on the date of\n   publication of this document.  Please review these documents\n   carefully, as they describe your rights and restrictions with respect\n   to this document.\n\nTable of Contents\n\n   <a href=\"#section-1\">1</a>. Introduction ....................................................<a href=\"#page-4\">4</a>\n      <a href=\"#section-1.1\">1.1</a>. Terminology ................................................<a href=\"#page-4\">4</a>\n      <a href=\"#section-1.2\">1.2</a>. Notational Conventions .....................................<a href=\"#page-4\">4</a>\n      <a href=\"#section-1.3\">1.3</a>. Purpose ....................................................<a href=\"#page-5\">5</a>\n   <a href=\"#section-2\">2</a>. HTTP Headers, Link Relation Types ...............................<a href=\"#page-7\">7</a>\n      <a href=\"#section-2.1\">2.1</a>. HTTP Headers ...............................................<a href=\"#page-7\">7</a>\n           <a href=\"#section-2.1.1\">2.1.1</a>. Accept-Datetime and Memento-Datetime ................<a href=\"#page-7\">7</a>\n           <a href=\"#section-2.1.2\">2.1.2</a>. Vary ................................................<a href=\"#page-8\">8</a>\n           <a href=\"#section-2.1.3\">2.1.3</a>. Link ................................................<a href=\"#page-8\">8</a>\n      <a href=\"#section-2.2\">2.2</a>. Link Relation Types ........................................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.1\">2.2.1</a>. Link Relation Type &quot;original&quot; .......................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.2\">2.2.2</a>. Link Relation Type &quot;timegate&quot; .......................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.3\">2.2.3</a>. Link Relation Type &quot;timemap&quot; ........................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.4\">2.2.4</a>. Link Relation Type &quot;memento&quot; .......................<a href=\"#page-10\">10</a>\n   <a href=\"#section-3\">3</a>. Overview of the Memento Framework ..............................<a href=\"#page-11\">11</a>\n      <a href=\"#section-3.1\">3.1</a>. Datetime Negotiation ......................................<a href=\"#page-11\">11</a>\n      <a href=\"#section-3.2\">3.2</a>. TimeMaps ..................................................<a href=\"#page-13\">13</a>\n   <a href=\"#section-4\">4</a>. Datetime Negotiation: HTTP Interactions ........................<a href=\"#page-14\">14</a>\n      4.1. Pattern 1 - The Original Resource Acts as Its Own\n           TimeGate ..................................................<a href=\"#page-15\">15</a>\n           4.1.1. Pattern 1.1 - URI-R=URI-G; 302-Style\n                  Negotiation; Distinct URI-M  for Mementos ..........<a href=\"#page-16\">16</a>\n           4.1.2. Pattern 1.2 - URI-R=URI-G; 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........<a href=\"#page-18\">18</a>\n           4.1.3. Pattern 1.3 - URI-R=URI-G; 200-Style\n                  Negotiation; No Distinct URI-M for Mementos ........<a href=\"#page-19\">19</a>\n      4.2. Pattern 2 - A Remote Resource Acts as a TimeGate\n           for the Original Resource .................................<a href=\"#page-20\">20</a>\n           4.2.1. Pattern 2.1 - URI-R&lt;&gt;URI-G; 302-Style\n                  Negotiation; Distinct URI-M for Mementos ...........<a href=\"#page-22\">22</a>\n           4.2.2. Pattern 2.2 - URI-R&lt;&gt;URI-G; 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........<a href=\"#page-24\">24</a>\n           4.2.3. Pattern 2.3 - URI-R&lt;&gt;URI-G; 200-Style\n                  Negotiation; No Distinct URI-M for Mementos ........<a href=\"#page-25\">25</a>\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 2]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-3\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n      <a href=\"#section-4.3\">4.3</a>. Pattern 3 - The Original Resource is a Fixed Resource .....<a href=\"#page-26\">26</a>\n      <a href=\"#section-4.4\">4.4</a>. Pattern 4 - Mementos without a TimeGate ...................<a href=\"#page-27\">27</a>\n      <a href=\"#section-4.5\">4.5</a>. Special Cases .............................................<a href=\"#page-29\">29</a>\n           <a href=\"#section-4.5.1\">4.5.1</a>. Original Resource Provides No &quot;timegate&quot; Link ......<a href=\"#page-29\">29</a>\n           4.5.2. Server Exists but Original Resource No\n                  Longer Does ........................................<a href=\"#page-29\">29</a>\n           <a href=\"#section-4.5.3\">4.5.3</a>. Issues with Accept-Datetime ........................<a href=\"#page-30\">30</a>\n           <a href=\"#section-4.5.4\">4.5.4</a>. Memento of a 3XX Response ..........................<a href=\"#page-30\">30</a>\n           4.5.5. Memento of Responses with 4XX or 5XX HTTP\n                  Status Codes .......................................<a href=\"#page-32\">32</a>\n           4.5.6. Sticky &quot;Memento-Datetime&quot; and &quot;original&quot;\n                  Link for Mementos ..................................<a href=\"#page-33\">33</a>\n           <a href=\"#section-4.5.7\">4.5.7</a>. Intermediate Resources .............................<a href=\"#page-34\">34</a>\n           <a href=\"#section-4.5.8\">4.5.8</a>. Resources Excluded from Datetime Negotiation .......<a href=\"#page-35\">35</a>\n   <a href=\"#section-5\">5</a>. TimeMaps: Content and Serialization ............................<a href=\"#page-36\">36</a>\n      <a href=\"#section-5.1\">5.1</a>. Special Cases .............................................<a href=\"#page-38\">38</a>\n           <a href=\"#section-5.1.1\">5.1.1</a>. Index and Paging TimeMaps ..........................<a href=\"#page-38\">38</a>\n           <a href=\"#section-5.1.2\">5.1.2</a>. Mementos for TimeMaps ..............................<a href=\"#page-39\">39</a>\n   <a href=\"#section-6\">6</a>. IANA Considerations ............................................<a href=\"#page-40\">40</a>\n      <a href=\"#section-6.1\">6.1</a>. HTTP Headers ..............................................<a href=\"#page-40\">40</a>\n      <a href=\"#section-6.2\">6.2</a>. Link Relation Types .......................................<a href=\"#page-40\">40</a>\n   <a href=\"#section-7\">7</a>. Security Considerations ........................................<a href=\"#page-41\">41</a>\n   <a href=\"#section-8\">8</a>. Acknowledgements ...............................................<a href=\"#page-42\">42</a>\n   <a href=\"#section-9\">9</a>. References .....................................................<a href=\"#page-42\">42</a>\n      <a href=\"#section-9.1\">9.1</a>. Normative References ......................................<a href=\"#page-42\">42</a>\n      <a href=\"#section-9.2\">9.2</a>. Informative References ....................................<a href=\"#page-42\">42</a>\n   <a href=\"#appendix-A\">Appendix A</a>. Use of Headers and Relation Types per Pattern .........<a href=\"#page-43\">43</a>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 3]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-4\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-1\" href=\"#section-1\">1</a>.  Introduction</span>\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-1.1\" href=\"#section-1.1\">1.1</a>.  Terminology</span>\n\n   This specification uses the terms &quot;resource&quot;, &quot;request&quot;, &quot;response&quot;,\n   &quot;entity-body&quot;, &quot;content negotiation&quot;, &quot;user agent&quot;, and &quot;server&quot; as\n   described in [<a href=\"/doc/html/rfc2616\" title=\"&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;\">RFC2616</a>], and it uses the terms &quot;representation&quot; and\n   &quot;resource state&quot; as described in [<a href=\"#ref-W3C.REC-aww-20041215\">W3C.REC-aww-20041215</a>].\n\n   In addition, the following terms specific to the Memento framework\n   are introduced:\n\n   o  Original Resource: An Original Resource is a resource that exists\n      or used to exist, and for which access to one of its prior states\n      may be required.\n\n   o  Memento: A Memento for an Original Resource is a resource that\n      encapsulates a prior state of the Original Resource.  A Memento\n      for an Original Resource as it existed at time T is a resource\n      that encapsulates the state the Original Resource had at time T.\n\n   o  TimeGate: A TimeGate for an Original Resource is a resource that\n      is capable of datetime negotiation to support access to prior\n      states of the Original Resource.\n\n   o  TimeMap: A TimeMap for an Original Resource is a resource from\n      which a list of URIs of Mementos of the Original Resource is\n      available.\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-1.2\" href=\"#section-1.2\">1.2</a>.  Notational Conventions</span>\n\n   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,\n   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this\n   document are to be interpreted as described in [<a href=\"/doc/html/rfc2119\" title=\"&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;\">RFC2119</a>].\n\n   When needed for extra clarity, the following conventions are used:\n\n   o  URI-R is used to denote the URI of an Original Resource.\n\n   o  URI-G is used to denote the URI of a TimeGate.\n\n   o  URI-M is used to denote the URI of a Memento.\n\n   o  URI-T is used to denote the URI of a TimeMap.\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 4]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-5\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-1.3\" href=\"#section-1.3\">1.3</a>.  Purpose</span>\n\n   The state of an Original Resource may change over time.\n   Dereferencing its URI at any specific moment yields a response that\n   reflects the resource&#x27;s state at that moment: a representation of the\n   resource&#x27;s state (e.g., &quot;200 OK&quot; HTTP status code), an indication of\n   its nonexistence (e.g., &quot;404 Not Found&quot; HTTP status code), a relation\n   to another resource (e.g., &quot;302 Found&quot; HTTP status code), etc.\n   However, responses may also exist that reflect prior states of an\n   Original Resource: a representation of a prior state of the Original\n   Resource, an indication that the Original Resource did not exist at\n   some time in the past, a relation that the Original Resource had to\n   another resource at some time in the past, etc.  Mementos that\n   provide such responses exist in Web archives, content management\n   systems, or revision control systems, among others.  For any given\n   Original Resource several Mementos may exist, each one reflecting a\n   frozen prior state of the Original Resource.\n\n   Examples are:\n\n   Mementos for Original Resource <a href=\"https://www.ietf.org/\">http://www.ietf.org/</a> are as follows:\n\n   o  <a href=\"https://web.archive.org/web/19970107171109/http://www.ietf.org/\">http://web.archive.org/web/19970107171109/http://www.ietf.org/</a>\n\n   o  <a href=\"http://webarchive.nationalarchives.gov.uk/20080906200044/http://www.ietf.org/\">http://webarchive.nationalarchives.gov.uk/20080906200044/http://</a>\n      <a href=\"http://webarchive.nationalarchives.gov.uk/20080906200044/http://www.ietf.org/\">www.ietf.org/</a>\n\n   Mementos for Original Resource\n   <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\">http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol</a> are as\n   follows:\n\n   o  <a href=\"https://en.wikipedia.org/w/index\">http://en.wikipedia.org/w/</a>\n      <a href=\"https://en.wikipedia.org/w/index\">index</a>.php?title=Hypertext_Transfer_Protocol&amp;oldid=366806574\n\n   o  <a href=\"https://en.wikipedia.org/w/index\">http://en.wikipedia.org/w/</a>\n      <a href=\"https://en.wikipedia.org/w/index\">index</a>.php?title=Hypertext_Transfer_Protocol&amp;oldid=33912\n\n   o  <a href=\"https://web.archive.org/web/20071011153017/http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\">http://web.archive.org/web/20071011153017/http://en.wikipedia.org/</a>\n      <a href=\"https://web.archive.org/web/20071011153017/http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\">wiki/Hypertext_Transfer_Protocol</a>\n\n   Mementos for Original Resource <a href=\"https://www.w3.org/TR/webarch/\">http://www.w3.org/TR/webarch/</a> are as\n   follows:\n\n   o  <a href=\"https://www.w3.org/TR/2004/PR-webarch-20041105/\">http://www.w3.org/TR/2004/PR-webarch-20041105/</a>\n\n   o  <a href=\"https://www.w3.org/TR/2002/WD-webarch-20020830/\">http://www.w3.org/TR/2002/WD-webarch-20020830/</a>\n\n   o  <a href=\"https://archive.fo/20120527002537/http://www.w3.org/TR/webarch/\">http://archive.is/20120527002537/http://www.w3.org/TR/webarch/</a>\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 5]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-6\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   In the abstract, the Memento framework introduces a mechanism to\n   access versions of Web resources that:\n\n   o  Is fully distributed in the sense that resource versions may\n      reside on multiple servers, and that any such server is likely\n      only aware of the versions it holds;\n\n   o  Uses the global notion of datetime as a resource version indicator\n      and access key;\n\n   o  Leverages the following primitives of [<a href=\"#ref-W3C.REC-aww-20041215\">W3C.REC-aww-20041215</a>]:\n      resource, resource state, representation, content negotiation, and\n      link.\n\n   The core components of Memento&#x27;s mechanism to access resource\n   versions are:\n\n   1.  The abstract notion of the state of an Original Resource (URI-R)\n       as it existed at datetime T.  Note the relationship with the\n       ability to identify the state of a resource at datetime T by\n       means of a URI as intended by the proposed Dated URI scheme\n       [<a href=\"#ref-DATED-URI\" title=\"&quot;The &#x27;tdb&#x27; and &#x27;duri&#x27; URI schemes, based on dated URIs&quot;\">DATED-URI</a>].\n\n   2.  A &quot;bridge&quot; from the present to the past, consisting of:\n\n       o  The existence of a TimeGate (URI-G), which is aware of (at\n          least part of the) version history of the Original Resource\n          (URI-R);\n\n       o  The ability to negotiate in the datetime dimension with that\n          TimeGate (URI-G), as a means to access the state that the\n          Original Resource (URI-R) had at datetime T.\n\n   3.  A &quot;bridge&quot; from the past to the present, consisting of an\n       appropriately typed link from a Memento (URI-M), which\n       encapsulates the state the Original Resource (URI-R) had at\n       datetime T, to the Original Resource (URI-R).\n\n   4.  The existence of a TimeMap (URI-T) from which a list of all\n       Mementos that encapsulate a prior state of the Original Resource\n       (URI-R) can be obtained.\n\n   This document is concerned with specifying an instantiation of these\n   abstractions for resources that are identified by HTTP(S) URIs.\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 6]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-7\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-2\" href=\"#section-2\">2</a>.  HTTP Headers, Link Relation Types</span>\n\n   The Memento framework is concerned with HEAD and GET interactions\n   with Original Resources, TimeGates, Mementos, and TimeMaps that are\n   identified by HTTP or HTTPS URIs.  Details are only provided for\n   resources identified by HTTP URIs but apply similarly to those with\n   HTTPS URIs.\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-2.1\" href=\"#section-2.1\">2.1</a>.  HTTP Headers</span>\n\n   The Memento framework operates at the level of HTTP request and\n   response headers.  It introduces two new headers (&quot;Accept-Datetime&quot;\n   and &quot;Memento-Datetime&quot;) and introduces new values for two existing\n   headers (&quot;Vary&quot; and &quot;Link&quot;).  Other HTTP headers are present or\n   absent in Memento response/request cycles as specified by [<a href=\"/doc/html/rfc2616\" title=\"&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;\">RFC2616</a>].\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-2.1.1\" href=\"#section-2.1.1\">2.1.1</a>.  Accept-Datetime and Memento-Datetime</span>\n\n   The &quot;Accept-Datetime&quot; request header is transmitted by a user agent\n   to indicate it wants to access a past state of an Original Resource.\n   To that end, the &quot;Accept-Datetime&quot; header is conveyed in an HTTP\n   request issued against a TimeGate for an Original Resource, and its\n   value indicates the datetime of the desired past state of the\n   Original Resource.\n\n   Example of an &quot;Accept-Datetime&quot; request header:\n\n   Accept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n\n   The &quot;Memento-Datetime&quot; response header is used by a server to\n   indicate that a response reflects a prior state of an Original\n   Resource.  Its value expresses the datetime of that state.  The URI\n   of the Original Resource for which the response reflects a prior\n   state is provided as the Target IRI of a link provided in the HTTP\n   &quot;Link&quot; header that has a Relation Type of &quot;original&quot; (see\n   <a href=\"#section-2.2\">Section 2.2</a>).\n\n   The presence of a &quot;Memento-Datetime&quot; header and associated value for\n   a given response constitutes a promise that the resource state\n   reflected in the response will no longer change (see <a href=\"#section-4.5.6\">Section 4.5.6</a>).\n\n   Example of a &quot;Memento-Datetime&quot; response header:\n\n   Memento-Datetime: Wed, 30 May 2007 18:47:52 GMT\n\n   Values for the &quot;Accept-Datetime&quot; and &quot;Memento-Datetime&quot; headers\n   consist of a MANDATORY datetime expressed according to the [<a href=\"/doc/html/rfc1123\" title=\"&quot;Requirements for Internet Hosts - Application and Support&quot;\">RFC1123</a>]\n   format, which is formalized by the <a href=\"/doc/html/rfc1123\">rfc1123</a>-date construction rule of\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 7]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-8\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   the BNF in Figure 1.  This BNF is derived from the HTTP-date\n   construction of the BNF for Full Dates provided in [<a href=\"/doc/html/rfc2616\" title=\"&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;\">RFC2616</a>].  The\n   datetime is case sensitive with names for days and months exactly as\n   shown in the wkday and month construction rules of the BNF,\n   respectively.  The datetime MUST be represented in Greenwich Mean\n   Time (GMT).\n\n   accept-dt-value = <a href=\"/doc/html/rfc1123\">rfc1123</a>-date\n   <a href=\"/doc/html/rfc1123\">rfc1123</a>-date = wkday &quot;,&quot; SP date1 SP time SP &quot;GMT&quot;\n   date1        = 2DIGIT SP month SP 4DIGIT\n                     ; day month year (e.g., 20 Mar 1957)\n   time         = 2DIGIT &quot;:&quot; 2DIGIT &quot;:&quot; 2DIGIT\n                     ; 00:00:00 - 23:59:59 (e.g., 14:33:22)\n   wkday        = &quot;Mon&quot; | &quot;Tue&quot; | &quot;Wed&quot; | &quot;Thu&quot; | &quot;Fri&quot; | &quot;Sat&quot; |\n                  &quot;Sun&quot;\n   month        = &quot;Jan&quot; | &quot;Feb&quot; | &quot;Mar&quot; | &quot;Apr&quot; | &quot;May&quot; | &quot;Jun&quot; |\n                  &quot;Jul&quot; | &quot;Aug&quot; | &quot;Sep&quot; | &quot;Oct&quot; | &quot;Nov&quot; | &quot;Dec&quot;\n\n                   Figure 1: BNF for the Datetime Format\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-2.1.2\" href=\"#section-2.1.2\">2.1.2</a>.  Vary</span>\n\n   Generally, the &quot;Vary&quot; header is used in HTTP responses to indicate\n   the dimensions in which content negotiation is possible.  In the\n   Memento framework, a TimeGate uses the &quot;Vary&quot; header with a value\n   that includes &quot;accept-datetime&quot; to convey that datetime negotiation\n   is possible.\n\n   For example, this use of the &quot;Vary&quot; header indicates that datetime is\n   the only dimension in which negotiation is possible:\n\n   Vary: accept-datetime\n\n   The use of the &quot;Vary&quot; header in this example shows that both datetime\n   negotiation and media type content negotiation are possible:\n\n   Vary: accept-datetime, accept\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-2.1.3\" href=\"#section-2.1.3\">2.1.3</a>.  Link</span>\n\n   The Memento framework defines the &quot;original&quot;, &quot;timegate&quot;, &quot;timemap&quot;,\n   and &quot;memento&quot; Relation Types to convey typed links among Original\n   Resources, TimeGates, Mementos, and TimeMaps.  They are defined in\n   <a href=\"#section-2.2\">Section 2.2</a>, below.  In addition, existing Relation Types may be\n   used, for example, to support navigating among Mementos.  Examples\n   are &quot;first&quot;, &quot;last&quot;, &quot;prev&quot;, &quot;next&quot;, &quot;predecessor-version&quot;, and\n   &quot;successor-version&quot; as detailed in [<a href=\"/doc/html/rfc5988\" title=\"&quot;Web Linking&quot;\">RFC5988</a>] and [<a href=\"/doc/html/rfc5829\" title=\"&quot;Link Relation Types for Simple Version Navigation between Web Resources&quot;\">RFC5829</a>].\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 8]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-9\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-2.2\" href=\"#section-2.2\">2.2</a>.  Link Relation Types</span>\n\n   This section introduces the Relation Types used in the Memento\n   framework.  They are defined in a general way, and their use in HTTP\n   &quot;Link&quot; headers [<a href=\"/doc/html/rfc5988\" title=\"&quot;Web Linking&quot;\">RFC5988</a>] is described in detail.  The use of these\n   Relation Types in TimeMaps is described in <a href=\"#section-5\">Section 5</a>.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-2.2.1\" href=\"#section-2.2.1\">2.2.1</a>.  Link Relation Type &quot;original&quot;</span>\n\n   &quot;original&quot; -- A link with an &quot;original&quot; Relation Type is used to\n   point from a TimeGate or a Memento to its associated Original\n   Resource.\n\n   Use in HTTP &quot;Link&quot; headers: Responses to HTTP HEAD/GET requests\n   issued against a TimeGate or a Memento MUST include exactly one link\n   with an &quot;original&quot; Relation Type in their HTTP &quot;Link&quot; header.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-2.2.2\" href=\"#section-2.2.2\">2.2.2</a>.  Link Relation Type &quot;timegate&quot;</span>\n\n   &quot;timegate&quot; -- A link with a &quot;timegate&quot; Relation Type is used to point\n   from the Original Resource, as well as from a Memento associated with\n   the Original Resource, to a TimeGate for the Original Resource.\n\n   Use in HTTP &quot;Link&quot; headers: If there is a TimeGate associated with an\n   Original Resource or Memento that is preferred for use, then\n   responses to HTTP HEAD/GET requests issued against these latter\n   resources MUST include a link with a &quot;timegate&quot; Relation Type in\n   their HTTP &quot;Link&quot; header.  Since multiple TimeGates can exist for any\n   Original Resource, multiple &quot;timegate&quot; links MAY occur, each with a\n   distinct Target IRI.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-2.2.3\" href=\"#section-2.2.3\">2.2.3</a>.  Link Relation Type &quot;timemap&quot;</span>\n\n   &quot;timemap&quot; -- A link with a &quot;timemap&quot; Relation Type is used to point\n   from a TimeGate or a Memento associated with an Original Resource, as\n   well as from the Original Resource itself, to a TimeMap for the\n   Original Resource.\n\n   Attributes: A link with a &quot;timemap&quot; Relation Type SHOULD use the\n   &quot;type&quot; attribute to convey the MIME type of the TimeMap\n   serialization.  The &quot;from&quot; and &quot;until&quot; attributes may be used to\n   express the start and end of the temporal interval covered by\n   Mementos listed in the TimeMap.  That is, the linked TimeMap will not\n   contain Mementos with archival datetimes outside of the expressed\n   temporal interval.  Attempts SHOULD be made to convey this interval\n   as accurately as possible.  The value for the these attributes MUST\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                     [Page 9]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-10\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   be a datetime expressed according to the <a href=\"/doc/html/rfc1123\">rfc1123</a>-date construction\n   rule of the BNF in Figure 1, and it MUST be represented in Greenwich\n   Mean Time (GMT).\n\n   Use in HTTP &quot;Link&quot; headers: If there is a TimeMap associated with an\n   Original Resource, a TimeGate, or a Memento that is preferred for\n   use, then responses to HTTP HEAD/GET requests issued against these\n   latter resources MUST include a link with a &quot;timemap&quot; Relation Type\n   in their HTTP &quot;Link&quot; header.  Multiple such links, each with a\n   distinct Target IRI, MAY be expressed as a means to point to\n   different TimeMaps or to different serializations of the same\n   TimeMap.  In all cases, use of the &quot;from&quot; and &quot;until&quot; attributes is\n   OPTIONAL.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-2.2.4\" href=\"#section-2.2.4\">2.2.4</a>.  Link Relation Type &quot;memento&quot;</span>\n\n   &quot;memento&quot; -- A link with a &quot;memento&quot; Relation Type is used to point\n   from a TimeGate or a Memento for an Original Resource, as well as\n   from the Original Resource itself, to a Memento for the Original\n   Resource.\n\n   Attributes: A link with a &quot;memento&quot; Relation Type MUST include a\n   &quot;datetime&quot; attribute with a value that matches the &quot;Memento-Datetime&quot;\n   of the Memento that is the target of the link; that is, the value of\n   the &quot;Memento-Datetime&quot; header that is returned when the URI of the\n   linked Memento is dereferenced.  The value for the &quot;datetime&quot;\n   attribute MUST be a datetime expressed according to the <a href=\"/doc/html/rfc1123\">rfc1123</a>-date\n   construction rule of the BNF in Figure 1, and it MUST be represented\n   in Greenwich Mean Time (GMT).  This link MAY include a &quot;license&quot;\n   attribute to associate a license with the Memento; the value for the\n   &quot;license&quot; attribute MUST be a URI.\n\n   Use in HTTP &quot;Link&quot; headers: Responses to HTTP HEAD/GET requests\n   issued against an Original Resource, a TimeGate, and a Memento MAY\n   include links in their HTTP &quot;Link&quot; headers with a &quot;memento&quot; Relation\n   Type.  For responses in which a Memento is selected, the provision of\n   navigational links that lead to Mementos other than the selected one\n   can be beneficial to the user agent.  Of special importance are links\n   that lead to the temporally first and last Memento known to the\n   responding server, as well as links leading to Mementos that are\n   temporally adjacent to the selected one.\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 10]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-11\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-3\" href=\"#section-3\">3</a>.  Overview of the Memento Framework</span>\n\n   The Memento framework defines two complementary approaches to support\n   obtaining representations of prior states of an Original Resource:\n\n   o  Datetime Negotiation: Datetime negotiation is a variation on\n      content negotiation by which a user agent expresses a datetime\n      preference pertaining to the representation of an Original\n      Resource, instead of, for example, a media type preference.  Based\n      on the responding server&#x27;s knowledge of the past of the Original\n      Resource, it selects a Memento of the Original Resource that best\n      meets the user agent&#x27;s datetime preference.  An overview is\n      provided in <a href=\"#section-3.1\">Section 3.1</a>; details are in <a href=\"#section-4\">Section 4</a>.\n\n   o  TimeMaps: A TimeMap is a resource from which a list can be\n      obtained that provides a comprehensive overview of the past of an\n      Original Resource.  A server makes a TimeMap available that\n      enumerates all Mementos that the server is aware of, along with\n      their archival datetime.  A user agent can obtain the TimeMap and\n      select Mementos from it.  An overview is provided in <a href=\"#section-3.2\">Section 3.2</a>;\n      details are in <a href=\"#section-5\">Section 5</a>.\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-3.1\" href=\"#section-3.1\">3.1</a>.  Datetime Negotiation</span>\n\n   Figure 2 provides a schematic overview of a successful request/\n   response chain that involves datetime negotiation.  Dashed lines\n   depict HTTP transactions between user agent and server.  The\n   interactions are for a scenario where the Original Resource resides\n   on one server, whereas both its TimeGate and Mementos reside on\n   another (Pattern 2.1 (<a href=\"#section-4.2.1\">Section 4.2.1</a>) in <a href=\"#section-4\">Section 4</a>).  Scenarios also\n   exist in which all these resources are on the same server (for\n   example, content management systems) or all are on different servers\n   (for example, an aggregator of TimeGates).\n\n   1: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------&gt; URI-R\n   2: UA &lt;-- HTTP 200; Link: URI-G ----------------------------- URI-R\n   3: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------&gt; URI-G\n   4: UA &lt;-- HTTP 302; Location: URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------&gt; URI-G\n   5: UA --- HTTP GET URI-M; Accept-Datetime: T ---------------&gt; URI-M\n   6: UA &lt;-- HTTP 200; Memento-Datetime: T; Link:\n         URI-R,URI-T,URI-G ------------------------------------- URI-M\n\n          Figure 2: A Datetime Negotiation Request/Response Chain\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 11]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-12\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Step 1:  The user agent that wants to access a prior state of the\n            Original Resource issues an HTTP HEAD/GET against URI-R that\n            has an &quot;Accept-Datetime&quot; HTTP header with a value of the\n            datetime of the desired state.\n\n   Step 2:  The response from URI-R includes an HTTP &quot;Link&quot; header with\n            a Relation Type of &quot;timegate&quot; pointing at a TimeGate (URI-G)\n            for the Original Resource.\n\n   Step 3:  The user agent starts the datetime negotiation process with\n            the TimeGate by issuing an HTTP GET request against URI-G\n            that has an &quot;Accept-Datetime&quot; HTTP header with a value of\n            the datetime of the desired prior state of the Original\n            Resource.\n\n   Step 4:  The response from URI-G includes a &quot;Location&quot; header\n            pointing at a Memento (URI-M) for the Original Resource.  In\n            addition, the response contains an HTTP &quot;Link&quot; header with a\n            Relation Type of &quot;original&quot; pointing at the Original\n            Resource (URI-R), and an HTTP &quot;Link&quot; header with a Relation\n            Type of &quot;timemap&quot; pointing at a TimeMap (URI-T).\n\n   Step 5:  The user agent issues an HTTP GET request against URI-M.\n\n   Step 6:  The response from URI-M includes a &quot;Memento-Datetime&quot; HTTP\n            header with a value of the archival datetime of the Memento.\n            It also contains an HTTP &quot;Link&quot; header with a Relation Type\n            of &quot;original&quot; pointing at the Original Resource (URI-R),\n            with a Relation Type of &quot;timegate&quot; pointing at a TimeGate\n            (URI-G) for the Original Resource, and with a Relation Type\n            of &quot;timemap&quot; pointing at a TimeMap (URI-T) for the Original\n            Resource.  The state that is expressed by the response is\n            the state the Original Resource had at the archival datetime\n            expressed in the &quot;Memento-Datetime&quot; header.\n\n   In order to respond to a datetime negotiation request, the server\n   uses an internal algorithm to select the Memento that best meets the\n   user agent&#x27;s datetime preference.  The exact nature of the selection\n   algorithm is at the server&#x27;s discretion but is intended to be\n   consistent, for example, always selecting the Memento that is nearest\n   in time relative to the requested datetime, always selecting the\n   Memento that is nearest in the past relative to the requested\n   datetime, etc.\n\n   Due to the sparseness of Mementos in most systems, the value of the\n   &quot;Memento-Datetime&quot; header returned by a server may differ\n   (significantly) from the value conveyed by the user agent in &quot;Accept-\n   Datetime&quot;.\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 12]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-13\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Although a Memento encapsulates a prior state of an Original\n   Resource, the entity-body returned in response to an HTTP GET request\n   issued against a Memento may very well not be byte-to-byte the same\n   as an entity-body that was previously returned by that Original\n   Resource.  Various reasons exist why there are significant chances\n   these would be different yet do convey substantially the same\n   information.  These include format migrations as part of a digital\n   preservation strategy, URI-rewriting as applied by some Web archives,\n   and the addition of banners as a means to brand Web archives.\n\n   When negotiating in the datetime dimension, the regular content\n   negotiation dimensions (media type, character encoding, language, and\n   compression) remain available.  It is the TimeGate server&#x27;s\n   responsibility to honor (or not) such content negotiation, and in\n   doing so it MUST always first select a Memento that meets the user\n   agent&#x27;s datetime preference, and then consider honoring regular\n   content negotiation for it.  As a result of this approach, the\n   returned Memento will not necessarily meet the user agent&#x27;s regular\n   content negotiation preferences.  Therefore, it is RECOMMENDED that\n   the server provides &quot;memento&quot; links in the HTTP &quot;Link&quot; header\n   pointing at Mementos that do meet the user agent&#x27;s regular content\n   negotiation requests and that have a value for the &quot;Memento-Datetime&quot;\n   header in the temporal vicinity of the user agent&#x27;s preferred\n   datetime value.\n\n   A user agent that engages in datetime negotiation with a resource\n   typically starts by issuing an HTTP HEAD, not GET, request with an\n   &quot;Accept-Datetime&quot; header in order to determine how to proceed.  This\n   strategy is related to the existence of various server implementation\n   patterns as will become clear in <a href=\"#section-4\">Section 4</a>.\n\n   Details about the HTTP interactions involved in datetime negotiation\n   are provided in <a href=\"#section-4\">Section 4</a>.\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-3.2\" href=\"#section-3.2\">3.2</a>.  TimeMaps</span>\n\n   Figure 3 provides a schematic overview of a successful request/\n   response chain that shows a user agent obtaining a TimeMap.  The\n   pictorial conventions are the same as the ones used in Figure 2, as\n   is the scenario.  Note that, in addition to a TimeGate, an Original\n   Resource and a Memento can also provide a link to a TimeMap.\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 13]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-14\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   1: UA --- HTTP HEAD/GET ------------------------------------&gt; URI-R\n   2: UA &lt;-- HTTP 200; Link: URI-G ----------------------------- URI-R\n   3: UA --- HTTP HEAD/GET ------------------------------------&gt; URI-G\n   4: UA &lt;-- HTTP 302; Location: URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------&gt; URI-G\n   5: UA --- HTTP GET URI-T -----------------------------------&gt; URI-T\n   6: UA &lt;-- HTTP 200 ------------------------------------------ URI-T\n\n          Figure 3: A Request/Response Chain to Obtain a TimeMap\n\n   Step 1:  The user agent that wants to access a TimeMap for the\n            Original Resource issues an HTTP HEAD/GET against URI-R.\n            This can be done with or without an &quot;Accept-Datetime&quot; HTTP\n            header.\n\n   Step 2:  Irrespective of the use of an &quot;Accept-Datetime&quot; HTTP header\n            in Step 1, the response from URI-R includes an HTTP &quot;Link&quot;\n            header with a Relation Type of &quot;timegate&quot; pointing at a\n            TimeGate (URI-G) for the Original Resource.\n\n   Step 3:  The user agent issues an HTTP GET request against URI-G.\n            This can be done with or without an &quot;Accept-Datetime&quot; HTTP\n            header.\n\n   Step 4:  Irrespective of the use of an &quot;Accept-Datetime&quot; HTTP header\n            in Step 1, the response contains an HTTP &quot;Link&quot; header with\n            a Relation Type of &quot;timemap&quot; pointing at a TimeMap (URI-T).\n\n   Step 5:  The user agent issues an HTTP GET request against URI-T.\n\n   Step 6:  The response from URI-T has an entity-body that lists all\n            Mementos for the Original Resource known to the responding\n            server, as well as their archival datetimes.\n\n   Details about the content and serialization of TimeMaps are provided\n   in <a href=\"#section-5\">Section 5</a>.\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-4\" href=\"#section-4\">4</a>.  Datetime Negotiation: HTTP Interactions</span>\n\n   Figure 2 depicts a specific pattern to implement the Memento\n   framework.  Multiple patterns exist, and they can be grouped as\n   follows:\n\n   o  Pattern 1 (<a href=\"#section-4.1\">Section 4.1</a>) - The Original Resource acts as its own\n      TimeGate\n\n   o  Pattern 2 (<a href=\"#section-4.2\">Section 4.2</a>) - A remote resource acts as a TimeGate for\n      the Original Resource\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 14]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-15\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   o  Pattern 3 (<a href=\"#section-4.3\">Section 4.3</a>) - The Original Resource is a Fixed\n      Resource\n\n   o  Pattern 4 (<a href=\"#section-4.4\">Section 4.4</a>) - Mementos without a TimeGate\n\n   Details of the HTTP interactions for common cases for each of those\n   patterns are provided in Sections <a href=\"#section-4.1\">4.1</a> through <a href=\"#section-4.4\">4.4</a>.  <a href=\"#appendix-A\">Appendix A</a>\n   summarizes the use of the &quot;Vary&quot;, &quot;Memento-Datetime&quot;, and &quot;Link&quot;\n   headers in responses from Original Resources, TimeGates, and Mementos\n   for the various patterns.  Special cases are described in\n   <a href=\"#section-4.5\">Section 4.5</a>.  Note that in the following sections, the HTTP status\n   code of the responses with an entity-body is shown as &quot;200 OK&quot;, but a\n   series of &quot;206 Partial Content&quot; responses could be substituted.\n\n   Figure 4 shows a user agent that attempts to datetime negotiate with\n   the Original Resource http://a.example.org/ by including an &quot;Accept-\n   Datetime&quot; header in its HTTP HEAD request.  This initiating request\n   is the same for Pattern 1 (<a href=\"#section-4.1\">Section 4.1</a>) through Pattern 3\n   (<a href=\"#section-4.3\">Section 4.3</a>).\n\n   HEAD / HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n            Figure 4: User Agent Attempts Datetime Negotiation\n                          with Original Resource\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-4.1\" href=\"#section-4.1\">4.1</a>.  Pattern 1 - The Original Resource Acts as Its Own TimeGate</span>\n\n   In this implementation pattern, the Original Resource acts as its own\n   TimeGate, which means that URI-R and URI-G coincide.  Content\n   management systems and revision control systems can support datetime\n   negotiation in this way as they are commonly aware of the version\n   history of their own resources.\n\n   The response to this request when datetime negotiation for this\n   resource is supported depends on the negotiation style it uses (200-\n   style or 302-style) and on the existence or absence of a URI-M for\n   Mementos that is distinct from the URI-R of the associated Original\n   Resource.  The various cases are summarized in the below table, and\n   the server responses for each are detailed in the remainder of this\n   section.\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 15]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-16\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-------------------+------------+----------+---------+-------------+\n   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n   |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n   |    Pattern 1.1    |    URI-R   |   URI-R  |  URI-M  |     302     |\n   |  (<a href=\"#section-4.1.1\">Section 4.1.1</a>)  |            |          |         |             |\n   |    Pattern 1.2    |    URI-R   |   URI-R  |  URI-M  |     200     |\n   |  (<a href=\"#section-4.1.2\">Section 4.1.2</a>)  |            |          |         |             |\n   |    Pattern 1.3    |    URI-R   |   URI-R  |  URI-R  |     200     |\n   |  (<a href=\"#section-4.1.3\">Section 4.1.3</a>)  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\n                            Table 1: Pattern 1\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.1.1\" href=\"#section-4.1.1\">4.1.1</a>.  Pattern 1.1 - URI-R=URI-G; 302-Style Negotiation; Distinct URI-M</span>\n\n   In this case, the response to the user agent&#x27;s request of Figure 4\n   has a &quot;302 Found&quot; HTTP status code, and the &quot;Location&quot; header conveys\n   the URI-M of the selected Memento.  The use of Memento response\n   headers and links in the response from URI-R=URI-G is as follows:\n\n   o  The &quot;Vary&quot; header MUST be provided, and it MUST include the\n      &quot;accept-datetime&quot; value.\n\n   o  The response MUST NOT contain a &quot;Memento-Datetime&quot; header.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server&#x27;s response to the request of Figure 4 is shown in\n   Figure 5.  Note the inclusion of the recommended link to the TimeGate\n   that, in this case, has a Target IRI that is the URI-R of the\n   Original Resource.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 16]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-17\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Location:\n    http://a.example.org/?version=20010320133610\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original timegate&quot;\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n            Figure 5: Response from URI-R=URI-G for Pattern 1.1\n\n   In a subsequent request, shown in Figure 6, the user agent can obtain\n   the selected Memento by issuing an HTTP GET request against the URI-M\n   that was provided in the &quot;Location&quot; header.  The inclusion of the\n   &quot;Accept-Datetime&quot; header in this request is not needed but will\n   typically occur as the user agent is in datetime negotiation mode.\n\n   GET /?version=20010320133610 HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n              Figure 6: User Agent Requests Selected Memento\n\n   The response has a &quot;200 OK&quot; HTTP status code, and the entity-body of\n   the response contains the representation of the selected Memento.\n   The use of Memento response headers and links in the response from\n   URI-M is as follows:\n\n   o  A &quot;Vary&quot; header that includes an &quot;accept-datetime&quot; value MUST NOT\n      be provided.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server&#x27;s response to the request of Figure 6 is shown in\n   Figure 7.  Note the provision of the required &quot;original&quot;, and the\n   recommended &quot;timegate&quot; and &quot;timemap&quot; links.  The former two point to\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 17]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-18\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   the Original Resource, which acts as its own TimeGate.  The latter\n   has &quot;from&quot; and &quot;until&quot; attributes to indicate the temporal interval\n   covered by Mementos listed in the linked TimeMap.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:51 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original timegate&quot;,\n    &lt;http://a.example.org/?version=all&amp;style=timemap&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;\n      ; from=&quot;Tue, 15 Sep 2000 11:28:26 GMT&quot;\n      ; until=&quot;Wed, 20 Jan 2010 09:34:33 GMT&quot;\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n               Figure 7: Response from URI-M for Pattern 1.1\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.1.2\" href=\"#section-4.1.2\">4.1.2</a>.  Pattern 1.2 - URI-R=URI-G; 200-Style Negotiation; Distinct URI-M</span>\n\n   In this case, the response to the user agent&#x27;s request of Figure 4\n   has a &quot;200 OK&quot; HTTP status code, and the &quot;Content-Location&quot; header\n   conveys the URI-M of the selected Memento.  The use of Memento\n   response headers and links in the response from URI-R=URI-G is as\n   follows:\n\n   o  The &quot;Vary&quot; header MUST be provided, and it MUST include the\n      &quot;accept-datetime&quot; value.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the archival datetime of the selected Memento.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server&#x27;s response to the request of Figure 4 is shown in\n   Figure 8.  Note the provision of optional &quot;memento&quot; links pointing at\n   the oldest and most recent Memento for the Original Resource known to\n   the responding server.\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 18]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-19\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Content-Location:\n    http://a.example.org/?version=20010320133610\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original timegate&quot;,\n    &lt;http://a.example.org/?version=20000915112826&gt;\n    ; rel=&quot;memento first&quot;; datetime=&quot;Tue, 15 Sep 2000 11:28:26 GMT&quot;,\n    &lt;http://a.example.org/?version=20100120093433&gt;\n    ; rel=&quot;memento last&quot;; datetime=&quot;Wed, 20 Jan 2010 09:34:33 GMT&quot;,\n    &lt;http://a.example.org/?version=all&amp;style=timemap&gt;\n    ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 8: Response from URI-R=URI-G for Pattern 1.2\n\n   In a subsequent request, which is the same as Figure 4 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as in Figure 8.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.1.3\" href=\"#section-4.1.3\">4.1.3</a>.  Pattern 1.3 - URI-R=URI-G; 200-Style Negotiation; No Distinct</span>\n<span class=\"h4\">        URI-M</span>\n\n   In this case, the response to the user agent&#x27;s request of Figure 4\n   has a &quot;200 OK&quot; HTTP status code, and it does not contain a &quot;Content-\n   Location&quot; nor a &quot;Location&quot; header as there is no URI-M of the\n   selected Memento to convey.  The use of Memento response headers and\n   links in the response from URI-R=URI-G is as follows:\n\n   o  The &quot;Vary&quot; header MUST be provided, and it MUST include the\n      &quot;accept-datetime&quot; value.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the archival datetime of the selected Memento.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 19]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-20\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The server&#x27;s response to the request of Figure 4 is shown in\n   Figure 9.  The recommended &quot;timemap&quot; and &quot;timegate&quot; links are\n   included in addition to the mandatory &quot;original&quot; link.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original timegate&quot;,\n    &lt;http://a.example.org/?version=all&amp;style=timemap&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 9: Response from URI-R=URI-G for Pattern 1.3\n\n   In a subsequent request, which is the same as Figure 4 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as in Figure 9.\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-4.2\" href=\"#section-4.2\">4.2</a>.  Pattern 2 - A Remote Resource Acts as a TimeGate for the Original</span>\n<span class=\"h3\">      Resource</span>\n\n   In this implementation pattern, the Original Resource does not act as\n   its own TimeGate, which means that URI-R and URI-G are different.\n   This pattern is typically implemented by servers for which the\n   history of their resources is recorded in remote systems such as Web\n   archives and transactional archives [<a href=\"#ref-Fitch\" title=\"&quot;Web site archiving - an approach to recording every materially different response produced by a website&quot;\">Fitch</a>].  But servers that\n   maintain their own history, such as content management systems and\n   version control systems, may also implement this pattern, for\n   example, to distribute the load involved in responding to requests\n   for current and prior representations of resources between different\n   servers.\n\n   This pattern is summarized in the below table and is detailed in the\n   remainder of this section.  Three cases exist that differ regarding\n   the negotiation style that is used by the remote TimeGate and\n   regarding the existence of a URI-M for Mementos that is distinct from\n   the URI-G of the TimeGate.\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 20]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-21\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-------------------+------------+----------+---------+-------------+\n   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n   |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n   |    Pattern 2.1    |    URI-R   |   URI-G  |  URI-M  |     302     |\n   |  (<a href=\"#section-4.2.1\">Section 4.2.1</a>)  |            |          |         |             |\n   |    Pattern 2.2    |    URI-R   |   URI-G  |  URI-M  |     200     |\n   |  (<a href=\"#section-4.2.2\">Section 4.2.2</a>)  |            |          |         |             |\n   |    Pattern 2.3    |    URI-R   |   URI-G  |  URI-G  |     200     |\n   |  (<a href=\"#section-4.2.3\">Section 4.2.3</a>)  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\n                            Table 2: Pattern 2\n\n   The response by the Original Resource to the request shown in\n   Figure 4 is the same for all three cases.  The use of headers and\n   links in the response from URI-R is as follows:\n\n   o  A &quot;Vary&quot; header that includes an &quot;accept-datetime&quot; value MUST NOT\n      be provided.\n\n   o  The response MUST NOT contain a &quot;Memento-Datetime&quot; header.\n\n   o  The &quot;Link&quot; header SHOULD be provided.  It MUST NOT include a link\n      with an &quot;original&quot; Relation Type.  If a preferred TimeGate is\n      associated with the Original Resource, then it MUST include a link\n      with a &quot;timegate&quot; Relation Type that has the URI-G of the TimeGate\n      as Target IRI.  If a preferred TimeMap is associated with the\n      Original Resource, then it SHOULD include a link with a &quot;timemap&quot;\n      Relation Type that has the URI-T of the TimeGate as Target IRI.\n      Multiple &quot;timegate&quot; and &quot;timemap&quot; links can be provided to\n      accommodate situations in which the server is aware of multiple\n      TimeGates or TimeMaps for the Original Resource.\n\n   Figure 10 shows such a response.  Note the absence of an &quot;original&quot;\n   link as the responding resource is neither a TimeGate nor a Memento.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:02:12 GMT\n   Server: Apache\n   Link: &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=&quot;timegate&quot;\n   Content-Length: 255\n   Connection: close\n   Content-Type: text/html; charset=iso-8859-1\n\n            Figure 10: Response from URI-R&lt;&gt;URI-G for Pattern 2\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 21]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-22\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Once a user agent has obtained the URI-G of a remote TimeGate for the\n   Original Resource, it can engage in datetime negotiation with that\n   TimeGate.  Figure 11 shows the request issued against the TimeGate,\n   whereas Sections <a href=\"#section-4.2.1\">4.2.1</a> through <a href=\"#section-4.2.3\">4.2.3</a> detail the responses for various\n   TimeGate implementation patterns.\n\n   HEAD /timegate/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n           Figure 11: User Agent Engages in Datetime Negotiation\n                           with Remote TimeGate\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.2.1\" href=\"#section-4.2.1\">4.2.1</a>.  Pattern 2.1 - URI-R&lt;&gt;URI-G; 302-Style Negotiation; Distinct</span>\n<span class=\"h4\">        URI-M</span>\n\n   In case the TimeGate uses a 302 negotiation style, the response to\n   the user agent&#x27;s request of Figure 11 has a &quot;302 Found&quot; HTTP status\n   code, and the &quot;Location&quot; header conveys the URI-M of the selected\n   Memento.  The use of Memento response headers and links in the\n   response from URI-G is as follows:\n\n   o  The &quot;Vary&quot; header MUST be provided, and it MUST include the\n      &quot;accept-datetime&quot; value.\n\n   o  The response MUST NOT contain a &quot;Memento-Datetime&quot; header.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server&#x27;s response to the request of Figure 11 is shown in\n   Figure 12.  It contains the mandatory &quot;original&quot; link that points\n   back to the Original Resource associated with this TimeGate, and it\n   shows the recommended &quot;timemap&quot; link that includes &quot;from&quot; and &quot;until&quot;\n   attributes.\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 22]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-23\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:02:14 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;\n      ; from=&quot;Tue, 15 Sep 2000 11:28:26 GMT&quot;\n      ; until=&quot;Wed, 20 Jan 2010 09:34:33 GMT&quot;\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n           Figure 12: Response from URI-G&lt;&gt;URI-R for Pattern 2.1\n\n   In a subsequent HTTP GET request, shown in Figure 13, the user agent\n   can obtain the selected Memento by issuing an HTTP GET request\n   against the URI-M that was provided in the &quot;Location&quot; header.  The\n   inclusion of the &quot;Accept-Datetime&quot; header in this request is not\n   needed but will typically occur as the user agent is in datetime\n   negotiation mode.\n\n   GET /web/20010321203610/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net/\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n              Figure 13: User Agent Requests Selected Memento\n\n   The response has a &quot;200 OK&quot; HTTP status code.  The use of Memento\n   response headers and links in the response from URI-M is as follows:\n\n   o  A &quot;Vary&quot; header that includes an &quot;accept-datetime&quot; value MUST NOT\n      be provided.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 23]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-24\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The server&#x27;s response to the request of Figure 13 is shown in\n   Figure 14.  Note the provision of the recommended &quot;timegate&quot; and\n   &quot;timemap&quot; links.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:02:15 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=&quot;timegate&quot;\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n              Figure 14: Response from URI-M for Pattern 2.1\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.2.2\" href=\"#section-4.2.2\">4.2.2</a>.  Pattern 2.2 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; Distinct</span>\n<span class=\"h4\">        URI-M</span>\n\n   In case the TimeGate uses a 200 negotiation style, and each Memento\n   has a distinct URI-M, the response to the user agent&#x27;s request of\n   Figure 11 has a &quot;200 OK&quot; HTTP status code, and the &quot;Content-Location&quot;\n   header conveys the URI-M of the selected Memento.  The use of Memento\n   response headers and links in the response from URI-G is as follows:\n\n   o  The &quot;Vary&quot; header MUST be provided, and it MUST include the\n      &quot;accept-datetime&quot; value.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server&#x27;s response to the request of Figure 11 is shown in\n   Figure 15.\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 24]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-25\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Vary: accept-datetime\n   Content-Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=&quot;timegate&quot;\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n           Figure 15: Response from URI-G&lt;&gt;URI-R for Pattern 2.2\n\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as Figure 15.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.2.3\" href=\"#section-4.2.3\">4.2.3</a>.  Pattern 2.3 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; No Distinct</span>\n<span class=\"h4\">        URI-M</span>\n\n   In case the TimeGate uses a 200 negotiation style, but Mementos have\n   no distinct URIs, the response to the user agent&#x27;s request of\n   Figure 11 has a &quot;200 OK&quot; HTTP status code, and it does not contain a\n   &quot;Content-Location&quot; nor &quot;Location&quot; header as there is no URI-M of the\n   selected Memento to convey.  The use of Memento response headers and\n   links in the response from URI-G is as follows:\n\n   o  The &quot;Vary&quot; header MUST be provided, and it MUST include the\n      &quot;accept-datetime&quot; value.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST contain at least a\n      link with the &quot;original&quot; Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 25]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-26\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The server&#x27;s response to the request of Figure 11 is shown in\n   Figure 16.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Vary: accept-datetime\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=&quot;timegate&quot;\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n           Figure 16: Response from URI-G&lt;&gt;URI-R for Pattern 2.3\n\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as Figure 16.\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-4.3\" href=\"#section-4.3\">4.3</a>.  Pattern 3 - The Original Resource is a Fixed Resource</span>\n\n   This pattern does not involve datetime negotiation with a TimeGate,\n   but it can be implemented for Original Resources that never change\n   state or do not change anymore past a certain point in their\n   existence, meaning that URI-R and URI-M coincide either from the\n   outset or starting at some point in time.  This pattern is summarized\n   in the below table.  Examples are tweets or stable media resources on\n   news sites.\n\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n   |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |      URI-R     |     -    |  URI-R  |         -        |\n   |     3    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\n                            Table 3: Pattern 3\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 26]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-27\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Servers that host such resources can support the Memento framework by\n   treating the stable resource (FixedResource as per\n   [<a href=\"#ref-W3C.gen-ont-20090420\">W3C.gen-ont-20090420</a>]) as a Memento.  The use of Memento response\n   headers and links in responses from such a stable resource is as\n   follows:\n\n   o  A &quot;Vary&quot; header that includes an &quot;accept-datetime&quot; value MUST NOT\n      be provided.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the datetime at which the resource became stable.\n      Providing this value includes a promise that the resource has not\n      changed since this datetime and will not change anymore beyond it.\n\n   o  The &quot;Link&quot; header MUST be provided and MUST have a link with the\n      &quot;original&quot; Relation Type that has the URI-R of the stable resource\n      itself as Target IRI.\n\n   Figure 17 shows a response to an HTTP HEAD request for the resource\n   with URI-R http://a.example.org/ that has been stable since March 20,\n   2009.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 20 Mar 2009 11:00:00 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original&quot;\n   Content-Length: 875\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 17: Response from URI-R=URI-M for Pattern 3\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-4.4\" href=\"#section-4.4\">4.4</a>.  Pattern 4 - Mementos without a TimeGate</span>\n\n   Cases may occur in which a server hosts Mementos but does not expose\n   a TimeGate for them.  This can, for example, be the case if the\n   server&#x27;s Mementos result from taking a snapshot of the state of a set\n   of Original Resources from another server as it is being retired.  As\n   a result, only a single Memento per Original Resource is hosted,\n   making the introduction of a TimeGate unnecessary.  But it may also\n   be the case for servers that host multiple Mementos for an Original\n   Resource but consider exposing TimeGates too expensive.  In this\n   case, URI-R and URI-M are distinct, but a TimeGate is absent.  This\n   case is summarized in the below table.\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 27]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-28\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n   |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |      URI-R     |     -    |  URI-M  |         -        |\n   |     4    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\n                            Table 4: Pattern 4\n\n   Servers that host such Mementos without TimeGates can still support\n   the Memento framework by providing the appropriate Memento headers\n   and links.  Their use is as follows for a response from URI-M:\n\n   o  A &quot;Vary&quot; header that includes an &quot;accept-datetime&quot; value MUST NOT\n      be provided.\n\n   o  The response MUST include a &quot;Memento-Datetime&quot; header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST have a link with\n      the &quot;original&quot; Relation Type that has the URI-R of the associated\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   Figure 18 shows a response to an HTTP HEAD request for the Memento\n   with URI-M\n   http://arxiv.example.net/web/20010321203610/http://a.example.org/.\n   Note the use of links: three links have the URI-M of the Memento as\n   Target IRI and have respective Relation Types &quot;memento&quot;, &quot;first&quot;, and\n   &quot;last&quot;.  This combination indicates that this is the only Memento for\n   the Original Resource with Target IRI provided by the &quot;original&quot; link\n   (http://a.example.org/) of which the server is aware.  Note also that\n   such a response does not imply that there is no server whatsoever\n   that exposes a TimeGate; it merely means that the responding server\n   neither provides nor is aware of the location of a TimeGate.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 28]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-29\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/web/20010321203610/http://a.example.org/&gt;\n      ; rel=&quot;first last memento&quot;\n      ; datetime=&quot;Wed, 21 Mar 2001 20:36:10 GMT&quot;\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 18: Response from URI-M&lt;&gt;URI-R for Pattern 4\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-4.5\" href=\"#section-4.5\">4.5</a>.  Special Cases</span>\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.1\" href=\"#section-4.5.1\">4.5.1</a>.  Original Resource Provides No &quot;timegate&quot; Link</span>\n\n   Cases exist in which the response from the Original Resource does not\n   contain a &quot;timegate&quot; link, including:\n\n   o  The Original Resource&#x27;s server does not support the Memento\n      framework;\n\n   o  The Original Resource no longer exists, and the responding server\n      is not aware of its prior existence;\n\n   o  The server that hosted the Original Resource no longer exists.\n\n   In all these cases, the user agent should attempt to determine an\n   appropriate TimeGate for the Original Resource, either automatically\n   or interactively supported by the user.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.2\" href=\"#section-4.5.2\">4.5.2</a>.  Server Exists but Original Resource No Longer Does</span>\n\n   Cases exist in which the server knows that an Original Resource used\n   to exist, but no longer provides a current representation.  If there\n   is a preferred TimeGate for such a discontinued Original Resource,\n   then the server MUST include a &quot;timegate&quot; link in responses to\n   requests for it.  This may allow access to Mementos for the Original\n   Resource even if it no longer exists.  A server&#x27;s response to a\n   request for the discontinued resource http://a.example.org/pic is\n   illustrated in Figure 19.\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 29]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-30\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 404 Not Found\n   Date: Thu, 21 Jan 2010 00:02:12 GMT\n   Server: Apache\n   Link:\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/pic&gt;\n     ; rel=&quot;timegate&quot;\n   Content-Length: 255\n   Content-Type: text/html; charset=iso-8909-1\n   Connection: close\n\n    Figure 19: Response from an Original Resource That No Longer Exists\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.3\" href=\"#section-4.5.3\">4.5.3</a>.  Issues with Accept-Datetime</span>\n\n   The following special cases may occur regarding the &quot;Accept-Datetime&quot;\n   header when a user agent issues a request against a TimeGate:\n\n   o  If the value of the &quot;Accept-Datetime&quot; is either earlier than the\n      datetime of the first Memento or later than the datetime of the\n      most recent Memento known to the TimeGate, the first or most\n      recent Memento MUST be selected, respectively.\n\n   o  If the value of the &quot;Accept-Datetime&quot; does not conform to the\n      <a href=\"/doc/html/rfc1123\">rfc1123</a>-date construction rule of the BNF in Figure 1, the\n      response MUST have a &quot;400 Bad Request&quot; HTTP status code.\n\n   o  If a user agent issues a request against a TimeGate and fails to\n      include an &quot;Accept-Datetime&quot; request header, the most recent\n      Memento SHOULD be selected.\n\n   In all cases, the use of headers and links in responses is as\n   described for TimeGates in the respective scenarios.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.4\" href=\"#section-4.5.4\">4.5.4</a>.  Memento of a 3XX Response</span>\n\n   Cases exist in which HTTP responses with 3XX status codes are\n   archived.  For example, crawl-based Web archives commonly archive\n   responses with HTTP status codes &quot;301 Moved Permanently&quot; and &quot;302\n   Found&quot;, whereas Linked Data archives hold on to &quot;303 See Other&quot;\n   responses.\n\n   If the Memento requested by the user agent is an archived version of\n   an HTTP response with a 3XX status code, the server&#x27;s response MUST\n   have the same 3XX HTTP status code.  The use of other Memento headers\n   is as described for Mementos in the respective scenarios.\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 30]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-31\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The user agent&#x27;s handling of an HTTP response with a 3XX status code\n   is not affected by the presence of a &quot;Memento-Datetime&quot; header.  The\n   user agent MUST behave in the same manner as it does with HTTP\n   responses with a 3XX status code that do not have a &quot;Memento-\n   Datetime&quot; header.\n\n   However, the user agent MUST be aware that the URI that was selected\n   from the &quot;Location&quot; header of an HTTP response with a 3XX status code\n   might not be that of a Memento but rather of an Original Resource.\n   In the latter case, it SHOULD proceed by looking for a Memento of the\n   selected Original Resource.\n\n   For example, Figure 20 shows the response to an HTTP GET request for\n   http://a.example.org issued on April 11, 2008.  This response is\n   archived as a Memento of http://a.example.org that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n   The response to an HTTP GET on this URI-M is shown in Figure 21.  It\n   is a replay of the original response with &quot;Memento-Datetime&quot; and\n   &quot;Link&quot; headers added, to allow a user agent to understand the\n   response is a Memento.  In Figure 21, the value of the &quot;Location&quot;\n   header is the same as in the original response; it identifies an\n   Original Resource.  The user agent proceeds with finding a Memento\n   for this Original Resource.  Web archives sometimes overwrite the\n   value that was originally provided in the &quot;Location&quot; header in order\n   to point at a Memento they hold of the resource to which the redirect\n   originally led.  This is shown in Figure 22.  In this case, the user\n   agent may decide it found an appropriate Memento.\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server: Apache\n   Location: http://b.example.org\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                     Figure 20: Response Is a Redirect\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 31]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-32\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location: http://b.example.org\n   Link: &lt;http://a.example.org&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=&quot;timegate&quot;\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n           Figure 21: Response is a Memento of a Redirect; Leads\n                          to an Original Resource\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location:\n    http://arxiv.example.net/web/20080411000655/http://b.example.org\n   Link: &lt;http://a.example.org&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=&quot;timegate&quot;\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n    Figure 22: Response is a Memento of a Redirect; Leads to a Memento\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.5\" href=\"#section-4.5.5\">4.5.5</a>.  Memento of Responses with 4XX or 5XX HTTP Status Codes</span>\n\n   Cases exist in which responses with 4XX and 5XX HTTP status codes are\n   archived.  If the Memento requested by the user agent is an archived\n   version of such an HTTP response, the server&#x27;s response MUST have the\n   same 4XX or 5XX HTTP status code.  The use of headers and links in\n   responses is as described for Mementos in the respective scenarios.\n\n   For example, Figure 23 shows the 404 response to an HTTP GET request\n   for http://a.example.org issued on April 11, 2008.  This response is\n   archived as a Memento of http://a.example.org that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n   The response to an HTTP HEAD on this URI-M is shown in Figure 24.  It\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 32]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-33\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   is a replay of the original response with &quot;Memento-Datetime&quot; and\n   &quot;Link&quot; headers added, to allow a user agent to understand the\n   response is a Memento.\n\n   HTTP/1.1 404 Not Found\n   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server: Apache\n   Content-Length: 255\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                       Figure 23: Response Is a 404\n\n   HTTP/1.1 404 Not Found\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Link: &lt;http://a.example.org&gt;; rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;; type=&quot;application/link-format&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=&quot;timegate&quot;\n   Content-Length: 255\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                 Figure 24: Response Is a Memento of a 404\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.6\" href=\"#section-4.5.6\">4.5.6</a>.  Sticky &quot;Memento-Datetime&quot; and &quot;original&quot; Link for Mementos</span>\n\n   A response to an HTTP HEAD/GET request issued against a Memento:\n\n   o  Includes a &quot;Memento-Datetime&quot; header that entails a promise that\n      the response is archived, frozen in time.  The value of the header\n      expresses the archival datetime of the Memento.\n\n   o  Includes a link in the HTTP &quot;Link&quot; header with an &quot;original&quot;\n      Relation Type that unambiguously points to the Original Resource\n      associated with the Memento.  The Target IRI of the link is the\n      URI-R of that Original Resource.\n\n   Both the &quot;Memento-Datetime&quot; header and the &quot;original&quot; link MUST be\n   &quot;sticky&quot; in the following ways:\n\n   o  The server that originally assigns them MUST retain them in all\n      responses to HTTP requests (with or without an &quot;Accept-Datetime&quot;\n      request header) that occur against the Memento after the time of\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 33]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-34\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n      their original assignment, and the server MUST NOT change the\n      value of the &quot;Memento-Datetime&quot; header nor the Target IRI of the\n      &quot;original&quot; link.\n\n   o  Applications that mirror Mementos at a different URI MUST retain\n      them and MUST NOT change them unless mirroring involves a\n      meaningful state change.  This allows, among others, duplicating a\n      Web archive at a new location while preserving the value of the\n      &quot;Memento-Datetime&quot; header and the link with the &quot;original&quot;\n      Relation Type for the archived resources.  For example, when\n      mirroring, the &quot;Last-Modified&quot; header will be updated to reflect\n      the time of mirroring at the new URI, whereas the value for\n      &quot;Memento-Datetime&quot; will be maintained.\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.7\" href=\"#section-4.5.7\">4.5.7</a>.  Intermediate Resources</span>\n\n   An intermediate resource is a resource that issues a redirect to a\n   TimeGate, to a Memento, or to another intermediate resource, and thus\n   plays an active role in the Memento infrastructure.  Intermediate\n   resources commonly exist in Web archives on the path from a TimeGate\n   to an appropriate Memento.\n\n   A response of an intermediate resource has an HTTP status code\n   indicative of HTTP redirection (e.g., 302) and uses Memento headers\n   and links that allow user agents to recognize that the resource plays\n   a role in the Memento framework:\n\n   o  A &quot;Vary&quot; header that includes an &quot;accept-datetime&quot; value MUST NOT\n      be provided.\n\n   o  The response MUST NOT include a &quot;Memento-Datetime&quot; header.\n\n   o  The &quot;Link&quot; header MUST be provided, and it MUST have a link with\n      the &quot;original&quot; Relation Type that has the URI-R of the associated\n      Original Resource as Target IRI.  Links with &quot;timegate&quot;,\n      &quot;timemap&quot;, and &quot;memento&quot; Relation Types are OPTIONAL and, if\n      provided, MUST pertain to the Original Resource for which the user\n      agent is trying to obtain a Memento.\n\n   A user agent MUST follow a redirection provided by an intermediate\n   resource; multiple such redirections can be chained.\n\n   Consider the case where a user agent follows the &quot;timegate&quot; link\n   provided in Figure 10 and engages in datetime negotiation with the\n   assumed TimeGate in the manner shown in Figure 11.  But instead of\n   receiving a response as shown in Figure 12, it receives the one shown\n   below in Figure 25.  Such a response is unambiguously recognizable as\n   coming from an intermediate resource.\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 34]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-35\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Location:\n    http://arxiv.example.net/new-timegate/http://a.example.org/\n   Link: &lt;http://a.example.org&gt;; rel=&quot;original&quot;\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n          Figure 25: Redirecting Resource Redirects to a TimeGate\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-4.5.8\" href=\"#section-4.5.8\">4.5.8</a>.  Resources Excluded from Datetime Negotiation</span>\n\n   When delivering a Memento to a user agent, a Web archive commonly\n   enhances that Memento&#x27;s archived content, for example, by including a\n   banner that provides branding and highlights the archival status of\n   the Memento.  The resources that are involved in providing such\n   system-specific functionality, many times JavaScript or images, must\n   be used in their current state.\n\n   A server that generally supports datetime negotiation should make\n   resources that need to be excluded from datetime negotiation\n   recognizable.  Doing so allows a user agent to refrain from\n   attempting to access a Memento for them.  In order to achieve this,\n   the server SHOULD include a special-purpose link in the HTTP &quot;Link&quot;\n   header when responding to an HTTP HEAD/GET request to a resource\n   excluded from datetime negotiation.  This link has\n   &quot;http://mementoweb.org/terms/donotnegotiate&quot; as Target IRI and\n   &quot;type&quot;, defined in [<a href=\"/doc/html/rfc6903\" title=\"&quot;Additional Link Relation Types&quot;\">RFC6903</a>], as the value of the &quot;rel&quot; attribute.\n   Other Memento headers as defined in <a href=\"#section-2.1\">Section 2.1</a> SHOULD NOT be\n   provided.\n\n   Figure 26 shows the response to an HTTP HEAD request from a resource\n   excluded from datetime negotiation.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Link: &lt;<a href=\"http://mementoweb.org/terms/donotnegotiate\">http://mementoweb.org/terms/donotnegotiate</a>&gt;; rel=&quot;type&quot;\n   Content-Length: 238\n   Content-Type: application/javascript; charset=UTF-8\n   Connection: close\n\n   Figure 26: Response to an HTTP HEAD Request from a Resource Excluded\n                         from Datetime Negotiation\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 35]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-36\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-5\" href=\"#section-5\">5</a>.  TimeMaps: Content and Serialization</span>\n\n   A TimeMap is introduced to support retrieving a comprehensive list of\n   all Mementos for a specific Original Resource known to a server.  The\n   entity-body of a response to an HTTP GET request issued against a\n   TimeMap&#x27;s URI-T:\n\n   o  MUST list the URI-R of the Original Resource that the TimeMap is\n      about;\n\n   o  MUST list the URI-M and archival datetime of each Memento for the\n      Original Resource known to the server, preferably in a single\n      document, or, alternatively in multiple documents that can be\n      gathered by following contained links with a &quot;timemap&quot; Relation\n      Type;\n\n   o  SHOULD list the URI-G of one or more TimeGates for the Original\n      Resource known to the responding server;\n\n   o  SHOULD, for self-containment, list the URI-T of the TimeMap\n      itself;\n\n   o  MUST unambiguously type listed resources as being Original\n      Resource, TimeGate, Memento, or TimeMap.\n\n   The entity-body of a response from a TimeMap MAY be serialized in\n   various ways, but the link-value format serialization described here\n   MUST be supported.  In this serialization, the entity-body MUST be\n   formatted in the same way as the value of an HTTP &quot;Link&quot; header, and\n   hence MUST comply to the &quot;link-value&quot; construction rule of <a href=\"#section-5\">Section 5</a>.\n   The Link header field of [<a href=\"/doc/html/rfc5988\" title=\"&quot;Web Linking&quot;\">RFC5988</a>], and the media type of the entity-\n   body MUST be &quot;application/link-format&quot; as introduced in [<a href=\"/doc/html/rfc6690\" title=\"&quot;Constrained RESTful Environments (CoRE) Link Format&quot;\">RFC6690</a>].\n   Links contained in the entity-body MUST be interpreted as follows:\n\n   o  The Context IRI is set to the anchor parameter, when specified;\n\n   o  The Context IRI of links with the &quot;self&quot; Relation Types is the\n      URI-T of the TimeMap, i.e., the URI of the resource from which the\n      TimeMap was requested;\n\n   o  The Context IRI of all other links is the URI-R of the Original\n      Resource, which is provided as the Target IRI of the link with an\n      &quot;original&quot; Relation Type.\n\n   In order to retrieve the link-value serialization of a TimeMap, a\n   user agent uses an &quot;Accept&quot; request header with a value set to\n   &quot;application/link-format&quot;.  This is shown in Figure 27.\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 36]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-37\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   GET /timemap/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net\n   Accept: application/link-format;q=1.0\n   Connection: close\n\n                     Figure 27: Request for a TimeMap\n\n   If the TimeMap requested by the user agent exists, the server&#x27;s\n   response has a &quot;200 OK&quot; HTTP status code and the list of Mementos is\n   provided in the entity-body of the response.  Such a response is\n   shown in Figure 28.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Content-Length: 4883\n   Content-Type: application/link-format\n   Connection: close\n\n    &lt;http://a.example.org&gt;;rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;self&quot;;type=&quot;application/link-format&quot;\n      ; from=&quot;Tue, 20 Jun 2000 18:02:59 GMT&quot;\n      ; until=&quot;Wed, 09 Apr 2008 20:30:51 GMT&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=&quot;timegate&quot;,\n    &lt;http://arxiv.example.net/web/20000620180259/http://a.example.org&gt;\n      ; rel=&quot;first memento&quot;;datetime=&quot;Tue, 20 Jun 2000 18:02:59 GMT&quot;\n      ; license=&quot;http://creativecommons.org/publicdomain/zero/1.0/&quot;,\n    &lt;http://arxiv.example.net/web/20091027204954/http://a.example.org&gt;\n       ; rel=&quot;last memento&quot;;datetime=&quot;Tue, 27 Oct 2009 20:49:54 GMT&quot;\n       ; license=&quot;http://creativecommons.org/publicdomain/zero/1.0/&quot;,\n    &lt;http://arxiv.example.net/web/20000621011731/http://a.example.org&gt;\n      ; rel=&quot;memento&quot;;datetime=&quot;Wed, 21 Jun 2000 01:17:31 GMT&quot;\n      ; license=&quot;http://creativecommons.org/publicdomain/zero/1.0/&quot;,\n    &lt;http://arxiv.example.net/web/20000621044156/http://a.example.org&gt;\n      ; rel=&quot;memento&quot;;datetime=&quot;Wed, 21 Jun 2000 04:41:56 GMT&quot;\n      ; license=&quot;http://creativecommons.org/publicdomain/zero/1.0/&quot;,\n    ...\n\n                    Figure 28: Response from a TimeMap\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 37]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-38\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-5.1\" href=\"#section-5.1\">5.1</a>.  Special Cases</span>\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-5.1.1\" href=\"#section-5.1.1\">5.1.1</a>.  Index and Paging TimeMaps</span>\n\n   Cases exist in which a TimeMap points at one or more other TimeMaps:\n\n   o  Index TimeMap - A TimeMap can merely point at other TimeMaps and\n      not list any Mementos itself.  This can happen when Mementos are\n      spread across several archives that share a front-end.  An example\n      is shown in Figure 29.\n\n   o  Paging TimeMap - The number of available Mementos can require\n      introducing multiple TimeMaps that can be paged.  An example is\n      shown in Figure 30.  Note that a Paging TimeMap contains links to\n      other TimeMaps but actually also lists Mementos.\n\n   In both cases, including the &quot;from&quot; and &quot;until&quot; attributes for\n   &quot;timemap&quot; links is RECOMMENDED as a means to express the temporal\n   span of Mementos listed in each TimeMap.  Note that TimeMaps obtained\n   by following a &quot;timemap&quot; link can contain links to further TimeMaps.\n\n   &lt;http://a.example.org&gt;;rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=&quot;timegate&quot;,\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;self&quot;;type=&quot;application/link-format&quot;,\n    &lt;http://arxiv1.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;;type=&quot;application/link-format&quot;\n      ; from=&quot;Wed, 21 Jun 2000 04:41:56 GMT&quot;\n      ; until=&quot;Wed, 09 Apr 2008 20:30:51 GMT&quot;,\n    &lt;http://arxiv2.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;;type=&quot;application/link-format&quot;\n      ; from=&quot;Thu, 10 Apr 2008 20:30:51 GMT&quot;\n      ; until=&quot;Tue, 27 Oct 2009 20:49:54 GMT&quot;,\n    &lt;http://arxiv3.example.net/timemap/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;;type=&quot;application/link-format&quot;\n      ; from=&quot;Thu, 29 Oct 2009 20:30:51 GMT&quot;\n\n                         Figure 29: Index TimeMap\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 38]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-39\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   &lt;http://a.example.org&gt;;rel=&quot;original&quot;,\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=&quot;timegate&quot;,\n    &lt;http://arxiv.example.net/timemap/1/http://a.example.org&gt;\n      ; rel=&quot;self&quot;;type=&quot;application/link-format&quot;\n      ; from=&quot;Tue, 20 Jun 2000 18:02:59 GMT&quot;\n      ; until=&quot;Wed, 09 Apr 2008 20:30:51 GMT&quot;,\n    &lt;http://arxiv.example.net/timemap/2/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;;type=&quot;application/link-format&quot;\n      ; from=&quot;Thu, 10 Apr 2008 20:30:51 GMT&quot;\n      ; until=&quot;Tue, 27 Oct 2009 20:49:54 GMT&quot;,\n    &lt;http://arxiv.example.net/timemap/3/http://a.example.org&gt;\n      ; rel=&quot;timemap&quot;;type=&quot;application/link-format&quot;\n      ; from=&quot;Thu, 29 Oct 2009 20:30:51 GMT&quot;\n      ; until=&quot;Fri, 31 Aug 2012 12:22:34 GMT&quot;\n    &lt;http://arxiv.example.net/web/20000620180259/http://a.example.org&gt;\n      ; rel=&quot;memento&quot;;datetime=&quot;Tue, 20 Jun 2000 18:02:59 GMT&quot;,\n    &lt;http://arxiv.example.net/web/20000621011731/http://a.example.org&gt;\n      ; rel=&quot;memento&quot;;datetime=&quot;Wed, 21 Jun 2000 01:17:31 GMT&quot;,\n    &lt;http://arxiv.example.net/web/20000621044156/http://a.example.org&gt;\n      ; rel=&quot;memento&quot;;datetime=&quot;Wed, 21 Jun 2000 04:41:56 GMT&quot;,\n    ...\n\n                         Figure 30: Paging TimeMap\n\n<span class=\"h4\"><a class=\"selflink\" id=\"section-5.1.2\" href=\"#section-5.1.2\">5.1.2</a>.  Mementos for TimeMaps</span>\n\n   A TimeMap itself can act as an Original Resource for which a TimeGate\n   and Mementos may exist.  Hence, the response from a TimeMap could\n   include a &quot;timegate&quot; link to a TimeGate via which prior TimeMap\n   versions are available.  And, in cases where URI-T=URI-R=URI-G (a\n   TimeMap is an Original Resource that acts as its own TimeGate), an\n   &quot;original&quot; link pointing at the TimeMap URI-T would be included.\n\n   Therefore, caution is required in cases where a TimeMap for an\n   Original Resource wants to explicitly express in a &quot;Link&quot; header for\n   which Original Resource it is a TimeMap.  It can do so by including a\n   &quot;timemap&quot; link that has the URI-R of the Original Resource as Context\n   IRI and the URI-T of the TimeMap as Target IRI.\n\n   Figure 31 shows the response to an HTTP HEAD request against a\n   TimeMap that has\n   http://arxiv.example.net/timemap/http://a.example.org as URI-T.  This\n   TimeMap provides information about Mementos for the Original Resource\n   that has http://a.example.org as URI-R.  The response includes an\n   &quot;original&quot; link pointing to the Original Resource that this TimeMap\n   is about.  Note the use of the &quot;anchor&quot; attribute in this link to\n   convey the URI-R of that Original Resource.\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 39]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-40\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Link: &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n             ; anchor=&quot;http://a.example.org&quot;; rel=&quot;timemap&quot;\n             ; type=&quot;application/link-format&quot;\n   Content-Length: 0\n   Content-Type: application/link-format; charset=UTF-8\n   Connection: close\n\n       Figure 31: TimeMap Links to the Original Resource It Is about\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-6\" href=\"#section-6\">6</a>.  IANA Considerations</span>\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-6.1\" href=\"#section-6.1\">6.1</a>.  HTTP Headers</span>\n\n   IANA has registered the &quot;Accept-Datetime&quot; and &quot;Memento-Datetime&quot; HTTP\n   headers (defined in <a href=\"#section-2.1.1\">Section 2.1.1</a>) in the &quot;Permanent Message Header\n   Field Names&quot; registry:\n\n   o  Header field name: Accept-Datetime\n   o  Applicable protocol: &quot;http&quot; (<a href=\"/doc/html/rfc2616\">RFC 2616</a>)\n   o  Status: informational\n   o  Author/Change controller: Herbert Van de Sompel, Los Alamos\n      National Laboratory, hvdsomp@gmail.com\n   o  Specification document(s): this document\n\n   o  Header field name: Memento-Datetime\n   o  Applicable protocol: &quot;http&quot; (<a href=\"/doc/html/rfc2616\">RFC 2616</a>)\n   o  Status: informational\n   o  Author/Change controller: Herbert Van de Sompel, Los Alamos\n      National Laboratory, hvdsomp@gmail.com\n   o  Specification document(s): this document\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-6.2\" href=\"#section-6.2\">6.2</a>.  Link Relation Types</span>\n\n   IANA has registered the Relation Types &quot;original&quot;, &quot;timegate&quot;,\n   &quot;timemap&quot;, and &quot;memento&quot; (defined in <a href=\"#section-2.2\">Section 2.2</a>) in the &quot;Link\n   Relation Types&quot; registry:\n\n   o  Relation Name: original\n   o  Description: The Target IRI points to an Original Resource.\n   o  Reference: this document\n   o  Notes: An Original Resource is a resource that exists or used to\n      exist, and for which access to one of its prior states may be\n      required.\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 40]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-41\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   o  Relation Name: timegate\n   o  Description: The Target IRI points to a TimeGate for an Original\n      Resource.\n   o  Reference: this document\n   o  Notes: A TimeGate for an Original Resource is a resource that is\n      capable of datetime negotiation to support access to prior states\n      of the Original Resource.\n\n   o  Relation Name: timemap\n   o  Description: The Target IRI points to a TimeMap for an Original\n      Resource.\n   o  Reference: this document\n   o  Notes: A TimeMap for an Original Resource is a resource from which\n      a list of URIs of Mementos of the Original Resource is available.\n\n   o  Relation Name: memento\n   o  Description: The Target IRI points to a Memento, a fixed resource\n      that will not change state anymore.\n   o  Reference: this document\n   o  Notes: A Memento for an Original Resource is a resource that\n      encapsulates a prior state of the Original Resource.\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-7\" href=\"#section-7\">7</a>.  Security Considerations</span>\n\n   Provision of a &quot;timegate&quot; HTTP &quot;Link&quot; header in responses to requests\n   for an Original Resource that is protected (e.g., 401 or 403 HTTP\n   response codes) is OPTIONAL.  The inclusion of this Link when\n   requesting authentication is at the server&#x27;s discretion; cases may\n   exist in which a server protects the current state of a resource, but\n   supports open access to prior states and thus chooses to supply this\n   HTTP &quot;Link&quot; header.  Conversely, the server may choose to not\n   advertise the TimeGate URIs (e.g., they exist in an intranet archive)\n   for unauthenticated requests.\n\n   The veracity of archives and the relationships between Original\n   Resources and Mementos is beyond the scope of this document.  Even in\n   the absence of malice, it is possible for separate archives to have\n   different Mementos for the same Original Resource at the same\n   datetime if the state of the Original Resource was dependent on the\n   requesting archive&#x27;s user agent IP address, specific HTTP request\n   headers, and possibly other factors.\n\n   Further authentication, encryption, and other security-related issues\n   are otherwise orthogonal to Memento.\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 41]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-42\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-8\" href=\"#section-8\">8</a>.  Acknowledgements</span>\n\n   The Memento effort is funded by the Library of Congress.  Many thanks\n   to Kris Carpenter Negulescu, Michael Hausenblas, Erik Hetzner, Larry\n   Masinter, Gordon Mohr, David Rosenthal, Ed Summers, James Anderson,\n   Tim Starling, Martin Klein, and Mark Nottingham for feedback.  Many\n   thanks to Samuel Adams, Scott Ainsworth, Lyudmilla Balakireva, Frank\n   McCown, Harihar Shankar, Brad Tofel, Andrew Jackson, Ahmed Alsum, Mat\n   Kelly, and Ilya Kreymer for implementations that informed the\n   specification.\n\n<span class=\"h2\"><a class=\"selflink\" id=\"section-9\" href=\"#section-9\">9</a>.  References</span>\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-9.1\" href=\"#section-9.1\">9.1</a>.  Normative References</span>\n\n   [<a id=\"ref-RFC2119\">RFC2119</a>]   Bradner, S., &quot;Key words for use in RFCs to Indicate\n               Requirement Levels&quot;, <a href=\"/doc/html/bcp14\">BCP 14</a>, <a href=\"/doc/html/rfc2119\">RFC 2119</a>, March 1997.\n\n   [<a id=\"ref-RFC2616\">RFC2616</a>]   Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,\n               Masinter, L., Leach, P., and T. Berners-Lee, &quot;Hypertext\n               Transfer Protocol -- HTTP/1.1&quot;, <a href=\"/doc/html/rfc2616\">RFC 2616</a>, June 1999.\n\n   [<a id=\"ref-RFC5829\">RFC5829</a>]   Brown, A., Clemm, G., and J. Reschke, &quot;Link Relation\n               Types for Simple Version Navigation between Web\n               Resources&quot;, <a href=\"/doc/html/rfc5829\">RFC 5829</a>, April 2010.\n\n   [<a id=\"ref-RFC5988\">RFC5988</a>]   Nottingham, M., &quot;Web Linking&quot;, <a href=\"/doc/html/rfc5988\">RFC 5988</a>, October 2010.\n\n   [<a id=\"ref-RFC6690\">RFC6690</a>]   Shelby, Z., &quot;Constrained RESTful Environments (CoRE) Link\n               Format&quot;, <a href=\"/doc/html/rfc6690\">RFC 6690</a>, August 2012.\n\n   [<a id=\"ref-RFC6903\">RFC6903</a>]   Snell, J., &quot;Additional Link Relation Types&quot;, <a href=\"/doc/html/rfc6903\">RFC 6903</a>,\n               March 2013.\n\n<span class=\"h3\"><a class=\"selflink\" id=\"section-9.2\" href=\"#section-9.2\">9.2</a>.  Informative References</span>\n\n   [<a id=\"ref-DATED-URI\">DATED-URI</a>] Masinter, L., &quot;The &#x27;tdb&#x27; and &#x27;duri&#x27; URI schemes, based on\n               dated URIs&quot;, Work in Progress, January 2012.\n\n   [<a id=\"ref-Fitch\">Fitch</a>]     Fitch, K., &quot;Web site archiving - an approach to recording\n               every materially different response produced by a\n               website&quot;, July 2003,\n               &lt;<a href=\"http://ausweb.scu.edu.au/aw03/papers/fitch/paper.html\">http://ausweb.scu.edu.au/aw03/papers/fitch/paper.html</a>&gt;.\n\n   [<a id=\"ref-RFC1123\">RFC1123</a>]   Braden, R., &quot;Requirements for Internet Hosts -\n               Application and Support&quot;, STD 3, <a href=\"/doc/html/rfc1123\">RFC 1123</a>, October 1989.\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 42]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-43\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   [<a id=\"ref-W3C.REC-aww-20041215\">W3C.REC-aww-20041215</a>]\n               Jacobs, I. and N. Walsh, &quot;Architecture of the World Wide\n               Web&quot;, December 2004, &lt;<a href=\"https://www.w3.org/TR/webarch/\">http://www.w3.org/TR/webarch/</a>&gt;.\n\n   [<a id=\"ref-W3C.gen-ont-20090420\">W3C.gen-ont-20090420</a>]\n               Berners-Lee, T., &quot;Architecture of the World Wide Web&quot;,\n               April 2009, &lt;<a href=\"https://www.w3.org/2006/gen/ont\">http://www.w3.org/2006/gen/ont</a>&gt;.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 43]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-44\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span class=\"h2\"><a class=\"selflink\" id=\"appendix-A\" href=\"#appendix-A\">Appendix A</a>.  Use of Headers and Relation Types per Pattern</span>\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Vary:      |   Pattern 1.1   |     1    |     1    |    0    |\n   | accept-datetime | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     1    |    0    |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 44]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-45\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |     Vary:       |                 |          |          |         |\n   | Memento-        |   Pattern 1.1   |     0    |     0    |    1    |\n   |    Datetime     | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     0    |    1    |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 45]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-46\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |       Link:     |                 |          |          |         |\n   |  rel=&quot;original&quot; |   Pattern 1.1   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 46]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-47\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Link:      |                 |          |          |         |\n   |  rel=&quot;timegate&quot; |   Pattern 1.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    &gt;=0   |     0    |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    NA    |    NA    |    NA   |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    NA    |    NA    |    NA   |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 47]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-48\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |     Link:       |                 |          |          |         |\n   |  rel=&quot;timemap&quot;  |   Pattern 1.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 48]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-49\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Link:      |                 |          |          |         |\n   |  rel=&quot;memento&quot;  |   Pattern 1.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\n                         Table 5: Memento Headers\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span class=\"grey\">Van de Sompel, et al.         Informational                    [Page 49]</span></pre>\n<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id=\"page-50\" ></span>\n<span class=\"grey\"><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\nAuthors&#x27; Addresses\n\n   Herbert Van de Sompel\n   Los Alamos National Laboratory\n   PO Box 1663\n   Los Alamos, New Mexico  87545\n   USA\n\n   Phone: +1 505 667 1267\n   EMail: hvdsomp@gmail.com\n   URI:   <a href=\"http://public.lanl.gov/herbertv/\">http://public.lanl.gov/herbertv/</a>\n\n\n   Michael Nelson\n   Old Dominion University\n   Norfolk, Virginia  23529\n   USA\n\n   Phone: +1 757 683 6393\n   EMail: mln@cs.odu.edu\n   URI:   <a href=\"http://www.cs.odu.edu/~mln/\">http://www.cs.odu.edu/~mln/</a>\n\n\n   Robert Sanderson\n   Los Alamos National Laboratory\n   PO Box 1663\n   Los Alamos, New Mexico  87545\n   USA\n\n   Phone: +1 505 665 5804\n   EMail: azaroth42@gmail.com\n   URI:   <a href=\"http://public.lanl.gov/rsanderson/\">http://public.lanl.gov/rsanderson/</a>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 50]\n</pre>\n    </div>\n\n  </div>\n\n\n        \n\t  </div>\n\n\t\n\n\t\n\n    </div>\n\n      \n    <script type=\"text/javascript\"><!--\n    var legend_html = \"Colour legend:<br /> \\\n     <table> \\\n        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \\\n    </table>\";\n    function showLegend() {\n        var elem = document.getElementById('legend');\n        elem.innerHTML = legend_html\n        elem.style.visibility='visible';\n    }\n    function hideLegend() {\n        var elem = document.getElementById('legend');\n        elem.style.visibility='hidden';\n        elem.innerHTML = \"\";\n    }\n    // -->\n    </script>\n\n  <script type=\"text/javascript\">(function(){window['__CF$cv$params']={r:'6e95f569ac838c9c',m:'8_uNid3ScJZ9nj6fV01HP0a0U_3vXV8EBdw_24I_flA-1646851432-0-AUnKGMEDcdqwFyEm3Q6bLnBK8eaYXskG/Gy2WJ9pH33cl8mHW4v/32sCNPX5Yqjo6YXyFYGLZmU1tPQNkA4dGY9myvGSmXQUkHXa2m52FPlAYrqD+JVzI/OIOuTMulMHkXz43J5n46YrGoKC7RU2oeo=',s:[0x43d4c44024,0x2b1961a195],}})();</script></body>\n</html>","oembed":false,"readabilityObject":{"title":"RFC 7089 - HTTP Framework for Time-Based Access to Resource States -","content":"<div id=\"readability-page-1\" class=\"page\"><div>\n    <pre>Independent Submission                                  H. Van de Sompel\nRequest for Comments: 7089                Los Alamos National Laboratory\nCategory: Informational                                        M. Nelson\nISSN: 2070-1721                                  Old Dominion University\n                                                            R. Sanderson\n                                          Los Alamos National Laboratory\n                                                           December 2013\n\n\n   <span>HTTP Framework for Time-Based Access to Resource States -- Memento</span>\n\nAbstract\n\n   The HTTP-based Memento framework bridges the present and past Web.\n   It facilitates obtaining representations of prior states of a given\n   resource by introducing datetime negotiation and TimeMaps.  Datetime\n   negotiation is a variation on content negotiation that leverages the\n   given resource's URI and a user agent's preferred datetime.  TimeMaps\n   are lists that enumerate URIs of resources that encapsulate prior\n   states of the given resource.  The framework also facilitates\n   recognizing a resource that encapsulates a frozen prior state of\n   another resource.\n\nStatus of This Memo\n\n   This document is not an Internet Standards Track specification; it is\n   published for informational purposes.\n\n   This is a contribution to the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has chosen to publish this document at\n   its discretion and makes no statement about its value for\n   implementation or deployment.  Documents approved for publication by\n   the RFC Editor are not a candidate for any level of Internet\n   Standard; see <a href=\"/doc/html/rfc5741#section-2\">Section&nbsp;2 of RFC 5741</a>.\n\n   Information about the current status of this document, any errata,\n   and how to provide feedback on it may be obtained at\n   <a href=\"https://www.rfc-editor.org/info/rfc7089\">http://www.rfc-editor.org/info/rfc7089</a>.\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 1]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-2\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\nCopyright Notice\n\n   Copyright (c) 2013 IETF Trust and the persons identified as the\n   document authors.  All rights reserved.\n\n   This document is subject to <a href=\"/doc/html/bcp78\">BCP 78</a> and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n   (<a href=\"https://trustee.ietf.org/license-info\">http://trustee.ietf.org/license-info</a>) in effect on the date of\n   publication of this document.  Please review these documents\n   carefully, as they describe your rights and restrictions with respect\n   to this document.\n\nTable of Contents\n\n   <a href=\"#section-1\">1</a>. Introduction ....................................................<a href=\"#page-4\">4</a>\n      <a href=\"#section-1.1\">1.1</a>. Terminology ................................................<a href=\"#page-4\">4</a>\n      <a href=\"#section-1.2\">1.2</a>. Notational Conventions .....................................<a href=\"#page-4\">4</a>\n      <a href=\"#section-1.3\">1.3</a>. Purpose ....................................................<a href=\"#page-5\">5</a>\n   <a href=\"#section-2\">2</a>. HTTP Headers, Link Relation Types ...............................<a href=\"#page-7\">7</a>\n      <a href=\"#section-2.1\">2.1</a>. HTTP Headers ...............................................<a href=\"#page-7\">7</a>\n           <a href=\"#section-2.1.1\">2.1.1</a>. Accept-Datetime and Memento-Datetime ................<a href=\"#page-7\">7</a>\n           <a href=\"#section-2.1.2\">2.1.2</a>. Vary ................................................<a href=\"#page-8\">8</a>\n           <a href=\"#section-2.1.3\">2.1.3</a>. Link ................................................<a href=\"#page-8\">8</a>\n      <a href=\"#section-2.2\">2.2</a>. Link Relation Types ........................................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.1\">2.2.1</a>. Link Relation Type \"original\" .......................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.2\">2.2.2</a>. Link Relation Type \"timegate\" .......................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.3\">2.2.3</a>. Link Relation Type \"timemap\" ........................<a href=\"#page-9\">9</a>\n           <a href=\"#section-2.2.4\">2.2.4</a>. Link Relation Type \"memento\" .......................<a href=\"#page-10\">10</a>\n   <a href=\"#section-3\">3</a>. Overview of the Memento Framework ..............................<a href=\"#page-11\">11</a>\n      <a href=\"#section-3.1\">3.1</a>. Datetime Negotiation ......................................<a href=\"#page-11\">11</a>\n      <a href=\"#section-3.2\">3.2</a>. TimeMaps ..................................................<a href=\"#page-13\">13</a>\n   <a href=\"#section-4\">4</a>. Datetime Negotiation: HTTP Interactions ........................<a href=\"#page-14\">14</a>\n      4.1. Pattern 1 - The Original Resource Acts as Its Own\n           TimeGate ..................................................<a href=\"#page-15\">15</a>\n           4.1.1. Pattern 1.1 - URI-R=URI-G; 302-Style\n                  Negotiation; Distinct URI-M  for Mementos ..........<a href=\"#page-16\">16</a>\n           4.1.2. Pattern 1.2 - URI-R=URI-G; 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........<a href=\"#page-18\">18</a>\n           4.1.3. Pattern 1.3 - URI-R=URI-G; 200-Style\n                  Negotiation; No Distinct URI-M for Mementos ........<a href=\"#page-19\">19</a>\n      4.2. Pattern 2 - A Remote Resource Acts as a TimeGate\n           for the Original Resource .................................<a href=\"#page-20\">20</a>\n           4.2.1. Pattern 2.1 - URI-R&lt;&gt;URI-G; 302-Style\n                  Negotiation; Distinct URI-M for Mementos ...........<a href=\"#page-22\">22</a>\n           4.2.2. Pattern 2.2 - URI-R&lt;&gt;URI-G; 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........<a href=\"#page-24\">24</a>\n           4.2.3. Pattern 2.3 - URI-R&lt;&gt;URI-G; 200-Style\n                  Negotiation; No Distinct URI-M for Mementos ........<a href=\"#page-25\">25</a>\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 2]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-3\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n      <a href=\"#section-4.3\">4.3</a>. Pattern 3 - The Original Resource is a Fixed Resource .....<a href=\"#page-26\">26</a>\n      <a href=\"#section-4.4\">4.4</a>. Pattern 4 - Mementos without a TimeGate ...................<a href=\"#page-27\">27</a>\n      <a href=\"#section-4.5\">4.5</a>. Special Cases .............................................<a href=\"#page-29\">29</a>\n           <a href=\"#section-4.5.1\">4.5.1</a>. Original Resource Provides No \"timegate\" Link ......<a href=\"#page-29\">29</a>\n           4.5.2. Server Exists but Original Resource No\n                  Longer Does ........................................<a href=\"#page-29\">29</a>\n           <a href=\"#section-4.5.3\">4.5.3</a>. Issues with Accept-Datetime ........................<a href=\"#page-30\">30</a>\n           <a href=\"#section-4.5.4\">4.5.4</a>. Memento of a 3XX Response ..........................<a href=\"#page-30\">30</a>\n           4.5.5. Memento of Responses with 4XX or 5XX HTTP\n                  Status Codes .......................................<a href=\"#page-32\">32</a>\n           4.5.6. Sticky \"Memento-Datetime\" and \"original\"\n                  Link for Mementos ..................................<a href=\"#page-33\">33</a>\n           <a href=\"#section-4.5.7\">4.5.7</a>. Intermediate Resources .............................<a href=\"#page-34\">34</a>\n           <a href=\"#section-4.5.8\">4.5.8</a>. Resources Excluded from Datetime Negotiation .......<a href=\"#page-35\">35</a>\n   <a href=\"#section-5\">5</a>. TimeMaps: Content and Serialization ............................<a href=\"#page-36\">36</a>\n      <a href=\"#section-5.1\">5.1</a>. Special Cases .............................................<a href=\"#page-38\">38</a>\n           <a href=\"#section-5.1.1\">5.1.1</a>. Index and Paging TimeMaps ..........................<a href=\"#page-38\">38</a>\n           <a href=\"#section-5.1.2\">5.1.2</a>. Mementos for TimeMaps ..............................<a href=\"#page-39\">39</a>\n   <a href=\"#section-6\">6</a>. IANA Considerations ............................................<a href=\"#page-40\">40</a>\n      <a href=\"#section-6.1\">6.1</a>. HTTP Headers ..............................................<a href=\"#page-40\">40</a>\n      <a href=\"#section-6.2\">6.2</a>. Link Relation Types .......................................<a href=\"#page-40\">40</a>\n   <a href=\"#section-7\">7</a>. Security Considerations ........................................<a href=\"#page-41\">41</a>\n   <a href=\"#section-8\">8</a>. Acknowledgements ...............................................<a href=\"#page-42\">42</a>\n   <a href=\"#section-9\">9</a>. References .....................................................<a href=\"#page-42\">42</a>\n      <a href=\"#section-9.1\">9.1</a>. Normative References ......................................<a href=\"#page-42\">42</a>\n      <a href=\"#section-9.2\">9.2</a>. Informative References ....................................<a href=\"#page-42\">42</a>\n   <a href=\"#appendix-A\">Appendix A</a>. Use of Headers and Relation Types per Pattern .........<a href=\"#page-43\">43</a>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 3]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-4\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-1\" href=\"#section-1\">1</a>.  Introduction</span>\n\n<span><a id=\"section-1.1\" href=\"#section-1.1\">1.1</a>.  Terminology</span>\n\n   This specification uses the terms \"resource\", \"request\", \"response\",\n   \"entity-body\", \"content negotiation\", \"user agent\", and \"server\" as\n   described in [<a href=\"/doc/html/rfc2616\" title=\"&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;\">RFC2616</a>], and it uses the terms \"representation\" and\n   \"resource state\" as described in [<a href=\"#ref-W3C.REC-aww-20041215\">W3C.REC-aww-20041215</a>].\n\n   In addition, the following terms specific to the Memento framework\n   are introduced:\n\n   o  Original Resource: An Original Resource is a resource that exists\n      or used to exist, and for which access to one of its prior states\n      may be required.\n\n   o  Memento: A Memento for an Original Resource is a resource that\n      encapsulates a prior state of the Original Resource.  A Memento\n      for an Original Resource as it existed at time T is a resource\n      that encapsulates the state the Original Resource had at time T.\n\n   o  TimeGate: A TimeGate for an Original Resource is a resource that\n      is capable of datetime negotiation to support access to prior\n      states of the Original Resource.\n\n   o  TimeMap: A TimeMap for an Original Resource is a resource from\n      which a list of URIs of Mementos of the Original Resource is\n      available.\n\n<span><a id=\"section-1.2\" href=\"#section-1.2\">1.2</a>.  Notational Conventions</span>\n\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described in [<a href=\"/doc/html/rfc2119\" title=\"&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;\">RFC2119</a>].\n\n   When needed for extra clarity, the following conventions are used:\n\n   o  URI-R is used to denote the URI of an Original Resource.\n\n   o  URI-G is used to denote the URI of a TimeGate.\n\n   o  URI-M is used to denote the URI of a Memento.\n\n   o  URI-T is used to denote the URI of a TimeMap.\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 4]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-5\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-1.3\" href=\"#section-1.3\">1.3</a>.  Purpose</span>\n\n   The state of an Original Resource may change over time.\n   Dereferencing its URI at any specific moment yields a response that\n   reflects the resource's state at that moment: a representation of the\n   resource's state (e.g., \"200 OK\" HTTP status code), an indication of\n   its nonexistence (e.g., \"404 Not Found\" HTTP status code), a relation\n   to another resource (e.g., \"302 Found\" HTTP status code), etc.\n   However, responses may also exist that reflect prior states of an\n   Original Resource: a representation of a prior state of the Original\n   Resource, an indication that the Original Resource did not exist at\n   some time in the past, a relation that the Original Resource had to\n   another resource at some time in the past, etc.  Mementos that\n   provide such responses exist in Web archives, content management\n   systems, or revision control systems, among others.  For any given\n   Original Resource several Mementos may exist, each one reflecting a\n   frozen prior state of the Original Resource.\n\n   Examples are:\n\n   Mementos for Original Resource <a href=\"https://www.ietf.org/\">http://www.ietf.org/</a> are as follows:\n\n   o  <a href=\"https://web.archive.org/web/19970107171109/http://www.ietf.org/\">http://web.archive.org/web/19970107171109/http://www.ietf.org/</a>\n\n   o  <a href=\"http://webarchive.nationalarchives.gov.uk/20080906200044/http://www.ietf.org/\">http://webarchive.nationalarchives.gov.uk/20080906200044/http://</a>\n      <a href=\"http://webarchive.nationalarchives.gov.uk/20080906200044/http://www.ietf.org/\">www.ietf.org/</a>\n\n   Mementos for Original Resource\n   <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\">http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol</a> are as\n   follows:\n\n   o  <a href=\"https://en.wikipedia.org/w/index\">http://en.wikipedia.org/w/</a>\n      <a href=\"https://en.wikipedia.org/w/index\">index</a>.php?title=Hypertext_Transfer_Protocol&amp;oldid=366806574\n\n   o  <a href=\"https://en.wikipedia.org/w/index\">http://en.wikipedia.org/w/</a>\n      <a href=\"https://en.wikipedia.org/w/index\">index</a>.php?title=Hypertext_Transfer_Protocol&amp;oldid=33912\n\n   o  <a href=\"https://web.archive.org/web/20071011153017/http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\">http://web.archive.org/web/20071011153017/http://en.wikipedia.org/</a>\n      <a href=\"https://web.archive.org/web/20071011153017/http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\">wiki/Hypertext_Transfer_Protocol</a>\n\n   Mementos for Original Resource <a href=\"https://www.w3.org/TR/webarch/\">http://www.w3.org/TR/webarch/</a> are as\n   follows:\n\n   o  <a href=\"https://www.w3.org/TR/2004/PR-webarch-20041105/\">http://www.w3.org/TR/2004/PR-webarch-20041105/</a>\n\n   o  <a href=\"https://www.w3.org/TR/2002/WD-webarch-20020830/\">http://www.w3.org/TR/2002/WD-webarch-20020830/</a>\n\n   o  <a href=\"https://archive.fo/20120527002537/http://www.w3.org/TR/webarch/\">http://archive.is/20120527002537/http://www.w3.org/TR/webarch/</a>\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 5]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-6\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   In the abstract, the Memento framework introduces a mechanism to\n   access versions of Web resources that:\n\n   o  Is fully distributed in the sense that resource versions may\n      reside on multiple servers, and that any such server is likely\n      only aware of the versions it holds;\n\n   o  Uses the global notion of datetime as a resource version indicator\n      and access key;\n\n   o  Leverages the following primitives of [<a href=\"#ref-W3C.REC-aww-20041215\">W3C.REC-aww-20041215</a>]:\n      resource, resource state, representation, content negotiation, and\n      link.\n\n   The core components of Memento's mechanism to access resource\n   versions are:\n\n   1.  The abstract notion of the state of an Original Resource (URI-R)\n       as it existed at datetime T.  Note the relationship with the\n       ability to identify the state of a resource at datetime T by\n       means of a URI as intended by the proposed Dated URI scheme\n       [<a href=\"#ref-DATED-URI\" title=\"&quot;The 'tdb' and 'duri' URI schemes, based on dated URIs&quot;\">DATED-URI</a>].\n\n   2.  A \"bridge\" from the present to the past, consisting of:\n\n       o  The existence of a TimeGate (URI-G), which is aware of (at\n          least part of the) version history of the Original Resource\n          (URI-R);\n\n       o  The ability to negotiate in the datetime dimension with that\n          TimeGate (URI-G), as a means to access the state that the\n          Original Resource (URI-R) had at datetime T.\n\n   3.  A \"bridge\" from the past to the present, consisting of an\n       appropriately typed link from a Memento (URI-M), which\n       encapsulates the state the Original Resource (URI-R) had at\n       datetime T, to the Original Resource (URI-R).\n\n   4.  The existence of a TimeMap (URI-T) from which a list of all\n       Mementos that encapsulate a prior state of the Original Resource\n       (URI-R) can be obtained.\n\n   This document is concerned with specifying an instantiation of these\n   abstractions for resources that are identified by HTTP(S) URIs.\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 6]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-7\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-2\" href=\"#section-2\">2</a>.  HTTP Headers, Link Relation Types</span>\n\n   The Memento framework is concerned with HEAD and GET interactions\n   with Original Resources, TimeGates, Mementos, and TimeMaps that are\n   identified by HTTP or HTTPS URIs.  Details are only provided for\n   resources identified by HTTP URIs but apply similarly to those with\n   HTTPS URIs.\n\n<span><a id=\"section-2.1\" href=\"#section-2.1\">2.1</a>.  HTTP Headers</span>\n\n   The Memento framework operates at the level of HTTP request and\n   response headers.  It introduces two new headers (\"Accept-Datetime\"\n   and \"Memento-Datetime\") and introduces new values for two existing\n   headers (\"Vary\" and \"Link\").  Other HTTP headers are present or\n   absent in Memento response/request cycles as specified by [<a href=\"/doc/html/rfc2616\" title=\"&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;\">RFC2616</a>].\n\n<span><a id=\"section-2.1.1\" href=\"#section-2.1.1\">2.1.1</a>.  Accept-Datetime and Memento-Datetime</span>\n\n   The \"Accept-Datetime\" request header is transmitted by a user agent\n   to indicate it wants to access a past state of an Original Resource.\n   To that end, the \"Accept-Datetime\" header is conveyed in an HTTP\n   request issued against a TimeGate for an Original Resource, and its\n   value indicates the datetime of the desired past state of the\n   Original Resource.\n\n   Example of an \"Accept-Datetime\" request header:\n\n   Accept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n\n   The \"Memento-Datetime\" response header is used by a server to\n   indicate that a response reflects a prior state of an Original\n   Resource.  Its value expresses the datetime of that state.  The URI\n   of the Original Resource for which the response reflects a prior\n   state is provided as the Target IRI of a link provided in the HTTP\n   \"Link\" header that has a Relation Type of \"original\" (see\n   <a href=\"#section-2.2\">Section 2.2</a>).\n\n   The presence of a \"Memento-Datetime\" header and associated value for\n   a given response constitutes a promise that the resource state\n   reflected in the response will no longer change (see <a href=\"#section-4.5.6\">Section 4.5.6</a>).\n\n   Example of a \"Memento-Datetime\" response header:\n\n   Memento-Datetime: Wed, 30 May 2007 18:47:52 GMT\n\n   Values for the \"Accept-Datetime\" and \"Memento-Datetime\" headers\n   consist of a MANDATORY datetime expressed according to the [<a href=\"/doc/html/rfc1123\" title=\"&quot;Requirements for Internet Hosts - Application and Support&quot;\">RFC1123</a>]\n   format, which is formalized by the <a href=\"/doc/html/rfc1123\">rfc1123</a>-date construction rule of\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 7]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-8\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   the BNF in Figure 1.  This BNF is derived from the HTTP-date\n   construction of the BNF for Full Dates provided in [<a href=\"/doc/html/rfc2616\" title=\"&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;\">RFC2616</a>].  The\n   datetime is case sensitive with names for days and months exactly as\n   shown in the wkday and month construction rules of the BNF,\n   respectively.  The datetime MUST be represented in Greenwich Mean\n   Time (GMT).\n\n   accept-dt-value = <a href=\"/doc/html/rfc1123\">rfc1123</a>-date\n   <a href=\"/doc/html/rfc1123\">rfc1123</a>-date = wkday \",\" SP date1 SP time SP \"GMT\"\n   date1        = 2DIGIT SP month SP 4DIGIT\n                     ; day month year (e.g., 20 Mar 1957)\n   time         = 2DIGIT \":\" 2DIGIT \":\" 2DIGIT\n                     ; 00:00:00 - 23:59:59 (e.g., 14:33:22)\n   wkday        = \"Mon\" | \"Tue\" | \"Wed\" | \"Thu\" | \"Fri\" | \"Sat\" |\n                  \"Sun\"\n   month        = \"Jan\" | \"Feb\" | \"Mar\" | \"Apr\" | \"May\" | \"Jun\" |\n                  \"Jul\" | \"Aug\" | \"Sep\" | \"Oct\" | \"Nov\" | \"Dec\"\n\n                   Figure 1: BNF for the Datetime Format\n\n<span><a id=\"section-2.1.2\" href=\"#section-2.1.2\">2.1.2</a>.  Vary</span>\n\n   Generally, the \"Vary\" header is used in HTTP responses to indicate\n   the dimensions in which content negotiation is possible.  In the\n   Memento framework, a TimeGate uses the \"Vary\" header with a value\n   that includes \"accept-datetime\" to convey that datetime negotiation\n   is possible.\n\n   For example, this use of the \"Vary\" header indicates that datetime is\n   the only dimension in which negotiation is possible:\n\n   Vary: accept-datetime\n\n   The use of the \"Vary\" header in this example shows that both datetime\n   negotiation and media type content negotiation are possible:\n\n   Vary: accept-datetime, accept\n\n<span><a id=\"section-2.1.3\" href=\"#section-2.1.3\">2.1.3</a>.  Link</span>\n\n   The Memento framework defines the \"original\", \"timegate\", \"timemap\",\n   and \"memento\" Relation Types to convey typed links among Original\n   Resources, TimeGates, Mementos, and TimeMaps.  They are defined in\n   <a href=\"#section-2.2\">Section 2.2</a>, below.  In addition, existing Relation Types may be\n   used, for example, to support navigating among Mementos.  Examples\n   are \"first\", \"last\", \"prev\", \"next\", \"predecessor-version\", and\n   \"successor-version\" as detailed in [<a href=\"/doc/html/rfc5988\" title=\"&quot;Web Linking&quot;\">RFC5988</a>] and [<a href=\"/doc/html/rfc5829\" title=\"&quot;Link Relation Types for Simple Version Navigation between Web Resources&quot;\">RFC5829</a>].\n\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 8]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-9\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-2.2\" href=\"#section-2.2\">2.2</a>.  Link Relation Types</span>\n\n   This section introduces the Relation Types used in the Memento\n   framework.  They are defined in a general way, and their use in HTTP\n   \"Link\" headers [<a href=\"/doc/html/rfc5988\" title=\"&quot;Web Linking&quot;\">RFC5988</a>] is described in detail.  The use of these\n   Relation Types in TimeMaps is described in <a href=\"#section-5\">Section 5</a>.\n\n<span><a id=\"section-2.2.1\" href=\"#section-2.2.1\">2.2.1</a>.  Link Relation Type \"original\"</span>\n\n   \"original\" -- A link with an \"original\" Relation Type is used to\n   point from a TimeGate or a Memento to its associated Original\n   Resource.\n\n   Use in HTTP \"Link\" headers: Responses to HTTP HEAD/GET requests\n   issued against a TimeGate or a Memento MUST include exactly one link\n   with an \"original\" Relation Type in their HTTP \"Link\" header.\n\n<span><a id=\"section-2.2.2\" href=\"#section-2.2.2\">2.2.2</a>.  Link Relation Type \"timegate\"</span>\n\n   \"timegate\" -- A link with a \"timegate\" Relation Type is used to point\n   from the Original Resource, as well as from a Memento associated with\n   the Original Resource, to a TimeGate for the Original Resource.\n\n   Use in HTTP \"Link\" headers: If there is a TimeGate associated with an\n   Original Resource or Memento that is preferred for use, then\n   responses to HTTP HEAD/GET requests issued against these latter\n   resources MUST include a link with a \"timegate\" Relation Type in\n   their HTTP \"Link\" header.  Since multiple TimeGates can exist for any\n   Original Resource, multiple \"timegate\" links MAY occur, each with a\n   distinct Target IRI.\n\n<span><a id=\"section-2.2.3\" href=\"#section-2.2.3\">2.2.3</a>.  Link Relation Type \"timemap\"</span>\n\n   \"timemap\" -- A link with a \"timemap\" Relation Type is used to point\n   from a TimeGate or a Memento associated with an Original Resource, as\n   well as from the Original Resource itself, to a TimeMap for the\n   Original Resource.\n\n   Attributes: A link with a \"timemap\" Relation Type SHOULD use the\n   \"type\" attribute to convey the MIME type of the TimeMap\n   serialization.  The \"from\" and \"until\" attributes may be used to\n   express the start and end of the temporal interval covered by\n   Mementos listed in the TimeMap.  That is, the linked TimeMap will not\n   contain Mementos with archival datetimes outside of the expressed\n   temporal interval.  Attempts SHOULD be made to convey this interval\n   as accurately as possible.  The value for the these attributes MUST\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                     [Page 9]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-10\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   be a datetime expressed according to the <a href=\"/doc/html/rfc1123\">rfc1123</a>-date construction\n   rule of the BNF in Figure 1, and it MUST be represented in Greenwich\n   Mean Time (GMT).\n\n   Use in HTTP \"Link\" headers: If there is a TimeMap associated with an\n   Original Resource, a TimeGate, or a Memento that is preferred for\n   use, then responses to HTTP HEAD/GET requests issued against these\n   latter resources MUST include a link with a \"timemap\" Relation Type\n   in their HTTP \"Link\" header.  Multiple such links, each with a\n   distinct Target IRI, MAY be expressed as a means to point to\n   different TimeMaps or to different serializations of the same\n   TimeMap.  In all cases, use of the \"from\" and \"until\" attributes is\n   OPTIONAL.\n\n<span><a id=\"section-2.2.4\" href=\"#section-2.2.4\">2.2.4</a>.  Link Relation Type \"memento\"</span>\n\n   \"memento\" -- A link with a \"memento\" Relation Type is used to point\n   from a TimeGate or a Memento for an Original Resource, as well as\n   from the Original Resource itself, to a Memento for the Original\n   Resource.\n\n   Attributes: A link with a \"memento\" Relation Type MUST include a\n   \"datetime\" attribute with a value that matches the \"Memento-Datetime\"\n   of the Memento that is the target of the link; that is, the value of\n   the \"Memento-Datetime\" header that is returned when the URI of the\n   linked Memento is dereferenced.  The value for the \"datetime\"\n   attribute MUST be a datetime expressed according to the <a href=\"/doc/html/rfc1123\">rfc1123</a>-date\n   construction rule of the BNF in Figure 1, and it MUST be represented\n   in Greenwich Mean Time (GMT).  This link MAY include a \"license\"\n   attribute to associate a license with the Memento; the value for the\n   \"license\" attribute MUST be a URI.\n\n   Use in HTTP \"Link\" headers: Responses to HTTP HEAD/GET requests\n   issued against an Original Resource, a TimeGate, and a Memento MAY\n   include links in their HTTP \"Link\" headers with a \"memento\" Relation\n   Type.  For responses in which a Memento is selected, the provision of\n   navigational links that lead to Mementos other than the selected one\n   can be beneficial to the user agent.  Of special importance are links\n   that lead to the temporally first and last Memento known to the\n   responding server, as well as links leading to Mementos that are\n   temporally adjacent to the selected one.\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 10]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-11\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-3\" href=\"#section-3\">3</a>.  Overview of the Memento Framework</span>\n\n   The Memento framework defines two complementary approaches to support\n   obtaining representations of prior states of an Original Resource:\n\n   o  Datetime Negotiation: Datetime negotiation is a variation on\n      content negotiation by which a user agent expresses a datetime\n      preference pertaining to the representation of an Original\n      Resource, instead of, for example, a media type preference.  Based\n      on the responding server's knowledge of the past of the Original\n      Resource, it selects a Memento of the Original Resource that best\n      meets the user agent's datetime preference.  An overview is\n      provided in <a href=\"#section-3.1\">Section 3.1</a>; details are in <a href=\"#section-4\">Section 4</a>.\n\n   o  TimeMaps: A TimeMap is a resource from which a list can be\n      obtained that provides a comprehensive overview of the past of an\n      Original Resource.  A server makes a TimeMap available that\n      enumerates all Mementos that the server is aware of, along with\n      their archival datetime.  A user agent can obtain the TimeMap and\n      select Mementos from it.  An overview is provided in <a href=\"#section-3.2\">Section 3.2</a>;\n      details are in <a href=\"#section-5\">Section 5</a>.\n\n<span><a id=\"section-3.1\" href=\"#section-3.1\">3.1</a>.  Datetime Negotiation</span>\n\n   Figure 2 provides a schematic overview of a successful request/\n   response chain that involves datetime negotiation.  Dashed lines\n   depict HTTP transactions between user agent and server.  The\n   interactions are for a scenario where the Original Resource resides\n   on one server, whereas both its TimeGate and Mementos reside on\n   another (Pattern 2.1 (<a href=\"#section-4.2.1\">Section 4.2.1</a>) in <a href=\"#section-4\">Section 4</a>).  Scenarios also\n   exist in which all these resources are on the same server (for\n   example, content management systems) or all are on different servers\n   (for example, an aggregator of TimeGates).\n\n   1: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------&gt; URI-R\n   2: UA &lt;-- HTTP 200; Link: URI-G ----------------------------- URI-R\n   3: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------&gt; URI-G\n   4: UA &lt;-- HTTP 302; Location: URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------&gt; URI-G\n   5: UA --- HTTP GET URI-M; Accept-Datetime: T ---------------&gt; URI-M\n   6: UA &lt;-- HTTP 200; Memento-Datetime: T; Link:\n         URI-R,URI-T,URI-G ------------------------------------- URI-M\n\n          Figure 2: A Datetime Negotiation Request/Response Chain\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 11]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-12\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Step 1:  The user agent that wants to access a prior state of the\n            Original Resource issues an HTTP HEAD/GET against URI-R that\n            has an \"Accept-Datetime\" HTTP header with a value of the\n            datetime of the desired state.\n\n   Step 2:  The response from URI-R includes an HTTP \"Link\" header with\n            a Relation Type of \"timegate\" pointing at a TimeGate (URI-G)\n            for the Original Resource.\n\n   Step 3:  The user agent starts the datetime negotiation process with\n            the TimeGate by issuing an HTTP GET request against URI-G\n            that has an \"Accept-Datetime\" HTTP header with a value of\n            the datetime of the desired prior state of the Original\n            Resource.\n\n   Step 4:  The response from URI-G includes a \"Location\" header\n            pointing at a Memento (URI-M) for the Original Resource.  In\n            addition, the response contains an HTTP \"Link\" header with a\n            Relation Type of \"original\" pointing at the Original\n            Resource (URI-R), and an HTTP \"Link\" header with a Relation\n            Type of \"timemap\" pointing at a TimeMap (URI-T).\n\n   Step 5:  The user agent issues an HTTP GET request against URI-M.\n\n   Step 6:  The response from URI-M includes a \"Memento-Datetime\" HTTP\n            header with a value of the archival datetime of the Memento.\n            It also contains an HTTP \"Link\" header with a Relation Type\n            of \"original\" pointing at the Original Resource (URI-R),\n            with a Relation Type of \"timegate\" pointing at a TimeGate\n            (URI-G) for the Original Resource, and with a Relation Type\n            of \"timemap\" pointing at a TimeMap (URI-T) for the Original\n            Resource.  The state that is expressed by the response is\n            the state the Original Resource had at the archival datetime\n            expressed in the \"Memento-Datetime\" header.\n\n   In order to respond to a datetime negotiation request, the server\n   uses an internal algorithm to select the Memento that best meets the\n   user agent's datetime preference.  The exact nature of the selection\n   algorithm is at the server's discretion but is intended to be\n   consistent, for example, always selecting the Memento that is nearest\n   in time relative to the requested datetime, always selecting the\n   Memento that is nearest in the past relative to the requested\n   datetime, etc.\n\n   Due to the sparseness of Mementos in most systems, the value of the\n   \"Memento-Datetime\" header returned by a server may differ\n   (significantly) from the value conveyed by the user agent in \"Accept-\n   Datetime\".\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 12]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-13\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Although a Memento encapsulates a prior state of an Original\n   Resource, the entity-body returned in response to an HTTP GET request\n   issued against a Memento may very well not be byte-to-byte the same\n   as an entity-body that was previously returned by that Original\n   Resource.  Various reasons exist why there are significant chances\n   these would be different yet do convey substantially the same\n   information.  These include format migrations as part of a digital\n   preservation strategy, URI-rewriting as applied by some Web archives,\n   and the addition of banners as a means to brand Web archives.\n\n   When negotiating in the datetime dimension, the regular content\n   negotiation dimensions (media type, character encoding, language, and\n   compression) remain available.  It is the TimeGate server's\n   responsibility to honor (or not) such content negotiation, and in\n   doing so it MUST always first select a Memento that meets the user\n   agent's datetime preference, and then consider honoring regular\n   content negotiation for it.  As a result of this approach, the\n   returned Memento will not necessarily meet the user agent's regular\n   content negotiation preferences.  Therefore, it is RECOMMENDED that\n   the server provides \"memento\" links in the HTTP \"Link\" header\n   pointing at Mementos that do meet the user agent's regular content\n   negotiation requests and that have a value for the \"Memento-Datetime\"\n   header in the temporal vicinity of the user agent's preferred\n   datetime value.\n\n   A user agent that engages in datetime negotiation with a resource\n   typically starts by issuing an HTTP HEAD, not GET, request with an\n   \"Accept-Datetime\" header in order to determine how to proceed.  This\n   strategy is related to the existence of various server implementation\n   patterns as will become clear in <a href=\"#section-4\">Section 4</a>.\n\n   Details about the HTTP interactions involved in datetime negotiation\n   are provided in <a href=\"#section-4\">Section 4</a>.\n\n<span><a id=\"section-3.2\" href=\"#section-3.2\">3.2</a>.  TimeMaps</span>\n\n   Figure 3 provides a schematic overview of a successful request/\n   response chain that shows a user agent obtaining a TimeMap.  The\n   pictorial conventions are the same as the ones used in Figure 2, as\n   is the scenario.  Note that, in addition to a TimeGate, an Original\n   Resource and a Memento can also provide a link to a TimeMap.\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 13]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-14\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   1: UA --- HTTP HEAD/GET ------------------------------------&gt; URI-R\n   2: UA &lt;-- HTTP 200; Link: URI-G ----------------------------- URI-R\n   3: UA --- HTTP HEAD/GET ------------------------------------&gt; URI-G\n   4: UA &lt;-- HTTP 302; Location: URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------&gt; URI-G\n   5: UA --- HTTP GET URI-T -----------------------------------&gt; URI-T\n   6: UA &lt;-- HTTP 200 ------------------------------------------ URI-T\n\n          Figure 3: A Request/Response Chain to Obtain a TimeMap\n\n   Step 1:  The user agent that wants to access a TimeMap for the\n            Original Resource issues an HTTP HEAD/GET against URI-R.\n            This can be done with or without an \"Accept-Datetime\" HTTP\n            header.\n\n   Step 2:  Irrespective of the use of an \"Accept-Datetime\" HTTP header\n            in Step 1, the response from URI-R includes an HTTP \"Link\"\n            header with a Relation Type of \"timegate\" pointing at a\n            TimeGate (URI-G) for the Original Resource.\n\n   Step 3:  The user agent issues an HTTP GET request against URI-G.\n            This can be done with or without an \"Accept-Datetime\" HTTP\n            header.\n\n   Step 4:  Irrespective of the use of an \"Accept-Datetime\" HTTP header\n            in Step 1, the response contains an HTTP \"Link\" header with\n            a Relation Type of \"timemap\" pointing at a TimeMap (URI-T).\n\n   Step 5:  The user agent issues an HTTP GET request against URI-T.\n\n   Step 6:  The response from URI-T has an entity-body that lists all\n            Mementos for the Original Resource known to the responding\n            server, as well as their archival datetimes.\n\n   Details about the content and serialization of TimeMaps are provided\n   in <a href=\"#section-5\">Section 5</a>.\n\n<span><a id=\"section-4\" href=\"#section-4\">4</a>.  Datetime Negotiation: HTTP Interactions</span>\n\n   Figure 2 depicts a specific pattern to implement the Memento\n   framework.  Multiple patterns exist, and they can be grouped as\n   follows:\n\n   o  Pattern 1 (<a href=\"#section-4.1\">Section 4.1</a>) - The Original Resource acts as its own\n      TimeGate\n\n   o  Pattern 2 (<a href=\"#section-4.2\">Section 4.2</a>) - A remote resource acts as a TimeGate for\n      the Original Resource\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 14]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-15\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   o  Pattern 3 (<a href=\"#section-4.3\">Section 4.3</a>) - The Original Resource is a Fixed\n      Resource\n\n   o  Pattern 4 (<a href=\"#section-4.4\">Section 4.4</a>) - Mementos without a TimeGate\n\n   Details of the HTTP interactions for common cases for each of those\n   patterns are provided in Sections <a href=\"#section-4.1\">4.1</a> through <a href=\"#section-4.4\">4.4</a>.  <a href=\"#appendix-A\">Appendix A</a>\n   summarizes the use of the \"Vary\", \"Memento-Datetime\", and \"Link\"\n   headers in responses from Original Resources, TimeGates, and Mementos\n   for the various patterns.  Special cases are described in\n   <a href=\"#section-4.5\">Section 4.5</a>.  Note that in the following sections, the HTTP status\n   code of the responses with an entity-body is shown as \"200 OK\", but a\n   series of \"206 Partial Content\" responses could be substituted.\n\n   Figure 4 shows a user agent that attempts to datetime negotiate with\n   the Original Resource http://a.example.org/ by including an \"Accept-\n   Datetime\" header in its HTTP HEAD request.  This initiating request\n   is the same for Pattern 1 (<a href=\"#section-4.1\">Section 4.1</a>) through Pattern 3\n   (<a href=\"#section-4.3\">Section 4.3</a>).\n\n   HEAD / HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n            Figure 4: User Agent Attempts Datetime Negotiation\n                          with Original Resource\n\n<span><a id=\"section-4.1\" href=\"#section-4.1\">4.1</a>.  Pattern 1 - The Original Resource Acts as Its Own TimeGate</span>\n\n   In this implementation pattern, the Original Resource acts as its own\n   TimeGate, which means that URI-R and URI-G coincide.  Content\n   management systems and revision control systems can support datetime\n   negotiation in this way as they are commonly aware of the version\n   history of their own resources.\n\n   The response to this request when datetime negotiation for this\n   resource is supported depends on the negotiation style it uses (200-\n   style or 302-style) and on the existence or absence of a URI-M for\n   Mementos that is distinct from the URI-R of the associated Original\n   Resource.  The various cases are summarized in the below table, and\n   the server responses for each are detailed in the remainder of this\n   section.\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 15]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-16\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-------------------+------------+----------+---------+-------------+\n   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n   |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n   |    Pattern 1.1    |    URI-R   |   URI-R  |  URI-M  |     302     |\n   |  (<a href=\"#section-4.1.1\">Section 4.1.1</a>)  |            |          |         |             |\n   |    Pattern 1.2    |    URI-R   |   URI-R  |  URI-M  |     200     |\n   |  (<a href=\"#section-4.1.2\">Section 4.1.2</a>)  |            |          |         |             |\n   |    Pattern 1.3    |    URI-R   |   URI-R  |  URI-R  |     200     |\n   |  (<a href=\"#section-4.1.3\">Section 4.1.3</a>)  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\n                            Table 1: Pattern 1\n\n<span><a id=\"section-4.1.1\" href=\"#section-4.1.1\">4.1.1</a>.  Pattern 1.1 - URI-R=URI-G; 302-Style Negotiation; Distinct URI-M</span>\n\n   In this case, the response to the user agent's request of Figure 4\n   has a \"302 Found\" HTTP status code, and the \"Location\" header conveys\n   the URI-M of the selected Memento.  The use of Memento response\n   headers and links in the response from URI-R=URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST NOT contain a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server's response to the request of Figure 4 is shown in\n   Figure 5.  Note the inclusion of the recommended link to the TimeGate\n   that, in this case, has a Target IRI that is the URI-R of the\n   Original Resource.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 16]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-17\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Location:\n    http://a.example.org/?version=20010320133610\n   Link: &lt;http://a.example.org/&gt;; rel=\"original timegate\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n            Figure 5: Response from URI-R=URI-G for Pattern 1.1\n\n   In a subsequent request, shown in Figure 6, the user agent can obtain\n   the selected Memento by issuing an HTTP GET request against the URI-M\n   that was provided in the \"Location\" header.  The inclusion of the\n   \"Accept-Datetime\" header in this request is not needed but will\n   typically occur as the user agent is in datetime negotiation mode.\n\n   GET /?version=20010320133610 HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n              Figure 6: User Agent Requests Selected Memento\n\n   The response has a \"200 OK\" HTTP status code, and the entity-body of\n   the response contains the representation of the selected Memento.\n   The use of Memento response headers and links in the response from\n   URI-M is as follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server's response to the request of Figure 6 is shown in\n   Figure 7.  Note the provision of the required \"original\", and the\n   recommended \"timegate\" and \"timemap\" links.  The former two point to\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 17]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-18\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   the Original Resource, which acts as its own TimeGate.  The latter\n   has \"from\" and \"until\" attributes to indicate the temporal interval\n   covered by Mementos listed in the linked TimeMap.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:51 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original timegate\",\n    &lt;http://a.example.org/?version=all&amp;style=timemap&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\"\n      ; from=\"Tue, 15 Sep 2000 11:28:26 GMT\"\n      ; until=\"Wed, 20 Jan 2010 09:34:33 GMT\"\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n               Figure 7: Response from URI-M for Pattern 1.1\n\n<span><a id=\"section-4.1.2\" href=\"#section-4.1.2\">4.1.2</a>.  Pattern 1.2 - URI-R=URI-G; 200-Style Negotiation; Distinct URI-M</span>\n\n   In this case, the response to the user agent's request of Figure 4\n   has a \"200 OK\" HTTP status code, and the \"Content-Location\" header\n   conveys the URI-M of the selected Memento.  The use of Memento\n   response headers and links in the response from URI-R=URI-G is as\n   follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the selected Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server's response to the request of Figure 4 is shown in\n   Figure 8.  Note the provision of optional \"memento\" links pointing at\n   the oldest and most recent Memento for the Original Resource known to\n   the responding server.\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 18]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-19\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Content-Location:\n    http://a.example.org/?version=20010320133610\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original timegate\",\n    &lt;http://a.example.org/?version=20000915112826&gt;\n    ; rel=\"memento first\"; datetime=\"Tue, 15 Sep 2000 11:28:26 GMT\",\n    &lt;http://a.example.org/?version=20100120093433&gt;\n    ; rel=\"memento last\"; datetime=\"Wed, 20 Jan 2010 09:34:33 GMT\",\n    &lt;http://a.example.org/?version=all&amp;style=timemap&gt;\n    ; rel=\"timemap\"; type=\"application/link-format\"\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 8: Response from URI-R=URI-G for Pattern 1.2\n\n   In a subsequent request, which is the same as Figure 4 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as in Figure 8.\n\n<span><a id=\"section-4.1.3\" href=\"#section-4.1.3\">4.1.3</a>.  Pattern 1.3 - URI-R=URI-G; 200-Style Negotiation; No Distinct</span>\n<span>        URI-M</span>\n\n   In this case, the response to the user agent's request of Figure 4\n   has a \"200 OK\" HTTP status code, and it does not contain a \"Content-\n   Location\" nor a \"Location\" header as there is no URI-M of the\n   selected Memento to convey.  The use of Memento response headers and\n   links in the response from URI-R=URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the selected Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 19]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-20\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The server's response to the request of Figure 4 is shown in\n   Figure 9.  The recommended \"timemap\" and \"timegate\" links are\n   included in addition to the mandatory \"original\" link.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original timegate\",\n    &lt;http://a.example.org/?version=all&amp;style=timemap&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\"\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 9: Response from URI-R=URI-G for Pattern 1.3\n\n   In a subsequent request, which is the same as Figure 4 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as in Figure 9.\n\n<span><a id=\"section-4.2\" href=\"#section-4.2\">4.2</a>.  Pattern 2 - A Remote Resource Acts as a TimeGate for the Original</span>\n<span>      Resource</span>\n\n   In this implementation pattern, the Original Resource does not act as\n   its own TimeGate, which means that URI-R and URI-G are different.\n   This pattern is typically implemented by servers for which the\n   history of their resources is recorded in remote systems such as Web\n   archives and transactional archives [<a href=\"#ref-Fitch\" title=\"&quot;Web site archiving - an approach to recording every materially different response produced by a website&quot;\">Fitch</a>].  But servers that\n   maintain their own history, such as content management systems and\n   version control systems, may also implement this pattern, for\n   example, to distribute the load involved in responding to requests\n   for current and prior representations of resources between different\n   servers.\n\n   This pattern is summarized in the below table and is detailed in the\n   remainder of this section.  Three cases exist that differ regarding\n   the negotiation style that is used by the remote TimeGate and\n   regarding the existence of a URI-M for Mementos that is distinct from\n   the URI-G of the TimeGate.\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 20]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-21\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-------------------+------------+----------+---------+-------------+\n   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n   |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n   |    Pattern 2.1    |    URI-R   |   URI-G  |  URI-M  |     302     |\n   |  (<a href=\"#section-4.2.1\">Section 4.2.1</a>)  |            |          |         |             |\n   |    Pattern 2.2    |    URI-R   |   URI-G  |  URI-M  |     200     |\n   |  (<a href=\"#section-4.2.2\">Section 4.2.2</a>)  |            |          |         |             |\n   |    Pattern 2.3    |    URI-R   |   URI-G  |  URI-G  |     200     |\n   |  (<a href=\"#section-4.2.3\">Section 4.2.3</a>)  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\n                            Table 2: Pattern 2\n\n   The response by the Original Resource to the request shown in\n   Figure 4 is the same for all three cases.  The use of headers and\n   links in the response from URI-R is as follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST NOT contain a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header SHOULD be provided.  It MUST NOT include a link\n      with an \"original\" Relation Type.  If a preferred TimeGate is\n      associated with the Original Resource, then it MUST include a link\n      with a \"timegate\" Relation Type that has the URI-G of the TimeGate\n      as Target IRI.  If a preferred TimeMap is associated with the\n      Original Resource, then it SHOULD include a link with a \"timemap\"\n      Relation Type that has the URI-T of the TimeGate as Target IRI.\n      Multiple \"timegate\" and \"timemap\" links can be provided to\n      accommodate situations in which the server is aware of multiple\n      TimeGates or TimeMaps for the Original Resource.\n\n   Figure 10 shows such a response.  Note the absence of an \"original\"\n   link as the responding resource is neither a TimeGate nor a Memento.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:02:12 GMT\n   Server: Apache\n   Link: &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=\"timegate\"\n   Content-Length: 255\n   Connection: close\n   Content-Type: text/html; charset=iso-8859-1\n\n            Figure 10: Response from URI-R&lt;&gt;URI-G for Pattern 2\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 21]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-22\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Once a user agent has obtained the URI-G of a remote TimeGate for the\n   Original Resource, it can engage in datetime negotiation with that\n   TimeGate.  Figure 11 shows the request issued against the TimeGate,\n   whereas Sections <a href=\"#section-4.2.1\">4.2.1</a> through <a href=\"#section-4.2.3\">4.2.3</a> detail the responses for various\n   TimeGate implementation patterns.\n\n   HEAD /timegate/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n           Figure 11: User Agent Engages in Datetime Negotiation\n                           with Remote TimeGate\n\n<span><a id=\"section-4.2.1\" href=\"#section-4.2.1\">4.2.1</a>.  Pattern 2.1 - URI-R&lt;&gt;URI-G; 302-Style Negotiation; Distinct</span>\n<span>        URI-M</span>\n\n   In case the TimeGate uses a 302 negotiation style, the response to\n   the user agent's request of Figure 11 has a \"302 Found\" HTTP status\n   code, and the \"Location\" header conveys the URI-M of the selected\n   Memento.  The use of Memento response headers and links in the\n   response from URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST NOT contain a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server's response to the request of Figure 11 is shown in\n   Figure 12.  It contains the mandatory \"original\" link that points\n   back to the Original Resource associated with this TimeGate, and it\n   shows the recommended \"timemap\" link that includes \"from\" and \"until\"\n   attributes.\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 22]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-23\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:02:14 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n   Link: &lt;http://a.example.org/&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\"\n      ; from=\"Tue, 15 Sep 2000 11:28:26 GMT\"\n      ; until=\"Wed, 20 Jan 2010 09:34:33 GMT\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n           Figure 12: Response from URI-G&lt;&gt;URI-R for Pattern 2.1\n\n   In a subsequent HTTP GET request, shown in Figure 13, the user agent\n   can obtain the selected Memento by issuing an HTTP GET request\n   against the URI-M that was provided in the \"Location\" header.  The\n   inclusion of the \"Accept-Datetime\" header in this request is not\n   needed but will typically occur as the user agent is in datetime\n   negotiation mode.\n\n   GET /web/20010321203610/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net/\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n              Figure 13: User Agent Requests Selected Memento\n\n   The response has a \"200 OK\" HTTP status code.  The use of Memento\n   response headers and links in the response from URI-M is as follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 23]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-24\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The server's response to the request of Figure 13 is shown in\n   Figure 14.  Note the provision of the recommended \"timegate\" and\n   \"timemap\" links.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:02:15 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n              Figure 14: Response from URI-M for Pattern 2.1\n\n<span><a id=\"section-4.2.2\" href=\"#section-4.2.2\">4.2.2</a>.  Pattern 2.2 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; Distinct</span>\n<span>        URI-M</span>\n\n   In case the TimeGate uses a 200 negotiation style, and each Memento\n   has a distinct URI-M, the response to the user agent's request of\n   Figure 11 has a \"200 OK\" HTTP status code, and the \"Content-Location\"\n   header conveys the URI-M of the selected Memento.  The use of Memento\n   response headers and links in the response from URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   The server's response to the request of Figure 11 is shown in\n   Figure 15.\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 24]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-25\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Vary: accept-datetime\n   Content-Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n           Figure 15: Response from URI-G&lt;&gt;URI-R for Pattern 2.2\n\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as Figure 15.\n\n<span><a id=\"section-4.2.3\" href=\"#section-4.2.3\">4.2.3</a>.  Pattern 2.3 - URI-R&lt;&gt;URI-G; 200-Style Negotiation; No Distinct</span>\n<span>        URI-M</span>\n\n   In case the TimeGate uses a 200 negotiation style, but Mementos have\n   no distinct URIs, the response to the user agent's request of\n   Figure 11 has a \"200 OK\" HTTP status code, and it does not contain a\n   \"Content-Location\" nor \"Location\" header as there is no URI-M of the\n   selected Memento to convey.  The use of Memento response headers and\n   links in the response from URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 25]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-26\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The server's response to the request of Figure 11 is shown in\n   Figure 16.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Vary: accept-datetime\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org/&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/&gt;\n      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n           Figure 16: Response from URI-G&lt;&gt;URI-R for Pattern 2.3\n\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as Figure 16.\n\n<span><a id=\"section-4.3\" href=\"#section-4.3\">4.3</a>.  Pattern 3 - The Original Resource is a Fixed Resource</span>\n\n   This pattern does not involve datetime negotiation with a TimeGate,\n   but it can be implemented for Original Resources that never change\n   state or do not change anymore past a certain point in their\n   existence, meaning that URI-R and URI-M coincide either from the\n   outset or starting at some point in time.  This pattern is summarized\n   in the below table.  Examples are tweets or stable media resources on\n   news sites.\n\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n   |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |      URI-R     |     -    |  URI-R  |         -        |\n   |     3    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\n                            Table 3: Pattern 3\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 26]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-27\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   Servers that host such resources can support the Memento framework by\n   treating the stable resource (FixedResource as per\n   [<a href=\"#ref-W3C.gen-ont-20090420\">W3C.gen-ont-20090420</a>]) as a Memento.  The use of Memento response\n   headers and links in responses from such a stable resource is as\n   follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the datetime at which the resource became stable.\n      Providing this value includes a promise that the resource has not\n      changed since this datetime and will not change anymore beyond it.\n\n   o  The \"Link\" header MUST be provided and MUST have a link with the\n      \"original\" Relation Type that has the URI-R of the stable resource\n      itself as Target IRI.\n\n   Figure 17 shows a response to an HTTP HEAD request for the resource\n   with URI-R http://a.example.org/ that has been stable since March 20,\n   2009.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 20 Mar 2009 11:00:00 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original\"\n   Content-Length: 875\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 17: Response from URI-R=URI-M for Pattern 3\n\n<span><a id=\"section-4.4\" href=\"#section-4.4\">4.4</a>.  Pattern 4 - Mementos without a TimeGate</span>\n\n   Cases may occur in which a server hosts Mementos but does not expose\n   a TimeGate for them.  This can, for example, be the case if the\n   server's Mementos result from taking a snapshot of the state of a set\n   of Original Resources from another server as it is being retired.  As\n   a result, only a single Memento per Original Resource is hosted,\n   making the introduction of a TimeGate unnecessary.  But it may also\n   be the case for servers that host multiple Mementos for an Original\n   Resource but consider exposing TimeGates too expensive.  In this\n   case, URI-R and URI-M are distinct, but a TimeGate is absent.  This\n   case is summarized in the below table.\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 27]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-28\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n   |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |      URI-R     |     -    |  URI-M  |         -        |\n   |     4    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\n                            Table 4: Pattern 4\n\n   Servers that host such Mementos without TimeGates can still support\n   the Memento framework by providing the appropriate Memento headers\n   and links.  Their use is as follows for a response from URI-M:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST have a link with\n      the \"original\" Relation Type that has the URI-R of the associated\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      <a href=\"#section-2.2\">Section 2.2</a>.\n\n   Figure 18 shows a response to an HTTP HEAD request for the Memento\n   with URI-M\n   http://arxiv.example.net/web/20010321203610/http://a.example.org/.\n   Note the use of links: three links have the URI-M of the Memento as\n   Target IRI and have respective Relation Types \"memento\", \"first\", and\n   \"last\".  This combination indicates that this is the only Memento for\n   the Original Resource with Target IRI provided by the \"original\" link\n   (http://a.example.org/) of which the server is aware.  Note also that\n   such a response does not imply that there is no server whatsoever\n   that exposes a TimeGate; it merely means that the responding server\n   neither provides nor is aware of the location of a TimeGate.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 28]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-29\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: &lt;http://a.example.org/&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/web/20010321203610/http://a.example.org/&gt;\n      ; rel=\"first last memento\"\n      ; datetime=\"Wed, 21 Mar 2001 20:36:10 GMT\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 18: Response from URI-M&lt;&gt;URI-R for Pattern 4\n\n<span><a id=\"section-4.5\" href=\"#section-4.5\">4.5</a>.  Special Cases</span>\n\n<span><a id=\"section-4.5.1\" href=\"#section-4.5.1\">4.5.1</a>.  Original Resource Provides No \"timegate\" Link</span>\n\n   Cases exist in which the response from the Original Resource does not\n   contain a \"timegate\" link, including:\n\n   o  The Original Resource's server does not support the Memento\n      framework;\n\n   o  The Original Resource no longer exists, and the responding server\n      is not aware of its prior existence;\n\n   o  The server that hosted the Original Resource no longer exists.\n\n   In all these cases, the user agent should attempt to determine an\n   appropriate TimeGate for the Original Resource, either automatically\n   or interactively supported by the user.\n\n<span><a id=\"section-4.5.2\" href=\"#section-4.5.2\">4.5.2</a>.  Server Exists but Original Resource No Longer Does</span>\n\n   Cases exist in which the server knows that an Original Resource used\n   to exist, but no longer provides a current representation.  If there\n   is a preferred TimeGate for such a discontinued Original Resource,\n   then the server MUST include a \"timegate\" link in responses to\n   requests for it.  This may allow access to Mementos for the Original\n   Resource even if it no longer exists.  A server's response to a\n   request for the discontinued resource http://a.example.org/pic is\n   illustrated in Figure 19.\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 29]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-30\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 404 Not Found\n   Date: Thu, 21 Jan 2010 00:02:12 GMT\n   Server: Apache\n   Link:\n    &lt;http://arxiv.example.net/timegate/http://a.example.org/pic&gt;\n     ; rel=\"timegate\"\n   Content-Length: 255\n   Content-Type: text/html; charset=iso-8909-1\n   Connection: close\n\n    Figure 19: Response from an Original Resource That No Longer Exists\n\n<span><a id=\"section-4.5.3\" href=\"#section-4.5.3\">4.5.3</a>.  Issues with Accept-Datetime</span>\n\n   The following special cases may occur regarding the \"Accept-Datetime\"\n   header when a user agent issues a request against a TimeGate:\n\n   o  If the value of the \"Accept-Datetime\" is either earlier than the\n      datetime of the first Memento or later than the datetime of the\n      most recent Memento known to the TimeGate, the first or most\n      recent Memento MUST be selected, respectively.\n\n   o  If the value of the \"Accept-Datetime\" does not conform to the\n      <a href=\"/doc/html/rfc1123\">rfc1123</a>-date construction rule of the BNF in Figure 1, the\n      response MUST have a \"400 Bad Request\" HTTP status code.\n\n   o  If a user agent issues a request against a TimeGate and fails to\n      include an \"Accept-Datetime\" request header, the most recent\n      Memento SHOULD be selected.\n\n   In all cases, the use of headers and links in responses is as\n   described for TimeGates in the respective scenarios.\n\n<span><a id=\"section-4.5.4\" href=\"#section-4.5.4\">4.5.4</a>.  Memento of a 3XX Response</span>\n\n   Cases exist in which HTTP responses with 3XX status codes are\n   archived.  For example, crawl-based Web archives commonly archive\n   responses with HTTP status codes \"301 Moved Permanently\" and \"302\n   Found\", whereas Linked Data archives hold on to \"303 See Other\"\n   responses.\n\n   If the Memento requested by the user agent is an archived version of\n   an HTTP response with a 3XX status code, the server's response MUST\n   have the same 3XX HTTP status code.  The use of other Memento headers\n   is as described for Mementos in the respective scenarios.\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 30]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-31\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   The user agent's handling of an HTTP response with a 3XX status code\n   is not affected by the presence of a \"Memento-Datetime\" header.  The\n   user agent MUST behave in the same manner as it does with HTTP\n   responses with a 3XX status code that do not have a \"Memento-\n   Datetime\" header.\n\n   However, the user agent MUST be aware that the URI that was selected\n   from the \"Location\" header of an HTTP response with a 3XX status code\n   might not be that of a Memento but rather of an Original Resource.\n   In the latter case, it SHOULD proceed by looking for a Memento of the\n   selected Original Resource.\n\n   For example, Figure 20 shows the response to an HTTP GET request for\n   http://a.example.org issued on April 11, 2008.  This response is\n   archived as a Memento of http://a.example.org that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n   The response to an HTTP GET on this URI-M is shown in Figure 21.  It\n   is a replay of the original response with \"Memento-Datetime\" and\n   \"Link\" headers added, to allow a user agent to understand the\n   response is a Memento.  In Figure 21, the value of the \"Location\"\n   header is the same as in the original response; it identifies an\n   Original Resource.  The user agent proceeds with finding a Memento\n   for this Original Resource.  Web archives sometimes overwrite the\n   value that was originally provided in the \"Location\" header in order\n   to point at a Memento they hold of the resource to which the redirect\n   originally led.  This is shown in Figure 22.  In this case, the user\n   agent may decide it found an appropriate Memento.\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server: Apache\n   Location: http://b.example.org\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                     Figure 20: Response Is a Redirect\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 31]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-32\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location: http://b.example.org\n   Link: &lt;http://a.example.org&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=\"timegate\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n           Figure 21: Response is a Memento of a Redirect; Leads\n                          to an Original Resource\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location:\n    http://arxiv.example.net/web/20080411000655/http://b.example.org\n   Link: &lt;http://a.example.org&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=\"timegate\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n    Figure 22: Response is a Memento of a Redirect; Leads to a Memento\n\n<span><a id=\"section-4.5.5\" href=\"#section-4.5.5\">4.5.5</a>.  Memento of Responses with 4XX or 5XX HTTP Status Codes</span>\n\n   Cases exist in which responses with 4XX and 5XX HTTP status codes are\n   archived.  If the Memento requested by the user agent is an archived\n   version of such an HTTP response, the server's response MUST have the\n   same 4XX or 5XX HTTP status code.  The use of headers and links in\n   responses is as described for Mementos in the respective scenarios.\n\n   For example, Figure 23 shows the 404 response to an HTTP GET request\n   for http://a.example.org issued on April 11, 2008.  This response is\n   archived as a Memento of http://a.example.org that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n   The response to an HTTP HEAD on this URI-M is shown in Figure 24.  It\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 32]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-33\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   is a replay of the original response with \"Memento-Datetime\" and\n   \"Link\" headers added, to allow a user agent to understand the\n   response is a Memento.\n\n   HTTP/1.1 404 Not Found\n   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server: Apache\n   Content-Length: 255\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                       Figure 23: Response Is a 404\n\n   HTTP/1.1 404 Not Found\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Link: &lt;http://a.example.org&gt;; rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=\"timegate\"\n   Content-Length: 255\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                 Figure 24: Response Is a Memento of a 404\n\n<span><a id=\"section-4.5.6\" href=\"#section-4.5.6\">4.5.6</a>.  Sticky \"Memento-Datetime\" and \"original\" Link for Mementos</span>\n\n   A response to an HTTP HEAD/GET request issued against a Memento:\n\n   o  Includes a \"Memento-Datetime\" header that entails a promise that\n      the response is archived, frozen in time.  The value of the header\n      expresses the archival datetime of the Memento.\n\n   o  Includes a link in the HTTP \"Link\" header with an \"original\"\n      Relation Type that unambiguously points to the Original Resource\n      associated with the Memento.  The Target IRI of the link is the\n      URI-R of that Original Resource.\n\n   Both the \"Memento-Datetime\" header and the \"original\" link MUST be\n   \"sticky\" in the following ways:\n\n   o  The server that originally assigns them MUST retain them in all\n      responses to HTTP requests (with or without an \"Accept-Datetime\"\n      request header) that occur against the Memento after the time of\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 33]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-34\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n      their original assignment, and the server MUST NOT change the\n      value of the \"Memento-Datetime\" header nor the Target IRI of the\n      \"original\" link.\n\n   o  Applications that mirror Mementos at a different URI MUST retain\n      them and MUST NOT change them unless mirroring involves a\n      meaningful state change.  This allows, among others, duplicating a\n      Web archive at a new location while preserving the value of the\n      \"Memento-Datetime\" header and the link with the \"original\"\n      Relation Type for the archived resources.  For example, when\n      mirroring, the \"Last-Modified\" header will be updated to reflect\n      the time of mirroring at the new URI, whereas the value for\n      \"Memento-Datetime\" will be maintained.\n\n<span><a id=\"section-4.5.7\" href=\"#section-4.5.7\">4.5.7</a>.  Intermediate Resources</span>\n\n   An intermediate resource is a resource that issues a redirect to a\n   TimeGate, to a Memento, or to another intermediate resource, and thus\n   plays an active role in the Memento infrastructure.  Intermediate\n   resources commonly exist in Web archives on the path from a TimeGate\n   to an appropriate Memento.\n\n   A response of an intermediate resource has an HTTP status code\n   indicative of HTTP redirection (e.g., 302) and uses Memento headers\n   and links that allow user agents to recognize that the resource plays\n   a role in the Memento framework:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST NOT include a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header MUST be provided, and it MUST have a link with\n      the \"original\" Relation Type that has the URI-R of the associated\n      Original Resource as Target IRI.  Links with \"timegate\",\n      \"timemap\", and \"memento\" Relation Types are OPTIONAL and, if\n      provided, MUST pertain to the Original Resource for which the user\n      agent is trying to obtain a Memento.\n\n   A user agent MUST follow a redirection provided by an intermediate\n   resource; multiple such redirections can be chained.\n\n   Consider the case where a user agent follows the \"timegate\" link\n   provided in Figure 10 and engages in datetime negotiation with the\n   assumed TimeGate in the manner shown in Figure 11.  But instead of\n   receiving a response as shown in Figure 12, it receives the one shown\n   below in Figure 25.  Such a response is unambiguously recognizable as\n   coming from an intermediate resource.\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 34]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-35\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Location:\n    http://arxiv.example.net/new-timegate/http://a.example.org/\n   Link: &lt;http://a.example.org&gt;; rel=\"original\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n          Figure 25: Redirecting Resource Redirects to a TimeGate\n\n<span><a id=\"section-4.5.8\" href=\"#section-4.5.8\">4.5.8</a>.  Resources Excluded from Datetime Negotiation</span>\n\n   When delivering a Memento to a user agent, a Web archive commonly\n   enhances that Memento's archived content, for example, by including a\n   banner that provides branding and highlights the archival status of\n   the Memento.  The resources that are involved in providing such\n   system-specific functionality, many times JavaScript or images, must\n   be used in their current state.\n\n   A server that generally supports datetime negotiation should make\n   resources that need to be excluded from datetime negotiation\n   recognizable.  Doing so allows a user agent to refrain from\n   attempting to access a Memento for them.  In order to achieve this,\n   the server SHOULD include a special-purpose link in the HTTP \"Link\"\n   header when responding to an HTTP HEAD/GET request to a resource\n   excluded from datetime negotiation.  This link has\n   \"http://mementoweb.org/terms/donotnegotiate\" as Target IRI and\n   \"type\", defined in [<a href=\"/doc/html/rfc6903\" title=\"&quot;Additional Link Relation Types&quot;\">RFC6903</a>], as the value of the \"rel\" attribute.\n   Other Memento headers as defined in <a href=\"#section-2.1\">Section 2.1</a> SHOULD NOT be\n   provided.\n\n   Figure 26 shows the response to an HTTP HEAD request from a resource\n   excluded from datetime negotiation.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Link: &lt;<a href=\"http://mementoweb.org/terms/donotnegotiate\">http://mementoweb.org/terms/donotnegotiate</a>&gt;; rel=\"type\"\n   Content-Length: 238\n   Content-Type: application/javascript; charset=UTF-8\n   Connection: close\n\n   Figure 26: Response to an HTTP HEAD Request from a Resource Excluded\n                         from Datetime Negotiation\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 35]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-36\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-5\" href=\"#section-5\">5</a>.  TimeMaps: Content and Serialization</span>\n\n   A TimeMap is introduced to support retrieving a comprehensive list of\n   all Mementos for a specific Original Resource known to a server.  The\n   entity-body of a response to an HTTP GET request issued against a\n   TimeMap's URI-T:\n\n   o  MUST list the URI-R of the Original Resource that the TimeMap is\n      about;\n\n   o  MUST list the URI-M and archival datetime of each Memento for the\n      Original Resource known to the server, preferably in a single\n      document, or, alternatively in multiple documents that can be\n      gathered by following contained links with a \"timemap\" Relation\n      Type;\n\n   o  SHOULD list the URI-G of one or more TimeGates for the Original\n      Resource known to the responding server;\n\n   o  SHOULD, for self-containment, list the URI-T of the TimeMap\n      itself;\n\n   o  MUST unambiguously type listed resources as being Original\n      Resource, TimeGate, Memento, or TimeMap.\n\n   The entity-body of a response from a TimeMap MAY be serialized in\n   various ways, but the link-value format serialization described here\n   MUST be supported.  In this serialization, the entity-body MUST be\n   formatted in the same way as the value of an HTTP \"Link\" header, and\n   hence MUST comply to the \"link-value\" construction rule of <a href=\"#section-5\">Section 5</a>.\n   The Link header field of [<a href=\"/doc/html/rfc5988\" title=\"&quot;Web Linking&quot;\">RFC5988</a>], and the media type of the entity-\n   body MUST be \"application/link-format\" as introduced in [<a href=\"/doc/html/rfc6690\" title=\"&quot;Constrained RESTful Environments (CoRE) Link Format&quot;\">RFC6690</a>].\n   Links contained in the entity-body MUST be interpreted as follows:\n\n   o  The Context IRI is set to the anchor parameter, when specified;\n\n   o  The Context IRI of links with the \"self\" Relation Types is the\n      URI-T of the TimeMap, i.e., the URI of the resource from which the\n      TimeMap was requested;\n\n   o  The Context IRI of all other links is the URI-R of the Original\n      Resource, which is provided as the Target IRI of the link with an\n      \"original\" Relation Type.\n\n   In order to retrieve the link-value serialization of a TimeMap, a\n   user agent uses an \"Accept\" request header with a value set to\n   \"application/link-format\".  This is shown in Figure 27.\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 36]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-37\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   GET /timemap/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net\n   Accept: application/link-format;q=1.0\n   Connection: close\n\n                     Figure 27: Request for a TimeMap\n\n   If the TimeMap requested by the user agent exists, the server's\n   response has a \"200 OK\" HTTP status code and the list of Mementos is\n   provided in the entity-body of the response.  Such a response is\n   shown in Figure 28.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Content-Length: 4883\n   Content-Type: application/link-format\n   Connection: close\n\n    &lt;http://a.example.org&gt;;rel=\"original\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"self\";type=\"application/link-format\"\n      ; from=\"Tue, 20 Jun 2000 18:02:59 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=\"timegate\",\n    &lt;http://arxiv.example.net/web/20000620180259/http://a.example.org&gt;\n      ; rel=\"first memento\";datetime=\"Tue, 20 Jun 2000 18:02:59 GMT\"\n      ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    &lt;http://arxiv.example.net/web/20091027204954/http://a.example.org&gt;\n       ; rel=\"last memento\";datetime=\"Tue, 27 Oct 2009 20:49:54 GMT\"\n       ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    &lt;http://arxiv.example.net/web/20000621011731/http://a.example.org&gt;\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 01:17:31 GMT\"\n      ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    &lt;http://arxiv.example.net/web/20000621044156/http://a.example.org&gt;\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 04:41:56 GMT\"\n      ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    ...\n\n                    Figure 28: Response from a TimeMap\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 37]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-38\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-5.1\" href=\"#section-5.1\">5.1</a>.  Special Cases</span>\n\n<span><a id=\"section-5.1.1\" href=\"#section-5.1.1\">5.1.1</a>.  Index and Paging TimeMaps</span>\n\n   Cases exist in which a TimeMap points at one or more other TimeMaps:\n\n   o  Index TimeMap - A TimeMap can merely point at other TimeMaps and\n      not list any Mementos itself.  This can happen when Mementos are\n      spread across several archives that share a front-end.  An example\n      is shown in Figure 29.\n\n   o  Paging TimeMap - The number of available Mementos can require\n      introducing multiple TimeMaps that can be paged.  An example is\n      shown in Figure 30.  Note that a Paging TimeMap contains links to\n      other TimeMaps but actually also lists Mementos.\n\n   In both cases, including the \"from\" and \"until\" attributes for\n   \"timemap\" links is RECOMMENDED as a means to express the temporal\n   span of Mementos listed in each TimeMap.  Note that TimeMaps obtained\n   by following a \"timemap\" link can contain links to further TimeMaps.\n\n   &lt;http://a.example.org&gt;;rel=\"original\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=\"timegate\",\n    &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"self\";type=\"application/link-format\",\n    &lt;http://arxiv1.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Wed, 21 Jun 2000 04:41:56 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n    &lt;http://arxiv2.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 10 Apr 2008 20:30:51 GMT\"\n      ; until=\"Tue, 27 Oct 2009 20:49:54 GMT\",\n    &lt;http://arxiv3.example.net/timemap/http://a.example.org&gt;\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 29 Oct 2009 20:30:51 GMT\"\n\n                         Figure 29: Index TimeMap\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 38]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-39\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   &lt;http://a.example.org&gt;;rel=\"original\",\n    &lt;http://arxiv.example.net/timegate/http://a.example.org&gt;\n      ; rel=\"timegate\",\n    &lt;http://arxiv.example.net/timemap/1/http://a.example.org&gt;\n      ; rel=\"self\";type=\"application/link-format\"\n      ; from=\"Tue, 20 Jun 2000 18:02:59 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n    &lt;http://arxiv.example.net/timemap/2/http://a.example.org&gt;\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 10 Apr 2008 20:30:51 GMT\"\n      ; until=\"Tue, 27 Oct 2009 20:49:54 GMT\",\n    &lt;http://arxiv.example.net/timemap/3/http://a.example.org&gt;\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 29 Oct 2009 20:30:51 GMT\"\n      ; until=\"Fri, 31 Aug 2012 12:22:34 GMT\"\n    &lt;http://arxiv.example.net/web/20000620180259/http://a.example.org&gt;\n      ; rel=\"memento\";datetime=\"Tue, 20 Jun 2000 18:02:59 GMT\",\n    &lt;http://arxiv.example.net/web/20000621011731/http://a.example.org&gt;\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 01:17:31 GMT\",\n    &lt;http://arxiv.example.net/web/20000621044156/http://a.example.org&gt;\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 04:41:56 GMT\",\n    ...\n\n                         Figure 30: Paging TimeMap\n\n<span><a id=\"section-5.1.2\" href=\"#section-5.1.2\">5.1.2</a>.  Mementos for TimeMaps</span>\n\n   A TimeMap itself can act as an Original Resource for which a TimeGate\n   and Mementos may exist.  Hence, the response from a TimeMap could\n   include a \"timegate\" link to a TimeGate via which prior TimeMap\n   versions are available.  And, in cases where URI-T=URI-R=URI-G (a\n   TimeMap is an Original Resource that acts as its own TimeGate), an\n   \"original\" link pointing at the TimeMap URI-T would be included.\n\n   Therefore, caution is required in cases where a TimeMap for an\n   Original Resource wants to explicitly express in a \"Link\" header for\n   which Original Resource it is a TimeMap.  It can do so by including a\n   \"timemap\" link that has the URI-R of the Original Resource as Context\n   IRI and the URI-T of the TimeMap as Target IRI.\n\n   Figure 31 shows the response to an HTTP HEAD request against a\n   TimeMap that has\n   http://arxiv.example.net/timemap/http://a.example.org as URI-T.  This\n   TimeMap provides information about Mementos for the Original Resource\n   that has http://a.example.org as URI-R.  The response includes an\n   \"original\" link pointing to the Original Resource that this TimeMap\n   is about.  Note the use of the \"anchor\" attribute in this link to\n   convey the URI-R of that Original Resource.\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 39]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-40\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Link: &lt;http://arxiv.example.net/timemap/http://a.example.org&gt;\n             ; anchor=\"http://a.example.org\"; rel=\"timemap\"\n             ; type=\"application/link-format\"\n   Content-Length: 0\n   Content-Type: application/link-format; charset=UTF-8\n   Connection: close\n\n       Figure 31: TimeMap Links to the Original Resource It Is about\n\n<span><a id=\"section-6\" href=\"#section-6\">6</a>.  IANA Considerations</span>\n\n<span><a id=\"section-6.1\" href=\"#section-6.1\">6.1</a>.  HTTP Headers</span>\n\n   IANA has registered the \"Accept-Datetime\" and \"Memento-Datetime\" HTTP\n   headers (defined in <a href=\"#section-2.1.1\">Section 2.1.1</a>) in the \"Permanent Message Header\n   Field Names\" registry:\n\n   o  Header field name: Accept-Datetime\n   o  Applicable protocol: \"http\" (<a href=\"/doc/html/rfc2616\">RFC 2616</a>)\n   o  Status: informational\n   o  Author/Change controller: Herbert Van de Sompel, Los Alamos\n      National Laboratory, hvdsomp@gmail.com\n   o  Specification document(s): this document\n\n   o  Header field name: Memento-Datetime\n   o  Applicable protocol: \"http\" (<a href=\"/doc/html/rfc2616\">RFC 2616</a>)\n   o  Status: informational\n   o  Author/Change controller: Herbert Van de Sompel, Los Alamos\n      National Laboratory, hvdsomp@gmail.com\n   o  Specification document(s): this document\n\n<span><a id=\"section-6.2\" href=\"#section-6.2\">6.2</a>.  Link Relation Types</span>\n\n   IANA has registered the Relation Types \"original\", \"timegate\",\n   \"timemap\", and \"memento\" (defined in <a href=\"#section-2.2\">Section 2.2</a>) in the \"Link\n   Relation Types\" registry:\n\n   o  Relation Name: original\n   o  Description: The Target IRI points to an Original Resource.\n   o  Reference: this document\n   o  Notes: An Original Resource is a resource that exists or used to\n      exist, and for which access to one of its prior states may be\n      required.\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 40]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-41\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   o  Relation Name: timegate\n   o  Description: The Target IRI points to a TimeGate for an Original\n      Resource.\n   o  Reference: this document\n   o  Notes: A TimeGate for an Original Resource is a resource that is\n      capable of datetime negotiation to support access to prior states\n      of the Original Resource.\n\n   o  Relation Name: timemap\n   o  Description: The Target IRI points to a TimeMap for an Original\n      Resource.\n   o  Reference: this document\n   o  Notes: A TimeMap for an Original Resource is a resource from which\n      a list of URIs of Mementos of the Original Resource is available.\n\n   o  Relation Name: memento\n   o  Description: The Target IRI points to a Memento, a fixed resource\n      that will not change state anymore.\n   o  Reference: this document\n   o  Notes: A Memento for an Original Resource is a resource that\n      encapsulates a prior state of the Original Resource.\n\n<span><a id=\"section-7\" href=\"#section-7\">7</a>.  Security Considerations</span>\n\n   Provision of a \"timegate\" HTTP \"Link\" header in responses to requests\n   for an Original Resource that is protected (e.g., 401 or 403 HTTP\n   response codes) is OPTIONAL.  The inclusion of this Link when\n   requesting authentication is at the server's discretion; cases may\n   exist in which a server protects the current state of a resource, but\n   supports open access to prior states and thus chooses to supply this\n   HTTP \"Link\" header.  Conversely, the server may choose to not\n   advertise the TimeGate URIs (e.g., they exist in an intranet archive)\n   for unauthenticated requests.\n\n   The veracity of archives and the relationships between Original\n   Resources and Mementos is beyond the scope of this document.  Even in\n   the absence of malice, it is possible for separate archives to have\n   different Mementos for the same Original Resource at the same\n   datetime if the state of the Original Resource was dependent on the\n   requesting archive's user agent IP address, specific HTTP request\n   headers, and possibly other factors.\n\n   Further authentication, encryption, and other security-related issues\n   are otherwise orthogonal to Memento.\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 41]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-42\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"section-8\" href=\"#section-8\">8</a>.  Acknowledgements</span>\n\n   The Memento effort is funded by the Library of Congress.  Many thanks\n   to Kris Carpenter Negulescu, Michael Hausenblas, Erik Hetzner, Larry\n   Masinter, Gordon Mohr, David Rosenthal, Ed Summers, James Anderson,\n   Tim Starling, Martin Klein, and Mark Nottingham for feedback.  Many\n   thanks to Samuel Adams, Scott Ainsworth, Lyudmilla Balakireva, Frank\n   McCown, Harihar Shankar, Brad Tofel, Andrew Jackson, Ahmed Alsum, Mat\n   Kelly, and Ilya Kreymer for implementations that informed the\n   specification.\n\n<span><a id=\"section-9\" href=\"#section-9\">9</a>.  References</span>\n\n<span><a id=\"section-9.1\" href=\"#section-9.1\">9.1</a>.  Normative References</span>\n\n   [<a id=\"ref-RFC2119\">RFC2119</a>]   Bradner, S., \"Key words for use in RFCs to Indicate\n               Requirement Levels\", <a href=\"/doc/html/bcp14\">BCP 14</a>, <a href=\"/doc/html/rfc2119\">RFC 2119</a>, March 1997.\n\n   [<a id=\"ref-RFC2616\">RFC2616</a>]   Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,\n               Masinter, L., Leach, P., and T. Berners-Lee, \"Hypertext\n               Transfer Protocol -- HTTP/1.1\", <a href=\"/doc/html/rfc2616\">RFC 2616</a>, June 1999.\n\n   [<a id=\"ref-RFC5829\">RFC5829</a>]   Brown, A., Clemm, G., and J. Reschke, \"Link Relation\n               Types for Simple Version Navigation between Web\n               Resources\", <a href=\"/doc/html/rfc5829\">RFC 5829</a>, April 2010.\n\n   [<a id=\"ref-RFC5988\">RFC5988</a>]   Nottingham, M., \"Web Linking\", <a href=\"/doc/html/rfc5988\">RFC 5988</a>, October 2010.\n\n   [<a id=\"ref-RFC6690\">RFC6690</a>]   Shelby, Z., \"Constrained RESTful Environments (CoRE) Link\n               Format\", <a href=\"/doc/html/rfc6690\">RFC 6690</a>, August 2012.\n\n   [<a id=\"ref-RFC6903\">RFC6903</a>]   Snell, J., \"Additional Link Relation Types\", <a href=\"/doc/html/rfc6903\">RFC 6903</a>,\n               March 2013.\n\n<span><a id=\"section-9.2\" href=\"#section-9.2\">9.2</a>.  Informative References</span>\n\n   [<a id=\"ref-DATED-URI\">DATED-URI</a>] Masinter, L., \"The 'tdb' and 'duri' URI schemes, based on\n               dated URIs\", Work in Progress, January 2012.\n\n   [<a id=\"ref-Fitch\">Fitch</a>]     Fitch, K., \"Web site archiving - an approach to recording\n               every materially different response produced by a\n               website\", July 2003,\n               &lt;<a href=\"http://ausweb.scu.edu.au/aw03/papers/fitch/paper.html\">http://ausweb.scu.edu.au/aw03/papers/fitch/paper.html</a>&gt;.\n\n   [<a id=\"ref-RFC1123\">RFC1123</a>]   Braden, R., \"Requirements for Internet Hosts -\n               Application and Support\", STD 3, <a href=\"/doc/html/rfc1123\">RFC 1123</a>, October 1989.\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 42]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-43\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   [<a id=\"ref-W3C.REC-aww-20041215\">W3C.REC-aww-20041215</a>]\n               Jacobs, I. and N. Walsh, \"Architecture of the World Wide\n               Web\", December 2004, &lt;<a href=\"https://www.w3.org/TR/webarch/\">http://www.w3.org/TR/webarch/</a>&gt;.\n\n   [<a id=\"ref-W3C.gen-ont-20090420\">W3C.gen-ont-20090420</a>]\n               Berners-Lee, T., \"Architecture of the World Wide Web\",\n               April 2009, &lt;<a href=\"https://www.w3.org/2006/gen/ont\">http://www.w3.org/2006/gen/ont</a>&gt;.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 43]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-44\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n<span><a id=\"appendix-A\" href=\"#appendix-A\">Appendix A</a>.  Use of Headers and Relation Types per Pattern</span>\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Vary:      |   Pattern 1.1   |     1    |     1    |    0    |\n   | accept-datetime | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     1    |    0    |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 44]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-45\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |     Vary:       |                 |          |          |         |\n   | Memento-        |   Pattern 1.1   |     0    |     0    |    1    |\n   |    Datetime     | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     0    |    1    |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 45]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-46\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |       Link:     |                 |          |          |         |\n   |  rel=\"original\" |   Pattern 1.1   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 46]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-47\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Link:      |                 |          |          |         |\n   |  rel=\"timegate\" |   Pattern 1.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    &gt;=0   |     0    |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    NA    |    NA    |    NA   |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    NA    |    NA    |    NA   |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 47]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-48\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |     Link:       |                 |          |          |         |\n   |  rel=\"timemap\"  |   Pattern 1.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 48]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-49\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Link:      |                 |          |          |         |\n   |  rel=\"memento\"  |   Pattern 1.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.1\">Section 4.1.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (<a href=\"#section-4.1.2\">Section 4.1.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.1.3\">Section 4.1.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.1\">Section 4.2.1</a>) |          |          |         |\n   |                 |         &amp;       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (<a href=\"#section-4.2.2\">Section 4.2.2</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    &gt;=0   |    &gt;=0   |   &gt;=0   |\n   |                 | (<a href=\"#section-4.2.3\">Section 4.2.3</a>) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.3\">Section 4.3</a>)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    &gt;=0   |    NA    |   &gt;=0   |\n   |                 |  (<a href=\"#section-4.4\">Section 4.4</a>)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\n                         Table 5: Memento Headers\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<span>Van de Sompel, et al.         Informational                    [Page 49]</span></pre>\n<hr><!--NewPage--><pre><span id=\"page-50\"></span>\n<span><a href=\"/doc/html/rfc7089\">RFC 7089</a>                      HTTP Memento                 December 2013</span>\n\n\nAuthors' Addresses\n\n   Herbert Van de Sompel\n   Los Alamos National Laboratory\n   PO Box 1663\n   Los Alamos, New Mexico  87545\n   USA\n\n   Phone: +1 505 667 1267\n   EMail: hvdsomp@gmail.com\n   URI:   <a href=\"http://public.lanl.gov/herbertv/\">http://public.lanl.gov/herbertv/</a>\n\n\n   Michael Nelson\n   Old Dominion University\n   Norfolk, Virginia  23529\n   USA\n\n   Phone: +1 757 683 6393\n   EMail: mln@cs.odu.edu\n   URI:   <a href=\"http://www.cs.odu.edu/~mln/\">http://www.cs.odu.edu/~mln/</a>\n\n\n   Robert Sanderson\n   Los Alamos National Laboratory\n   PO Box 1663\n   Los Alamos, New Mexico  87545\n   USA\n\n   Phone: +1 505 665 5804\n   EMail: azaroth42@gmail.com\n   URI:   <a href=\"http://public.lanl.gov/rsanderson/\">http://public.lanl.gov/rsanderson/</a>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 50]\n</pre>\n    </div></div>","textContent":"\n    Independent Submission                                  H. Van de Sompel\nRequest for Comments: 7089                Los Alamos National Laboratory\nCategory: Informational                                        M. Nelson\nISSN: 2070-1721                                  Old Dominion University\n                                                            R. Sanderson\n                                          Los Alamos National Laboratory\n                                                           December 2013\n\n\n   HTTP Framework for Time-Based Access to Resource States -- Memento\n\nAbstract\n\n   The HTTP-based Memento framework bridges the present and past Web.\n   It facilitates obtaining representations of prior states of a given\n   resource by introducing datetime negotiation and TimeMaps.  Datetime\n   negotiation is a variation on content negotiation that leverages the\n   given resource's URI and a user agent's preferred datetime.  TimeMaps\n   are lists that enumerate URIs of resources that encapsulate prior\n   states of the given resource.  The framework also facilitates\n   recognizing a resource that encapsulates a frozen prior state of\n   another resource.\n\nStatus of This Memo\n\n   This document is not an Internet Standards Track specification; it is\n   published for informational purposes.\n\n   This is a contribution to the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has chosen to publish this document at\n   its discretion and makes no statement about its value for\n   implementation or deployment.  Documents approved for publication by\n   the RFC Editor are not a candidate for any level of Internet\n   Standard; see Section2 of RFC 5741.\n\n   Information about the current status of this document, any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7089.\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                     [Page 1]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\nCopyright Notice\n\n   Copyright (c) 2013 IETF Trust and the persons identified as the\n   document authors.  All rights reserved.\n\n   This document is subject to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication of this document.  Please review these documents\n   carefully, as they describe your rights and restrictions with respect\n   to this document.\n\nTable of Contents\n\n   1. Introduction ....................................................4\n      1.1. Terminology ................................................4\n      1.2. Notational Conventions .....................................4\n      1.3. Purpose ....................................................5\n   2. HTTP Headers, Link Relation Types ...............................7\n      2.1. HTTP Headers ...............................................7\n           2.1.1. Accept-Datetime and Memento-Datetime ................7\n           2.1.2. Vary ................................................8\n           2.1.3. Link ................................................8\n      2.2. Link Relation Types ........................................9\n           2.2.1. Link Relation Type \"original\" .......................9\n           2.2.2. Link Relation Type \"timegate\" .......................9\n           2.2.3. Link Relation Type \"timemap\" ........................9\n           2.2.4. Link Relation Type \"memento\" .......................10\n   3. Overview of the Memento Framework ..............................11\n      3.1. Datetime Negotiation ......................................11\n      3.2. TimeMaps ..................................................13\n   4. Datetime Negotiation: HTTP Interactions ........................14\n      4.1. Pattern 1 - The Original Resource Acts as Its Own\n           TimeGate ..................................................15\n           4.1.1. Pattern 1.1 - URI-R=URI-G; 302-Style\n                  Negotiation; Distinct URI-M  for Mementos ..........16\n           4.1.2. Pattern 1.2 - URI-R=URI-G; 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........18\n           4.1.3. Pattern 1.3 - URI-R=URI-G; 200-Style\n                  Negotiation; No Distinct URI-M for Mementos ........19\n      4.2. Pattern 2 - A Remote Resource Acts as a TimeGate\n           for the Original Resource .................................20\n           4.2.1. Pattern 2.1 - URI-R<>URI-G; 302-Style\n                  Negotiation; Distinct URI-M for Mementos ...........22\n           4.2.2. Pattern 2.2 - URI-R<>URI-G; 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........24\n           4.2.3. Pattern 2.3 - URI-R<>URI-G; 200-Style\n                  Negotiation; No Distinct URI-M for Mementos ........25\n\n\n\nVan de Sompel, et al.         Informational                     [Page 2]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n      4.3. Pattern 3 - The Original Resource is a Fixed Resource .....26\n      4.4. Pattern 4 - Mementos without a TimeGate ...................27\n      4.5. Special Cases .............................................29\n           4.5.1. Original Resource Provides No \"timegate\" Link ......29\n           4.5.2. Server Exists but Original Resource No\n                  Longer Does ........................................29\n           4.5.3. Issues with Accept-Datetime ........................30\n           4.5.4. Memento of a 3XX Response ..........................30\n           4.5.5. Memento of Responses with 4XX or 5XX HTTP\n                  Status Codes .......................................32\n           4.5.6. Sticky \"Memento-Datetime\" and \"original\"\n                  Link for Mementos ..................................33\n           4.5.7. Intermediate Resources .............................34\n           4.5.8. Resources Excluded from Datetime Negotiation .......35\n   5. TimeMaps: Content and Serialization ............................36\n      5.1. Special Cases .............................................38\n           5.1.1. Index and Paging TimeMaps ..........................38\n           5.1.2. Mementos for TimeMaps ..............................39\n   6. IANA Considerations ............................................40\n      6.1. HTTP Headers ..............................................40\n      6.2. Link Relation Types .......................................40\n   7. Security Considerations ........................................41\n   8. Acknowledgements ...............................................42\n   9. References .....................................................42\n      9.1. Normative References ......................................42\n      9.2. Informative References ....................................42\n   Appendix A. Use of Headers and Relation Types per Pattern .........43\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                     [Page 3]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n1.  Introduction\n\n1.1.  Terminology\n\n   This specification uses the terms \"resource\", \"request\", \"response\",\n   \"entity-body\", \"content negotiation\", \"user agent\", and \"server\" as\n   described in [RFC2616], and it uses the terms \"representation\" and\n   \"resource state\" as described in [W3C.REC-aww-20041215].\n\n   In addition, the following terms specific to the Memento framework\n   are introduced:\n\n   o  Original Resource: An Original Resource is a resource that exists\n      or used to exist, and for which access to one of its prior states\n      may be required.\n\n   o  Memento: A Memento for an Original Resource is a resource that\n      encapsulates a prior state of the Original Resource.  A Memento\n      for an Original Resource as it existed at time T is a resource\n      that encapsulates the state the Original Resource had at time T.\n\n   o  TimeGate: A TimeGate for an Original Resource is a resource that\n      is capable of datetime negotiation to support access to prior\n      states of the Original Resource.\n\n   o  TimeMap: A TimeMap for an Original Resource is a resource from\n      which a list of URIs of Mementos of the Original Resource is\n      available.\n\n1.2.  Notational Conventions\n\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n\n   When needed for extra clarity, the following conventions are used:\n\n   o  URI-R is used to denote the URI of an Original Resource.\n\n   o  URI-G is used to denote the URI of a TimeGate.\n\n   o  URI-M is used to denote the URI of a Memento.\n\n   o  URI-T is used to denote the URI of a TimeMap.\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                     [Page 4]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n1.3.  Purpose\n\n   The state of an Original Resource may change over time.\n   Dereferencing its URI at any specific moment yields a response that\n   reflects the resource's state at that moment: a representation of the\n   resource's state (e.g., \"200 OK\" HTTP status code), an indication of\n   its nonexistence (e.g., \"404 Not Found\" HTTP status code), a relation\n   to another resource (e.g., \"302 Found\" HTTP status code), etc.\n   However, responses may also exist that reflect prior states of an\n   Original Resource: a representation of a prior state of the Original\n   Resource, an indication that the Original Resource did not exist at\n   some time in the past, a relation that the Original Resource had to\n   another resource at some time in the past, etc.  Mementos that\n   provide such responses exist in Web archives, content management\n   systems, or revision control systems, among others.  For any given\n   Original Resource several Mementos may exist, each one reflecting a\n   frozen prior state of the Original Resource.\n\n   Examples are:\n\n   Mementos for Original Resource http://www.ietf.org/ are as follows:\n\n   o  http://web.archive.org/web/19970107171109/http://www.ietf.org/\n\n   o  http://webarchive.nationalarchives.gov.uk/20080906200044/http://\n      www.ietf.org/\n\n   Mementos for Original Resource\n   http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol are as\n   follows:\n\n   o  http://en.wikipedia.org/w/\n      index.php?title=Hypertext_Transfer_Protocol&oldid=366806574\n\n   o  http://en.wikipedia.org/w/\n      index.php?title=Hypertext_Transfer_Protocol&oldid=33912\n\n   o  http://web.archive.org/web/20071011153017/http://en.wikipedia.org/\n      wiki/Hypertext_Transfer_Protocol\n\n   Mementos for Original Resource http://www.w3.org/TR/webarch/ are as\n   follows:\n\n   o  http://www.w3.org/TR/2004/PR-webarch-20041105/\n\n   o  http://www.w3.org/TR/2002/WD-webarch-20020830/\n\n   o  http://archive.is/20120527002537/http://www.w3.org/TR/webarch/\n\n\n\nVan de Sompel, et al.         Informational                     [Page 5]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   In the abstract, the Memento framework introduces a mechanism to\n   access versions of Web resources that:\n\n   o  Is fully distributed in the sense that resource versions may\n      reside on multiple servers, and that any such server is likely\n      only aware of the versions it holds;\n\n   o  Uses the global notion of datetime as a resource version indicator\n      and access key;\n\n   o  Leverages the following primitives of [W3C.REC-aww-20041215]:\n      resource, resource state, representation, content negotiation, and\n      link.\n\n   The core components of Memento's mechanism to access resource\n   versions are:\n\n   1.  The abstract notion of the state of an Original Resource (URI-R)\n       as it existed at datetime T.  Note the relationship with the\n       ability to identify the state of a resource at datetime T by\n       means of a URI as intended by the proposed Dated URI scheme\n       [DATED-URI].\n\n   2.  A \"bridge\" from the present to the past, consisting of:\n\n       o  The existence of a TimeGate (URI-G), which is aware of (at\n          least part of the) version history of the Original Resource\n          (URI-R);\n\n       o  The ability to negotiate in the datetime dimension with that\n          TimeGate (URI-G), as a means to access the state that the\n          Original Resource (URI-R) had at datetime T.\n\n   3.  A \"bridge\" from the past to the present, consisting of an\n       appropriately typed link from a Memento (URI-M), which\n       encapsulates the state the Original Resource (URI-R) had at\n       datetime T, to the Original Resource (URI-R).\n\n   4.  The existence of a TimeMap (URI-T) from which a list of all\n       Mementos that encapsulate a prior state of the Original Resource\n       (URI-R) can be obtained.\n\n   This document is concerned with specifying an instantiation of these\n   abstractions for resources that are identified by HTTP(S) URIs.\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                     [Page 6]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n2.  HTTP Headers, Link Relation Types\n\n   The Memento framework is concerned with HEAD and GET interactions\n   with Original Resources, TimeGates, Mementos, and TimeMaps that are\n   identified by HTTP or HTTPS URIs.  Details are only provided for\n   resources identified by HTTP URIs but apply similarly to those with\n   HTTPS URIs.\n\n2.1.  HTTP Headers\n\n   The Memento framework operates at the level of HTTP request and\n   response headers.  It introduces two new headers (\"Accept-Datetime\"\n   and \"Memento-Datetime\") and introduces new values for two existing\n   headers (\"Vary\" and \"Link\").  Other HTTP headers are present or\n   absent in Memento response/request cycles as specified by [RFC2616].\n\n2.1.1.  Accept-Datetime and Memento-Datetime\n\n   The \"Accept-Datetime\" request header is transmitted by a user agent\n   to indicate it wants to access a past state of an Original Resource.\n   To that end, the \"Accept-Datetime\" header is conveyed in an HTTP\n   request issued against a TimeGate for an Original Resource, and its\n   value indicates the datetime of the desired past state of the\n   Original Resource.\n\n   Example of an \"Accept-Datetime\" request header:\n\n   Accept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n\n   The \"Memento-Datetime\" response header is used by a server to\n   indicate that a response reflects a prior state of an Original\n   Resource.  Its value expresses the datetime of that state.  The URI\n   of the Original Resource for which the response reflects a prior\n   state is provided as the Target IRI of a link provided in the HTTP\n   \"Link\" header that has a Relation Type of \"original\" (see\n   Section 2.2).\n\n   The presence of a \"Memento-Datetime\" header and associated value for\n   a given response constitutes a promise that the resource state\n   reflected in the response will no longer change (see Section 4.5.6).\n\n   Example of a \"Memento-Datetime\" response header:\n\n   Memento-Datetime: Wed, 30 May 2007 18:47:52 GMT\n\n   Values for the \"Accept-Datetime\" and \"Memento-Datetime\" headers\n   consist of a MANDATORY datetime expressed according to the [RFC1123]\n   format, which is formalized by the rfc1123-date construction rule of\n\n\n\nVan de Sompel, et al.         Informational                     [Page 7]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   the BNF in Figure 1.  This BNF is derived from the HTTP-date\n   construction of the BNF for Full Dates provided in [RFC2616].  The\n   datetime is case sensitive with names for days and months exactly as\n   shown in the wkday and month construction rules of the BNF,\n   respectively.  The datetime MUST be represented in Greenwich Mean\n   Time (GMT).\n\n   accept-dt-value = rfc1123-date\n   rfc1123-date = wkday \",\" SP date1 SP time SP \"GMT\"\n   date1        = 2DIGIT SP month SP 4DIGIT\n                     ; day month year (e.g., 20 Mar 1957)\n   time         = 2DIGIT \":\" 2DIGIT \":\" 2DIGIT\n                     ; 00:00:00 - 23:59:59 (e.g., 14:33:22)\n   wkday        = \"Mon\" | \"Tue\" | \"Wed\" | \"Thu\" | \"Fri\" | \"Sat\" |\n                  \"Sun\"\n   month        = \"Jan\" | \"Feb\" | \"Mar\" | \"Apr\" | \"May\" | \"Jun\" |\n                  \"Jul\" | \"Aug\" | \"Sep\" | \"Oct\" | \"Nov\" | \"Dec\"\n\n                   Figure 1: BNF for the Datetime Format\n\n2.1.2.  Vary\n\n   Generally, the \"Vary\" header is used in HTTP responses to indicate\n   the dimensions in which content negotiation is possible.  In the\n   Memento framework, a TimeGate uses the \"Vary\" header with a value\n   that includes \"accept-datetime\" to convey that datetime negotiation\n   is possible.\n\n   For example, this use of the \"Vary\" header indicates that datetime is\n   the only dimension in which negotiation is possible:\n\n   Vary: accept-datetime\n\n   The use of the \"Vary\" header in this example shows that both datetime\n   negotiation and media type content negotiation are possible:\n\n   Vary: accept-datetime, accept\n\n2.1.3.  Link\n\n   The Memento framework defines the \"original\", \"timegate\", \"timemap\",\n   and \"memento\" Relation Types to convey typed links among Original\n   Resources, TimeGates, Mementos, and TimeMaps.  They are defined in\n   Section 2.2, below.  In addition, existing Relation Types may be\n   used, for example, to support navigating among Mementos.  Examples\n   are \"first\", \"last\", \"prev\", \"next\", \"predecessor-version\", and\n   \"successor-version\" as detailed in [RFC5988] and [RFC5829].\n\n\n\n\nVan de Sompel, et al.         Informational                     [Page 8]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n2.2.  Link Relation Types\n\n   This section introduces the Relation Types used in the Memento\n   framework.  They are defined in a general way, and their use in HTTP\n   \"Link\" headers [RFC5988] is described in detail.  The use of these\n   Relation Types in TimeMaps is described in Section 5.\n\n2.2.1.  Link Relation Type \"original\"\n\n   \"original\" -- A link with an \"original\" Relation Type is used to\n   point from a TimeGate or a Memento to its associated Original\n   Resource.\n\n   Use in HTTP \"Link\" headers: Responses to HTTP HEAD/GET requests\n   issued against a TimeGate or a Memento MUST include exactly one link\n   with an \"original\" Relation Type in their HTTP \"Link\" header.\n\n2.2.2.  Link Relation Type \"timegate\"\n\n   \"timegate\" -- A link with a \"timegate\" Relation Type is used to point\n   from the Original Resource, as well as from a Memento associated with\n   the Original Resource, to a TimeGate for the Original Resource.\n\n   Use in HTTP \"Link\" headers: If there is a TimeGate associated with an\n   Original Resource or Memento that is preferred for use, then\n   responses to HTTP HEAD/GET requests issued against these latter\n   resources MUST include a link with a \"timegate\" Relation Type in\n   their HTTP \"Link\" header.  Since multiple TimeGates can exist for any\n   Original Resource, multiple \"timegate\" links MAY occur, each with a\n   distinct Target IRI.\n\n2.2.3.  Link Relation Type \"timemap\"\n\n   \"timemap\" -- A link with a \"timemap\" Relation Type is used to point\n   from a TimeGate or a Memento associated with an Original Resource, as\n   well as from the Original Resource itself, to a TimeMap for the\n   Original Resource.\n\n   Attributes: A link with a \"timemap\" Relation Type SHOULD use the\n   \"type\" attribute to convey the MIME type of the TimeMap\n   serialization.  The \"from\" and \"until\" attributes may be used to\n   express the start and end of the temporal interval covered by\n   Mementos listed in the TimeMap.  That is, the linked TimeMap will not\n   contain Mementos with archival datetimes outside of the expressed\n   temporal interval.  Attempts SHOULD be made to convey this interval\n   as accurately as possible.  The value for the these attributes MUST\n\n\n\n\n\nVan de Sompel, et al.         Informational                     [Page 9]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   be a datetime expressed according to the rfc1123-date construction\n   rule of the BNF in Figure 1, and it MUST be represented in Greenwich\n   Mean Time (GMT).\n\n   Use in HTTP \"Link\" headers: If there is a TimeMap associated with an\n   Original Resource, a TimeGate, or a Memento that is preferred for\n   use, then responses to HTTP HEAD/GET requests issued against these\n   latter resources MUST include a link with a \"timemap\" Relation Type\n   in their HTTP \"Link\" header.  Multiple such links, each with a\n   distinct Target IRI, MAY be expressed as a means to point to\n   different TimeMaps or to different serializations of the same\n   TimeMap.  In all cases, use of the \"from\" and \"until\" attributes is\n   OPTIONAL.\n\n2.2.4.  Link Relation Type \"memento\"\n\n   \"memento\" -- A link with a \"memento\" Relation Type is used to point\n   from a TimeGate or a Memento for an Original Resource, as well as\n   from the Original Resource itself, to a Memento for the Original\n   Resource.\n\n   Attributes: A link with a \"memento\" Relation Type MUST include a\n   \"datetime\" attribute with a value that matches the \"Memento-Datetime\"\n   of the Memento that is the target of the link; that is, the value of\n   the \"Memento-Datetime\" header that is returned when the URI of the\n   linked Memento is dereferenced.  The value for the \"datetime\"\n   attribute MUST be a datetime expressed according to the rfc1123-date\n   construction rule of the BNF in Figure 1, and it MUST be represented\n   in Greenwich Mean Time (GMT).  This link MAY include a \"license\"\n   attribute to associate a license with the Memento; the value for the\n   \"license\" attribute MUST be a URI.\n\n   Use in HTTP \"Link\" headers: Responses to HTTP HEAD/GET requests\n   issued against an Original Resource, a TimeGate, and a Memento MAY\n   include links in their HTTP \"Link\" headers with a \"memento\" Relation\n   Type.  For responses in which a Memento is selected, the provision of\n   navigational links that lead to Mementos other than the selected one\n   can be beneficial to the user agent.  Of special importance are links\n   that lead to the temporally first and last Memento known to the\n   responding server, as well as links leading to Mementos that are\n   temporally adjacent to the selected one.\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 10]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n3.  Overview of the Memento Framework\n\n   The Memento framework defines two complementary approaches to support\n   obtaining representations of prior states of an Original Resource:\n\n   o  Datetime Negotiation: Datetime negotiation is a variation on\n      content negotiation by which a user agent expresses a datetime\n      preference pertaining to the representation of an Original\n      Resource, instead of, for example, a media type preference.  Based\n      on the responding server's knowledge of the past of the Original\n      Resource, it selects a Memento of the Original Resource that best\n      meets the user agent's datetime preference.  An overview is\n      provided in Section 3.1; details are in Section 4.\n\n   o  TimeMaps: A TimeMap is a resource from which a list can be\n      obtained that provides a comprehensive overview of the past of an\n      Original Resource.  A server makes a TimeMap available that\n      enumerates all Mementos that the server is aware of, along with\n      their archival datetime.  A user agent can obtain the TimeMap and\n      select Mementos from it.  An overview is provided in Section 3.2;\n      details are in Section 5.\n\n3.1.  Datetime Negotiation\n\n   Figure 2 provides a schematic overview of a successful request/\n   response chain that involves datetime negotiation.  Dashed lines\n   depict HTTP transactions between user agent and server.  The\n   interactions are for a scenario where the Original Resource resides\n   on one server, whereas both its TimeGate and Mementos reside on\n   another (Pattern 2.1 (Section 4.2.1) in Section 4).  Scenarios also\n   exist in which all these resources are on the same server (for\n   example, content management systems) or all are on different servers\n   (for example, an aggregator of TimeGates).\n\n   1: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------> URI-R\n   2: UA <-- HTTP 200; Link: URI-G ----------------------------- URI-R\n   3: UA --- HTTP HEAD/GET; Accept-Datetime: T ----------------> URI-G\n   4: UA <-- HTTP 302; Location: URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------> URI-G\n   5: UA --- HTTP GET URI-M; Accept-Datetime: T ---------------> URI-M\n   6: UA <-- HTTP 200; Memento-Datetime: T; Link:\n         URI-R,URI-T,URI-G ------------------------------------- URI-M\n\n          Figure 2: A Datetime Negotiation Request/Response Chain\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 11]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   Step 1:  The user agent that wants to access a prior state of the\n            Original Resource issues an HTTP HEAD/GET against URI-R that\n            has an \"Accept-Datetime\" HTTP header with a value of the\n            datetime of the desired state.\n\n   Step 2:  The response from URI-R includes an HTTP \"Link\" header with\n            a Relation Type of \"timegate\" pointing at a TimeGate (URI-G)\n            for the Original Resource.\n\n   Step 3:  The user agent starts the datetime negotiation process with\n            the TimeGate by issuing an HTTP GET request against URI-G\n            that has an \"Accept-Datetime\" HTTP header with a value of\n            the datetime of the desired prior state of the Original\n            Resource.\n\n   Step 4:  The response from URI-G includes a \"Location\" header\n            pointing at a Memento (URI-M) for the Original Resource.  In\n            addition, the response contains an HTTP \"Link\" header with a\n            Relation Type of \"original\" pointing at the Original\n            Resource (URI-R), and an HTTP \"Link\" header with a Relation\n            Type of \"timemap\" pointing at a TimeMap (URI-T).\n\n   Step 5:  The user agent issues an HTTP GET request against URI-M.\n\n   Step 6:  The response from URI-M includes a \"Memento-Datetime\" HTTP\n            header with a value of the archival datetime of the Memento.\n            It also contains an HTTP \"Link\" header with a Relation Type\n            of \"original\" pointing at the Original Resource (URI-R),\n            with a Relation Type of \"timegate\" pointing at a TimeGate\n            (URI-G) for the Original Resource, and with a Relation Type\n            of \"timemap\" pointing at a TimeMap (URI-T) for the Original\n            Resource.  The state that is expressed by the response is\n            the state the Original Resource had at the archival datetime\n            expressed in the \"Memento-Datetime\" header.\n\n   In order to respond to a datetime negotiation request, the server\n   uses an internal algorithm to select the Memento that best meets the\n   user agent's datetime preference.  The exact nature of the selection\n   algorithm is at the server's discretion but is intended to be\n   consistent, for example, always selecting the Memento that is nearest\n   in time relative to the requested datetime, always selecting the\n   Memento that is nearest in the past relative to the requested\n   datetime, etc.\n\n   Due to the sparseness of Mementos in most systems, the value of the\n   \"Memento-Datetime\" header returned by a server may differ\n   (significantly) from the value conveyed by the user agent in \"Accept-\n   Datetime\".\n\n\n\nVan de Sompel, et al.         Informational                    [Page 12]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   Although a Memento encapsulates a prior state of an Original\n   Resource, the entity-body returned in response to an HTTP GET request\n   issued against a Memento may very well not be byte-to-byte the same\n   as an entity-body that was previously returned by that Original\n   Resource.  Various reasons exist why there are significant chances\n   these would be different yet do convey substantially the same\n   information.  These include format migrations as part of a digital\n   preservation strategy, URI-rewriting as applied by some Web archives,\n   and the addition of banners as a means to brand Web archives.\n\n   When negotiating in the datetime dimension, the regular content\n   negotiation dimensions (media type, character encoding, language, and\n   compression) remain available.  It is the TimeGate server's\n   responsibility to honor (or not) such content negotiation, and in\n   doing so it MUST always first select a Memento that meets the user\n   agent's datetime preference, and then consider honoring regular\n   content negotiation for it.  As a result of this approach, the\n   returned Memento will not necessarily meet the user agent's regular\n   content negotiation preferences.  Therefore, it is RECOMMENDED that\n   the server provides \"memento\" links in the HTTP \"Link\" header\n   pointing at Mementos that do meet the user agent's regular content\n   negotiation requests and that have a value for the \"Memento-Datetime\"\n   header in the temporal vicinity of the user agent's preferred\n   datetime value.\n\n   A user agent that engages in datetime negotiation with a resource\n   typically starts by issuing an HTTP HEAD, not GET, request with an\n   \"Accept-Datetime\" header in order to determine how to proceed.  This\n   strategy is related to the existence of various server implementation\n   patterns as will become clear in Section 4.\n\n   Details about the HTTP interactions involved in datetime negotiation\n   are provided in Section 4.\n\n3.2.  TimeMaps\n\n   Figure 3 provides a schematic overview of a successful request/\n   response chain that shows a user agent obtaining a TimeMap.  The\n   pictorial conventions are the same as the ones used in Figure 2, as\n   is the scenario.  Note that, in addition to a TimeGate, an Original\n   Resource and a Memento can also provide a link to a TimeMap.\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 13]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   1: UA --- HTTP HEAD/GET ------------------------------------> URI-R\n   2: UA <-- HTTP 200; Link: URI-G ----------------------------- URI-R\n   3: UA --- HTTP HEAD/GET ------------------------------------> URI-G\n   4: UA <-- HTTP 302; Location: URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------> URI-G\n   5: UA --- HTTP GET URI-T -----------------------------------> URI-T\n   6: UA <-- HTTP 200 ------------------------------------------ URI-T\n\n          Figure 3: A Request/Response Chain to Obtain a TimeMap\n\n   Step 1:  The user agent that wants to access a TimeMap for the\n            Original Resource issues an HTTP HEAD/GET against URI-R.\n            This can be done with or without an \"Accept-Datetime\" HTTP\n            header.\n\n   Step 2:  Irrespective of the use of an \"Accept-Datetime\" HTTP header\n            in Step 1, the response from URI-R includes an HTTP \"Link\"\n            header with a Relation Type of \"timegate\" pointing at a\n            TimeGate (URI-G) for the Original Resource.\n\n   Step 3:  The user agent issues an HTTP GET request against URI-G.\n            This can be done with or without an \"Accept-Datetime\" HTTP\n            header.\n\n   Step 4:  Irrespective of the use of an \"Accept-Datetime\" HTTP header\n            in Step 1, the response contains an HTTP \"Link\" header with\n            a Relation Type of \"timemap\" pointing at a TimeMap (URI-T).\n\n   Step 5:  The user agent issues an HTTP GET request against URI-T.\n\n   Step 6:  The response from URI-T has an entity-body that lists all\n            Mementos for the Original Resource known to the responding\n            server, as well as their archival datetimes.\n\n   Details about the content and serialization of TimeMaps are provided\n   in Section 5.\n\n4.  Datetime Negotiation: HTTP Interactions\n\n   Figure 2 depicts a specific pattern to implement the Memento\n   framework.  Multiple patterns exist, and they can be grouped as\n   follows:\n\n   o  Pattern 1 (Section 4.1) - The Original Resource acts as its own\n      TimeGate\n\n   o  Pattern 2 (Section 4.2) - A remote resource acts as a TimeGate for\n      the Original Resource\n\n\n\nVan de Sompel, et al.         Informational                    [Page 14]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   o  Pattern 3 (Section 4.3) - The Original Resource is a Fixed\n      Resource\n\n   o  Pattern 4 (Section 4.4) - Mementos without a TimeGate\n\n   Details of the HTTP interactions for common cases for each of those\n   patterns are provided in Sections 4.1 through 4.4.  Appendix A\n   summarizes the use of the \"Vary\", \"Memento-Datetime\", and \"Link\"\n   headers in responses from Original Resources, TimeGates, and Mementos\n   for the various patterns.  Special cases are described in\n   Section 4.5.  Note that in the following sections, the HTTP status\n   code of the responses with an entity-body is shown as \"200 OK\", but a\n   series of \"206 Partial Content\" responses could be substituted.\n\n   Figure 4 shows a user agent that attempts to datetime negotiate with\n   the Original Resource http://a.example.org/ by including an \"Accept-\n   Datetime\" header in its HTTP HEAD request.  This initiating request\n   is the same for Pattern 1 (Section 4.1) through Pattern 3\n   (Section 4.3).\n\n   HEAD / HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n            Figure 4: User Agent Attempts Datetime Negotiation\n                          with Original Resource\n\n4.1.  Pattern 1 - The Original Resource Acts as Its Own TimeGate\n\n   In this implementation pattern, the Original Resource acts as its own\n   TimeGate, which means that URI-R and URI-G coincide.  Content\n   management systems and revision control systems can support datetime\n   negotiation in this way as they are commonly aware of the version\n   history of their own resources.\n\n   The response to this request when datetime negotiation for this\n   resource is supported depends on the negotiation style it uses (200-\n   style or 302-style) and on the existence or absence of a URI-M for\n   Mementos that is distinct from the URI-R of the associated Original\n   Resource.  The various cases are summarized in the below table, and\n   the server responses for each are detailed in the remainder of this\n   section.\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 15]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +-------------------+------------+----------+---------+-------------+\n   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n   |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n   |    Pattern 1.1    |    URI-R   |   URI-R  |  URI-M  |     302     |\n   |  (Section 4.1.1)  |            |          |         |             |\n   |    Pattern 1.2    |    URI-R   |   URI-R  |  URI-M  |     200     |\n   |  (Section 4.1.2)  |            |          |         |             |\n   |    Pattern 1.3    |    URI-R   |   URI-R  |  URI-R  |     200     |\n   |  (Section 4.1.3)  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\n                            Table 1: Pattern 1\n\n4.1.1.  Pattern 1.1 - URI-R=URI-G; 302-Style Negotiation; Distinct URI-M\n\n   In this case, the response to the user agent's request of Figure 4\n   has a \"302 Found\" HTTP status code, and the \"Location\" header conveys\n   the URI-M of the selected Memento.  The use of Memento response\n   headers and links in the response from URI-R=URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST NOT contain a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n   The server's response to the request of Figure 4 is shown in\n   Figure 5.  Note the inclusion of the recommended link to the TimeGate\n   that, in this case, has a Target IRI that is the URI-R of the\n   Original Resource.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 16]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Location:\n    http://a.example.org/?version=20010320133610\n   Link: <http://a.example.org/>; rel=\"original timegate\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n            Figure 5: Response from URI-R=URI-G for Pattern 1.1\n\n   In a subsequent request, shown in Figure 6, the user agent can obtain\n   the selected Memento by issuing an HTTP GET request against the URI-M\n   that was provided in the \"Location\" header.  The inclusion of the\n   \"Accept-Datetime\" header in this request is not needed but will\n   typically occur as the user agent is in datetime negotiation mode.\n\n   GET /?version=20010320133610 HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n              Figure 6: User Agent Requests Selected Memento\n\n   The response has a \"200 OK\" HTTP status code, and the entity-body of\n   the response contains the representation of the selected Memento.\n   The use of Memento response headers and links in the response from\n   URI-M is as follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n   The server's response to the request of Figure 6 is shown in\n   Figure 7.  Note the provision of the required \"original\", and the\n   recommended \"timegate\" and \"timemap\" links.  The former two point to\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 17]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   the Original Resource, which acts as its own TimeGate.  The latter\n   has \"from\" and \"until\" attributes to indicate the temporal interval\n   covered by Mementos listed in the linked TimeMap.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:51 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original timegate\",\n    <http://a.example.org/?version=all&style=timemap>\n      ; rel=\"timemap\"; type=\"application/link-format\"\n      ; from=\"Tue, 15 Sep 2000 11:28:26 GMT\"\n      ; until=\"Wed, 20 Jan 2010 09:34:33 GMT\"\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n               Figure 7: Response from URI-M for Pattern 1.1\n\n4.1.2.  Pattern 1.2 - URI-R=URI-G; 200-Style Negotiation; Distinct URI-M\n\n   In this case, the response to the user agent's request of Figure 4\n   has a \"200 OK\" HTTP status code, and the \"Content-Location\" header\n   conveys the URI-M of the selected Memento.  The use of Memento\n   response headers and links in the response from URI-R=URI-G is as\n   follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the selected Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n   The server's response to the request of Figure 4 is shown in\n   Figure 8.  Note the provision of optional \"memento\" links pointing at\n   the oldest and most recent Memento for the Original Resource known to\n   the responding server.\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 18]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Content-Location:\n    http://a.example.org/?version=20010320133610\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original timegate\",\n    <http://a.example.org/?version=20000915112826>\n    ; rel=\"memento first\"; datetime=\"Tue, 15 Sep 2000 11:28:26 GMT\",\n    <http://a.example.org/?version=20100120093433>\n    ; rel=\"memento last\"; datetime=\"Wed, 20 Jan 2010 09:34:33 GMT\",\n    <http://a.example.org/?version=all&style=timemap>\n    ; rel=\"timemap\"; type=\"application/link-format\"\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 8: Response from URI-R=URI-G for Pattern 1.2\n\n   In a subsequent request, which is the same as Figure 4 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as in Figure 8.\n\n4.1.3.  Pattern 1.3 - URI-R=URI-G; 200-Style Negotiation; No Distinct\n        URI-M\n\n   In this case, the response to the user agent's request of Figure 4\n   has a \"200 OK\" HTTP status code, and it does not contain a \"Content-\n   Location\" nor a \"Location\" header as there is no URI-M of the\n   selected Memento to convey.  The use of Memento response headers and\n   links in the response from URI-R=URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the selected Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 19]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   The server's response to the request of Figure 4 is shown in\n   Figure 9.  The recommended \"timemap\" and \"timegate\" links are\n   included in addition to the mandatory \"original\" link.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original timegate\",\n    <http://a.example.org/?version=all&style=timemap>\n      ; rel=\"timemap\"; type=\"application/link-format\"\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 9: Response from URI-R=URI-G for Pattern 1.3\n\n   In a subsequent request, which is the same as Figure 4 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as in Figure 9.\n\n4.2.  Pattern 2 - A Remote Resource Acts as a TimeGate for the Original\n      Resource\n\n   In this implementation pattern, the Original Resource does not act as\n   its own TimeGate, which means that URI-R and URI-G are different.\n   This pattern is typically implemented by servers for which the\n   history of their resources is recorded in remote systems such as Web\n   archives and transactional archives [Fitch].  But servers that\n   maintain their own history, such as content management systems and\n   version control systems, may also implement this pattern, for\n   example, to distribute the load involved in responding to requests\n   for current and prior representations of resources between different\n   servers.\n\n   This pattern is summarized in the below table and is detailed in the\n   remainder of this section.  Three cases exist that differ regarding\n   the negotiation style that is used by the remote TimeGate and\n   regarding the existence of a URI-M for Mementos that is distinct from\n   the URI-G of the TimeGate.\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 20]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +-------------------+------------+----------+---------+-------------+\n   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n   |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n   |    Pattern 2.1    |    URI-R   |   URI-G  |  URI-M  |     302     |\n   |  (Section 4.2.1)  |            |          |         |             |\n   |    Pattern 2.2    |    URI-R   |   URI-G  |  URI-M  |     200     |\n   |  (Section 4.2.2)  |            |          |         |             |\n   |    Pattern 2.3    |    URI-R   |   URI-G  |  URI-G  |     200     |\n   |  (Section 4.2.3)  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\n                            Table 2: Pattern 2\n\n   The response by the Original Resource to the request shown in\n   Figure 4 is the same for all three cases.  The use of headers and\n   links in the response from URI-R is as follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST NOT contain a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header SHOULD be provided.  It MUST NOT include a link\n      with an \"original\" Relation Type.  If a preferred TimeGate is\n      associated with the Original Resource, then it MUST include a link\n      with a \"timegate\" Relation Type that has the URI-G of the TimeGate\n      as Target IRI.  If a preferred TimeMap is associated with the\n      Original Resource, then it SHOULD include a link with a \"timemap\"\n      Relation Type that has the URI-T of the TimeGate as Target IRI.\n      Multiple \"timegate\" and \"timemap\" links can be provided to\n      accommodate situations in which the server is aware of multiple\n      TimeGates or TimeMaps for the Original Resource.\n\n   Figure 10 shows such a response.  Note the absence of an \"original\"\n   link as the responding resource is neither a TimeGate nor a Memento.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:02:12 GMT\n   Server: Apache\n   Link: <http://arxiv.example.net/timegate/http://a.example.org/>\n      ; rel=\"timegate\"\n   Content-Length: 255\n   Connection: close\n   Content-Type: text/html; charset=iso-8859-1\n\n            Figure 10: Response from URI-R<>URI-G for Pattern 2\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 21]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   Once a user agent has obtained the URI-G of a remote TimeGate for the\n   Original Resource, it can engage in datetime negotiation with that\n   TimeGate.  Figure 11 shows the request issued against the TimeGate,\n   whereas Sections 4.2.1 through 4.2.3 detail the responses for various\n   TimeGate implementation patterns.\n\n   HEAD /timegate/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n           Figure 11: User Agent Engages in Datetime Negotiation\n                           with Remote TimeGate\n\n4.2.1.  Pattern 2.1 - URI-R<>URI-G; 302-Style Negotiation; Distinct\n        URI-M\n\n   In case the TimeGate uses a 302 negotiation style, the response to\n   the user agent's request of Figure 11 has a \"302 Found\" HTTP status\n   code, and the \"Location\" header conveys the URI-M of the selected\n   Memento.  The use of Memento response headers and links in the\n   response from URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST NOT contain a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n   The server's response to the request of Figure 11 is shown in\n   Figure 12.  It contains the mandatory \"original\" link that points\n   back to the Original Resource associated with this TimeGate, and it\n   shows the recommended \"timemap\" link that includes \"from\" and \"until\"\n   attributes.\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 22]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:02:14 GMT\n   Server: Apache\n   Vary: accept-datetime\n   Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n   Link: <http://a.example.org/>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n      ; rel=\"timemap\"; type=\"application/link-format\"\n      ; from=\"Tue, 15 Sep 2000 11:28:26 GMT\"\n      ; until=\"Wed, 20 Jan 2010 09:34:33 GMT\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n           Figure 12: Response from URI-G<>URI-R for Pattern 2.1\n\n   In a subsequent HTTP GET request, shown in Figure 13, the user agent\n   can obtain the selected Memento by issuing an HTTP GET request\n   against the URI-M that was provided in the \"Location\" header.  The\n   inclusion of the \"Accept-Datetime\" header in this request is not\n   needed but will typically occur as the user agent is in datetime\n   negotiation mode.\n\n   GET /web/20010321203610/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net/\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n\n              Figure 13: User Agent Requests Selected Memento\n\n   The response has a \"200 OK\" HTTP status code.  The use of Memento\n   response headers and links in the response from URI-M is as follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 23]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   The server's response to the request of Figure 13 is shown in\n   Figure 14.  Note the provision of the recommended \"timegate\" and\n   \"timemap\" links.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:02:15 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org/>\n      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n              Figure 14: Response from URI-M for Pattern 2.1\n\n4.2.2.  Pattern 2.2 - URI-R<>URI-G; 200-Style Negotiation; Distinct\n        URI-M\n\n   In case the TimeGate uses a 200 negotiation style, and each Memento\n   has a distinct URI-M, the response to the user agent's request of\n   Figure 11 has a \"200 OK\" HTTP status code, and the \"Content-Location\"\n   header conveys the URI-M of the selected Memento.  The use of Memento\n   response headers and links in the response from URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n   The server's response to the request of Figure 11 is shown in\n   Figure 15.\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 24]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Vary: accept-datetime\n   Content-Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org/>\n      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n           Figure 15: Response from URI-G<>URI-R for Pattern 2.2\n\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as Figure 15.\n\n4.2.3.  Pattern 2.3 - URI-R<>URI-G; 200-Style Negotiation; No Distinct\n        URI-M\n\n   In case the TimeGate uses a 200 negotiation style, but Mementos have\n   no distinct URIs, the response to the user agent's request of\n   Figure 11 has a \"200 OK\" HTTP status code, and it does not contain a\n   \"Content-Location\" nor \"Location\" header as there is no URI-M of the\n   selected Memento to convey.  The use of Memento response headers and\n   links in the response from URI-G is as follows:\n\n   o  The \"Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n      link with the \"original\" Relation Type that has the URI-R of the\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 25]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   The server's response to the request of Figure 11 is shown in\n   Figure 16.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Vary: accept-datetime\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org/>\n      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n           Figure 16: Response from URI-G<>URI-R for Pattern 2.3\n\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n   GET instead of HEAD, the user agent can obtain the representation of\n   the selected Memento.  It will be provided as the entity-body of a\n   response that has the same Memento headers as Figure 16.\n\n4.3.  Pattern 3 - The Original Resource is a Fixed Resource\n\n   This pattern does not involve datetime negotiation with a TimeGate,\n   but it can be implemented for Original Resources that never change\n   state or do not change anymore past a certain point in their\n   existence, meaning that URI-R and URI-M coincide either from the\n   outset or starting at some point in time.  This pattern is summarized\n   in the below table.  Examples are tweets or stable media resources on\n   news sites.\n\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n   |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |      URI-R     |     -    |  URI-R  |         -        |\n   |     3    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\n                            Table 3: Pattern 3\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 26]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   Servers that host such resources can support the Memento framework by\n   treating the stable resource (FixedResource as per\n   [W3C.gen-ont-20090420]) as a Memento.  The use of Memento response\n   headers and links in responses from such a stable resource is as\n   follows:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the datetime at which the resource became stable.\n      Providing this value includes a promise that the resource has not\n      changed since this datetime and will not change anymore beyond it.\n\n   o  The \"Link\" header MUST be provided and MUST have a link with the\n      \"original\" Relation Type that has the URI-R of the stable resource\n      itself as Target IRI.\n\n   Figure 17 shows a response to an HTTP HEAD request for the resource\n   with URI-R http://a.example.org/ that has been stable since March 20,\n   2009.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 20 Mar 2009 11:00:00 GMT\n   Link: <http://a.example.org/>; rel=\"original\"\n   Content-Length: 875\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 17: Response from URI-R=URI-M for Pattern 3\n\n4.4.  Pattern 4 - Mementos without a TimeGate\n\n   Cases may occur in which a server hosts Mementos but does not expose\n   a TimeGate for them.  This can, for example, be the case if the\n   server's Mementos result from taking a snapshot of the state of a set\n   of Original Resources from another server as it is being retired.  As\n   a result, only a single Memento per Original Resource is hosted,\n   making the introduction of a TimeGate unnecessary.  But it may also\n   be the case for servers that host multiple Mementos for an Original\n   Resource but consider exposing TimeGates too expensive.  In this\n   case, URI-R and URI-M are distinct, but a TimeGate is absent.  This\n   case is summarized in the below table.\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 27]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n   |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n   |  Pattern |      URI-R     |     -    |  URI-M  |         -        |\n   |     4    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\n                            Table 4: Pattern 4\n\n   Servers that host such Mementos without TimeGates can still support\n   the Memento framework by providing the appropriate Memento headers\n   and links.  Their use is as follows for a response from URI-M:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime of the Memento.\n\n   o  The \"Link\" header MUST be provided, and it MUST have a link with\n      the \"original\" Relation Type that has the URI-R of the associated\n      Original Resource as Target IRI.  The provision of other links is\n      encouraged and is subject to the considerations described in\n      Section 2.2.\n\n   Figure 18 shows a response to an HTTP HEAD request for the Memento\n   with URI-M\n   http://arxiv.example.net/web/20010321203610/http://a.example.org/.\n   Note the use of links: three links have the URI-M of the Memento as\n   Target IRI and have respective Relation Types \"memento\", \"first\", and\n   \"last\".  This combination indicates that this is the only Memento for\n   the Original Resource with Target IRI provided by the \"original\" link\n   (http://a.example.org/) of which the server is aware.  Note also that\n   such a response does not imply that there is no server whatsoever\n   that exposes a TimeGate; it merely means that the responding server\n   neither provides nor is aware of the location of a TimeGate.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 28]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original\",\n    <http://arxiv.example.net/web/20010321203610/http://a.example.org/>\n      ; rel=\"first last memento\"\n      ; datetime=\"Wed, 21 Mar 2001 20:36:10 GMT\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n\n            Figure 18: Response from URI-M<>URI-R for Pattern 4\n\n4.5.  Special Cases\n\n4.5.1.  Original Resource Provides No \"timegate\" Link\n\n   Cases exist in which the response from the Original Resource does not\n   contain a \"timegate\" link, including:\n\n   o  The Original Resource's server does not support the Memento\n      framework;\n\n   o  The Original Resource no longer exists, and the responding server\n      is not aware of its prior existence;\n\n   o  The server that hosted the Original Resource no longer exists.\n\n   In all these cases, the user agent should attempt to determine an\n   appropriate TimeGate for the Original Resource, either automatically\n   or interactively supported by the user.\n\n4.5.2.  Server Exists but Original Resource No Longer Does\n\n   Cases exist in which the server knows that an Original Resource used\n   to exist, but no longer provides a current representation.  If there\n   is a preferred TimeGate for such a discontinued Original Resource,\n   then the server MUST include a \"timegate\" link in responses to\n   requests for it.  This may allow access to Mementos for the Original\n   Resource even if it no longer exists.  A server's response to a\n   request for the discontinued resource http://a.example.org/pic is\n   illustrated in Figure 19.\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 29]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 404 Not Found\n   Date: Thu, 21 Jan 2010 00:02:12 GMT\n   Server: Apache\n   Link:\n    <http://arxiv.example.net/timegate/http://a.example.org/pic>\n     ; rel=\"timegate\"\n   Content-Length: 255\n   Content-Type: text/html; charset=iso-8909-1\n   Connection: close\n\n    Figure 19: Response from an Original Resource That No Longer Exists\n\n4.5.3.  Issues with Accept-Datetime\n\n   The following special cases may occur regarding the \"Accept-Datetime\"\n   header when a user agent issues a request against a TimeGate:\n\n   o  If the value of the \"Accept-Datetime\" is either earlier than the\n      datetime of the first Memento or later than the datetime of the\n      most recent Memento known to the TimeGate, the first or most\n      recent Memento MUST be selected, respectively.\n\n   o  If the value of the \"Accept-Datetime\" does not conform to the\n      rfc1123-date construction rule of the BNF in Figure 1, the\n      response MUST have a \"400 Bad Request\" HTTP status code.\n\n   o  If a user agent issues a request against a TimeGate and fails to\n      include an \"Accept-Datetime\" request header, the most recent\n      Memento SHOULD be selected.\n\n   In all cases, the use of headers and links in responses is as\n   described for TimeGates in the respective scenarios.\n\n4.5.4.  Memento of a 3XX Response\n\n   Cases exist in which HTTP responses with 3XX status codes are\n   archived.  For example, crawl-based Web archives commonly archive\n   responses with HTTP status codes \"301 Moved Permanently\" and \"302\n   Found\", whereas Linked Data archives hold on to \"303 See Other\"\n   responses.\n\n   If the Memento requested by the user agent is an archived version of\n   an HTTP response with a 3XX status code, the server's response MUST\n   have the same 3XX HTTP status code.  The use of other Memento headers\n   is as described for Mementos in the respective scenarios.\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 30]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   The user agent's handling of an HTTP response with a 3XX status code\n   is not affected by the presence of a \"Memento-Datetime\" header.  The\n   user agent MUST behave in the same manner as it does with HTTP\n   responses with a 3XX status code that do not have a \"Memento-\n   Datetime\" header.\n\n   However, the user agent MUST be aware that the URI that was selected\n   from the \"Location\" header of an HTTP response with a 3XX status code\n   might not be that of a Memento but rather of an Original Resource.\n   In the latter case, it SHOULD proceed by looking for a Memento of the\n   selected Original Resource.\n\n   For example, Figure 20 shows the response to an HTTP GET request for\n   http://a.example.org issued on April 11, 2008.  This response is\n   archived as a Memento of http://a.example.org that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n   The response to an HTTP GET on this URI-M is shown in Figure 21.  It\n   is a replay of the original response with \"Memento-Datetime\" and\n   \"Link\" headers added, to allow a user agent to understand the\n   response is a Memento.  In Figure 21, the value of the \"Location\"\n   header is the same as in the original response; it identifies an\n   Original Resource.  The user agent proceeds with finding a Memento\n   for this Original Resource.  Web archives sometimes overwrite the\n   value that was originally provided in the \"Location\" header in order\n   to point at a Memento they hold of the resource to which the redirect\n   originally led.  This is shown in Figure 22.  In this case, the user\n   agent may decide it found an appropriate Memento.\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server: Apache\n   Location: http://b.example.org\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                     Figure 20: Response Is a Redirect\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 31]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location: http://b.example.org\n   Link: <http://a.example.org>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n      ; rel=\"timegate\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n           Figure 21: Response is a Memento of a Redirect; Leads\n                          to an Original Resource\n\n   HTTP/1.1 301 Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location:\n    http://arxiv.example.net/web/20080411000655/http://b.example.org\n   Link: <http://a.example.org>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n      ; rel=\"timegate\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n    Figure 22: Response is a Memento of a Redirect; Leads to a Memento\n\n4.5.5.  Memento of Responses with 4XX or 5XX HTTP Status Codes\n\n   Cases exist in which responses with 4XX and 5XX HTTP status codes are\n   archived.  If the Memento requested by the user agent is an archived\n   version of such an HTTP response, the server's response MUST have the\n   same 4XX or 5XX HTTP status code.  The use of headers and links in\n   responses is as described for Mementos in the respective scenarios.\n\n   For example, Figure 23 shows the 404 response to an HTTP GET request\n   for http://a.example.org issued on April 11, 2008.  This response is\n   archived as a Memento of http://a.example.org that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n   The response to an HTTP HEAD on this URI-M is shown in Figure 24.  It\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 32]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   is a replay of the original response with \"Memento-Datetime\" and\n   \"Link\" headers added, to allow a user agent to understand the\n   response is a Memento.\n\n   HTTP/1.1 404 Not Found\n   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server: Apache\n   Content-Length: 255\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                       Figure 23: Response Is a 404\n\n   HTTP/1.1 404 Not Found\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Link: <http://a.example.org>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n      ; rel=\"timegate\"\n   Content-Length: 255\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n                 Figure 24: Response Is a Memento of a 404\n\n4.5.6.  Sticky \"Memento-Datetime\" and \"original\" Link for Mementos\n\n   A response to an HTTP HEAD/GET request issued against a Memento:\n\n   o  Includes a \"Memento-Datetime\" header that entails a promise that\n      the response is archived, frozen in time.  The value of the header\n      expresses the archival datetime of the Memento.\n\n   o  Includes a link in the HTTP \"Link\" header with an \"original\"\n      Relation Type that unambiguously points to the Original Resource\n      associated with the Memento.  The Target IRI of the link is the\n      URI-R of that Original Resource.\n\n   Both the \"Memento-Datetime\" header and the \"original\" link MUST be\n   \"sticky\" in the following ways:\n\n   o  The server that originally assigns them MUST retain them in all\n      responses to HTTP requests (with or without an \"Accept-Datetime\"\n      request header) that occur against the Memento after the time of\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 33]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n      their original assignment, and the server MUST NOT change the\n      value of the \"Memento-Datetime\" header nor the Target IRI of the\n      \"original\" link.\n\n   o  Applications that mirror Mementos at a different URI MUST retain\n      them and MUST NOT change them unless mirroring involves a\n      meaningful state change.  This allows, among others, duplicating a\n      Web archive at a new location while preserving the value of the\n      \"Memento-Datetime\" header and the link with the \"original\"\n      Relation Type for the archived resources.  For example, when\n      mirroring, the \"Last-Modified\" header will be updated to reflect\n      the time of mirroring at the new URI, whereas the value for\n      \"Memento-Datetime\" will be maintained.\n\n4.5.7.  Intermediate Resources\n\n   An intermediate resource is a resource that issues a redirect to a\n   TimeGate, to a Memento, or to another intermediate resource, and thus\n   plays an active role in the Memento infrastructure.  Intermediate\n   resources commonly exist in Web archives on the path from a TimeGate\n   to an appropriate Memento.\n\n   A response of an intermediate resource has an HTTP status code\n   indicative of HTTP redirection (e.g., 302) and uses Memento headers\n   and links that allow user agents to recognize that the resource plays\n   a role in the Memento framework:\n\n   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n      be provided.\n\n   o  The response MUST NOT include a \"Memento-Datetime\" header.\n\n   o  The \"Link\" header MUST be provided, and it MUST have a link with\n      the \"original\" Relation Type that has the URI-R of the associated\n      Original Resource as Target IRI.  Links with \"timegate\",\n      \"timemap\", and \"memento\" Relation Types are OPTIONAL and, if\n      provided, MUST pertain to the Original Resource for which the user\n      agent is trying to obtain a Memento.\n\n   A user agent MUST follow a redirection provided by an intermediate\n   resource; multiple such redirections can be chained.\n\n   Consider the case where a user agent follows the \"timegate\" link\n   provided in Figure 10 and engages in datetime negotiation with the\n   assumed TimeGate in the manner shown in Figure 11.  But instead of\n   receiving a response as shown in Figure 12, it receives the one shown\n   below in Figure 25.  Such a response is unambiguously recognizable as\n   coming from an intermediate resource.\n\n\n\nVan de Sompel, et al.         Informational                    [Page 34]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Location:\n    http://arxiv.example.net/new-timegate/http://a.example.org/\n   Link: <http://a.example.org>; rel=\"original\"\n   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection: close\n\n          Figure 25: Redirecting Resource Redirects to a TimeGate\n\n4.5.8.  Resources Excluded from Datetime Negotiation\n\n   When delivering a Memento to a user agent, a Web archive commonly\n   enhances that Memento's archived content, for example, by including a\n   banner that provides branding and highlights the archival status of\n   the Memento.  The resources that are involved in providing such\n   system-specific functionality, many times JavaScript or images, must\n   be used in their current state.\n\n   A server that generally supports datetime negotiation should make\n   resources that need to be excluded from datetime negotiation\n   recognizable.  Doing so allows a user agent to refrain from\n   attempting to access a Memento for them.  In order to achieve this,\n   the server SHOULD include a special-purpose link in the HTTP \"Link\"\n   header when responding to an HTTP HEAD/GET request to a resource\n   excluded from datetime negotiation.  This link has\n   \"http://mementoweb.org/terms/donotnegotiate\" as Target IRI and\n   \"type\", defined in [RFC6903], as the value of the \"rel\" attribute.\n   Other Memento headers as defined in Section 2.1 SHOULD NOT be\n   provided.\n\n   Figure 26 shows the response to an HTTP HEAD request from a resource\n   excluded from datetime negotiation.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Link: <http://mementoweb.org/terms/donotnegotiate>; rel=\"type\"\n   Content-Length: 238\n   Content-Type: application/javascript; charset=UTF-8\n   Connection: close\n\n   Figure 26: Response to an HTTP HEAD Request from a Resource Excluded\n                         from Datetime Negotiation\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 35]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n5.  TimeMaps: Content and Serialization\n\n   A TimeMap is introduced to support retrieving a comprehensive list of\n   all Mementos for a specific Original Resource known to a server.  The\n   entity-body of a response to an HTTP GET request issued against a\n   TimeMap's URI-T:\n\n   o  MUST list the URI-R of the Original Resource that the TimeMap is\n      about;\n\n   o  MUST list the URI-M and archival datetime of each Memento for the\n      Original Resource known to the server, preferably in a single\n      document, or, alternatively in multiple documents that can be\n      gathered by following contained links with a \"timemap\" Relation\n      Type;\n\n   o  SHOULD list the URI-G of one or more TimeGates for the Original\n      Resource known to the responding server;\n\n   o  SHOULD, for self-containment, list the URI-T of the TimeMap\n      itself;\n\n   o  MUST unambiguously type listed resources as being Original\n      Resource, TimeGate, Memento, or TimeMap.\n\n   The entity-body of a response from a TimeMap MAY be serialized in\n   various ways, but the link-value format serialization described here\n   MUST be supported.  In this serialization, the entity-body MUST be\n   formatted in the same way as the value of an HTTP \"Link\" header, and\n   hence MUST comply to the \"link-value\" construction rule of Section 5.\n   The Link header field of [RFC5988], and the media type of the entity-\n   body MUST be \"application/link-format\" as introduced in [RFC6690].\n   Links contained in the entity-body MUST be interpreted as follows:\n\n   o  The Context IRI is set to the anchor parameter, when specified;\n\n   o  The Context IRI of links with the \"self\" Relation Types is the\n      URI-T of the TimeMap, i.e., the URI of the resource from which the\n      TimeMap was requested;\n\n   o  The Context IRI of all other links is the URI-R of the Original\n      Resource, which is provided as the Target IRI of the link with an\n      \"original\" Relation Type.\n\n   In order to retrieve the link-value serialization of a TimeMap, a\n   user agent uses an \"Accept\" request header with a value set to\n   \"application/link-format\".  This is shown in Figure 27.\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 36]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   GET /timemap/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net\n   Accept: application/link-format;q=1.0\n   Connection: close\n\n                     Figure 27: Request for a TimeMap\n\n   If the TimeMap requested by the user agent exists, the server's\n   response has a \"200 OK\" HTTP status code and the list of Mementos is\n   provided in the entity-body of the response.  Such a response is\n   shown in Figure 28.\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Content-Length: 4883\n   Content-Type: application/link-format\n   Connection: close\n\n    <http://a.example.org>;rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n      ; rel=\"self\";type=\"application/link-format\"\n      ; from=\"Tue, 20 Jun 2000 18:02:59 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n      ; rel=\"timegate\",\n    <http://arxiv.example.net/web/20000620180259/http://a.example.org>\n      ; rel=\"first memento\";datetime=\"Tue, 20 Jun 2000 18:02:59 GMT\"\n      ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    <http://arxiv.example.net/web/20091027204954/http://a.example.org>\n       ; rel=\"last memento\";datetime=\"Tue, 27 Oct 2009 20:49:54 GMT\"\n       ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    <http://arxiv.example.net/web/20000621011731/http://a.example.org>\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 01:17:31 GMT\"\n      ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    <http://arxiv.example.net/web/20000621044156/http://a.example.org>\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 04:41:56 GMT\"\n      ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    ...\n\n                    Figure 28: Response from a TimeMap\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 37]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n5.1.  Special Cases\n\n5.1.1.  Index and Paging TimeMaps\n\n   Cases exist in which a TimeMap points at one or more other TimeMaps:\n\n   o  Index TimeMap - A TimeMap can merely point at other TimeMaps and\n      not list any Mementos itself.  This can happen when Mementos are\n      spread across several archives that share a front-end.  An example\n      is shown in Figure 29.\n\n   o  Paging TimeMap - The number of available Mementos can require\n      introducing multiple TimeMaps that can be paged.  An example is\n      shown in Figure 30.  Note that a Paging TimeMap contains links to\n      other TimeMaps but actually also lists Mementos.\n\n   In both cases, including the \"from\" and \"until\" attributes for\n   \"timemap\" links is RECOMMENDED as a means to express the temporal\n   span of Mementos listed in each TimeMap.  Note that TimeMaps obtained\n   by following a \"timemap\" link can contain links to further TimeMaps.\n\n   <http://a.example.org>;rel=\"original\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n      ; rel=\"timegate\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n      ; rel=\"self\";type=\"application/link-format\",\n    <http://arxiv1.example.net/timemap/http://a.example.org>\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Wed, 21 Jun 2000 04:41:56 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n    <http://arxiv2.example.net/timemap/http://a.example.org>\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 10 Apr 2008 20:30:51 GMT\"\n      ; until=\"Tue, 27 Oct 2009 20:49:54 GMT\",\n    <http://arxiv3.example.net/timemap/http://a.example.org>\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 29 Oct 2009 20:30:51 GMT\"\n\n                         Figure 29: Index TimeMap\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 38]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   <http://a.example.org>;rel=\"original\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n      ; rel=\"timegate\",\n    <http://arxiv.example.net/timemap/1/http://a.example.org>\n      ; rel=\"self\";type=\"application/link-format\"\n      ; from=\"Tue, 20 Jun 2000 18:02:59 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n    <http://arxiv.example.net/timemap/2/http://a.example.org>\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 10 Apr 2008 20:30:51 GMT\"\n      ; until=\"Tue, 27 Oct 2009 20:49:54 GMT\",\n    <http://arxiv.example.net/timemap/3/http://a.example.org>\n      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 29 Oct 2009 20:30:51 GMT\"\n      ; until=\"Fri, 31 Aug 2012 12:22:34 GMT\"\n    <http://arxiv.example.net/web/20000620180259/http://a.example.org>\n      ; rel=\"memento\";datetime=\"Tue, 20 Jun 2000 18:02:59 GMT\",\n    <http://arxiv.example.net/web/20000621011731/http://a.example.org>\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 01:17:31 GMT\",\n    <http://arxiv.example.net/web/20000621044156/http://a.example.org>\n      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 04:41:56 GMT\",\n    ...\n\n                         Figure 30: Paging TimeMap\n\n5.1.2.  Mementos for TimeMaps\n\n   A TimeMap itself can act as an Original Resource for which a TimeGate\n   and Mementos may exist.  Hence, the response from a TimeMap could\n   include a \"timegate\" link to a TimeGate via which prior TimeMap\n   versions are available.  And, in cases where URI-T=URI-R=URI-G (a\n   TimeMap is an Original Resource that acts as its own TimeGate), an\n   \"original\" link pointing at the TimeMap URI-T would be included.\n\n   Therefore, caution is required in cases where a TimeMap for an\n   Original Resource wants to explicitly express in a \"Link\" header for\n   which Original Resource it is a TimeMap.  It can do so by including a\n   \"timemap\" link that has the URI-R of the Original Resource as Context\n   IRI and the URI-T of the TimeMap as Target IRI.\n\n   Figure 31 shows the response to an HTTP HEAD request against a\n   TimeMap that has\n   http://arxiv.example.net/timemap/http://a.example.org as URI-T.  This\n   TimeMap provides information about Mementos for the Original Resource\n   that has http://a.example.org as URI-R.  The response includes an\n   \"original\" link pointing to the Original Resource that this TimeMap\n   is about.  Note the use of the \"anchor\" attribute in this link to\n   convey the URI-R of that Original Resource.\n\n\n\nVan de Sompel, et al.         Informational                    [Page 39]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Link: <http://arxiv.example.net/timemap/http://a.example.org>\n             ; anchor=\"http://a.example.org\"; rel=\"timemap\"\n             ; type=\"application/link-format\"\n   Content-Length: 0\n   Content-Type: application/link-format; charset=UTF-8\n   Connection: close\n\n       Figure 31: TimeMap Links to the Original Resource It Is about\n\n6.  IANA Considerations\n\n6.1.  HTTP Headers\n\n   IANA has registered the \"Accept-Datetime\" and \"Memento-Datetime\" HTTP\n   headers (defined in Section 2.1.1) in the \"Permanent Message Header\n   Field Names\" registry:\n\n   o  Header field name: Accept-Datetime\n   o  Applicable protocol: \"http\" (RFC 2616)\n   o  Status: informational\n   o  Author/Change controller: Herbert Van de Sompel, Los Alamos\n      National Laboratory, hvdsomp@gmail.com\n   o  Specification document(s): this document\n\n   o  Header field name: Memento-Datetime\n   o  Applicable protocol: \"http\" (RFC 2616)\n   o  Status: informational\n   o  Author/Change controller: Herbert Van de Sompel, Los Alamos\n      National Laboratory, hvdsomp@gmail.com\n   o  Specification document(s): this document\n\n6.2.  Link Relation Types\n\n   IANA has registered the Relation Types \"original\", \"timegate\",\n   \"timemap\", and \"memento\" (defined in Section 2.2) in the \"Link\n   Relation Types\" registry:\n\n   o  Relation Name: original\n   o  Description: The Target IRI points to an Original Resource.\n   o  Reference: this document\n   o  Notes: An Original Resource is a resource that exists or used to\n      exist, and for which access to one of its prior states may be\n      required.\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 40]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   o  Relation Name: timegate\n   o  Description: The Target IRI points to a TimeGate for an Original\n      Resource.\n   o  Reference: this document\n   o  Notes: A TimeGate for an Original Resource is a resource that is\n      capable of datetime negotiation to support access to prior states\n      of the Original Resource.\n\n   o  Relation Name: timemap\n   o  Description: The Target IRI points to a TimeMap for an Original\n      Resource.\n   o  Reference: this document\n   o  Notes: A TimeMap for an Original Resource is a resource from which\n      a list of URIs of Mementos of the Original Resource is available.\n\n   o  Relation Name: memento\n   o  Description: The Target IRI points to a Memento, a fixed resource\n      that will not change state anymore.\n   o  Reference: this document\n   o  Notes: A Memento for an Original Resource is a resource that\n      encapsulates a prior state of the Original Resource.\n\n7.  Security Considerations\n\n   Provision of a \"timegate\" HTTP \"Link\" header in responses to requests\n   for an Original Resource that is protected (e.g., 401 or 403 HTTP\n   response codes) is OPTIONAL.  The inclusion of this Link when\n   requesting authentication is at the server's discretion; cases may\n   exist in which a server protects the current state of a resource, but\n   supports open access to prior states and thus chooses to supply this\n   HTTP \"Link\" header.  Conversely, the server may choose to not\n   advertise the TimeGate URIs (e.g., they exist in an intranet archive)\n   for unauthenticated requests.\n\n   The veracity of archives and the relationships between Original\n   Resources and Mementos is beyond the scope of this document.  Even in\n   the absence of malice, it is possible for separate archives to have\n   different Mementos for the same Original Resource at the same\n   datetime if the state of the Original Resource was dependent on the\n   requesting archive's user agent IP address, specific HTTP request\n   headers, and possibly other factors.\n\n   Further authentication, encryption, and other security-related issues\n   are otherwise orthogonal to Memento.\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 41]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n8.  Acknowledgements\n\n   The Memento effort is funded by the Library of Congress.  Many thanks\n   to Kris Carpenter Negulescu, Michael Hausenblas, Erik Hetzner, Larry\n   Masinter, Gordon Mohr, David Rosenthal, Ed Summers, James Anderson,\n   Tim Starling, Martin Klein, and Mark Nottingham for feedback.  Many\n   thanks to Samuel Adams, Scott Ainsworth, Lyudmilla Balakireva, Frank\n   McCown, Harihar Shankar, Brad Tofel, Andrew Jackson, Ahmed Alsum, Mat\n   Kelly, and Ilya Kreymer for implementations that informed the\n   specification.\n\n9.  References\n\n9.1.  Normative References\n\n   [RFC2119]   Bradner, S., \"Key words for use in RFCs to Indicate\n               Requirement Levels\", BCP 14, RFC 2119, March 1997.\n\n   [RFC2616]   Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,\n               Masinter, L., Leach, P., and T. Berners-Lee, \"Hypertext\n               Transfer Protocol -- HTTP/1.1\", RFC 2616, June 1999.\n\n   [RFC5829]   Brown, A., Clemm, G., and J. Reschke, \"Link Relation\n               Types for Simple Version Navigation between Web\n               Resources\", RFC 5829, April 2010.\n\n   [RFC5988]   Nottingham, M., \"Web Linking\", RFC 5988, October 2010.\n\n   [RFC6690]   Shelby, Z., \"Constrained RESTful Environments (CoRE) Link\n               Format\", RFC 6690, August 2012.\n\n   [RFC6903]   Snell, J., \"Additional Link Relation Types\", RFC 6903,\n               March 2013.\n\n9.2.  Informative References\n\n   [DATED-URI] Masinter, L., \"The 'tdb' and 'duri' URI schemes, based on\n               dated URIs\", Work in Progress, January 2012.\n\n   [Fitch]     Fitch, K., \"Web site archiving - an approach to recording\n               every materially different response produced by a\n               website\", July 2003,\n               <http://ausweb.scu.edu.au/aw03/papers/fitch/paper.html>.\n\n   [RFC1123]   Braden, R., \"Requirements for Internet Hosts -\n               Application and Support\", STD 3, RFC 1123, October 1989.\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 42]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   [W3C.REC-aww-20041215]\n               Jacobs, I. and N. Walsh, \"Architecture of the World Wide\n               Web\", December 2004, <http://www.w3.org/TR/webarch/>.\n\n   [W3C.gen-ont-20090420]\n               Berners-Lee, T., \"Architecture of the World Wide Web\",\n               April 2009, <http://www.w3.org/2006/gen/ont>.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 43]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\nAppendix A.  Use of Headers and Relation Types per Pattern\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Vary:      |   Pattern 1.1   |     1    |     1    |    0    |\n   | accept-datetime | (Section 4.1.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (Section 4.1.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (Section 4.1.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     1    |    0    |\n   |                 | (Section 4.2.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (Section 4.2.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (Section 4.2.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (Section 4.3)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (Section 4.4)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 44]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |     Vary:       |                 |          |          |         |\n   | Memento-        |   Pattern 1.1   |     0    |     0    |    1    |\n   |    Datetime     | (Section 4.1.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (Section 4.1.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (Section 4.1.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     0    |    1    |\n   |                 | (Section 4.2.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (Section 4.2.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (Section 4.2.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (Section 4.3)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (Section 4.4)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 45]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |       Link:     |                 |          |          |         |\n   |  rel=\"original\" |   Pattern 1.1   |     0    |     1    |    1    |\n   |                 | (Section 4.1.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (Section 4.1.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |     1    |     1    |    1    |\n   |                 | (Section 4.1.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |     0    |     1    |    1    |\n   |                 | (Section 4.2.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (Section 4.2.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |     0    |     1    |    1    |\n   |                 | (Section 4.2.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |     1    |    NA    |    1    |\n   |                 |  (Section 4.3)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |     0    |    NA    |    1    |\n   |                 |  (Section 4.4)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 46]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Link:      |                 |          |          |         |\n   |  rel=\"timegate\" |   Pattern 1.1   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.1.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (Section 4.1.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.1.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    >=0   |     0    |   >=0   |\n   |                 | (Section 4.2.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (Section 4.2.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    NA    |    NA    |    NA   |\n   |                 |  (Section 4.3)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    NA    |    NA    |    NA   |\n   |                 |  (Section 4.4)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 47]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |     Link:       |                 |          |          |         |\n   |  rel=\"timemap\"  |   Pattern 1.1   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.1.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (Section 4.1.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.1.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (Section 4.2.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    >=0   |    NA    |   >=0   |\n   |                 |  (Section 4.3)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    >=0   |    NA    |   >=0   |\n   |                 |  (Section 4.4)  |          |          |         |\n   |                 |                 |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n(cont.)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 48]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\n   +-----------------+-----------------+----------+----------+---------+\n   | Response Header |     Pattern     | Original | TimeGate | Memento |\n   |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n   |      Link:      |                 |          |          |         |\n   |  rel=\"memento\"  |   Pattern 1.1   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.1.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 1.2  |          |          |         |\n   |                 | (Section 4.1.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 1.3   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.1.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.1   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.1) |          |          |         |\n   |                 |         &       |          |          |         |\n   |                 |    Pattern 2.2  |          |          |         |\n   |                 | (Section 4.2.2) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |   Pattern 2.3   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.3) |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 3    |    >=0   |    NA    |   >=0   |\n   |                 |  (Section 4.3)  |          |          |         |\n   |                 |                 |          |          |         |\n   |                 |    Pattern 4    |    >=0   |    NA    |   >=0   |\n   |                 |  (Section 4.4)  |          |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\n                         Table 5: Memento Headers\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 49]\n\nRFC 7089                      HTTP Memento                 December 2013\n\n\nAuthors' Addresses\n\n   Herbert Van de Sompel\n   Los Alamos National Laboratory\n   PO Box 1663\n   Los Alamos, New Mexico  87545\n   USA\n\n   Phone: +1 505 667 1267\n   EMail: hvdsomp@gmail.com\n   URI:   http://public.lanl.gov/herbertv/\n\n\n   Michael Nelson\n   Old Dominion University\n   Norfolk, Virginia  23529\n   USA\n\n   Phone: +1 757 683 6393\n   EMail: mln@cs.odu.edu\n   URI:   http://www.cs.odu.edu/~mln/\n\n\n   Robert Sanderson\n   Los Alamos National Laboratory\n   PO Box 1663\n   Los Alamos, New Mexico  87545\n   USA\n\n   Phone: +1 505 665 5804\n   EMail: azaroth42@gmail.com\n   URI:   http://public.lanl.gov/rsanderson/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVan de Sompel, et al.         Informational                    [Page 50]\n\n    ","length":107083,"excerpt":"HTTP Framework for Time-Based Access to Resource States -- Memento (RFC )","byline":null,"dir":null,"siteName":null,"lang":"en"},"finalizedMeta":{"title":"\n  \n    RFC 7089 - HTTP Framework for Time-Based Access to Resource States -- Memento\n  \n","description":"HTTP Framework for Time-Based Access to Resource States -- Memento (RFC )","author":false,"creator":"","publisher":false,"date":"2022-03-09T18:44:06.894Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"\n  \n    RFC 7089 - HTTP Framework for Time-Based Access to Resource States -- Memento\n  \n","description":"HTTP Framework for Time-Based Access to Resource States -- Memento (RFC )","canonical":"https://datatracker.ietf.org/doc/html/rfc7089#section-5","keywords":[],"image":false,"firstParagraph":""},"dublinCore":{},"opengraph":{"title":false,"description":false,"url":false,"site_name":false,"locale":false,"type":false,"typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":false},"twitter":{"site":false,"description":false,"card":false,"creator":false,"title":false,"image":false},"archivedData":{"link":false,"wayback":false}}}