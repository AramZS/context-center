{"initialLink":"https://www.w3.org/TR/security-privacy-questionnaire/","sanitizedLink":"https://www.w3.org/TR/security-privacy-questionnaire/","finalLink":"https://www.w3.org/TR/security-privacy-questionnaire/","htmlEmbed":"<script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute(\"target\",\"_blank\")}}customElements.define(\"contexter-link\",ContexterLink,{extends:\"a\"}),customElements.define(\"contexter-inner\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__inner\"}}),customElements.define(\"contexter-thumbnail\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__thumbnail\"}}),customElements.define(\"contexter-byline\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__byline\"}}),customElements.define(\"contexter-keywordset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__keywordset\"}}),customElements.define(\"contexter-linkset\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__linkset\"}}),customElements.define(\"contexter-meta\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"contexter-box__meta\"}}),customElements.define(\"contexter-summary\",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className=\"p-summary entry-summary\"}}),customElements.define(\"contexter-box-head\",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className=\"contexter-box__head\"}}),customElements.define(\"contexter-box-inner\",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:\"open\"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement(\"style\"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: \"|\";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement(\"style\"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement(\"contexter-box-inner\"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement(\"slot\")),innerSlotHeader=(innerSlotThumbnail.name=\"thumbnail\",innerContainer.appendChild(innerSlotThumbnail),document.createElement(\"slot\")),innerSlotAuthor=(innerSlotHeader.name=\"header\",innerContainer.appendChild(innerSlotHeader),document.createElement(\"slot\")),innerSlotTime=(innerSlotAuthor.name=\"author\",innerContainer.appendChild(innerSlotAuthor),document.createElement(\"slot\")),innerSlotSummary=(innerSlotTime.name=\"time\",innerContainer.appendChild(innerSlotTime),document.createElement(\"slot\")),metaContainer=(innerSlotSummary.name=\"summary\",innerContainer.appendChild(innerSlotSummary),document.createElement(\"contexter-meta\")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement(\"slot\")),linkContainer=(innerSlotInfo.name=\"keywords\",metaContainer.appendChild(innerSlotInfo),document.createElement(\"contexter-linkset\")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement(\"slot\")),innerSlotReadLink=(innerSlotArchiveLink.name=\"archive-link\",linkContainer.appendChild(innerSlotArchiveLink),document.createElement(\"slot\"));innerSlotReadLink.name=\"read-link\",linkContainer.appendChild(innerSlotReadLink),this.className=\"contexter-box\",this.onclick=e=>{if(!e.target.className.includes(\"read-link\")&&!e.target.className.includes(\"title-link\")){const mainLinks=this.querySelectorAll(\"a.main-link\");mainLinks[0].click()}}}}}customElements.define(\"contexter-box\",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class=\"link-card h-entry hentry\" itemscope=\"\" itemtype=\"https://schema.org/CreativeWork\"><contexter-thumbnail class=\"thumbnail\" slot=\"thumbnail\"></contexter-thumbnail><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><contexter-box-head slot=\"header\" class=\"p-name entry-title\" itemprop=\"headline\"><a is=\"contexter-link\" href=\"https://www.w3.org/TR/security-privacy-questionnaire/\" itemprop=\"url\">Self-Review Questionnaire: Security and Privacy</a></contexter-box-head></contexter-box-head><time class=\"dt-published published\" slot=\"time\" itemprop=\"datePublished\" datetime=\"2022-04-05T17:38:40.880Z\">3/5/2022</time><contexter-summary class=\"p-summary entry-summary\" itemprop=\"abstract\" slot=\"summary\"><p>When designing new features for the Web platform,we must always consider the security and privacy implications of our work.New Web features should alwaysmaintain or enhancethe overall security and privacy of the Web.</p></contexter-summary><contexter-keywordset itemprop=\"keywords\" slot=\"keywords\"></contexter-keywordset><a is=\"contexter-link\" href=\"https://www.w3.org/TR/security-privacy-questionnaire/\" class=\"read-link main-link\" itemprop=\"sameAs\" slot=\"read-link\">Read</a></contexter-box>","linkId":"cb66079021a2e175ed7d39f9ea56fa74bf9b4344","data":{"originalLink":"https://www.w3.org/TR/security-privacy-questionnaire/","sanitizedLink":"https://www.w3.org/TR/security-privacy-questionnaire/","canonical":"https://www.w3.org/TR/security-privacy-questionnaire/","htmlText":"<!doctype html><html lang=\"en\">\n <head>\n  <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n  <meta content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" name=\"viewport\">\n  <title>Self-Review Questionnaire: Security and Privacy</title>\n  <meta content=\"NOTE\" name=\"w3c-status\">\n  <meta content=\"Bikeshed version cace53f8c, updated Tue Dec 7 12:12:54 2021 -0800\" name=\"generator\">\n  <link href=\"https://www.w3.org/TR/security-privacy-questionnaire/\" rel=\"canonical\">\n  <meta content=\"e1e9c932555eac03f48587396f256b5f7d943cad\" name=\"document-revision\">\n<style>/* style-autolinks */\n\n.css.css, .property.property, .descriptor.descriptor {\n    color: var(--a-normal-text);\n    font-size: inherit;\n    font-family: inherit;\n}\n.css::before, .property::before, .descriptor::before {\n    content: \"‘\";\n}\n.css::after, .property::after, .descriptor::after {\n    content: \"’\";\n}\n.property, .descriptor {\n    /* Don't wrap property and descriptor names */\n    white-space: nowrap;\n}\n.type { /* CSS value <type> */\n    font-style: italic;\n}\npre .property::before, pre .property::after {\n    content: \"\";\n}\n[data-link-type=\"property\"]::before,\n[data-link-type=\"propdesc\"]::before,\n[data-link-type=\"descriptor\"]::before,\n[data-link-type=\"value\"]::before,\n[data-link-type=\"function\"]::before,\n[data-link-type=\"at-rule\"]::before,\n[data-link-type=\"selector\"]::before,\n[data-link-type=\"maybe\"]::before {\n    content: \"‘\";\n}\n[data-link-type=\"property\"]::after,\n[data-link-type=\"propdesc\"]::after,\n[data-link-type=\"descriptor\"]::after,\n[data-link-type=\"value\"]::after,\n[data-link-type=\"function\"]::after,\n[data-link-type=\"at-rule\"]::after,\n[data-link-type=\"selector\"]::after,\n[data-link-type=\"maybe\"]::after {\n    content: \"’\";\n}\n\n[data-link-type].production::before,\n[data-link-type].production::after,\n.prod [data-link-type]::before,\n.prod [data-link-type]::after {\n    content: \"\";\n}\n\n[data-link-type=element],\n[data-link-type=element-attr] {\n    font-family: Menlo, Consolas, \"DejaVu Sans Mono\", monospace;\n    font-size: .9em;\n}\n[data-link-type=element]::before { content: \"<\" }\n[data-link-type=element]::after  { content: \">\" }\n\n[data-link-type=biblio] {\n    white-space: pre;\n}</style>\n<style>/* style-counters */\n\nbody {\n    counter-reset: example figure issue;\n}\n.issue {\n    counter-increment: issue;\n}\n.issue:not(.no-marker)::before {\n    content: \"Issue \" counter(issue);\n}\n\n.example {\n    counter-increment: example;\n}\n.example:not(.no-marker)::before {\n    content: \"Example \" counter(example);\n}\n.invalid.example:not(.no-marker)::before,\n.illegal.example:not(.no-marker)::before {\n    content: \"Invalid Example\" counter(example);\n}\n\nfigcaption {\n    counter-increment: figure;\n}\nfigcaption:not(.no-marker)::before {\n    content: \"Figure \" counter(figure) \" \";\n}</style>\n<style>/* style-dfn-panel */\n\n:root {\n    --dfnpanel-bg: #ddd;\n    --dfnpanel-text: var(--text);\n}\n.dfn-panel {\n    position: absolute;\n    z-index: 35;\n    height: auto;\n    width: -webkit-fit-content;\n    width: fit-content;\n    max-width: 300px;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0.5em 0.75em;\n    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;\n    background: var(--dfnpanel-bg);\n    color: var(--dfnpanel-text);\n    border: outset 0.2em;\n}\n.dfn-panel:not(.on) { display: none; }\n.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }\n.dfn-panel > b { display: block; }\n.dfn-panel a { color: var(--dfnpanel-text); }\n.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }\n.dfn-panel > b + b { margin-top: 0.25em; }\n.dfn-panel ul { padding: 0; }\n.dfn-panel li { list-style: inside; }\n.dfn-panel.activated {\n    display: inline-block;\n    position: fixed;\n    left: .5em;\n    bottom: 2em;\n    margin: 0 auto;\n    max-width: calc(100vw - 1.5em - .4em - .5em);\n    max-height: 30vh;\n}\n\n.dfn-paneled { cursor: pointer; }\n</style>\n<style>/* style-issues */\n\na[href].issue-return {\n    float: right;\n    float: inline-end;\n    color: var(--issueheading-text);\n    font-weight: bold;\n    text-decoration: none;\n}\n</style>\n<style>/* style-md-lists */\n\n/* This is a weird hack for me not yet following the commonmark spec\n   regarding paragraph and lists. */\n[data-md] > :first-child {\n    margin-top: 0;\n}\n[data-md] > :last-child {\n    margin-bottom: 0;\n}</style>\n<style>/* style-selflinks */\n\n:root {\n    --selflink-text: white;\n    --selflink-bg: gray;\n    --selflink-hover-text: black;\n}\n.heading, .issue, .note, .example, li, dt {\n    position: relative;\n}\na.self-link {\n    position: absolute;\n    top: 0;\n    left: calc(-1 * (3.5rem - 26px));\n    width: calc(3.5rem - 26px);\n    height: 2em;\n    text-align: center;\n    border: none;\n    transition: opacity .2s;\n    opacity: .5;\n}\na.self-link:hover {\n    opacity: 1;\n}\n.heading > a.self-link {\n    font-size: 83%;\n}\nli > a.self-link {\n    left: calc(-1 * (3.5rem - 26px) - 2em);\n}\ndfn > a.self-link {\n    top: auto;\n    left: auto;\n    opacity: 0;\n    width: 1.5em;\n    height: 1.5em;\n    background: var(--selflink-bg);\n    color: var(--selflink-text);\n    font-style: normal;\n    transition: opacity .2s, background-color .2s, color .2s;\n}\ndfn:hover > a.self-link {\n    opacity: 1;\n}\ndfn > a.self-link:hover {\n    color: var(--selflink-hover-text);\n}\n\na.self-link::before            { content: \"¶\"; }\n.heading > a.self-link::before { content: \"§\"; }\ndfn > a.self-link::before      { content: \"#\"; }\n</style>\n  <link href=\"https://www.w3.org/StyleSheets/TR/2021/W3C-NOTE\" rel=\"stylesheet\">\n <body class=\"h-entry\">\n  <div class=\"head\">\n   <p data-fill-with=\"logo\"><a class=\"logo\" href=\"https://www.w3.org/\"> <img alt=\"W3C\" height=\"48\" src=\"https://www.w3.org/StyleSheets/TR/2021/logos/W3C\" width=\"72\"> </a> </p>\n   <h1 class=\"p-name no-ref\" id=\"title\">Self-Review Questionnaire: Security and Privacy</h1>\n   <p id=\"w3c-state\"><a href=\"https://www.w3.org/standards/types#NOTE\">W3C Group Note</a>, <time class=\"dt-updated\" datetime=\"2021-12-16\">16 December 2021</time></p>\n   <details open>\n    <summary>More details about this document</summary>\n    <div data-fill-with=\"spec-metadata\">\n     <dl>\n      <dt>This version:\n      <dd><a class=\"u-url\" href=\"https://www.w3.org/TR/2021/NOTE-security-privacy-questionnaire-20211216/\">https://www.w3.org/TR/2021/NOTE-security-privacy-questionnaire-20211216/</a>\n      <dt>Latest published version:\n      <dd><a href=\"https://www.w3.org/TR/security-privacy-questionnaire/\">https://www.w3.org/TR/security-privacy-questionnaire/</a>\n      <dt>Editor's Draft:\n      <dd><a href=\"https://w3ctag.github.io/security-questionnaire/\">https://w3ctag.github.io/security-questionnaire/</a>\n      <dt>History:\n      <dd><a class=\"u-url\" href=\"https://www.w3.org/standards/history/security-privacy-questionnaire\">https://www.w3.org/standards/history/security-privacy-questionnaire</a>\n      <dt>Feedback:\n      <dd><a href=\"https://github.com/w3ctag/security-questionnaire/issues/\">GitHub</a>\n      <dt class=\"editor\">Editors:\n      <dd class=\"editor p-author h-card vcard\" data-editor-id=\"40614\"><a class=\"p-name fn u-email email\" href=\"mailto:hober@apple.com\">Theresa O’Connor</a> (<a class=\"p-org org\" href=\"https://apple.com\">Apple Inc.</a>)\n      <dd class=\"editor p-author h-card vcard\" data-editor-id=\"109401\"><a class=\"p-name fn u-email email\" href=\"mailto:psnyder@brave.com\">Pete Snyder</a> (<a class=\"p-org org\" href=\"https://brave.com\">Brave</a>)\n      <dt class=\"editor\">Former Editors:\n      <dd class=\"editor p-author h-card vcard\"><a class=\"p-name fn u-url url\" href=\"https://apple.com\">Jason Novak</a> (<span class=\"p-org org\">Apple Inc.</span>)\n      <dd class=\"editor p-author h-card vcard\"><a class=\"p-name fn u-url url\" href=\"https://lukaszolejnik.com\">Lukasz Olejnik</a> (<span class=\"p-org org\">Independent researcher</span>)\n      <dd class=\"editor p-author h-card vcard\"><a class=\"p-name fn u-email email\" href=\"mailto:mkwst@google.com\">Mike West</a> (<span class=\"p-org org\">Google Inc.</span>)\n     </dl>\n    </div>\n   </details>\n   <div data-fill-with=\"warning\"></div>\n   <p class=\"copyright\" data-fill-with=\"copyright\"><a href=\"http://creativecommons.org/publicdomain/zero/1.0/\" rel=\"license\"><img alt=\"CC0\" src=\"cc0-80x15.png\" title=\"CC0\"></a> To the extent\npossible under law, the editors have waived all copyright and related or neighboring rights to this work.\nThis document is also made available under the <a href=\"https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\" rel=\"license\">W3C Software and Document License</a>. </p>\n   <hr title=\"Separator for header\">\n  </div>\n  <div class=\"p-summary\" data-fill-with=\"abstract\">\n   <h2 class=\"no-num no-toc no-ref heading settled\" id=\"abstract\"><span class=\"content\">Abstract</span></h2>\n   <p>This document contains a set of questions to be used when\n\n    evaluating the security and privacy implications of web platform\n    technologies.</p>\n  </div>\n  <h2 class=\"no-num no-toc no-ref heading settled\" id=\"sotd\"><span class=\"content\">Status of this document</span></h2>\n  <div data-fill-with=\"status\">\n   <p><em>This section describes the status of this document at the time of its publication. A list of current W3C publications and the latest revision of this technical report can be found in the <a href=\"https://www.w3.org/TR/\">W3C technical reports index</a> at https://www.w3.org/TR/.</em></p>\n    This document was published by the Technical Architecture Group as a Group Note using the Note track. \n   <p>This document was published by the <a href=\"https://www.w3.org/groups/other/tag\">Technical Architecture Group</a> and the <a href=\"https://www.w3.org/groups/ig/Privacy\">Privacy Interest Group</a> as a Group Note using the <a href=\"https://www.w3.org/2021/Process-20211102/#recs-and-notes\">Note track</a>.</p>\n   <p>Group Notes are not endorsed by <abbr title=\"World Wide Web Consortium\">W3C</abbr> nor its Members. </p>\n   <p> This is a draft document and may be updated, replaced or obsoleted\n    by other documents at any time. It is inappropriate to cite\n    this document as other than work in progress. </p>\n   <p></p>\n   <p> Feedback and comments on this document are welcome. Please <a href=\"https://github.com/w3ctag/security-questionnaire/issues\">file an issue</a> in this document’s <a href=\"https://github.com/w3ctag/security-questionnaire/\">GitHub repository</a>. </p>\n   <p data-deliverer=\"34270,52497\">The <a href=\"https://www.w3.org/Consortium/Patent-Policy/\">W3C Patent Policy</a> does not carry any licensing requirements or commitments on this document.</p>\n   <p> This document is governed by the <a href=\"https://www.w3.org/2021/Process-20211102/\" id=\"w3c_process_revision\">2 November 2021 W3C\n    Process Document</a>. </p>\n  </div>\n  <div data-fill-with=\"at-risk\"></div>\n  <nav data-fill-with=\"table-of-contents\" id=\"toc\">\n   <h2 class=\"no-num no-toc no-ref\" id=\"contents\">Table of Contents</h2>\n   <ol class=\"toc\" role=\"directory\">\n    <li>\n     <a href=\"#intro\"><span class=\"secno\">1</span> <span class=\"content\">Introduction</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#howtouse\"><span class=\"secno\">1.1</span> <span class=\"content\">How To Use The Questionnaire</span></a>\n      <li><a href=\"#resources\"><span class=\"secno\">1.2</span> <span class=\"content\">Additional resources</span></a>\n      <li><a href=\"#reviews\"><span class=\"secno\">1.3</span> <span class=\"content\">TAG, PING, security reviews and this questionnaire</span></a>\n     </ol>\n    <li>\n     <a href=\"#questions\"><span class=\"secno\">2</span> <span class=\"content\">Questions to Consider</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#purpose\"><span class=\"secno\">2.1</span> <span class=\"content\"> What information might this feature expose to Web sites or other parties,\n  and for what purposes is that exposure necessary? </span></a>\n      <li><a href=\"#minimum-data\"><span class=\"secno\">2.2</span> <span class=\"content\"> Do features in your specification expose the minimum amount of information\n  necessary to enable their intended uses? </span></a>\n      <li><a href=\"#personal-data\"><span class=\"secno\">2.3</span> <span class=\"content\"> How do the features in your specification deal with personal information,\n  personally-identifiable information (PII), or information derived from\n  them? </span></a>\n      <li><a href=\"#sensitive-data\"><span class=\"secno\">2.4</span> <span class=\"content\"> How do the features in your specification deal with sensitive information? </span></a>\n      <li><a href=\"#persistent-origin-specific-state\"><span class=\"secno\">2.5</span> <span class=\"content\"> Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </span></a>\n      <li><a href=\"#underlying-platform-data\"><span class=\"secno\">2.6</span> <span class=\"content\"> Do the features in your specification expose information about the\n  underlying platform to origins? </span></a>\n      <li><a href=\"#send-to-platform\"><span class=\"secno\">2.7</span> <span class=\"content\"> Does this specification allow an origin to send data to the underlying\n  platform? </span></a>\n      <li><a href=\"#sensor-data\"><span class=\"secno\">2.8</span> <span class=\"content\"> Do features in this specification enable access to device sensors? </span></a>\n      <li><a href=\"#string-to-script\"><span class=\"secno\">2.9</span> <span class=\"content\"> Do features in this specification enable new script execution/loading\n  mechanisms? </span></a>\n      <li><a href=\"#remote-device\"><span class=\"secno\">2.10</span> <span class=\"content\"> Do features in this specification allow an origin to access other devices? </span></a>\n      <li><a href=\"#native-ui\"><span class=\"secno\">2.11</span> <span class=\"content\"> Do features in this specification allow an origin some measure of control over\n  a user agent’s native UI? </span></a>\n      <li><a href=\"#temporary-id\"><span class=\"secno\">2.12</span> <span class=\"content\"> What temporary identifiers do the features in this specification create or\n  expose to the web? </span></a>\n      <li><a href=\"#first-third-party\"><span class=\"secno\">2.13</span> <span class=\"content\"> How does this specification distinguish between behavior in first-party and\n  third-party contexts? </span></a>\n      <li><a href=\"#private-browsing\"><span class=\"secno\">2.14</span> <span class=\"content\"> How do the features in this specification work in the context of a browser’s\n  Private Browsing or Incognito mode? </span></a>\n      <li><a href=\"#considerations\"><span class=\"secno\">2.15</span> <span class=\"content\"> Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections? </span></a>\n      <li><a href=\"#relaxed-sop\"><span class=\"secno\">2.16</span> <span class=\"content\"> Do features in your specification enable origins to downgrade default\n  security protections? </span></a>\n      <li><a href=\"#non-fully-active\"><span class=\"secno\">2.17</span> <span class=\"content\"> How does your feature handle non-\"fully active\" documents? </span></a>\n      <li><a href=\"#missing-questions\"><span class=\"secno\">2.18</span> <span class=\"content\"> What should this questionnaire have asked? </span></a>\n     </ol>\n    <li>\n     <a href=\"#threats\"><span class=\"secno\">3</span> <span class=\"content\">Threat Models</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#passive-network\"><span class=\"secno\">3.1</span> <span class=\"content\"> Passive Network Attackers </span></a>\n      <li><a href=\"#active-network\"><span class=\"secno\">3.2</span> <span class=\"content\"> Active Network Attackers </span></a>\n      <li><a href=\"#sop-violations\"><span class=\"secno\">3.3</span> <span class=\"content\"> Same-Origin Policy Violations </span></a>\n      <li><a href=\"#third-party-tracking\"><span class=\"secno\">3.4</span> <span class=\"content\"> Third-Party Tracking </span></a>\n      <li><a href=\"#legitimate-misuse\"><span class=\"secno\">3.5</span> <span class=\"content\"> Legitimate Misuse </span></a>\n     </ol>\n    <li>\n     <a href=\"#mitigations\"><span class=\"secno\">4</span> <span class=\"content\"> Mitigation Strategies </span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#data-minimization\"><span class=\"secno\">4.1</span> <span class=\"content\"> Data Minimization </span></a>\n      <li><a href=\"#privacy-friendly-defaults\"><span class=\"secno\">4.2</span> <span class=\"content\"> Default Privacy Settings </span></a>\n      <li><a href=\"#user-mediation\"><span class=\"secno\">4.3</span> <span class=\"content\"> Explicit user mediation </span></a>\n      <li><a href=\"#restrict-to-first-party\"><span class=\"secno\">4.4</span> <span class=\"content\"> Explicitly restrict the feature to first party origins </span></a>\n      <li><a href=\"#secure-contexts\"><span class=\"secno\">4.5</span> <span class=\"content\"> Secure Contexts </span></a>\n      <li><a href=\"#drop-feature\"><span class=\"secno\">4.6</span> <span class=\"content\"> Drop the feature </span></a>\n      <li><a href=\"#privacy-impact-assessment\"><span class=\"secno\">4.7</span> <span class=\"content\"> Making a privacy impact assessment </span></a>\n     </ol>\n    <li>\n     <a href=\"#index\"><span class=\"secno\"></span> <span class=\"content\">Index</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#index-defined-here\"><span class=\"secno\"></span> <span class=\"content\">Terms defined by this specification</span></a>\n      <li><a href=\"#index-defined-elsewhere\"><span class=\"secno\"></span> <span class=\"content\">Terms defined by reference</span></a>\n     </ol>\n    <li>\n     <a href=\"#references\"><span class=\"secno\"></span> <span class=\"content\">References</span></a>\n     <ol class=\"toc\">\n      <li><a href=\"#normative\"><span class=\"secno\"></span> <span class=\"content\">Normative References</span></a>\n      <li><a href=\"#informative\"><span class=\"secno\"></span> <span class=\"content\">Informative References</span></a>\n     </ol>\n   </ol>\n  </nav>\n  <main>\n   <h2 class=\"heading settled\" data-level=\"1\" id=\"intro\"><span class=\"secno\">1. </span><span class=\"content\">Introduction</span><a class=\"self-link\" href=\"#intro\"></a></h2>\n   <p>When designing new features for the Web platform,\nwe must always consider the security and privacy implications of our work.\nNew Web features should always\nmaintain or enhance\nthe overall security and privacy of the Web.</p>\n   <p>This document contains a set of questions\nintended to help <abbr title=\"specification\">spec</abbr> authors\nas they think through\nthe security and privacy implications\nof their work and write the narrative Security Considerations and Privacy\nConsiderations sections for inclusion in-line in their specifications,\nas described below in <a href=\"#considerations\">§ 2.15 Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections?</a>.\nIt also documents mitigation strategies\nthat spec authors can use to address\nsecurity and privacy concerns they encounter as they work on their spec.</p>\n   <p>This document is itself a work in progress,\nand there may be security or privacy concerns\nwhich this document does not (yet) cover.\nPlease <a href=\"https://github.com/w3ctag/security-questionnaire/issues/new\">let us know</a> if you identify a security or privacy concern\nthis questionnaire should ask about.</p>\n   <h3 class=\"heading settled\" data-level=\"1.1\" id=\"howtouse\"><span class=\"secno\">1.1. </span><span class=\"content\">How To Use The Questionnaire</span><a class=\"self-link\" href=\"#howtouse\"></a></h3>\n   <p>Work through these questions\nearly on in the design process,\nwhen things are easier to change.\nWhen privacy and security issues are only found later,\nafter a feature has shipped,\nit’s much harder to change the design.\nIf security or privacy issues are found late,\nuser agents may need to adopt breaking changes\nto fix the issues.</p>\n   <p>Keep these questions in mind while working on specifications.\nPeriodically revisit this questionnaire and continue to consider the questions,\nparticularly as a design changes over time.</p>\n   <h3 class=\"heading settled\" data-level=\"1.2\" id=\"resources\"><span class=\"secno\">1.2. </span><span class=\"content\">Additional resources</span><a class=\"self-link\" href=\"#resources\"></a></h3>\n   <p>The Mitigating Browser Fingerprinting in Web Specifications <a data-link-type=\"biblio\" href=\"#biblio-fingerprinting-guidance\">[FINGERPRINTING-GUIDANCE]</a> document published by PING goes into\nfurther depth about browser fingerprinting and should be considered in\nparallel with this document.</p>\n   <p>The IETF’s RFC about privacy considerations, <a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a>, is a\nwonderful resource, particularly section 7.</p>\n   <h3 class=\"heading settled\" data-level=\"1.3\" id=\"reviews\"><span class=\"secno\">1.3. </span><span class=\"content\">TAG, PING, security reviews and this questionnaire</span><a class=\"self-link\" href=\"#reviews\"></a></h3>\n   <p>Before requesting\nprivacy and\nsecurity reviews from the <a href=\"https://www.w3.org/Privacy/IG/\">Privacy Interest Group\n(PING)</a> and security reviewers,\nwrite \"Security Considerations\" and\n\"Privacy Considerations\" sections in your document, as described in <a href=\"#considerations\">§ 2.15 Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections?</a>.  Answering the questions in this\ndocument will, we hope, inform your writing of those sections. It is not\nappropriate, however, to merely copy this questionnaire into those sections.\nInstructions for requesting security and privacy reviews can be\nfound in the document <cite><a href=\"https://w3c.github.io/documentreview/#how_to_get_horizontal_review\">How to do Wide Review</a></cite>.</p>\n   <p>When requesting\na <a href=\"https://github.com/w3ctag/design-reviews\">review</a> from the <a href=\"https://www.w3.org/2001/tag/\">Technical Architecture Group (TAG)</a>,\nplease provide the TAG with answers\nto the questions in this document. <a href=\"https://raw.githubusercontent.com/w3ctag/security-questionnaire/main/questionnaire.markdown\">This Markdown\ntemplate</a> may be useful when doing so.</p>\n   <h2 class=\"heading settled\" data-level=\"2\" id=\"questions\"><span class=\"secno\">2. </span><span class=\"content\">Questions to Consider</span><a class=\"self-link\" href=\"#questions\"></a></h2>\n   <h3 class=\"question heading settled\" data-level=\"2.1\" id=\"purpose\"><span class=\"secno\">2.1. </span><span class=\"content\"> What information might this feature expose to Web sites or other parties,\n  and for what purposes is that exposure necessary? </span><a class=\"self-link\" href=\"#purpose\"></a></h3>\n   <p>User Agents should only expose information to the web\nwhen doing so is necessary to serve a clear user need.\nDoes your feature expose information to origins?\nIf so, how does exposing this information serve user needs?\nAre the risks to the user outweighed by the benefits to the user?\nIf so, how?</p>\n   <p>See also</p>\n   <ul>\n    <li data-md>\n     <p><a href=\"https://www.w3.org/TR/design-principles/#priority-of-constituencies\">Web Platform Design Principles § priority-of-constituencies</a></p>\n   </ul>\n   <p>When answering this question, please consider each of these four possible\nareas of information disclosure / sharing.</p>\n   <p>For the below sub-questions,\nplease take the term <em>potentially identifying information</em> to mean information that describes the browser user,\ndistinct from others who use the same browser version.\nExamples of such <em>potentially identifying information</em> include information\nabout the browser user’s environment (e.g., operating system configuration,\nbrowser configuration, hardware capabilities), and the user’s prior activities\nand interests (e.g., browsing history, purchasing preferences, personal\ncharacteristics).</p>\n   <ol>\n    <li data-md>\n     <p>What information does your spec expose to the <strong>first party</strong> that\nthe <strong>first party</strong> cannot currently easily determine.</p>\n    <li data-md>\n     <p>What information does your spec expose to <strong>third parties</strong> that <strong>third parties</strong> cannot currently easily determine.</p>\n    <li data-md>\n     <p>What <em>potentially identifying information</em> does your spec expose to the <strong>first party</strong> that the <strong>first party</strong> can already access (i.e., what\nidentifying information does your spec duplicate or mirror).</p>\n    <li data-md>\n     <p>What <em>potentially identifying information</em> does your spec expose to <strong>third parties</strong> that <strong>third parties</strong> can already access.</p>\n   </ol>\n   <h3 class=\"question heading settled\" data-level=\"2.2\" id=\"minimum-data\"><span class=\"secno\">2.2. </span><span class=\"content\"> Do features in your specification expose the minimum amount of information\n  necessary to enable their intended uses? </span><a class=\"self-link\" href=\"#minimum-data\"></a></h3>\n   <p>Features should only expose information\nwhen it’s absolutely necessary to satisfy use cases.\nIf a feature exposes more information than is necessary,\nwhy does it do so?</p>\n   <p>See also</p>\n   <ul>\n    <li data-md>\n     <p><a href=\"#data-minimization\">§ 4.1 Data Minimization</a></p>\n   </ul>\n   <p class=\"example\" id=\"example-416d4171\"><a class=\"self-link\" href=\"#example-416d4171\"></a> Content Security Policy <a data-link-type=\"biblio\" href=\"#biblio-csp\">[CSP]</a> unintentionally exposed redirect targets\ncross-origin by allowing one origin to infer details about another origin\nthrough violation reports (see <a data-link-type=\"biblio\" href=\"#biblio-homakov\">[HOMAKOV]</a>). The working group eventually\nmitigated the risk by reducing a policy’s granularity after a redirect. </p>\n   <h3 class=\"question heading settled\" data-level=\"2.3\" id=\"personal-data\"><span class=\"secno\">2.3. </span><span class=\"content\"> How do the features in your specification deal with personal information,\n  personally-identifiable information (PII), or information derived from\n  them? </span><a class=\"self-link\" href=\"#personal-data\"></a></h3>\n   <p>Personal information is any data about a user\n(for example, their home address),\nor information that could be used to identify a user,\nsuch as an alias, email address, or identification number.</p>\n   <p class=\"note\" role=\"note\"><span>Note:</span> Personal information is\ndistinct from personally identifiable information\n(<abbr title=\"personally identifiable information\">PII</abbr>).\nPII is a legal concept,\nthe definition of which varies from jurisdiction to jurisdiction.\nWhen used in a non-legal context,\nPII tends to refer generally\nto information\nthat could be used to identify a user.</p>\n   <p>When exposing\npersonal information, PII, or derivative information,\nspec authors must take steps to minimize the potential harm to users.</p>\n   <p class=\"example\" id=\"example-1d75986f\"><a class=\"self-link\" href=\"#example-1d75986f\"></a> A feature\nwhich gathers biometric data\n(such as fingerprints or retina scans)\nfor authentication\nshould not directly expose this biometric data to the web.\nInstead,\nit can use the biometric data\nto look up or generate some temporary key which is not shared across origins\nwhich can then be safely exposed to the origin. <a data-link-type=\"biblio\" href=\"#biblio-webauthn\">[WEBAUTHN]</a> </p>\n   <p>Personal information, PII, or their derivatives\nshould not be exposed to origins\nwithout <a href=\"https://w3ctag.github.io/design-principles/#consent\">meaningful user consent</a>.\nMany APIs\nuse the Permissions API to acquire meaningful user consent. <a data-link-type=\"biblio\" href=\"#biblio-permissions\">[PERMISSIONS]</a></p>\n   <p>Keep in mind\nthat each permission prompt\nadded to the web platform\nincreases the risk\nthat users will ignore\nthe contents of all permission prompts.\nBefore adding a permission prompt, consider your options for using\na less obtrusive way to gain meaningful user consent. <a data-link-type=\"biblio\" href=\"#biblio-adding-permission\">[ADDING-PERMISSION]</a></p>\n   <p class=\"example\" id=\"example-e2335d65\"><a class=\"self-link\" href=\"#example-e2335d65\"></a> <code>&lt;input type=file></code> can be used to upload\ndocuments containing personal information\nto websites.\nIt makes use of\nthe underlying native platform’s file picker\nto ensure the user understands\nthat the file and its contents\nwill be exposed to the website,\nwithout a separate permissions prompt. </p>\n   <p>See also</p>\n   <ul>\n    <li data-md>\n     <p><a href=\"#user-mediation\">§ 4.3 Explicit user mediation</a></p>\n    <li data-md>\n     <p><a href=\"https://www.w3.org/TR/design-principles/#consent\">Web Platform Design Principles § consent</a></p>\n   </ul>\n   <h3 class=\"question heading settled\" data-level=\"2.4\" id=\"sensitive-data\"><span class=\"secno\">2.4. </span><span class=\"content\"> How do the features in your specification deal with sensitive information? </span><a class=\"self-link\" href=\"#sensitive-data\"></a></h3>\n   <p>Personal information is not the only kind of sensitive information.\nMany other kinds of information may also be sensitive.\nWhat is or isn’t sensitive information can vary\nfrom person to person\nor from place to place.\nInformation that would be harmless if known about\none person or group of people\ncould be dangerous if known about\nanother person or group.\nInformation about a person\nthat would be harmless in one country\nmight be used in another country\nto detain, kidnap, or imprison them.</p>\n   <p>Examples of sensitive information include:\ncaste,\ncitizenship,\ncolor,\ncredentials,\ncriminal record,\ndemographic information,\ndisability status,\nemployment status,\nethnicity,\nfinancial information,\nhealth information,\nlocation data,\nmarital status,\npolitical beliefs,\nprofession,\nrace,\nreligious beliefs or nonbeliefs,\nsexual preferences,\nand\ntrans status.</p>\n   <p>When a feature exposes sensitive information to the web,\nits designers must take steps\nto mitigate the risk of exposing the information.</p>\n   <div class=\"example\" id=\"example-faf2460c\">\n    <a class=\"self-link\" href=\"#example-faf2460c\"></a> \n    <p>The Credential Management API allows sites\nto request a user’s credentials\nfrom a password manager. <a data-link-type=\"biblio\" href=\"#biblio-credential-management-1\">[CREDENTIAL-MANAGEMENT-1]</a> If it exposed the user’s credentials to JavaScript,\nand if the page using the API were vulnerable to <a data-link-type=\"dfn\" href=\"#cross-site-scripting-attacks\" id=\"ref-for-cross-site-scripting-attacks\">XSS</a> attacks,\nthe user’s credentials could be leaked to attackers.</p>\n    <p>The Credential Management API\nmitigates this risk\nby not exposing the credentials to JavaScript.\nInstead, it exposes\nan opaque <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#formdata\" id=\"ref-for-formdata\">FormData</a></code> object\nwhich cannot be read by JavaScript.\nThe spec also recommends\nthat sites configure Content Security Policy <a data-link-type=\"biblio\" href=\"#biblio-csp\">[CSP]</a> with reasonable <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/CSP3/#connect-src\" id=\"ref-for-connect-src\">connect-src</a> and <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/CSP3/#form-action\" id=\"ref-for-form-action\">form-action</a> values\nto further mitigate the risk of exfiltration.</p>\n   </div>\n   <p>Many use cases\nwhich require location information\ncan be adequately served\nwith very coarse location data.\nFor instance,\na site which recommends restaurants\ncould adequately serve its users\nwith city-level location information\ninstead of exposing the user’s precise location.</p>\n   <p>See also</p>\n   <ul>\n    <li data-md>\n     <p><a href=\"https://www.w3.org/TR/design-principles/#do-not-expose-use-of-assistive-tech\">Web Platform Design Principles § do-not-expose-use-of-assistive-tech</a></p>\n   </ul>\n   <h3 class=\"question heading settled\" data-level=\"2.5\" id=\"persistent-origin-specific-state\"><span class=\"secno\">2.5. </span><span class=\"content\"> Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </span><a class=\"self-link\" href=\"#persistent-origin-specific-state\"></a></h3>\n   <p>There are many existing mechanisms\norigins can use to\nstore information about a user.\nCookies, <code>ETag</code>, <code>Last Modified</code>, <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage\" id=\"ref-for-dom-localstorage\">localStorage</a></code>,\nand <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb\" id=\"ref-for-dom-windoworworkerglobalscope-indexeddb\">indexedDB</a></code> are just a few examples.</p>\n   <p>Allowing an origin\nto store data\non a user’s device\nin a way that persists across browsing sessions\nintroduces the risk\nthat this state may be used\nto track a user\nwithout their knowledge or control,\neither in <a data-link-type=\"dfn\" href=\"https://privacycg.github.io/storage-access/#first-party-site-context\" id=\"ref-for-first-party-site-context\">first-</a> or <a data-link-type=\"dfn\" href=\"https://privacycg.github.io/storage-access/#third-party-context\" id=\"ref-for-third-party-context\">third-party</a> contexts.</p>\n   <p>One of the ways\nuser agents mitigate the risk\nthat client-side storage mechanisms\nwill form a persistent identifier\nis by providing users with the ability\nto clear out the data stored by origins.\nNew state persistence mechanisms\nshould not be introduced\nwithout mitigations\nto prevent them\nfrom being used\nto track users\nacross domains\nor without control\nover clearing this state.\nThat said,\nmanually clearing storage\nis something users do only rarely.\nSpec authors should consider ways\nto make new features more privacy-preserving without full storage clearing,\nsuch as\nreducing the uniqueness of values,\nrotating values,\nor otherwise making features no more identifying than is needed.\nAlso, keep in mind that\nuser agents make use of several different caching mechanisms.\nWhich, if any, caches will store this new state?\nAre additional mitigations necessary?</p>\n   <div class=\"example\" id=\"example-c6a8651b\">\n    <a class=\"self-link\" href=\"#example-c6a8651b\"></a> \n    <p>Service Workers\nintercept all requests made by an origin,\nwhich enables sites\nto continue to function when the browser goes offline.\nBecause of this,\na maliciously-injected service worker\ncould compromise the user (as documented in <a href=\"https://www.w3.org/TR/service-workers-1/#security-considerations\"><cite>Service Workers</cite> § 6 Security Considerations</a>).</p>\n    <p>The spec mitigates the risks\nan <a data-link-type=\"dfn\" href=\"#active-network-attacker\" id=\"ref-for-active-network-attacker\">active network attacker</a> or <a data-link-type=\"dfn\" href=\"#cross-site-scripting-attacks\" id=\"ref-for-cross-site-scripting-attacks①\">XSS</a> vulnerability present\nby limiting service worker registration to <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context\">secure contexts</a>. <a data-link-type=\"biblio\" href=\"#biblio-service-workers\">[SERVICE-WORKERS]</a></p>\n   </div>\n   <p class=\"example\" id=\"example-32a45432\"><a class=\"self-link\" href=\"#example-32a45432\"></a> Platform-specific DRM implementations\n(such as <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/encrypted-media/#cdm\" id=\"ref-for-cdm\">content decryption modules</a> in <a data-link-type=\"biblio\" href=\"#biblio-encrypted-media\">[ENCRYPTED-MEDIA]</a>)\nmight expose origin-specific information\nin order to help identify users\nand determine whether they ought to be granted access\nto a specific piece of media.\nThese kinds of identifiers\nshould be carefully evaluated\nto determine how abuse can be mitigated;\nidentifiers which a user cannot easily change\nare very valuable from a tracking perspective,\nand protecting such identifiers\nfrom an <a data-link-type=\"dfn\" href=\"#active-network-attacker\" id=\"ref-for-active-network-attacker①\">active network attacker</a> is vital. </p>\n   <h3 class=\"question heading settled\" data-level=\"2.6\" id=\"underlying-platform-data\"><span class=\"secno\">2.6. </span><span class=\"content\"> Do the features in your specification expose information about the\n  underlying platform to origins? </span><a class=\"self-link\" href=\"#underlying-platform-data\"></a></h3>\n   <p>(Underlying platform information includes\nuser configuration data,\nthe presence and attributes of hardware I/O devices such as sensors,\nand the availability and behavior of various software features.)</p>\n   <p>If so, is the same information exposed across origins?\nDo different origins see different data or the same data?\nDoes the data change frequently or rarely?\nRarely-changing data exposed to multiple origins\ncan be used to uniquely identify a user across those origins.\nThis may be direct\n(when the piece of information is unique)\nor indirect\n(because the data may be combined with other data to form a fingerprint). <a data-link-type=\"biblio\" href=\"#biblio-fingerprinting-guidance\">[FINGERPRINTING-GUIDANCE]</a></p>\n   <p>When considering whether or not to expose such information,\nspecs and user agents\nshould not consider the information in isolation,\nbut should evaluate the risk of adding it\nto the existing fingerprinting surface of the platform.</p>\n   <p>Keep in mind that\nthe fingerprinting risk of a particular piece of information\nmay vary between platforms.\nThe fingerprinting risk of some data\non the hardware and software platforms <em>you</em> use\nmay be different than\nthe fingerprinting risk on other platforms.</p>\n   <p>When you do decide to expose such information,\nyou should take steps to mitigate the harm of such exposure.</p>\n   <p>Sometimes the right answer is to not expose the data in the first place (see <a href=\"#drop-feature\">§ 4.6 Drop the feature</a>).\nIn other cases,\nreducing fingerprintability may be as simple as\nensuring consistency—for instance,\nby ordering a list of available resources—but sometimes,\nmore complex mitigations may be necessary.\nSee <a href=\"#mitigations\">§ 4 Mitigation Strategies</a> for more.</p>\n   <p>If features in your spec expose such data\nand does not define adequate mitigations,\nyou should ensure that such information\nis not revealed to origins\nwithout <a href=\"https://www.w3.org/TR/design-principles/#consent\">meaningful user consent</a>,\nand\nyou should clearly describe this\nin your specification’s Security and Privacy Considerations sections.</p>\n   <p class=\"example\" id=\"example-19fb6999\"><a class=\"self-link\" href=\"#example-19fb6999\"></a> WebGL’s <code>RENDERER</code> string\nenables some applications to improve performance.\nIt’s also valuable fingerprinting data.\nThis privacy risk must be carefully weighed\nwhen considering exposing such data to origins. </p>\n   <p class=\"example\" id=\"example-5a75fd5f\"><a class=\"self-link\" href=\"#example-5a75fd5f\"></a> The <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/system-state.html#navigatorplugins\" id=\"ref-for-navigatorplugins\">NavigatorPlugins</a></code> list almost never changes.\nSome user agents have <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=757726\">disabled direct enumeration of the plugin list</a> to reduce the fingerprinting harm of this interface. </p>\n   <p>See also:</p>\n   <ul>\n    <li data-md>\n     <p><a href=\"https://www.w3.org/TR/design-principles/#device-ids\">Use care when exposing identifying information about devices</a></p>\n    <li data-md>\n     <p><a href=\"https://www.w3.org/TR/design-principles/#device-enumeration\">Use care when exposing APIs for selecting or enumerating devices</a></p>\n   </ul>\n   <h3 class=\"question heading settled\" data-level=\"2.7\" id=\"send-to-platform\"><span class=\"secno\">2.7. </span><span class=\"content\"> Does this specification allow an origin to send data to the underlying\n  platform? </span><a class=\"self-link\" href=\"#send-to-platform\"></a></h3>\n   <p>If so, what kind of data can be sent?</p>\n   <p>Platforms differ in how they process data passed into them,\nwhich may present different risks to users.</p>\n   <p>Don’t assume the underlying platform will safely handle the data that is passed.\nWhere possible, mitigate attacks by limiting or structuring the kind of data is passed to the platform.</p>\n   <div class=\"example\" id=\"example-e01cd738\">\n    <a class=\"self-link\" href=\"#example-e01cd738\"></a> URLs may or may not be dereferenced by a platform API,\nand if they are dereferenced,\nredirects may or may not be followed.\nIf your specification sends URLs to underlying platform APIs,\nthe potential harm of <em>your</em> API\nmay vary depending on\nthe behavior of the various underlying platform APIs it’s built upon. \n    <p>What happens when <code>file:</code>, <code>data:</code>, or <code>blob:</code> URLs\nare passed to the underlying platform API?\nThese can potentially read sensitive data\ndirectly form the user’s hard disk or from memory.</p>\n    <p>Even if your API only allows <code>http:</code> and <code>https:</code> URLs,\nsuch URLs may be vulnerable to <a data-link-type=\"dfn\" href=\"#cross-site-request-forgery-attacks\" id=\"ref-for-cross-site-request-forgery-attacks\">CSRF</a> attacks,\nor be redirected to <code>file:</code>, <code>data:</code>, or <code>blob:</code> URLs.</p>\n   </div>\n   <h3 class=\"question heading settled\" data-level=\"2.8\" id=\"sensor-data\"><span class=\"secno\">2.8. </span><span class=\"content\"> Do features in this specification enable access to device sensors? </span><a class=\"self-link\" href=\"#sensor-data\"></a></h3>\n   <p>If so, what kinds of information from or about the sensors are exposed to origins?</p>\n   <p>Information from sensors may serve as a fingerprinting vector across origins.\nAdditionally,\nsensors may reveal something sensitive about the device or its environment.</p>\n   <p>If sensor data is relatively stable\nand consistent across origins,\nit could be used as a cross-origin identifier.\nIf two User Agents expose such stable data from the same sensors,\nthe data could even be used as a cross-browser, or potentially even a cross-device, identifier.</p>\n   <p class=\"example\" id=\"example-e79c5eae\"><a class=\"self-link\" href=\"#example-e79c5eae\"></a> Researchers discovered that\nit’s possible to use\na sufficiently fine-grained gyroscope\nas a microphone <a data-link-type=\"biblio\" href=\"#biblio-gyrospeechrecognition\">[GYROSPEECHRECOGNITION]</a>.\nThis can be mitigated by lowering the gyroscope’s sample rates. </p>\n   <p class=\"example\" id=\"example-b7a8d534\"><a class=\"self-link\" href=\"#example-b7a8d534\"></a> Ambient light sensors could allow an attacker to learn whether or not a\nuser had visited given links <a data-link-type=\"biblio\" href=\"#biblio-olejnik-als\">[OLEJNIK-ALS]</a>. </p>\n   <p class=\"example\" id=\"example-af6d78b4\"><a class=\"self-link\" href=\"#example-af6d78b4\"></a> Even relatively short lived data, like the battery status, may be able to\nserve as an identifier <a data-link-type=\"biblio\" href=\"#biblio-olejnik-battery\">[OLEJNIK-BATTERY]</a>. </p>\n   <h3 class=\"question heading settled\" data-level=\"2.9\" id=\"string-to-script\"><span class=\"secno\">2.9. </span><span class=\"content\"> Do features in this specification enable new script execution/loading\n  mechanisms? </span><a class=\"self-link\" href=\"#string-to-script\"></a></h3>\n   <p>New mechanisms for executing or loading scripts have a risk of enabling novel attack surfaces.\nGenerally, if a new feature needs this you should consult with a wider audience,\nand think about whether or not an existing mechanism can be used\nor the feature is really necessary.</p>\n   <p class=\"example\" id=\"example-3a9ceedc\"><a class=\"self-link\" href=\"#example-3a9ceedc\"></a> <a href=\"https://github.com/whatwg/html/issues/4315\">JSON modules</a> are expected to be treated only as data,\nbut the initial proposal allowed an adversary to swap it out with code without the user knowing. <a href=\"https://github.com/tc39/proposal-import-assertions\">Import assertions</a> were implemented\nas a mitigation for this vulnerability. </p>\n   <h3 class=\"question heading settled\" data-level=\"2.10\" id=\"remote-device\"><span class=\"secno\">2.10. </span><span class=\"content\"> Do features in this specification allow an origin to access other devices? </span><a class=\"self-link\" href=\"#remote-device\"></a></h3>\n   <p>If so, what devices do the features in this specification allow an origin to\naccess?</p>\n   <p>Accessing other devices, both via network connections and via\ndirect connection to the user’s machine (e.g. via Bluetooth,\nNFC, or USB), could expose vulnerabilities - some of\nthese devices were not created with web connectivity in mind and may be inadequately\nhardened against malicious input, or with the use on the web.</p>\n   <p>Exposing other devices on a user’s local network also has significant privacy\nrisk:</p>\n   <ul>\n    <li data-md>\n     <p>If two user agents have the same devices on their local network, an\nattacker may infer that the two user agents are running on the same host\nor are being used by two separate users who are in the same physical\nlocation.</p>\n    <li data-md>\n     <p>Enumerating the devices on a user’s local network provides significant\nentropy that an attacker may use to fingerprint the user agent.</p>\n    <li data-md>\n     <p>If features in this spec expose persistent or long lived identifiers of\nlocal network devices, that provides attackers with a way to track a user\nover time even if a user takes steps to prevent such tracking (e.g.\nclearing cookies and other stateful tracking mechanisms).</p>\n    <li data-md>\n     <p>Direct connections might be also be used to bypass security checks that\nother APIs would provide. For example, attackers used the WebUSB API to\naccess others sites' credentials on a hardware security, bypassing\nsame-origin checks in an early U2F API. <a data-link-type=\"biblio\" href=\"#biblio-yubikey-attack\">[YUBIKEY-ATTACK]</a></p>\n   </ul>\n   <p class=\"example\" id=\"example-779b6f03\"><a class=\"self-link\" href=\"#example-779b6f03\"></a> The Network Service Discovery API <a data-link-type=\"biblio\" href=\"#biblio-discovery-api\">[DISCOVERY-API]</a> recommended CORS\npreflights before granting access to a device, and requires user agents to\ninvolve the user with a permission request of some kind. </p>\n   <p class=\"example\" id=\"example-01b5b20a\"><a class=\"self-link\" href=\"#example-01b5b20a\"></a> Likewise, the Web Bluetooth <a data-link-type=\"biblio\" href=\"#biblio-web-bluetooth\">[WEB-BLUETOOTH]</a> has an extensive discussion of\nsuch issues in <a href=\"https://webbluetoothcg.github.io/web-bluetooth/#security-and-privacy\"><cite>Web Bluetooth</cite> § 2 Security and privacy considerations</a>, which is worth\nreading as an example for similar work. </p>\n   <p class=\"example\" id=\"example-38bdd3d3\"><a class=\"self-link\" href=\"#example-38bdd3d3\"></a> <a data-link-type=\"biblio\" href=\"#biblio-webusb\">[WEBUSB]</a> addresses these risks through a combination of user mediation /\nprompting, secure origins, and feature policy.\nSee <a href=\"https://wicg.github.io/webusb/#security-and-privacy\"><cite>WebUSB</cite> § 3 Security and Privacy Considerations</a> for more. </p>\n   <h3 class=\"question heading settled\" data-level=\"2.11\" id=\"native-ui\"><span class=\"secno\">2.11. </span><span class=\"content\"> Do features in this specification allow an origin some measure of control over\n  a user agent’s native UI? </span><a class=\"self-link\" href=\"#native-ui\"></a></h3>\n   <p>Features that allow for control over a user agent’s UI (e.g. full screen\nmode) or changes to the underlying system (e.g. installing an ‘app’ on a\nsmartphone home screen) may surprise users or obscure security / privacy\ncontrols.  To the extent that your feature does allow for the changing of a\nuser agent’s UI, can it effect security / privacy controls?  What analysis\nconfirmed this conclusion?</p>\n   <h3 class=\"question heading settled\" data-level=\"2.12\" id=\"temporary-id\"><span class=\"secno\">2.12. </span><span class=\"content\"> What temporary identifiers do the features in this specification create or\n  expose to the web? </span><a class=\"self-link\" href=\"#temporary-id\"></a></h3>\n   <p>If a standard exposes a temporary identifier to the web, the identifier\nshould be short lived and should rotate on some regular duration to mitigate\nthe risk of this identifier being used to track a user over time.  When a\nuser clears state in their user agent, these temporary identifiers should be\ncleared to prevent re-correlation of state using a temporary identifier.</p>\n   <p>If features in this spec create or expose temporary identifiers to the\nweb, how are they exposed, when, to what entities, and, how frequently are\nthose temporary identifiers rotated?</p>\n   <p>Example temporary identifiers include TLS Channel ID, Session Tickets, and\nIPv6 addresses.</p>\n   <p class=\"example\" id=\"example-86ed6495\"><a class=\"self-link\" href=\"#example-86ed6495\"></a> The index attribute in the Gamepad API <a data-link-type=\"biblio\" href=\"#biblio-gamepad\">[GAMEPAD]</a> — an integer that starts\nat zero, increments, and is reset — is a good example of a privacy friendly\ntemporary identifier. </p>\n   <h3 class=\"question heading settled\" data-level=\"2.13\" id=\"first-third-party\"><span class=\"secno\">2.13. </span><span class=\"content\"> How does this specification distinguish between behavior in first-party and\n  third-party contexts? </span><a class=\"self-link\" href=\"#first-third-party\"></a></h3>\n   <p>The behavior of a feature should be considered not just in the context of its\nbeing used by a first party origin that a user is visiting but also the\nimplications of its being used by an arbitrary third party that the first\nparty includes. When developing your specification, consider the implications\nof its use by third party resources on a page and, consider if support for\nuse by third party resources should be optional to conform to the\nspecification.  If supporting use by third party resources is mandatory for\nconformance, please explain why and what privacy mitigations are in place.\nThis is particularly important as user agents may take steps to reduce the\navailability or functionality of certain features to third parties if the\nthird parties are found to be abusing the functionality.</p>\n   <h3 class=\"question heading settled\" data-level=\"2.14\" id=\"private-browsing\"><span class=\"secno\">2.14. </span><span class=\"content\"> How do the features in this specification work in the context of a browser’s\n  Private Browsing or Incognito mode? </span><a class=\"self-link\" href=\"#private-browsing\"></a></h3>\n   <p>Most browsers implement a private browsing or incognito mode,\nthough they vary significantly in what functionality they provide and\nhow that protection is described to users <a data-link-type=\"biblio\" href=\"#biblio-wu-private-browsing\">[WU-PRIVATE-BROWSING]</a>.</p>\n   <p>One commonality is that they provide a different set of state\nthan the browser’s 'normal' state.</p>\n   <p>Do features in this spec provide information that would allow for the\ncorrelation of a single user’s activity across normal and private\nbrowsing / incognito modes?  Do features in the spec result in\ninformation being written to a user’s host that would persist\nfollowing a private browsing / incognito mode session ending?</p>\n   <p>There has been research into both:</p>\n   <ul>\n    <li data-md>\n     <p>Detecting whether a user agent is in private browsing mode <a data-link-type=\"biblio\" href=\"#biblio-rivera\">[RIVERA]</a> using non-standardized methods such as <code><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/requestFileSystem\">window.requestFileSystem()</a></code>.</p>\n    <li data-md>\n     <p>Using features to fingerprint a browser and correlate private and\nnon-private mode sessions for a given user. <a data-link-type=\"biblio\" href=\"#biblio-olejnik-payments\">[OLEJNIK-PAYMENTS]</a></p>\n   </ul>\n   <h3 class=\"question heading settled\" data-level=\"2.15\" id=\"considerations\"><span class=\"secno\">2.15. </span><span class=\"content\"> Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections? </span><a class=\"self-link\" href=\"#considerations\"></a></h3>\n   <p>Specifications should have both \"Security Considerations\" and \"Privacy\nConsiderations\" sections to help implementers and web developers\nunderstand the risks that a feature presents and to ensure that\nadequate mitigations are in place.  While your answers to the\nquestions in this document will inform your writing of those sections,\ndo not merely copy this questionnaire into those sections.  Instead,\ncraft language specific to your specification that will be helpful to\nimplementers and web developers.</p>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a> is an excellent resource to consult when considering\nprivacy impacts of your specification, particularly Section 7 of\nRFC6973. <a data-link-type=\"biblio\" href=\"#biblio-rfc3552\">[RFC3552]</a> provides general advice as to writing Security\nConsideration sections, and Section 5 of RFC3552 has specific requirements.</p>\n   <p>Generally, these sections should contain clear descriptions of the\nprivacy and security risks for the features your spec introduces.  It is also\nappropriate to document risks that are mitigated elsewhere in the\nspecification and to call out details that, if implemented\nother-than-according-to-spec, are likely to lead to vulnerabilities.</p>\n   <p>If it seems like none of the features in your specification have security or\nprivacy impacts, say so in-line, e.g.:</p>\n   <blockquote>\n    <p>There are no known security impacts of the features in this specification.</p>\n   </blockquote>\n   <p>Be aware, though, that most specifications include features that have at least some\nimpact on the fingerprinting surface of the browser.  If you believe\nyour specification in an outlier, justifying that claim is in\norder.</p>\n   <h3 class=\"question heading settled\" data-level=\"2.16\" id=\"relaxed-sop\"><span class=\"secno\">2.16. </span><span class=\"content\"> Do features in your specification enable origins to downgrade default\n  security protections? </span><a class=\"self-link\" href=\"#relaxed-sop\"></a></h3>\n   <p>Do features in your spec\nenable an origin to opt-out of security settings\nin order to accomplish something?\nIf so,\nin what situations do these features allow such downgrading, and why?</p>\n   <p>Can this be avoided in the first place?\nIf not, are mitigations in place\nto make sure this downgrading doesn’t dramatically increase risk to users?\nFor instance, <a data-link-type=\"biblio\" href=\"#biblio-permissions-policy\">[PERMISSIONS-POLICY]</a> defines a mechanism\nthat can be used by sites to prevent untrusted <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element\" id=\"ref-for-the-iframe-element\">iframe</a></code>s from using such a feature.</p>\n   <div class=\"example\" id=\"example-8a7bc492\"><a class=\"self-link\" href=\"#example-8a7bc492\"></a> The <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/origin.html#dom-document-domain\" id=\"ref-for-dom-document-domain\">document.domain</a></code> setter can be used to relax the <a data-link-type=\"dfn\" href=\"#same-origin-policy\" id=\"ref-for-same-origin-policy\">same-origin policy</a>.\nThe most effective mitigation\nwould be to remove it from the platform (see <a href=\"#drop-feature\">§ 4.6 Drop the feature</a>),\nthough that <a href=\"https://github.com/mikewest/deprecating-document-domain/\">may be challenging</a> for compatibility reasons. </div>\n   <div class=\"example\" id=\"example-3181d7d3\">\n    <a class=\"self-link\" href=\"#example-3181d7d3\"></a> The Fullscreen API enables\na (portion of a) web page\nto expand to fill the display. <a data-link-type=\"biblio\" href=\"#biblio-fullscreen\">[FULLSCREEN]</a> This can hide\nseveral User Agent user interface elements\nwhich help users to understand\nwhat web page they are visiting\nand whether or not the User Agent believes they are <a href=\"https://w3ctag.github.io/design-principles/#safe-to-browse\">safe</a>. \n    <p>Several mitigations are defined in the specification\nand are widely deployed in implementations.\nFor instance, the Fullscreen API is a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/permissions-policy/#policy-controlled-feature\" id=\"ref-for-policy-controlled-feature\">policy-controlled feature</a>,\nwhich enables sites to disable the API in <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element\" id=\"ref-for-the-iframe-element①\">iframe</a></code>s. <a href=\"https://fullscreen.spec.whatwg.org/#security-and-privacy-considerations\"><cite>Fullscreen API</cite> § 7 Security and Privacy Considerations</a> encourages implementations\nto display an overlay which informs the user that they have entered fullscreen,\nand to advertise a simple mechanism to exit fullscreen (typically the <code>Esc</code> key).</p>\n   </div>\n   <h3 class=\"question heading settled\" data-level=\"2.17\" id=\"non-fully-active\"><span class=\"secno\">2.17. </span><span class=\"content\"> How does your feature handle non-\"fully active\" documents? </span><a class=\"self-link\" href=\"#non-fully-active\"></a></h3>\n   <p>After a user navigates away from a document,\nthe document might stay around in a non-\"<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active\">fully active</a>\" state,\nand might be reused when the user navigates back to the document.\nFrom the user’s perspective,\nthe non-<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active①\">fully active</a> document is already discarded\nand thus should not get updates/events that happen after they navigated away from it,\nespecially privacy-sensitive information (e.g. geolocation).\nAlso, as a document might be reused even after navigation,\nbe aware that tying something to a document’s lifetime\nalso means reusing it after navigations.\nIf this is not desirable,\nconsider listening to changes to the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active②\">fully active</a> state\nand doing cleanup as necessary.</p>\n   <p>For more detailed guidance on how to handle non-<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active③\">fully active</a> documents,\nsee <a href=\"https://www.w3.org/TR/design-principles/#non-fully-active\">Web Platform Design Principles § non-fully-active</a>.</p>\n   <div class=\"example\" id=\"example-2c40fd60\"><a class=\"self-link\" href=\"#example-2c40fd60\"></a> Screen WakeLock API <a href=\"https://w3c.github.io/screen-wake-lock/#handling-document-loss-of-full-activity\">releases the wake lock</a> when a document becomes no longer fully active. </div>\n   <div class=\"example\" id=\"example-9be02aaf\"><a class=\"self-link\" href=\"#example-9be02aaf\"></a> <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/interaction.html#sticky-activation\" id=\"ref-for-sticky-activation\">Sticky activation</a> is determined by the \"last activation timestamp\",\nwhich is tied to a document.\nThis means after a user triggers activation once on a document,\nthe document will have sticky activation forever,\neven after the user navigated away and back to it again.\nWhether this should actually be reset when full activity is lost or not\nis still <a href=\"https://github.com/whatwg/html/issues/6588\">under discussion</a>. </div>\n   <h3 class=\"question heading settled\" data-level=\"2.18\" id=\"missing-questions\"><span class=\"secno\">2.18. </span><span class=\"content\"> What should this questionnaire have asked? </span><a class=\"self-link\" href=\"#missing-questions\"></a></h3>\n   <p>This questionnaire is not exhaustive.\nAfter completing a privacy review,\nit may be that\nthere are privacy aspects of your specification\nthat a strict reading, and response to, this questionnaire,\nwould not have revealed.\nIf this is the case,\nplease convey those privacy concerns,\nand indicate if you can think of improved or new questions\nthat would have covered this aspect.</p>\n   <p>Please consider <a href=\"https://github.com/w3ctag/security-questionnaire/issues/new\">filing an issue</a> to let us know what the questionnaire should have asked.</p>\n   <h2 class=\"heading settled\" data-level=\"3\" id=\"threats\"><span class=\"secno\">3. </span><span class=\"content\">Threat Models</span><a class=\"self-link\" href=\"#threats\"></a></h2>\n   <p>To consider security and privacy it is convenient to think in terms of threat\nmodels, a way to illuminate the possible risks.</p>\n   <p>There are some concrete privacy concerns that should be considered when\ndeveloping a feature for the web platform <a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a>:</p>\n   <ul>\n    <li data-md>\n     <p>Surveillance: Surveillance is the observation or monitoring of an\nindividual’s communications or activities.</p>\n    <li data-md>\n     <p>Stored Data Compromise: End systems that do not take adequate measures to\nsecure stored data from unauthorized or inappropriate access.</p>\n    <li data-md>\n     <p>Intrusion: Intrusion consists of invasive acts that disturb or interrupt\none’s life or activities.</p>\n    <li data-md>\n     <p>Misattribution: Misattribution occurs when data or communications related\nto one individual are attributed to another.</p>\n    <li data-md>\n     <p>Correlation: Correlation is the combination of various pieces of\ninformation related to an individual or that obtain that characteristic\nwhen combined.</p>\n    <li data-md>\n     <p>Identification: Identification is the linking of information to a\nparticular individual to infer an individual’s identity or to allow the\ninference of an individual’s identity.</p>\n    <li data-md>\n     <p>Secondary Use: Secondary use is the use of collected information about an\nindividual without the individual’s consent for a purpose different from\nthat for which the information was collected.</p>\n    <li data-md>\n     <p>Disclosure: Disclosure is the revelation of information about an\nindividual that affects the way others judge the individual.</p>\n    <li data-md>\n     <p>Exclusion: Exclusion is the failure to allow individuals to know about\nthe data that others have about them and to participate in its handling\nand use.</p>\n   </ul>\n   <p>In the mitigations section, this document outlines a number of techniques\nthat can be applied to mitigate these risks.</p>\n   <p>Enumerated below are some broad classes of threats that should be\nconsidered when developing a web feature.</p>\n   <h3 class=\"heading settled\" data-level=\"3.1\" id=\"passive-network\"><span class=\"secno\">3.1. </span><span class=\"content\"> Passive Network Attackers </span><a class=\"self-link\" href=\"#passive-network\"></a></h3>\n   <p>A <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"passive-network-attacker\">passive network attacker</dfn> has read-access to the bits going over\nthe wire between users and the servers they’re communicating with. She can’t <em>modify</em> the bytes, but she can collect and analyze them.</p>\n   <p>Due to the decentralized nature of the internet, and the general level of\ninterest in user activity, it’s reasonable to assume that practically every\nunencrypted bit that’s bouncing around the network of proxies, routers, and\nservers you’re using right now is being read by someone. It’s equally likely\nthat some of these attackers are doing their best to understand the encrypted\nbits as well, including storing encrypted communications for later\ncryptanalysis (though that requires significantly more effort).</p>\n   <ul>\n    <li data-md>\n     <p>The IETF’s \"Pervasive Monitoring Is an Attack\" document <a data-link-type=\"biblio\" href=\"#biblio-rfc7258\">[RFC7258]</a> is\nuseful reading, outlining some of the impacts on privacy that this\nassumption entails.</p>\n    <li data-md>\n     <p>Governments aren’t the only concern; your local coffee shop is likely to\nbe gathering information on its customers, your ISP at home is likely to\nbe doing the same.</p>\n   </ul>\n   <h3 class=\"heading settled\" data-level=\"3.2\" id=\"active-network\"><span class=\"secno\">3.2. </span><span class=\"content\"> Active Network Attackers </span><a class=\"self-link\" href=\"#active-network\"></a></h3>\n   <p>An <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"active-network-attacker\">active network attacker</dfn> has both read- and write-access to the\nbits going over the wire between users and the servers they’re communicating\nwith. She can collect and analyze data, but also modify it in-flight,\ninjecting and manipulating Javascript, HTML, and other content at will.\nThis is more common than you might expect, for both benign and malicious\npurposes:</p>\n   <ul>\n    <li data-md>\n     <p>ISPs and caching proxies regularly cache and compress images before\ndelivering them to users in an effort to reduce data usage. This can be\nespecially useful for users on low-bandwidth, high-latency devices like\nphones.</p>\n    <li data-md>\n     <p>ISPs also regularly inject JavaScript <a data-link-type=\"biblio\" href=\"#biblio-comcast\">[COMCAST]</a> and other identifiers <a data-link-type=\"biblio\" href=\"#biblio-verizon\">[VERIZON]</a> for less benign purposes.</p>\n    <li data-md>\n     <p>If your ISP is willing to modify substantial amounts of traffic flowing\nthrough it for profit, it’s difficult to believe that state-level\nattackers will remain passive.</p>\n   </ul>\n   <h3 class=\"heading settled\" data-level=\"3.3\" id=\"sop-violations\"><span class=\"secno\">3.3. </span><span class=\"content\"> Same-Origin Policy Violations </span><a class=\"self-link\" href=\"#sop-violations\"></a></h3>\n   <p>The <dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-noexport id=\"same-origin-policy\">same-origin policy</dfn> is the cornerstone of security on the web;\none origin should not have direct access to another origin’s data (the policy\nis more formally defined in Section 3 of <a data-link-type=\"biblio\" href=\"#biblio-rfc6454\">[RFC6454]</a>). A corollary to this\npolicy is that an origin should not have direct access to data that isn’t\nassociated with <em>any</em> origin: the contents of a user’s hard drive,\nfor instance. Various kinds of attacks bypass this protection in one way or\nanother. For example:</p>\n   <ul>\n    <li data-md>\n     <p><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-local-lt=\"XSS\" data-noexport id=\"cross-site-scripting-attacks\">Cross-site scripting attacks</dfn> involve an\nattacker tricking an origin into executing attacker-controlled code in\nthe context of a target origin.</p>\n    <li data-md>\n     <p><dfn class=\"dfn-paneled\" data-dfn-type=\"dfn\" data-local-lt=\"CSRF\" data-noexport id=\"cross-site-request-forgery-attacks\">Cross-site request forgery attacks</dfn> trick user\nagents into exerting a user’s ambient authority on sites where they’ve\nlogged in by submitting requests on their behalf.</p>\n    <li data-md>\n     <p>Data leakage occurs when bits of information are inadvertently made\navailable cross-origin, either explicitly via CORS headers <a data-link-type=\"biblio\" href=\"#biblio-cors\">[CORS]</a>,\nor implicitly, via side-channel attacks like <a data-link-type=\"biblio\" href=\"#biblio-timing\">[TIMING]</a>.</p>\n   </ul>\n   <h3 class=\"heading settled\" data-level=\"3.4\" id=\"third-party-tracking\"><span class=\"secno\">3.4. </span><span class=\"content\"> Third-Party Tracking </span><a class=\"self-link\" href=\"#third-party-tracking\"></a></h3>\n   <p>Part of the power of the web is its ability for a page to pull in content\nfrom other third parties — from images to javascript — to enhance the content\nand/or a user’s experience of the site.  However, when a page pulls in\ncontent from third parities, it inherently leaks some information to third\nparties — referer information and other information that may be used to track\nand profile a user.  This includes the fact that cookies go back to the\ndomain that initially stored them allowing for cross origin tracking.\nMoreover, third parties can gain execution power through third party\nJavascript being included by a webpage.  While pages can take steps to\nmitigate the risks of third party content and browsers may differentiate\nhow they treat first and third party content from a given page, the risk of\nnew functionality being executed by third parties rather than the first party\nsite should be considered in the feature development process.</p>\n   <p>The simplest example is injecting a link to a site that behaves differently\nunder specific condition, for example based on the fact that user is or is not\nlogged to the site. This may reveal that the user has an account on a site.</p>\n   <h3 class=\"heading settled\" data-level=\"3.5\" id=\"legitimate-misuse\"><span class=\"secno\">3.5. </span><span class=\"content\"> Legitimate Misuse </span><a class=\"self-link\" href=\"#legitimate-misuse\"></a></h3>\n   <p>Even when powerful features are made available to developers, it does not\nmean that all the uses should always be a good idea, or justified; in fact,\ndata privacy regulations around the world may even put limits on certain uses\nof data. In the context of first party, a legitimate website is potentially\nable to interact with powerful features to learn about user behavior or\nhabits. For example:</p>\n   <ul>\n    <li data-md>\n     <p>Tracking the user while browsing the website via mechanisms such as mouse\nmove tracking</p>\n    <li data-md>\n     <p>Behavioral profiling of the user based on the usage patterns</p>\n    <li data-md>\n     <p>Accessing powerful features that enable the first-party to learn about\nthe user’s system, the user themselves, or the user’s susurroundings, such\nas could be done through a webcam or sensors</p>\n   </ul>\n   <p>This point is admittedly different from others - and underlines that even if\nsomething may be possible, it does not mean it should always be done,\nincluding the need for considering a privacy impact assessment or even an\nethical assessment. When designing features with security and privacy\nin mind, all both use and misuse cases should be in scope.</p>\n   <h2 class=\"heading settled\" data-level=\"4\" id=\"mitigations\"><span class=\"secno\">4. </span><span class=\"content\"> Mitigation Strategies </span><a class=\"self-link\" href=\"#mitigations\"></a></h2>\n   <p>To mitigate the security and privacy risks you’ve identified in your\nspecification,\nyou may want to apply one or more of the mitigations described below.</p>\n   <h3 class=\"heading settled\" data-level=\"4.1\" id=\"data-minimization\"><span class=\"secno\">4.1. </span><span class=\"content\"> Data Minimization </span><a class=\"self-link\" href=\"#data-minimization\"></a></h3>\n   <p>Minimization is a strategy that involves exposing as little information to\nother communication partners as is required for a given operation to\ncomplete. More specifically, it requires not providing access to more\ninformation than was apparent in the user-mediated access or allowing the\nuser some control over which information exactly is provided.</p>\n   <p>For example, if the user has provided access to a given file, the object\nrepresenting that should not make it possible to obtain information about\nthat file’s parent directory and its contents as that is clearly not what is\nexpected.</p>\n   <p>In context of data minimization it is natural to ask what data is passed\naround between the different parties, how persistent the data items and\nidentifiers are, and whether there are correlation possibilities between\ndifferent protocol runs.</p>\n   <p>For example, the W3C Device APIs Working Group has defined a number of\nrequirements in their Privacy Requirements document. <a data-link-type=\"biblio\" href=\"#biblio-dap-privacy-reqs\">[DAP-PRIVACY-REQS]</a></p>\n   <p>Data minimization is applicable to specification authors and implementers, as\nwell as to those deploying the final service.</p>\n   <p>As an example, consider mouse events. When a page is loaded, the application\nhas no way of knowing whether a mouse is attached, what type of mouse it is\n(e.g., make and model), what kind of capabilities it exposes, how many are\nattached, and so on. Only when the user decides to use the mouse — presumably\nbecause it is required for interaction — does some of this information become\navailable. And even then, only a minimum of information is exposed: you could\nnot know whether it is a trackpad for instance, and the fact that it may have\na right button is only exposed if it is used. For instance, the Gamepad API\nmakes use of this data minimization capability. It is impossible for a Web game\nto know if the user agent has access to gamepads, how many there are, what\ntheir capabilities are, etc. It is simply assumed that if the user wishes to\ninteract with the game through the gamepad then she will know when to action\nit — and actioning it will provide the application with all the information\nthat it needs to operate (but no more than that).</p>\n   <p>The way in which the functionality is supported for the mouse is simply by\nonly providing information on the mouse’s behaviour when certain events take\nplace. The approach is therefore to expose event handling (e.g., triggering\non click, move, button press) as the sole interface to the device.</p>\n   <p>Two specifications that have minimized the data their features expose\nare:</p>\n   <ul>\n    <li data-md>\n     <p><a data-link-type=\"biblio\" href=\"#biblio-battery-status\">[BATTERY-STATUS]</a> <q>The user agent should not expose high precision readouts</q></p>\n    <li data-md>\n     <p><a data-link-type=\"biblio\" href=\"#biblio-generic-sensor\">[GENERIC-SENSOR]</a> <q>Limit maximum sampling frequency</q>, <q>Reduce accuracy</q></p>\n   </ul>\n   <h3 class=\"heading settled\" data-level=\"4.2\" id=\"privacy-friendly-defaults\"><span class=\"secno\">4.2. </span><span class=\"content\"> Default Privacy Settings </span><a class=\"self-link\" href=\"#privacy-friendly-defaults\"></a></h3>\n   <p>Users often do not change defaults, as a result, it is important that the\ndefault mode of a specification minimizes the amount, identifiability, and\npersistence of the data and identifiers exposed.  This is particularly true\nif a protocol comes with flexible options so that it can be tailored to\nspecific environments.</p>\n   <h3 class=\"heading settled\" data-level=\"4.3\" id=\"user-mediation\"><span class=\"secno\">4.3. </span><span class=\"content\"> Explicit user mediation </span><a class=\"self-link\" href=\"#user-mediation\"></a></h3>\n   <p>If the security or privacy risk of a feature cannot otherwise be mitigated in\na specification, optionally allowing an implementer to prompt a user may\nbe the best mitigation possible, understanding it does not entirely remove\nthe privacy risk.  If the specification does not allow for the implementer to\nprompt, it may result in divergence implementations by different user agents\nas some user agents choose to implement more privacy-friendly version.</p>\n   <p>It is possible that the risk of a feature cannot be mitigated because the\nrisk is endemic to the feature itself.  For instance, <a data-link-type=\"biblio\" href=\"#biblio-geolocation-api\">[GEOLOCATION-API]</a> reveals a user’s location intentionally; user agents generally gate access to\nthe feature on a permission prompt which the user may choose to accept.  This\nrisk is also present and should be accounted for in features that expose\npersonal data or identifiers.</p>\n   <p>Designing such prompts is difficult as is determining the duration that the\npermission should provide.</p>\n   <p>Often, the best prompt is one that is clearly tied to a user action, like the\nfile picker, where in response to a user action, the file picker is brought\nup and a user gives access to a specific file to an individual site.</p>\n   <p>Generally speaking, the duration and timing of the prompt should be inversely\nproportional to the risk posed by the data exposed.  In addition, the prompt\nshould consider issues such as:</p>\n   <ul>\n    <li data-md>\n     <p>How should permission requests be scoped? Especially when requested by an\nembedded third party iframe?</p>\n    <li data-md>\n     <p>Should persistence be based on the pair of top-level/embedded origins or a\ndifferent scope?</p>\n    <li data-md>\n     <p>How is it certain that the prompt is occurring in context of requiring the\ndata and at a time that it is clear to the user why the prompt is occurring.</p>\n    <li data-md>\n     <p>Explaining the implications of permission before prompting the user, in a\nway that is accessible and localized -- _who_ is asking, _what_ are they\nasking for, _why_ do they need it?</p>\n    <li data-md>\n     <p>What happens if the user rejects the request at the time of the prompt or\nif the user later changes their mind and revokes access.</p>\n   </ul>\n   <p>These prompts should also include considerations for what, if any, control a\nuser has over their data after it has been shared with other parties.  For\nexample, are users able to determine what information was shared with other\nparties?</p>\n   <h3 class=\"heading settled\" data-level=\"4.4\" id=\"restrict-to-first-party\"><span class=\"secno\">4.4. </span><span class=\"content\"> Explicitly restrict the feature to first party origins </span><a class=\"self-link\" href=\"#restrict-to-first-party\"></a></h3>\n   <p>As described in the \"Third-Party Tracking\" section, web pages mix\nfirst and third party content into a single application, which\nintroduces the risk that third party content can misuse the same set of web\nfeatures as first party content.</p>\n   <p>Authors should explicitly specify a feature’s scope of availability:</p>\n   <ul>\n    <li data-md>\n     <p>When a feature should be made available to embedded third parties -- and\noften first parties should be able to explicitly control that (using\niframe attributes or feature policy)</p>\n    <li data-md>\n     <p>Whether a feature should be available in the background or only in the\ntop-most, visible tab.</p>\n    <li data-md>\n     <p>Whether a feature should be available to offline service workers.</p>\n    <li data-md>\n     <p>Whether events will be fired simultaneously</p>\n   </ul>\n   <p>Third party access to a feature should be an optional implementation for\nconformance.</p>\n   <h3 class=\"heading settled\" data-level=\"4.5\" id=\"secure-contexts\"><span class=\"secno\">4.5. </span><span class=\"content\"> Secure Contexts </span><a class=\"self-link\" href=\"#secure-contexts\"></a></h3>\n   <p>If the primary risk that you’ve identified in your specification is the\nthreat posed by <a data-link-type=\"dfn\" href=\"#active-network-attacker\" id=\"ref-for-active-network-attacker②\">active network attacker</a>, offering a feature to an\ninsecure origin is the same as offering that feature to every origin because\nthe attacker can inject frames and code at will. Requiring an encrypted and\nauthenticated connection in order to use a feature can mitigate this kind of\nrisk.</p>\n   <p>Secure contexts also protect against <a data-link-type=\"dfn\" href=\"#passive-network-attacker\" id=\"ref-for-passive-network-attacker\">passive network attackers</a>.  For\nexample, if a page uses the Geolocation API and sends the sensor-provided\nlatitude and longitude back to the server over an insecure connection, then\nany passive network attacker can learn the user’s location, without any\nfeasible path to detection by the user or others.</p>\n   <p>However, requiring a secure context is not sufficient to mitigate many\nprivacy risks or even security risks from other threat actors than active\nnetwork attackers.</p>\n   <h3 class=\"heading settled\" data-level=\"4.6\" id=\"drop-feature\"><span class=\"secno\">4.6. </span><span class=\"content\"> Drop the feature </span><a class=\"self-link\" href=\"#drop-feature\"></a></h3>\n   <p>Possibly the simplest way\nto mitigate potential negative security or privacy impacts of a feature\nis to drop the feature,\nthough you should keep in mind that some security or privacy risks\nmay be removed or mitigated\nby adding features to the platform.\nEvery feature in a specification\nshould be seen as\npotentially adding security and/or privacy risk\nuntil proven otherwise.\nDiscussing dropping the feature\nas a mitigation for security or privacy impacts\nis a helpful exercise\nas it helps illuminate the tradeoffs\nbetween the feature,\nwhether it is exposing the minimum amount of data necessary,\nand other possible mitigations.</p>\n   <p>Consider also the cumulative effect\nof feature addition\nto the overall impression that users have\nthat <a href=\"https://w3ctag.github.io/design-principles/#safe-to-browse\">it is safe to visit a web page</a>.\nDoing things that complicate users' understanding\nthat it is safe to visit websites,\nor that complicate what users need to understand\nabout the safety of the web\n(e.g., adding features that are less safe)\nreduces the ability of users\nto act based on that understanding of safety,\nor to act in ways that correctly reflect the safety that exists.</p>\n   <p>Every specification should seek to be as small as possible, even if only\nfor the reasons of reducing and minimizing security/privacy attack surface(s).\nBy doing so we can reduce the overall security and privacy attack surface\nof not only a particular feature, but of a module (related set of\nfeatures), a specification, and the overall web platform.</p>\n   <p>Examples</p>\n   <ul>\n    <li data-md>\n     <p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1313580\">Mozilla</a> and <a href=\"https://bugs.webkit.org/show_bug.cgi?id=164213\">WebKit</a> dropped the Battery Status API</p>\n    <li data-md>\n     <p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1359076\">Mozilla dropped</a> devicelight, deviceproximity and userproximity events</p>\n   </ul>\n   <h3 class=\"heading settled\" data-level=\"4.7\" id=\"privacy-impact-assessment\"><span class=\"secno\">4.7. </span><span class=\"content\"> Making a privacy impact assessment </span><a class=\"self-link\" href=\"#privacy-impact-assessment\"></a></h3>\n   <p>Some features potentially supply sensitive data, and it is\nthe responsibility of the end-developer, system owner, or manager to realize\nthis and act accordingly in the design of their system. Some use may\nwarrant conducting a privacy impact assessment, especially when data\nrelating to individuals may be processed.</p>\n   <p>Specifications that include features that expose sensitive data should include\nrecommendations that websites and applications adopting the API conduct a\nprivacy impact assessment of the data that they collect.</p>\n   <p>A feature that does this is:</p>\n   <ul>\n    <li data-md>\n     <p><a data-link-type=\"biblio\" href=\"#biblio-generic-sensor\">[GENERIC-SENSOR]</a> advises to consider performing of a privacy impact\nassessment</p>\n   </ul>\n   <p>Documenting these impacts is important for organizations although it should\nbe noted that there are limitations to putting this onus on organizations.\nResearch has shown that sites often do not comply with security/privacy\nrequirements in specifications.  For example, in <a data-link-type=\"biblio\" href=\"#biblio-doty-geolocation\">[DOTY-GEOLOCATION]</a>, it was\nfound that none of the studied websites informed users of their privacy\npractices before the site prompted for location.</p>\n  </main>\n<script src=\"https://www.w3.org/scripts/TR/2021/fixup.js\"></script>\n  <h2 class=\"no-num no-ref heading settled\" id=\"index\"><span class=\"content\">Index</span><a class=\"self-link\" href=\"#index\"></a></h2>\n  <h3 class=\"no-num no-ref heading settled\" id=\"index-defined-here\"><span class=\"content\">Terms defined by this specification</span><a class=\"self-link\" href=\"#index-defined-here\"></a></h3>\n  <ul class=\"index\">\n   <li><a href=\"#active-network-attacker\">active network attacker</a><span>, in § 3.2</span>\n   <li><a href=\"#cross-site-request-forgery-attacks\">Cross-site request forgery attacks</a><span>, in § 3.3</span>\n   <li><a href=\"#cross-site-scripting-attacks\">Cross-site scripting attacks</a><span>, in § 3.3</span>\n   <li><a href=\"#cross-site-request-forgery-attacks\">CSRF</a><span>, in § 3.3</span>\n   <li><a href=\"#passive-network-attacker\">passive network attacker</a><span>, in § 3.1</span>\n   <li><a href=\"#same-origin-policy\">same-origin policy</a><span>, in § 3.3</span>\n   <li><a href=\"#cross-site-scripting-attacks\">XSS</a><span>, in § 3.3</span>\n  </ul>\n  <aside class=\"dfn-panel\" data-for=\"term-for-connect-src\">\n   <a href=\"https://www.w3.org/TR/CSP3/#connect-src\">https://www.w3.org/TR/CSP3/#connect-src</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-connect-src\">2.4. \n  How do the features in your specification deal with sensitive information? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-form-action\">\n   <a href=\"https://www.w3.org/TR/CSP3/#form-action\">https://www.w3.org/TR/CSP3/#form-action</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-form-action\">2.4. \n  How do the features in your specification deal with sensitive information? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-cdm\">\n   <a href=\"https://www.w3.org/TR/encrypted-media/#cdm\">https://www.w3.org/TR/encrypted-media/#cdm</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-cdm\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-navigatorplugins\">\n   <a href=\"https://html.spec.whatwg.org/multipage/system-state.html#navigatorplugins\">https://html.spec.whatwg.org/multipage/system-state.html#navigatorplugins</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-navigatorplugins\">2.6. \n  Do the features in your specification expose information about the\n  underlying platform to origins? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-dom-document-domain\">\n   <a href=\"https://html.spec.whatwg.org/multipage/origin.html#dom-document-domain\">https://html.spec.whatwg.org/multipage/origin.html#dom-document-domain</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-dom-document-domain\">2.16. \n  Do features in your specification enable origins to downgrade default\n  security protections? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-fully-active\">\n   <a href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\">https://html.spec.whatwg.org/multipage/browsers.html#fully-active</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-fully-active\">2.17. \n  How does your feature handle non-\"fully active\" documents? </a> <a href=\"#ref-for-fully-active①\">(2)</a> <a href=\"#ref-for-fully-active②\">(3)</a> <a href=\"#ref-for-fully-active③\">(4)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-the-iframe-element\">\n   <a href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element\">https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-the-iframe-element\">2.16. \n  Do features in your specification enable origins to downgrade default\n  security protections? </a> <a href=\"#ref-for-the-iframe-element①\">(2)</a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-dom-localstorage\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage\">https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-dom-localstorage\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-secure-context\">\n   <a href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\">https://html.spec.whatwg.org/multipage/webappapis.html#secure-context</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-secure-context\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-sticky-activation\">\n   <a href=\"https://html.spec.whatwg.org/multipage/interaction.html#sticky-activation\">https://html.spec.whatwg.org/multipage/interaction.html#sticky-activation</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-sticky-activation\">2.17. \n  How does your feature handle non-\"fully active\" documents? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-dom-windoworworkerglobalscope-indexeddb\">\n   <a href=\"https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb\">https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-dom-windoworworkerglobalscope-indexeddb\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-policy-controlled-feature\">\n   <a href=\"https://www.w3.org/TR/permissions-policy/#policy-controlled-feature\">https://www.w3.org/TR/permissions-policy/#policy-controlled-feature</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-policy-controlled-feature\">2.16. \n  Do features in your specification enable origins to downgrade default\n  security protections? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-first-party-site-context\">\n   <a href=\"https://privacycg.github.io/storage-access/#first-party-site-context\">https://privacycg.github.io/storage-access/#first-party-site-context</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-first-party-site-context\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-third-party-context\">\n   <a href=\"https://privacycg.github.io/storage-access/#third-party-context\">https://privacycg.github.io/storage-access/#third-party-context</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-third-party-context\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"term-for-formdata\">\n   <a href=\"https://xhr.spec.whatwg.org/#formdata\">https://xhr.spec.whatwg.org/#formdata</a><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-formdata\">2.4. \n  How do the features in your specification deal with sensitive information? </a>\n   </ul>\n  </aside>\n  <h3 class=\"no-num no-ref heading settled\" id=\"index-defined-elsewhere\"><span class=\"content\">Terms defined by reference</span><a class=\"self-link\" href=\"#index-defined-elsewhere\"></a></h3>\n  <ul class=\"index\">\n   <li>\n    <a data-link-type=\"biblio\">[CSP]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-connect-src\">connect-src</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-form-action\">form-action</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[ENCRYPTED-MEDIA]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-cdm\">content decryption module</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[HTML]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-navigatorplugins\">NavigatorPlugins</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-dom-document-domain\">domain</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-fully-active\">fully active</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-the-iframe-element\">iframe</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-dom-localstorage\">localStorage</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-secure-context\">secure context</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-sticky-activation\">sticky activation</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[IndexedDB-2]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-dom-windoworworkerglobalscope-indexeddb\">indexedDB</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[PERMISSIONS-POLICY]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-policy-controlled-feature\">policy-controlled feature</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[storage-access]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-first-party-site-context\">first-party-site context</span>\n     <li><span class=\"dfn-paneled\" id=\"term-for-third-party-context\">third-party context</span>\n    </ul>\n   <li>\n    <a data-link-type=\"biblio\">[XHR]</a> defines the following terms:\n    <ul>\n     <li><span class=\"dfn-paneled\" id=\"term-for-formdata\">FormData</span>\n    </ul>\n  </ul>\n  <h2 class=\"no-num no-ref heading settled\" id=\"references\"><span class=\"content\">References</span><a class=\"self-link\" href=\"#references\"></a></h2>\n  <h3 class=\"no-num no-ref heading settled\" id=\"normative\"><span class=\"content\">Normative References</span><a class=\"self-link\" href=\"#normative\"></a></h3>\n  <dl>\n   <dt id=\"biblio-html\">[HTML]\n   <dd>Anne van Kesteren; et al. <a href=\"https://html.spec.whatwg.org/multipage/\"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href=\"https://html.spec.whatwg.org/multipage/\">https://html.spec.whatwg.org/multipage/</a>\n   <dt id=\"biblio-indexeddb-2\">[IndexedDB-2]\n   <dd>Ali Alabbas; Joshua Bell. <a href=\"https://www.w3.org/TR/IndexedDB-2/\"><cite>Indexed Database API 2.0</cite></a>. 30 January 2018. REC. URL: <a href=\"https://www.w3.org/TR/IndexedDB-2/\">https://www.w3.org/TR/IndexedDB-2/</a>\n  </dl>\n  <h3 class=\"no-num no-ref heading settled\" id=\"informative\"><span class=\"content\">Informative References</span><a class=\"self-link\" href=\"#informative\"></a></h3>\n  <dl>\n   <dt id=\"biblio-adding-permission\">[ADDING-PERMISSION]\n   <dd>Nick Doty. <a href=\"https://github.com/w3cping/adding-permissions\"><cite>Adding another permission? A guide</cite></a>. URL: <a href=\"https://github.com/w3cping/adding-permissions\">https://github.com/w3cping/adding-permissions</a>\n   <dt id=\"biblio-battery-status\">[BATTERY-STATUS]\n   <dd>Anssi Kostiainen; Mounir Lamouri. <a href=\"https://www.w3.org/TR/battery-status/\"><cite>Battery Status API</cite></a>. 9 November 2021. WD. URL: <a href=\"https://www.w3.org/TR/battery-status/\">https://www.w3.org/TR/battery-status/</a>\n   <dt id=\"biblio-comcast\">[COMCAST]\n   <dd>David Kravets. <a href=\"http://arstechnica.com/tech-policy/2014/09/why-comcasts-javascript-ad-injections-threaten-security-net-neutrality/\"><cite>Comcast Wi-Fi serving self-promotional ads via JavaScript injection</cite></a>. URL: <a href=\"http://arstechnica.com/tech-policy/2014/09/why-comcasts-javascript-ad-injections-threaten-security-net-neutrality/\">http://arstechnica.com/tech-policy/2014/09/why-comcasts-javascript-ad-injections-threaten-security-net-neutrality/</a>\n   <dt id=\"biblio-cors\">[CORS]\n   <dd>Anne van Kesteren. <a href=\"https://www.w3.org/TR/cors/\"><cite>Cross-Origin Resource Sharing</cite></a>. 2 June 2020. REC. URL: <a href=\"https://www.w3.org/TR/cors/\">https://www.w3.org/TR/cors/</a>\n   <dt id=\"biblio-credential-management-1\">[CREDENTIAL-MANAGEMENT-1]\n   <dd>Mike West. <a href=\"https://www.w3.org/TR/credential-management-1/\"><cite>Credential Management Level 1</cite></a>. 17 January 2019. WD. URL: <a href=\"https://www.w3.org/TR/credential-management-1/\">https://www.w3.org/TR/credential-management-1/</a>\n   <dt id=\"biblio-csp\">[CSP]\n   <dd>Mike West. <a href=\"https://www.w3.org/TR/CSP3/\"><cite>Content Security Policy Level 3</cite></a>. 29 June 2021. WD. URL: <a href=\"https://www.w3.org/TR/CSP3/\">https://www.w3.org/TR/CSP3/</a>\n   <dt id=\"biblio-dap-privacy-reqs\">[DAP-PRIVACY-REQS]\n   <dd>Alissa Cooper; Frederick Hirsch; John Morris. <a href=\"https://www.w3.org/TR/dap-privacy-reqs/\"><cite>Device API Privacy Requirements</cite></a>. 29 June 2010. NOTE. URL: <a href=\"https://www.w3.org/TR/dap-privacy-reqs/\">https://www.w3.org/TR/dap-privacy-reqs/</a>\n   <dt id=\"biblio-discovery-api\">[DISCOVERY-API]\n   <dd>Rich Tibbett. <a href=\"https://www.w3.org/TR/discovery-api/\"><cite>Network Service Discovery</cite></a>. 12 January 2017. NOTE. URL: <a href=\"https://www.w3.org/TR/discovery-api/\">https://www.w3.org/TR/discovery-api/</a>\n   <dt id=\"biblio-doty-geolocation\">[DOTY-GEOLOCATION]\n   <dd>Nick Doty, Deirdre K. Mulligan, Erik Wilde. <a href=\"https://escholarship.org/uc/item/0rp834wf\"><cite>Privacy Issues of the W3C Geolocation API</cite></a>. URL: <a href=\"https://escholarship.org/uc/item/0rp834wf\">https://escholarship.org/uc/item/0rp834wf</a>\n   <dt id=\"biblio-encrypted-media\">[ENCRYPTED-MEDIA]\n   <dd>David Dorwin; et al. <a href=\"https://www.w3.org/TR/encrypted-media/\"><cite>Encrypted Media Extensions</cite></a>. 18 September 2017. REC. URL: <a href=\"https://www.w3.org/TR/encrypted-media/\">https://www.w3.org/TR/encrypted-media/</a>\n   <dt id=\"biblio-fingerprinting-guidance\">[FINGERPRINTING-GUIDANCE]\n   <dd>Nick Doty. <a href=\"https://www.w3.org/TR/fingerprinting-guidance/\"><cite>Mitigating Browser Fingerprinting in Web Specifications</cite></a>. 28 March 2019. NOTE. URL: <a href=\"https://www.w3.org/TR/fingerprinting-guidance/\">https://www.w3.org/TR/fingerprinting-guidance/</a>\n   <dt id=\"biblio-fullscreen\">[FULLSCREEN]\n   <dd>Philip Jägenstedt. <a href=\"https://fullscreen.spec.whatwg.org/\"><cite>Fullscreen API Standard</cite></a>. Living Standard. URL: <a href=\"https://fullscreen.spec.whatwg.org/\">https://fullscreen.spec.whatwg.org/</a>\n   <dt id=\"biblio-gamepad\">[GAMEPAD]\n   <dd>Steve Agoston; et al. <a href=\"https://www.w3.org/TR/gamepad/\"><cite>Gamepad</cite></a>. 5 August 2021. WD. URL: <a href=\"https://www.w3.org/TR/gamepad/\">https://www.w3.org/TR/gamepad/</a>\n   <dt id=\"biblio-generic-sensor\">[GENERIC-SENSOR]\n   <dd>Rick Waldron. <a href=\"https://www.w3.org/TR/generic-sensor/\"><cite>Generic Sensor API</cite></a>. 15 December 2021. CR. URL: <a href=\"https://www.w3.org/TR/generic-sensor/\">https://www.w3.org/TR/generic-sensor/</a>\n   <dt id=\"biblio-geolocation-api\">[GEOLOCATION-API]\n   <dd>Andrei Popescu. <a href=\"https://www.w3.org/TR/geolocation-API/\"><cite>Geolocation API Specification 2nd Edition</cite></a>. 8 November 2016. REC. URL: <a href=\"https://www.w3.org/TR/geolocation-API/\">https://www.w3.org/TR/geolocation-API/</a>\n   <dt id=\"biblio-gyrospeechrecognition\">[GYROSPEECHRECOGNITION]\n   <dd>Yan Michalevsky; Dan Boneh; Gabi Nakibly. <a href=\"https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf\"><cite>Gyrophone: Recognizing Speech from Gyroscope Signals</cite></a>. URL: <a href=\"https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf\">https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf</a>\n   <dt id=\"biblio-homakov\">[HOMAKOV]\n   <dd>Egor Homakov. <a href=\"http://homakov.blogspot.de/2014/01/using-content-security-policy-for-evil.html\"><cite>Using Content-Security-Policy for Evil</cite></a>. URL: <a href=\"http://homakov.blogspot.de/2014/01/using-content-security-policy-for-evil.html\">http://homakov.blogspot.de/2014/01/using-content-security-policy-for-evil.html</a>\n   <dt id=\"biblio-olejnik-als\">[OLEJNIK-ALS]\n   <dd>Lukasz Olejnik. <a href=\"https://blog.lukaszolejnik.com/privacy-of-ambient-light-sensors/\"><cite>Privacy analysis of Ambient Light Sensors</cite></a>. URL: <a href=\"https://blog.lukaszolejnik.com/privacy-of-ambient-light-sensors/\">https://blog.lukaszolejnik.com/privacy-of-ambient-light-sensors/</a>\n   <dt id=\"biblio-olejnik-battery\">[OLEJNIK-BATTERY]\n   <dd>Lukasz Olejnik; et al. <a href=\"https://eprint.iacr.org/2015/616\"><cite>The leaking battery: A privacy analysis of the HTML5 Battery Status API</cite></a>. URL: <a href=\"https://eprint.iacr.org/2015/616\">https://eprint.iacr.org/2015/616</a>\n   <dt id=\"biblio-olejnik-payments\">[OLEJNIK-PAYMENTS]\n   <dd>Lukasz Olejnik. <a href=\"https://blog.lukaszolejnik.com/privacy-of-web-request-api/\"><cite>Privacy of Web Request API</cite></a>. URL: <a href=\"https://blog.lukaszolejnik.com/privacy-of-web-request-api/\">https://blog.lukaszolejnik.com/privacy-of-web-request-api/</a>\n   <dt id=\"biblio-permissions\">[PERMISSIONS]\n   <dd>Marcos Caceres; Mike Taylor. <a href=\"https://www.w3.org/TR/permissions/\"><cite>Permissions</cite></a>. 7 December 2021. WD. URL: <a href=\"https://www.w3.org/TR/permissions/\">https://www.w3.org/TR/permissions/</a>\n   <dt id=\"biblio-permissions-policy\">[PERMISSIONS-POLICY]\n   <dd>Ian Clelland. <a href=\"https://www.w3.org/TR/permissions-policy-1/\"><cite>Permissions Policy</cite></a>. 16 July 2020. WD. URL: <a href=\"https://www.w3.org/TR/permissions-policy-1/\">https://www.w3.org/TR/permissions-policy-1/</a>\n   <dt id=\"biblio-rfc3552\">[RFC3552]\n   <dd>E. Rescorla; B. Korver. <a href=\"https://www.rfc-editor.org/rfc/rfc3552\"><cite>Guidelines for Writing RFC Text on Security Considerations</cite></a>. July 2003. Best Current Practice. URL: <a href=\"https://www.rfc-editor.org/rfc/rfc3552\">https://www.rfc-editor.org/rfc/rfc3552</a>\n   <dt id=\"biblio-rfc6454\">[RFC6454]\n   <dd>A. Barth. <a href=\"https://www.rfc-editor.org/rfc/rfc6454\"><cite>The Web Origin Concept</cite></a>. December 2011. Proposed Standard. URL: <a href=\"https://www.rfc-editor.org/rfc/rfc6454\">https://www.rfc-editor.org/rfc/rfc6454</a>\n   <dt id=\"biblio-rfc6973\">[RFC6973]\n   <dd>A. Cooper; et al. <a href=\"https://www.rfc-editor.org/rfc/rfc6973\"><cite>Privacy Considerations for Internet Protocols</cite></a>. July 2013. Informational. URL: <a href=\"https://www.rfc-editor.org/rfc/rfc6973\">https://www.rfc-editor.org/rfc/rfc6973</a>\n   <dt id=\"biblio-rfc7258\">[RFC7258]\n   <dd>S. Farrell; H. Tschofenig. <a href=\"https://www.rfc-editor.org/rfc/rfc7258\"><cite>Pervasive Monitoring Is an Attack</cite></a>. May 2014. Best Current Practice. URL: <a href=\"https://www.rfc-editor.org/rfc/rfc7258\">https://www.rfc-editor.org/rfc/rfc7258</a>\n   <dt id=\"biblio-rivera\">[RIVERA]\n   <dd>David Rivera. <a href=\"https://gist.github.com/jherax/a81c8c132d09cc354a0e2cb911841ff1\"><cite>Detect if a browser is in Private Browsing mode</cite></a>. URL: <a href=\"https://gist.github.com/jherax/a81c8c132d09cc354a0e2cb911841ff1\">https://gist.github.com/jherax/a81c8c132d09cc354a0e2cb911841ff1</a>\n   <dt id=\"biblio-service-workers\">[SERVICE-WORKERS]\n   <dd>Alex Russell; et al. <a href=\"https://www.w3.org/TR/service-workers-1/\"><cite>Service Workers 1</cite></a>. 19 November 2019. CR. URL: <a href=\"https://www.w3.org/TR/service-workers-1/\">https://www.w3.org/TR/service-workers-1/</a>\n   <dt id=\"biblio-timing\">[TIMING]\n   <dd>Paul Stone. <a href=\"http://www.contextis.com/documents/2/Browser_Timing_Attacks.pdf\"><cite>Pixel Perfect Timing Attacks with HTML5</cite></a>. URL: <a href=\"http://www.contextis.com/documents/2/Browser_Timing_Attacks.pdf\">http://www.contextis.com/documents/2/Browser_Timing_Attacks.pdf</a>\n   <dt id=\"biblio-verizon\">[VERIZON]\n   <dd>Mark Bergen; Alex Kantrowitz. <a href=\"http://adage.com/article/digital/verizon-target-mobile-subscribers-ads/293356/\"><cite>Verizon looks to target its mobile subscribers with ads</cite></a>. URL: <a href=\"http://adage.com/article/digital/verizon-target-mobile-subscribers-ads/293356/\">http://adage.com/article/digital/verizon-target-mobile-subscribers-ads/293356/</a>\n   <dt id=\"biblio-web-bluetooth\">[WEB-BLUETOOTH]\n   <dd>Jeffrey Yasskin. <a href=\"https://webbluetoothcg.github.io/web-bluetooth/\"><cite>Web Bluetooth</cite></a>. Draft Community Group Report. URL: <a href=\"https://webbluetoothcg.github.io/web-bluetooth/\">https://webbluetoothcg.github.io/web-bluetooth/</a>\n   <dt id=\"biblio-webauthn\">[WEBAUTHN]\n   <dd>Dirk Balfanz; et al. <a href=\"https://www.w3.org/TR/webauthn-1/\"><cite>Web Authentication:An API for accessing Public Key Credentials Level 1</cite></a>. 4 March 2019. REC. URL: <a href=\"https://www.w3.org/TR/webauthn-1/\">https://www.w3.org/TR/webauthn-1/</a>\n   <dt id=\"biblio-webusb\">[WEBUSB]\n   <dd><a href=\"https://wicg.github.io/webusb/\"><cite>WebUSB API</cite></a>. cg-draft. URL: <a href=\"https://wicg.github.io/webusb/\">https://wicg.github.io/webusb/</a>\n   <dt id=\"biblio-wu-private-browsing\">[WU-PRIVATE-BROWSING]\n   <dd>Yuxi Wu; et al. <a href=\"https://dl.acm.org/citation.cfm?id=3186088\"><cite>Your Secrets Are Safe: How Browsers' Explanations Impact Misconceptions About Private Browsing Mode</cite></a>. URL: <a href=\"https://dl.acm.org/citation.cfm?id=3186088\">https://dl.acm.org/citation.cfm?id=3186088</a>\n   <dt id=\"biblio-xhr\">[XHR]\n   <dd>Anne van Kesteren. <a href=\"https://xhr.spec.whatwg.org/\"><cite>XMLHttpRequest Standard</cite></a>. Living Standard. URL: <a href=\"https://xhr.spec.whatwg.org/\">https://xhr.spec.whatwg.org/</a>\n   <dt id=\"biblio-yubikey-attack\">[YUBIKEY-ATTACK]\n   <dd>Andy Greenberg. <a href=\"https://www.wired.com/story/chrome-yubikey-phishing-webusb/\"><cite>Chrome Lets Hackers Phish Even 'Unphishable' YubiKey Users</cite></a>. URL: <a href=\"https://www.wired.com/story/chrome-yubikey-phishing-webusb/\">https://www.wired.com/story/chrome-yubikey-phishing-webusb/</a>\n  </dl>\n  <aside class=\"dfn-panel\" data-for=\"passive-network-attacker\">\n   <b><a href=\"#passive-network-attacker\">#passive-network-attacker</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-passive-network-attacker\">4.5. \n  Secure Contexts </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"active-network-attacker\">\n   <b><a href=\"#active-network-attacker\">#active-network-attacker</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-active-network-attacker\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a> <a href=\"#ref-for-active-network-attacker①\">(2)</a>\n    <li><a href=\"#ref-for-active-network-attacker②\">4.5. \n  Secure Contexts </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"same-origin-policy\">\n   <b><a href=\"#same-origin-policy\">#same-origin-policy</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-same-origin-policy\">2.16. \n  Do features in your specification enable origins to downgrade default\n  security protections? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"cross-site-scripting-attacks\">\n   <b><a href=\"#cross-site-scripting-attacks\">#cross-site-scripting-attacks</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-cross-site-scripting-attacks\">2.4. \n  How do the features in your specification deal with sensitive information? </a>\n    <li><a href=\"#ref-for-cross-site-scripting-attacks①\">2.5. \n  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </a>\n   </ul>\n  </aside>\n  <aside class=\"dfn-panel\" data-for=\"cross-site-request-forgery-attacks\">\n   <b><a href=\"#cross-site-request-forgery-attacks\">#cross-site-request-forgery-attacks</a></b><b>Referenced in:</b>\n   <ul>\n    <li><a href=\"#ref-for-cross-site-request-forgery-attacks\">2.7. \n  Does this specification allow an origin to send data to the underlying\n  platform? </a>\n   </ul>\n  </aside>\n<script>/* script-dfn-panel */\n\ndocument.body.addEventListener(\"click\", function(e) {\n    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }\n    // Find the dfn element or panel, if any, that was clicked on.\n    var el = e.target;\n    var target;\n    var hitALink = false;\n    while(el.parentElement) {\n        if(el.tagName == \"A\") {\n            // Clicking on a link in a <dfn> shouldn't summon the panel\n            hitALink = true;\n        }\n        if(el.classList.contains(\"dfn-paneled\")) {\n            target = \"dfn\";\n            break;\n        }\n        if(el.classList.contains(\"dfn-panel\")) {\n            target = \"dfn-panel\";\n            break;\n        }\n        el = el.parentElement;\n    }\n    if(target != \"dfn-panel\") {\n        // Turn off any currently \"on\" or \"activated\" panels.\n        queryAll(\".dfn-panel.on, .dfn-panel.activated\").forEach(function(el){\n            el.classList.remove(\"on\");\n            el.classList.remove(\"activated\");\n        });\n    }\n    if(target == \"dfn\" && !hitALink) {\n        // open the panel\n        var dfnPanel = document.querySelector(\".dfn-panel[data-for='\" + el.id + \"']\");\n        if(dfnPanel) {\n            dfnPanel.classList.add(\"on\");\n            var rect = el.getBoundingClientRect();\n            dfnPanel.style.left = window.scrollX + rect.right + 5 + \"px\";\n            dfnPanel.style.top = window.scrollY + rect.top + \"px\";\n            var panelRect = dfnPanel.getBoundingClientRect();\n            var panelWidth = panelRect.right - panelRect.left;\n            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {\n                // Reposition, because the panel is overflowing\n                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + \"px\";\n            }\n        } else {\n            console.log(\"Couldn't find .dfn-panel[data-for='\" + el.id + \"']\");\n        }\n    } else if(target == \"dfn-panel\") {\n        // Switch it to \"activated\" state, which pins it.\n        el.classList.add(\"activated\");\n        el.style.left = null;\n        el.style.top = null;\n    }\n\n});\n</script>\n","oembed":false,"readabilityObject":{"title":"Self-Review Questionnaire: Security and Privacy","content":"<div id=\"readability-page-1\" class=\"page\"><div>\n   <h2 data-level=\"1\" id=\"intro\"><span>1. </span><span>Introduction</span><a href=\"#intro\"></a></h2>\n   <p>When designing new features for the Web platform,\nwe must always consider the security and privacy implications of our work.\nNew Web features should always\nmaintain or enhance\nthe overall security and privacy of the Web.</p>\n   <p>This document contains a set of questions\nintended to help <abbr title=\"specification\">spec</abbr> authors\nas they think through\nthe security and privacy implications\nof their work and write the narrative Security Considerations and Privacy\nConsiderations sections for inclusion in-line in their specifications,\nas described below in <a href=\"#considerations\">§ 2.15 Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections?</a>.\nIt also documents mitigation strategies\nthat spec authors can use to address\nsecurity and privacy concerns they encounter as they work on their spec.</p>\n   <p>This document is itself a work in progress,\nand there may be security or privacy concerns\nwhich this document does not (yet) cover.\nPlease <a href=\"https://github.com/w3ctag/security-questionnaire/issues/new\">let us know</a> if you identify a security or privacy concern\nthis questionnaire should ask about.</p>\n   <h3 data-level=\"1.1\" id=\"howtouse\"><span>1.1. </span><span>How To Use The Questionnaire</span><a href=\"#howtouse\"></a></h3>\n   <p>Work through these questions\nearly on in the design process,\nwhen things are easier to change.\nWhen privacy and security issues are only found later,\nafter a feature has shipped,\nit’s much harder to change the design.\nIf security or privacy issues are found late,\nuser agents may need to adopt breaking changes\nto fix the issues.</p>\n   <p>Keep these questions in mind while working on specifications.\nPeriodically revisit this questionnaire and continue to consider the questions,\nparticularly as a design changes over time.</p>\n   <h3 data-level=\"1.2\" id=\"resources\"><span>1.2. </span><span>Additional resources</span><a href=\"#resources\"></a></h3>\n   <p>The Mitigating Browser Fingerprinting in Web Specifications <a data-link-type=\"biblio\" href=\"#biblio-fingerprinting-guidance\">[FINGERPRINTING-GUIDANCE]</a> document published by PING goes into\nfurther depth about browser fingerprinting and should be considered in\nparallel with this document.</p>\n   <p>The IETF’s RFC about privacy considerations, <a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a>, is a\nwonderful resource, particularly section 7.</p>\n   <h3 data-level=\"1.3\" id=\"reviews\"><span>1.3. </span><span>TAG, PING, security reviews and this questionnaire</span><a href=\"#reviews\"></a></h3>\n   <p>Before requesting\nprivacy and\nsecurity reviews from the <a href=\"https://www.w3.org/Privacy/IG/\">Privacy Interest Group\n(PING)</a> and security reviewers,\nwrite \"Security Considerations\" and\n\"Privacy Considerations\" sections in your document, as described in <a href=\"#considerations\">§ 2.15 Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections?</a>.  Answering the questions in this\ndocument will, we hope, inform your writing of those sections. It is not\nappropriate, however, to merely copy this questionnaire into those sections.\nInstructions for requesting security and privacy reviews can be\nfound in the document <cite><a href=\"https://w3c.github.io/documentreview/#how_to_get_horizontal_review\">How to do Wide Review</a></cite>.</p>\n   <p>When requesting\na <a href=\"https://github.com/w3ctag/design-reviews\">review</a> from the <a href=\"https://www.w3.org/2001/tag/\">Technical Architecture Group (TAG)</a>,\nplease provide the TAG with answers\nto the questions in this document. <a href=\"https://raw.githubusercontent.com/w3ctag/security-questionnaire/main/questionnaire.markdown\">This Markdown\ntemplate</a> may be useful when doing so.</p>\n   <h2 data-level=\"2\" id=\"questions\"><span>2. </span><span>Questions to Consider</span><a href=\"#questions\"></a></h2>\n   <h3 data-level=\"2.1\" id=\"purpose\"><span>2.1. </span><span> What information might this feature expose to Web sites or other parties,\n  and for what purposes is that exposure necessary? </span><a href=\"#purpose\"></a></h3>\n   <p>User Agents should only expose information to the web\nwhen doing so is necessary to serve a clear user need.\nDoes your feature expose information to origins?\nIf so, how does exposing this information serve user needs?\nAre the risks to the user outweighed by the benefits to the user?\nIf so, how?</p>\n   <p>See also</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a href=\"https://www.w3.org/TR/design-principles/#priority-of-constituencies\">Web Platform Design Principles § priority-of-constituencies</a></p>\n   </li></ul>\n   <p>When answering this question, please consider each of these four possible\nareas of information disclosure / sharing.</p>\n   <p>For the below sub-questions,\nplease take the term <em>potentially identifying information</em> to mean information that describes the browser user,\ndistinct from others who use the same browser version.\nExamples of such <em>potentially identifying information</em> include information\nabout the browser user’s environment (e.g., operating system configuration,\nbrowser configuration, hardware capabilities), and the user’s prior activities\nand interests (e.g., browsing history, purchasing preferences, personal\ncharacteristics).</p>\n   <ol>\n    <li data-md=\"\">\n     <p>What information does your spec expose to the <strong>first party</strong> that\nthe <strong>first party</strong> cannot currently easily determine.</p>\n    </li><li data-md=\"\">\n     <p>What information does your spec expose to <strong>third parties</strong> that <strong>third parties</strong> cannot currently easily determine.</p>\n    </li><li data-md=\"\">\n     <p>What <em>potentially identifying information</em> does your spec expose to the <strong>first party</strong> that the <strong>first party</strong> can already access (i.e., what\nidentifying information does your spec duplicate or mirror).</p>\n    </li><li data-md=\"\">\n     <p>What <em>potentially identifying information</em> does your spec expose to <strong>third parties</strong> that <strong>third parties</strong> can already access.</p>\n   </li></ol>\n   <h3 data-level=\"2.2\" id=\"minimum-data\"><span>2.2. </span><span> Do features in your specification expose the minimum amount of information\n  necessary to enable their intended uses? </span><a href=\"#minimum-data\"></a></h3>\n   <p>Features should only expose information\nwhen it’s absolutely necessary to satisfy use cases.\nIf a feature exposes more information than is necessary,\nwhy does it do so?</p>\n   <p>See also</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a href=\"#data-minimization\">§ 4.1 Data Minimization</a></p>\n   </li></ul>\n   <p id=\"example-416d4171\"><a href=\"#example-416d4171\"></a> Content Security Policy <a data-link-type=\"biblio\" href=\"#biblio-csp\">[CSP]</a> unintentionally exposed redirect targets\ncross-origin by allowing one origin to infer details about another origin\nthrough violation reports (see <a data-link-type=\"biblio\" href=\"#biblio-homakov\">[HOMAKOV]</a>). The working group eventually\nmitigated the risk by reducing a policy’s granularity after a redirect. </p>\n   <h3 data-level=\"2.3\" id=\"personal-data\"><span>2.3. </span><span> How do the features in your specification deal with personal information,\n  personally-identifiable information (PII), or information derived from\n  them? </span><a href=\"#personal-data\"></a></h3>\n   <p>Personal information is any data about a user\n(for example, their home address),\nor information that could be used to identify a user,\nsuch as an alias, email address, or identification number.</p>\n   <p role=\"note\"><span>Note:</span> Personal information is\ndistinct from personally identifiable information\n(<abbr title=\"personally identifiable information\">PII</abbr>).\nPII is a legal concept,\nthe definition of which varies from jurisdiction to jurisdiction.\nWhen used in a non-legal context,\nPII tends to refer generally\nto information\nthat could be used to identify a user.</p>\n   <p>When exposing\npersonal information, PII, or derivative information,\nspec authors must take steps to minimize the potential harm to users.</p>\n   <p id=\"example-1d75986f\"><a href=\"#example-1d75986f\"></a> A feature\nwhich gathers biometric data\n(such as fingerprints or retina scans)\nfor authentication\nshould not directly expose this biometric data to the web.\nInstead,\nit can use the biometric data\nto look up or generate some temporary key which is not shared across origins\nwhich can then be safely exposed to the origin. <a data-link-type=\"biblio\" href=\"#biblio-webauthn\">[WEBAUTHN]</a> </p>\n   <p>Personal information, PII, or their derivatives\nshould not be exposed to origins\nwithout <a href=\"https://w3ctag.github.io/design-principles/#consent\">meaningful user consent</a>.\nMany APIs\nuse the Permissions API to acquire meaningful user consent. <a data-link-type=\"biblio\" href=\"#biblio-permissions\">[PERMISSIONS]</a></p>\n   <p>Keep in mind\nthat each permission prompt\nadded to the web platform\nincreases the risk\nthat users will ignore\nthe contents of all permission prompts.\nBefore adding a permission prompt, consider your options for using\na less obtrusive way to gain meaningful user consent. <a data-link-type=\"biblio\" href=\"#biblio-adding-permission\">[ADDING-PERMISSION]</a></p>\n   <p id=\"example-e2335d65\"><a href=\"#example-e2335d65\"></a> <code>&lt;input type=file&gt;</code> can be used to upload\ndocuments containing personal information\nto websites.\nIt makes use of\nthe underlying native platform’s file picker\nto ensure the user understands\nthat the file and its contents\nwill be exposed to the website,\nwithout a separate permissions prompt. </p>\n   <p>See also</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a href=\"#user-mediation\">§ 4.3 Explicit user mediation</a></p>\n    </li><li data-md=\"\">\n     <p><a href=\"https://www.w3.org/TR/design-principles/#consent\">Web Platform Design Principles § consent</a></p>\n   </li></ul>\n   <h3 data-level=\"2.4\" id=\"sensitive-data\"><span>2.4. </span><span> How do the features in your specification deal with sensitive information? </span><a href=\"#sensitive-data\"></a></h3>\n   <p>Personal information is not the only kind of sensitive information.\nMany other kinds of information may also be sensitive.\nWhat is or isn’t sensitive information can vary\nfrom person to person\nor from place to place.\nInformation that would be harmless if known about\none person or group of people\ncould be dangerous if known about\nanother person or group.\nInformation about a person\nthat would be harmless in one country\nmight be used in another country\nto detain, kidnap, or imprison them.</p>\n   <p>Examples of sensitive information include:\ncaste,\ncitizenship,\ncolor,\ncredentials,\ncriminal record,\ndemographic information,\ndisability status,\nemployment status,\nethnicity,\nfinancial information,\nhealth information,\nlocation data,\nmarital status,\npolitical beliefs,\nprofession,\nrace,\nreligious beliefs or nonbeliefs,\nsexual preferences,\nand\ntrans status.</p>\n   <p>When a feature exposes sensitive information to the web,\nits designers must take steps\nto mitigate the risk of exposing the information.</p>\n   <div id=\"example-faf2460c\">\n    <p>The Credential Management API allows sites\nto request a user’s credentials\nfrom a password manager. <a data-link-type=\"biblio\" href=\"#biblio-credential-management-1\">[CREDENTIAL-MANAGEMENT-1]</a> If it exposed the user’s credentials to JavaScript,\nand if the page using the API were vulnerable to <a data-link-type=\"dfn\" href=\"#cross-site-scripting-attacks\" id=\"ref-for-cross-site-scripting-attacks\">XSS</a> attacks,\nthe user’s credentials could be leaked to attackers.</p>\n    <p>The Credential Management API\nmitigates this risk\nby not exposing the credentials to JavaScript.\nInstead, it exposes\nan opaque <code><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#formdata\" id=\"ref-for-formdata\">FormData</a></code> object\nwhich cannot be read by JavaScript.\nThe spec also recommends\nthat sites configure Content Security Policy <a data-link-type=\"biblio\" href=\"#biblio-csp\">[CSP]</a> with reasonable <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/CSP3/#connect-src\" id=\"ref-for-connect-src\">connect-src</a> and <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/CSP3/#form-action\" id=\"ref-for-form-action\">form-action</a> values\nto further mitigate the risk of exfiltration.</p>\n   </div>\n   <p>Many use cases\nwhich require location information\ncan be adequately served\nwith very coarse location data.\nFor instance,\na site which recommends restaurants\ncould adequately serve its users\nwith city-level location information\ninstead of exposing the user’s precise location.</p>\n   <p>See also</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a href=\"https://www.w3.org/TR/design-principles/#do-not-expose-use-of-assistive-tech\">Web Platform Design Principles § do-not-expose-use-of-assistive-tech</a></p>\n   </li></ul>\n   <h3 data-level=\"2.5\" id=\"persistent-origin-specific-state\"><span>2.5. </span><span> Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? </span><a href=\"#persistent-origin-specific-state\"></a></h3>\n   <p>There are many existing mechanisms\norigins can use to\nstore information about a user.\nCookies, <code>ETag</code>, <code>Last Modified</code>, <code><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage\" id=\"ref-for-dom-localstorage\">localStorage</a></code>,\nand <code><a data-link-type=\"idl\" href=\"https://w3c.github.io/IndexedDB/#dom-windoworworkerglobalscope-indexeddb\" id=\"ref-for-dom-windoworworkerglobalscope-indexeddb\">indexedDB</a></code> are just a few examples.</p>\n   <p>Allowing an origin\nto store data\non a user’s device\nin a way that persists across browsing sessions\nintroduces the risk\nthat this state may be used\nto track a user\nwithout their knowledge or control,\neither in <a data-link-type=\"dfn\" href=\"https://privacycg.github.io/storage-access/#first-party-site-context\" id=\"ref-for-first-party-site-context\">first-</a> or <a data-link-type=\"dfn\" href=\"https://privacycg.github.io/storage-access/#third-party-context\" id=\"ref-for-third-party-context\">third-party</a> contexts.</p>\n   <p>One of the ways\nuser agents mitigate the risk\nthat client-side storage mechanisms\nwill form a persistent identifier\nis by providing users with the ability\nto clear out the data stored by origins.\nNew state persistence mechanisms\nshould not be introduced\nwithout mitigations\nto prevent them\nfrom being used\nto track users\nacross domains\nor without control\nover clearing this state.\nThat said,\nmanually clearing storage\nis something users do only rarely.\nSpec authors should consider ways\nto make new features more privacy-preserving without full storage clearing,\nsuch as\nreducing the uniqueness of values,\nrotating values,\nor otherwise making features no more identifying than is needed.\nAlso, keep in mind that\nuser agents make use of several different caching mechanisms.\nWhich, if any, caches will store this new state?\nAre additional mitigations necessary?</p>\n   <div id=\"example-c6a8651b\">\n    <p>Service Workers\nintercept all requests made by an origin,\nwhich enables sites\nto continue to function when the browser goes offline.\nBecause of this,\na maliciously-injected service worker\ncould compromise the user (as documented in <a href=\"https://www.w3.org/TR/service-workers-1/#security-considerations\"><cite>Service Workers</cite> § 6 Security Considerations</a>).</p>\n    <p>The spec mitigates the risks\nan <a data-link-type=\"dfn\" href=\"#active-network-attacker\" id=\"ref-for-active-network-attacker\">active network attacker</a> or <a data-link-type=\"dfn\" href=\"#cross-site-scripting-attacks\" id=\"ref-for-cross-site-scripting-attacks①\">XSS</a> vulnerability present\nby limiting service worker registration to <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context\">secure contexts</a>. <a data-link-type=\"biblio\" href=\"#biblio-service-workers\">[SERVICE-WORKERS]</a></p>\n   </div>\n   <p id=\"example-32a45432\"><a href=\"#example-32a45432\"></a> Platform-specific DRM implementations\n(such as <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/encrypted-media/#cdm\" id=\"ref-for-cdm\">content decryption modules</a> in <a data-link-type=\"biblio\" href=\"#biblio-encrypted-media\">[ENCRYPTED-MEDIA]</a>)\nmight expose origin-specific information\nin order to help identify users\nand determine whether they ought to be granted access\nto a specific piece of media.\nThese kinds of identifiers\nshould be carefully evaluated\nto determine how abuse can be mitigated;\nidentifiers which a user cannot easily change\nare very valuable from a tracking perspective,\nand protecting such identifiers\nfrom an <a data-link-type=\"dfn\" href=\"#active-network-attacker\" id=\"ref-for-active-network-attacker①\">active network attacker</a> is vital. </p>\n   <h3 data-level=\"2.6\" id=\"underlying-platform-data\"><span>2.6. </span><span> Do the features in your specification expose information about the\n  underlying platform to origins? </span><a href=\"#underlying-platform-data\"></a></h3>\n   <p>(Underlying platform information includes\nuser configuration data,\nthe presence and attributes of hardware I/O devices such as sensors,\nand the availability and behavior of various software features.)</p>\n   <p>If so, is the same information exposed across origins?\nDo different origins see different data or the same data?\nDoes the data change frequently or rarely?\nRarely-changing data exposed to multiple origins\ncan be used to uniquely identify a user across those origins.\nThis may be direct\n(when the piece of information is unique)\nor indirect\n(because the data may be combined with other data to form a fingerprint). <a data-link-type=\"biblio\" href=\"#biblio-fingerprinting-guidance\">[FINGERPRINTING-GUIDANCE]</a></p>\n   <p>When considering whether or not to expose such information,\nspecs and user agents\nshould not consider the information in isolation,\nbut should evaluate the risk of adding it\nto the existing fingerprinting surface of the platform.</p>\n   <p>Keep in mind that\nthe fingerprinting risk of a particular piece of information\nmay vary between platforms.\nThe fingerprinting risk of some data\non the hardware and software platforms <em>you</em> use\nmay be different than\nthe fingerprinting risk on other platforms.</p>\n   <p>When you do decide to expose such information,\nyou should take steps to mitigate the harm of such exposure.</p>\n   <p>Sometimes the right answer is to not expose the data in the first place (see <a href=\"#drop-feature\">§ 4.6 Drop the feature</a>).\nIn other cases,\nreducing fingerprintability may be as simple as\nensuring consistency—for instance,\nby ordering a list of available resources—but sometimes,\nmore complex mitigations may be necessary.\nSee <a href=\"#mitigations\">§ 4 Mitigation Strategies</a> for more.</p>\n   <p>If features in your spec expose such data\nand does not define adequate mitigations,\nyou should ensure that such information\nis not revealed to origins\nwithout <a href=\"https://www.w3.org/TR/design-principles/#consent\">meaningful user consent</a>,\nand\nyou should clearly describe this\nin your specification’s Security and Privacy Considerations sections.</p>\n   <p id=\"example-19fb6999\"><a href=\"#example-19fb6999\"></a> WebGL’s <code>RENDERER</code> string\nenables some applications to improve performance.\nIt’s also valuable fingerprinting data.\nThis privacy risk must be carefully weighed\nwhen considering exposing such data to origins. </p>\n   <p id=\"example-5a75fd5f\"><a href=\"#example-5a75fd5f\"></a> The <code><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/system-state.html#navigatorplugins\" id=\"ref-for-navigatorplugins\">NavigatorPlugins</a></code> list almost never changes.\nSome user agents have <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=757726\">disabled direct enumeration of the plugin list</a> to reduce the fingerprinting harm of this interface. </p>\n   <p>See also:</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a href=\"https://www.w3.org/TR/design-principles/#device-ids\">Use care when exposing identifying information about devices</a></p>\n    </li><li data-md=\"\">\n     <p><a href=\"https://www.w3.org/TR/design-principles/#device-enumeration\">Use care when exposing APIs for selecting or enumerating devices</a></p>\n   </li></ul>\n   <h3 data-level=\"2.7\" id=\"send-to-platform\"><span>2.7. </span><span> Does this specification allow an origin to send data to the underlying\n  platform? </span><a href=\"#send-to-platform\"></a></h3>\n   <p>If so, what kind of data can be sent?</p>\n   <p>Platforms differ in how they process data passed into them,\nwhich may present different risks to users.</p>\n   <p>Don’t assume the underlying platform will safely handle the data that is passed.\nWhere possible, mitigate attacks by limiting or structuring the kind of data is passed to the platform.</p>\n   <div id=\"example-e01cd738\">\n    <p><a href=\"#example-e01cd738\"></a> URLs may or may not be dereferenced by a platform API,\nand if they are dereferenced,\nredirects may or may not be followed.\nIf your specification sends URLs to underlying platform APIs,\nthe potential harm of <em>your</em> API\nmay vary depending on\nthe behavior of the various underlying platform APIs it’s built upon. \n    </p><p>What happens when <code>file:</code>, <code>data:</code>, or <code>blob:</code> URLs\nare passed to the underlying platform API?\nThese can potentially read sensitive data\ndirectly form the user’s hard disk or from memory.</p>\n    <p>Even if your API only allows <code>http:</code> and <code>https:</code> URLs,\nsuch URLs may be vulnerable to <a data-link-type=\"dfn\" href=\"#cross-site-request-forgery-attacks\" id=\"ref-for-cross-site-request-forgery-attacks\">CSRF</a> attacks,\nor be redirected to <code>file:</code>, <code>data:</code>, or <code>blob:</code> URLs.</p>\n   </div>\n   <h3 data-level=\"2.8\" id=\"sensor-data\"><span>2.8. </span><span> Do features in this specification enable access to device sensors? </span><a href=\"#sensor-data\"></a></h3>\n   <p>If so, what kinds of information from or about the sensors are exposed to origins?</p>\n   <p>Information from sensors may serve as a fingerprinting vector across origins.\nAdditionally,\nsensors may reveal something sensitive about the device or its environment.</p>\n   <p>If sensor data is relatively stable\nand consistent across origins,\nit could be used as a cross-origin identifier.\nIf two User Agents expose such stable data from the same sensors,\nthe data could even be used as a cross-browser, or potentially even a cross-device, identifier.</p>\n   <p id=\"example-e79c5eae\"><a href=\"#example-e79c5eae\"></a> Researchers discovered that\nit’s possible to use\na sufficiently fine-grained gyroscope\nas a microphone <a data-link-type=\"biblio\" href=\"#biblio-gyrospeechrecognition\">[GYROSPEECHRECOGNITION]</a>.\nThis can be mitigated by lowering the gyroscope’s sample rates. </p>\n   <p id=\"example-b7a8d534\"><a href=\"#example-b7a8d534\"></a> Ambient light sensors could allow an attacker to learn whether or not a\nuser had visited given links <a data-link-type=\"biblio\" href=\"#biblio-olejnik-als\">[OLEJNIK-ALS]</a>. </p>\n   <p id=\"example-af6d78b4\"><a href=\"#example-af6d78b4\"></a> Even relatively short lived data, like the battery status, may be able to\nserve as an identifier <a data-link-type=\"biblio\" href=\"#biblio-olejnik-battery\">[OLEJNIK-BATTERY]</a>. </p>\n   <h3 data-level=\"2.9\" id=\"string-to-script\"><span>2.9. </span><span> Do features in this specification enable new script execution/loading\n  mechanisms? </span><a href=\"#string-to-script\"></a></h3>\n   <p>New mechanisms for executing or loading scripts have a risk of enabling novel attack surfaces.\nGenerally, if a new feature needs this you should consult with a wider audience,\nand think about whether or not an existing mechanism can be used\nor the feature is really necessary.</p>\n   <p id=\"example-3a9ceedc\"><a href=\"#example-3a9ceedc\"></a> <a href=\"https://github.com/whatwg/html/issues/4315\">JSON modules</a> are expected to be treated only as data,\nbut the initial proposal allowed an adversary to swap it out with code without the user knowing. <a href=\"https://github.com/tc39/proposal-import-assertions\">Import assertions</a> were implemented\nas a mitigation for this vulnerability. </p>\n   <h3 data-level=\"2.10\" id=\"remote-device\"><span>2.10. </span><span> Do features in this specification allow an origin to access other devices? </span><a href=\"#remote-device\"></a></h3>\n   <p>If so, what devices do the features in this specification allow an origin to\naccess?</p>\n   <p>Accessing other devices, both via network connections and via\ndirect connection to the user’s machine (e.g. via Bluetooth,\nNFC, or USB), could expose vulnerabilities - some of\nthese devices were not created with web connectivity in mind and may be inadequately\nhardened against malicious input, or with the use on the web.</p>\n   <p>Exposing other devices on a user’s local network also has significant privacy\nrisk:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>If two user agents have the same devices on their local network, an\nattacker may infer that the two user agents are running on the same host\nor are being used by two separate users who are in the same physical\nlocation.</p>\n    </li><li data-md=\"\">\n     <p>Enumerating the devices on a user’s local network provides significant\nentropy that an attacker may use to fingerprint the user agent.</p>\n    </li><li data-md=\"\">\n     <p>If features in this spec expose persistent or long lived identifiers of\nlocal network devices, that provides attackers with a way to track a user\nover time even if a user takes steps to prevent such tracking (e.g.\nclearing cookies and other stateful tracking mechanisms).</p>\n    </li><li data-md=\"\">\n     <p>Direct connections might be also be used to bypass security checks that\nother APIs would provide. For example, attackers used the WebUSB API to\naccess others sites' credentials on a hardware security, bypassing\nsame-origin checks in an early U2F API. <a data-link-type=\"biblio\" href=\"#biblio-yubikey-attack\">[YUBIKEY-ATTACK]</a></p>\n   </li></ul>\n   <p id=\"example-779b6f03\"><a href=\"#example-779b6f03\"></a> The Network Service Discovery API <a data-link-type=\"biblio\" href=\"#biblio-discovery-api\">[DISCOVERY-API]</a> recommended CORS\npreflights before granting access to a device, and requires user agents to\ninvolve the user with a permission request of some kind. </p>\n   <p id=\"example-01b5b20a\"><a href=\"#example-01b5b20a\"></a> Likewise, the Web Bluetooth <a data-link-type=\"biblio\" href=\"#biblio-web-bluetooth\">[WEB-BLUETOOTH]</a> has an extensive discussion of\nsuch issues in <a href=\"https://webbluetoothcg.github.io/web-bluetooth/#security-and-privacy\"><cite>Web Bluetooth</cite> § 2 Security and privacy considerations</a>, which is worth\nreading as an example for similar work. </p>\n   <p id=\"example-38bdd3d3\"><a href=\"#example-38bdd3d3\"></a> <a data-link-type=\"biblio\" href=\"#biblio-webusb\">[WEBUSB]</a> addresses these risks through a combination of user mediation /\nprompting, secure origins, and feature policy.\nSee <a href=\"https://wicg.github.io/webusb/#security-and-privacy\"><cite>WebUSB</cite> § 3 Security and Privacy Considerations</a> for more. </p>\n   <h3 data-level=\"2.11\" id=\"native-ui\"><span>2.11. </span><span> Do features in this specification allow an origin some measure of control over\n  a user agent’s native UI? </span><a href=\"#native-ui\"></a></h3>\n   <p>Features that allow for control over a user agent’s UI (e.g. full screen\nmode) or changes to the underlying system (e.g. installing an ‘app’ on a\nsmartphone home screen) may surprise users or obscure security / privacy\ncontrols.  To the extent that your feature does allow for the changing of a\nuser agent’s UI, can it effect security / privacy controls?  What analysis\nconfirmed this conclusion?</p>\n   <h3 data-level=\"2.12\" id=\"temporary-id\"><span>2.12. </span><span> What temporary identifiers do the features in this specification create or\n  expose to the web? </span><a href=\"#temporary-id\"></a></h3>\n   <p>If a standard exposes a temporary identifier to the web, the identifier\nshould be short lived and should rotate on some regular duration to mitigate\nthe risk of this identifier being used to track a user over time.  When a\nuser clears state in their user agent, these temporary identifiers should be\ncleared to prevent re-correlation of state using a temporary identifier.</p>\n   <p>If features in this spec create or expose temporary identifiers to the\nweb, how are they exposed, when, to what entities, and, how frequently are\nthose temporary identifiers rotated?</p>\n   <p>Example temporary identifiers include TLS Channel ID, Session Tickets, and\nIPv6 addresses.</p>\n   <p id=\"example-86ed6495\"><a href=\"#example-86ed6495\"></a> The index attribute in the Gamepad API <a data-link-type=\"biblio\" href=\"#biblio-gamepad\">[GAMEPAD]</a> — an integer that starts\nat zero, increments, and is reset — is a good example of a privacy friendly\ntemporary identifier. </p>\n   <h3 data-level=\"2.13\" id=\"first-third-party\"><span>2.13. </span><span> How does this specification distinguish between behavior in first-party and\n  third-party contexts? </span><a href=\"#first-third-party\"></a></h3>\n   <p>The behavior of a feature should be considered not just in the context of its\nbeing used by a first party origin that a user is visiting but also the\nimplications of its being used by an arbitrary third party that the first\nparty includes. When developing your specification, consider the implications\nof its use by third party resources on a page and, consider if support for\nuse by third party resources should be optional to conform to the\nspecification.  If supporting use by third party resources is mandatory for\nconformance, please explain why and what privacy mitigations are in place.\nThis is particularly important as user agents may take steps to reduce the\navailability or functionality of certain features to third parties if the\nthird parties are found to be abusing the functionality.</p>\n   <h3 data-level=\"2.14\" id=\"private-browsing\"><span>2.14. </span><span> How do the features in this specification work in the context of a browser’s\n  Private Browsing or Incognito mode? </span><a href=\"#private-browsing\"></a></h3>\n   <p>Most browsers implement a private browsing or incognito mode,\nthough they vary significantly in what functionality they provide and\nhow that protection is described to users <a data-link-type=\"biblio\" href=\"#biblio-wu-private-browsing\">[WU-PRIVATE-BROWSING]</a>.</p>\n   <p>One commonality is that they provide a different set of state\nthan the browser’s 'normal' state.</p>\n   <p>Do features in this spec provide information that would allow for the\ncorrelation of a single user’s activity across normal and private\nbrowsing / incognito modes?  Do features in the spec result in\ninformation being written to a user’s host that would persist\nfollowing a private browsing / incognito mode session ending?</p>\n   <p>There has been research into both:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>Detecting whether a user agent is in private browsing mode <a data-link-type=\"biblio\" href=\"#biblio-rivera\">[RIVERA]</a> using non-standardized methods such as <code><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/requestFileSystem\">window.requestFileSystem()</a></code>.</p>\n    </li><li data-md=\"\">\n     <p>Using features to fingerprint a browser and correlate private and\nnon-private mode sessions for a given user. <a data-link-type=\"biblio\" href=\"#biblio-olejnik-payments\">[OLEJNIK-PAYMENTS]</a></p>\n   </li></ul>\n   <h3 data-level=\"2.15\" id=\"considerations\"><span>2.15. </span><span> Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections? </span><a href=\"#considerations\"></a></h3>\n   <p>Specifications should have both \"Security Considerations\" and \"Privacy\nConsiderations\" sections to help implementers and web developers\nunderstand the risks that a feature presents and to ensure that\nadequate mitigations are in place.  While your answers to the\nquestions in this document will inform your writing of those sections,\ndo not merely copy this questionnaire into those sections.  Instead,\ncraft language specific to your specification that will be helpful to\nimplementers and web developers.</p>\n   <p><a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a> is an excellent resource to consult when considering\nprivacy impacts of your specification, particularly Section 7 of\nRFC6973. <a data-link-type=\"biblio\" href=\"#biblio-rfc3552\">[RFC3552]</a> provides general advice as to writing Security\nConsideration sections, and Section 5 of RFC3552 has specific requirements.</p>\n   <p>Generally, these sections should contain clear descriptions of the\nprivacy and security risks for the features your spec introduces.  It is also\nappropriate to document risks that are mitigated elsewhere in the\nspecification and to call out details that, if implemented\nother-than-according-to-spec, are likely to lead to vulnerabilities.</p>\n   <p>If it seems like none of the features in your specification have security or\nprivacy impacts, say so in-line, e.g.:</p>\n   <blockquote>\n    <p>There are no known security impacts of the features in this specification.</p>\n   </blockquote>\n   <p>Be aware, though, that most specifications include features that have at least some\nimpact on the fingerprinting surface of the browser.  If you believe\nyour specification in an outlier, justifying that claim is in\norder.</p>\n   <h3 data-level=\"2.16\" id=\"relaxed-sop\"><span>2.16. </span><span> Do features in your specification enable origins to downgrade default\n  security protections? </span><a href=\"#relaxed-sop\"></a></h3>\n   <p>Do features in your spec\nenable an origin to opt-out of security settings\nin order to accomplish something?\nIf so,\nin what situations do these features allow such downgrading, and why?</p>\n   <p>Can this be avoided in the first place?\nIf not, are mitigations in place\nto make sure this downgrading doesn’t dramatically increase risk to users?\nFor instance, <a data-link-type=\"biblio\" href=\"#biblio-permissions-policy\">[PERMISSIONS-POLICY]</a> defines a mechanism\nthat can be used by sites to prevent untrusted <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element\" id=\"ref-for-the-iframe-element\">iframe</a></code>s from using such a feature.</p>\n   <p><a href=\"#example-8a7bc492\"></a> The <code><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/origin.html#dom-document-domain\" id=\"ref-for-dom-document-domain\">document.domain</a></code> setter can be used to relax the <a data-link-type=\"dfn\" href=\"#same-origin-policy\" id=\"ref-for-same-origin-policy\">same-origin policy</a>.\nThe most effective mitigation\nwould be to remove it from the platform (see <a href=\"#drop-feature\">§ 4.6 Drop the feature</a>),\nthough that <a href=\"https://github.com/mikewest/deprecating-document-domain/\">may be challenging</a> for compatibility reasons. </p>\n   <div id=\"example-3181d7d3\">\n    <p><a href=\"#example-3181d7d3\"></a> The Fullscreen API enables\na (portion of a) web page\nto expand to fill the display. <a data-link-type=\"biblio\" href=\"#biblio-fullscreen\">[FULLSCREEN]</a> This can hide\nseveral User Agent user interface elements\nwhich help users to understand\nwhat web page they are visiting\nand whether or not the User Agent believes they are <a href=\"https://w3ctag.github.io/design-principles/#safe-to-browse\">safe</a>. \n    </p><p>Several mitigations are defined in the specification\nand are widely deployed in implementations.\nFor instance, the Fullscreen API is a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/permissions-policy/#policy-controlled-feature\" id=\"ref-for-policy-controlled-feature\">policy-controlled feature</a>,\nwhich enables sites to disable the API in <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element\" id=\"ref-for-the-iframe-element①\">iframe</a></code>s. <a href=\"https://fullscreen.spec.whatwg.org/#security-and-privacy-considerations\"><cite>Fullscreen API</cite> § 7 Security and Privacy Considerations</a> encourages implementations\nto display an overlay which informs the user that they have entered fullscreen,\nand to advertise a simple mechanism to exit fullscreen (typically the <code>Esc</code> key).</p>\n   </div>\n   <h3 data-level=\"2.17\" id=\"non-fully-active\"><span>2.17. </span><span> How does your feature handle non-\"fully active\" documents? </span><a href=\"#non-fully-active\"></a></h3>\n   <p>After a user navigates away from a document,\nthe document might stay around in a non-\"<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active\">fully active</a>\" state,\nand might be reused when the user navigates back to the document.\nFrom the user’s perspective,\nthe non-<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active①\">fully active</a> document is already discarded\nand thus should not get updates/events that happen after they navigated away from it,\nespecially privacy-sensitive information (e.g. geolocation).\nAlso, as a document might be reused even after navigation,\nbe aware that tying something to a document’s lifetime\nalso means reusing it after navigations.\nIf this is not desirable,\nconsider listening to changes to the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active②\">fully active</a> state\nand doing cleanup as necessary.</p>\n   <p>For more detailed guidance on how to handle non-<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#fully-active\" id=\"ref-for-fully-active③\">fully active</a> documents,\nsee <a href=\"https://www.w3.org/TR/design-principles/#non-fully-active\">Web Platform Design Principles § non-fully-active</a>.</p>\n   <p><a href=\"#example-2c40fd60\"></a> Screen WakeLock API <a href=\"https://w3c.github.io/screen-wake-lock/#handling-document-loss-of-full-activity\">releases the wake lock</a> when a document becomes no longer fully active. </p>\n   <p><a href=\"#example-9be02aaf\"></a> <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/interaction.html#sticky-activation\" id=\"ref-for-sticky-activation\">Sticky activation</a> is determined by the \"last activation timestamp\",\nwhich is tied to a document.\nThis means after a user triggers activation once on a document,\nthe document will have sticky activation forever,\neven after the user navigated away and back to it again.\nWhether this should actually be reset when full activity is lost or not\nis still <a href=\"https://github.com/whatwg/html/issues/6588\">under discussion</a>. </p>\n   <h3 data-level=\"2.18\" id=\"missing-questions\"><span>2.18. </span><span> What should this questionnaire have asked? </span><a href=\"#missing-questions\"></a></h3>\n   <p>This questionnaire is not exhaustive.\nAfter completing a privacy review,\nit may be that\nthere are privacy aspects of your specification\nthat a strict reading, and response to, this questionnaire,\nwould not have revealed.\nIf this is the case,\nplease convey those privacy concerns,\nand indicate if you can think of improved or new questions\nthat would have covered this aspect.</p>\n   <p>Please consider <a href=\"https://github.com/w3ctag/security-questionnaire/issues/new\">filing an issue</a> to let us know what the questionnaire should have asked.</p>\n   <h2 data-level=\"3\" id=\"threats\"><span>3. </span><span>Threat Models</span><a href=\"#threats\"></a></h2>\n   <p>To consider security and privacy it is convenient to think in terms of threat\nmodels, a way to illuminate the possible risks.</p>\n   <p>There are some concrete privacy concerns that should be considered when\ndeveloping a feature for the web platform <a data-link-type=\"biblio\" href=\"#biblio-rfc6973\">[RFC6973]</a>:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>Surveillance: Surveillance is the observation or monitoring of an\nindividual’s communications or activities.</p>\n    </li><li data-md=\"\">\n     <p>Stored Data Compromise: End systems that do not take adequate measures to\nsecure stored data from unauthorized or inappropriate access.</p>\n    </li><li data-md=\"\">\n     <p>Intrusion: Intrusion consists of invasive acts that disturb or interrupt\none’s life or activities.</p>\n    </li><li data-md=\"\">\n     <p>Misattribution: Misattribution occurs when data or communications related\nto one individual are attributed to another.</p>\n    </li><li data-md=\"\">\n     <p>Correlation: Correlation is the combination of various pieces of\ninformation related to an individual or that obtain that characteristic\nwhen combined.</p>\n    </li><li data-md=\"\">\n     <p>Identification: Identification is the linking of information to a\nparticular individual to infer an individual’s identity or to allow the\ninference of an individual’s identity.</p>\n    </li><li data-md=\"\">\n     <p>Secondary Use: Secondary use is the use of collected information about an\nindividual without the individual’s consent for a purpose different from\nthat for which the information was collected.</p>\n    </li><li data-md=\"\">\n     <p>Disclosure: Disclosure is the revelation of information about an\nindividual that affects the way others judge the individual.</p>\n    </li><li data-md=\"\">\n     <p>Exclusion: Exclusion is the failure to allow individuals to know about\nthe data that others have about them and to participate in its handling\nand use.</p>\n   </li></ul>\n   <p>In the mitigations section, this document outlines a number of techniques\nthat can be applied to mitigate these risks.</p>\n   <p>Enumerated below are some broad classes of threats that should be\nconsidered when developing a web feature.</p>\n   <h3 data-level=\"3.1\" id=\"passive-network\"><span>3.1. </span><span> Passive Network Attackers </span><a href=\"#passive-network\"></a></h3>\n   <p>A <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"passive-network-attacker\">passive network attacker</dfn> has read-access to the bits going over\nthe wire between users and the servers they’re communicating with. She can’t <em>modify</em> the bytes, but she can collect and analyze them.</p>\n   <p>Due to the decentralized nature of the internet, and the general level of\ninterest in user activity, it’s reasonable to assume that practically every\nunencrypted bit that’s bouncing around the network of proxies, routers, and\nservers you’re using right now is being read by someone. It’s equally likely\nthat some of these attackers are doing their best to understand the encrypted\nbits as well, including storing encrypted communications for later\ncryptanalysis (though that requires significantly more effort).</p>\n   <ul>\n    <li data-md=\"\">\n     <p>The IETF’s \"Pervasive Monitoring Is an Attack\" document <a data-link-type=\"biblio\" href=\"#biblio-rfc7258\">[RFC7258]</a> is\nuseful reading, outlining some of the impacts on privacy that this\nassumption entails.</p>\n    </li><li data-md=\"\">\n     <p>Governments aren’t the only concern; your local coffee shop is likely to\nbe gathering information on its customers, your ISP at home is likely to\nbe doing the same.</p>\n   </li></ul>\n   <h3 data-level=\"3.2\" id=\"active-network\"><span>3.2. </span><span> Active Network Attackers </span><a href=\"#active-network\"></a></h3>\n   <p>An <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"active-network-attacker\">active network attacker</dfn> has both read- and write-access to the\nbits going over the wire between users and the servers they’re communicating\nwith. She can collect and analyze data, but also modify it in-flight,\ninjecting and manipulating Javascript, HTML, and other content at will.\nThis is more common than you might expect, for both benign and malicious\npurposes:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>ISPs and caching proxies regularly cache and compress images before\ndelivering them to users in an effort to reduce data usage. This can be\nespecially useful for users on low-bandwidth, high-latency devices like\nphones.</p>\n    </li><li data-md=\"\">\n     <p>ISPs also regularly inject JavaScript <a data-link-type=\"biblio\" href=\"#biblio-comcast\">[COMCAST]</a> and other identifiers <a data-link-type=\"biblio\" href=\"#biblio-verizon\">[VERIZON]</a> for less benign purposes.</p>\n    </li><li data-md=\"\">\n     <p>If your ISP is willing to modify substantial amounts of traffic flowing\nthrough it for profit, it’s difficult to believe that state-level\nattackers will remain passive.</p>\n   </li></ul>\n   <h3 data-level=\"3.3\" id=\"sop-violations\"><span>3.3. </span><span> Same-Origin Policy Violations </span><a href=\"#sop-violations\"></a></h3>\n   <p>The <dfn data-dfn-type=\"dfn\" data-noexport=\"\" id=\"same-origin-policy\">same-origin policy</dfn> is the cornerstone of security on the web;\none origin should not have direct access to another origin’s data (the policy\nis more formally defined in Section 3 of <a data-link-type=\"biblio\" href=\"#biblio-rfc6454\">[RFC6454]</a>). A corollary to this\npolicy is that an origin should not have direct access to data that isn’t\nassociated with <em>any</em> origin: the contents of a user’s hard drive,\nfor instance. Various kinds of attacks bypass this protection in one way or\nanother. For example:</p>\n   <ul>\n    <li data-md=\"\">\n     <p><dfn data-dfn-type=\"dfn\" data-local-lt=\"XSS\" data-noexport=\"\" id=\"cross-site-scripting-attacks\">Cross-site scripting attacks</dfn> involve an\nattacker tricking an origin into executing attacker-controlled code in\nthe context of a target origin.</p>\n    </li><li data-md=\"\">\n     <p><dfn data-dfn-type=\"dfn\" data-local-lt=\"CSRF\" data-noexport=\"\" id=\"cross-site-request-forgery-attacks\">Cross-site request forgery attacks</dfn> trick user\nagents into exerting a user’s ambient authority on sites where they’ve\nlogged in by submitting requests on their behalf.</p>\n    </li><li data-md=\"\">\n     <p>Data leakage occurs when bits of information are inadvertently made\navailable cross-origin, either explicitly via CORS headers <a data-link-type=\"biblio\" href=\"#biblio-cors\">[CORS]</a>,\nor implicitly, via side-channel attacks like <a data-link-type=\"biblio\" href=\"#biblio-timing\">[TIMING]</a>.</p>\n   </li></ul>\n   <h3 data-level=\"3.4\" id=\"third-party-tracking\"><span>3.4. </span><span> Third-Party Tracking </span><a href=\"#third-party-tracking\"></a></h3>\n   <p>Part of the power of the web is its ability for a page to pull in content\nfrom other third parties — from images to javascript — to enhance the content\nand/or a user’s experience of the site.  However, when a page pulls in\ncontent from third parities, it inherently leaks some information to third\nparties — referer information and other information that may be used to track\nand profile a user.  This includes the fact that cookies go back to the\ndomain that initially stored them allowing for cross origin tracking.\nMoreover, third parties can gain execution power through third party\nJavascript being included by a webpage.  While pages can take steps to\nmitigate the risks of third party content and browsers may differentiate\nhow they treat first and third party content from a given page, the risk of\nnew functionality being executed by third parties rather than the first party\nsite should be considered in the feature development process.</p>\n   <p>The simplest example is injecting a link to a site that behaves differently\nunder specific condition, for example based on the fact that user is or is not\nlogged to the site. This may reveal that the user has an account on a site.</p>\n   <h3 data-level=\"3.5\" id=\"legitimate-misuse\"><span>3.5. </span><span> Legitimate Misuse </span><a href=\"#legitimate-misuse\"></a></h3>\n   <p>Even when powerful features are made available to developers, it does not\nmean that all the uses should always be a good idea, or justified; in fact,\ndata privacy regulations around the world may even put limits on certain uses\nof data. In the context of first party, a legitimate website is potentially\nable to interact with powerful features to learn about user behavior or\nhabits. For example:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>Tracking the user while browsing the website via mechanisms such as mouse\nmove tracking</p>\n    </li><li data-md=\"\">\n     <p>Behavioral profiling of the user based on the usage patterns</p>\n    </li><li data-md=\"\">\n     <p>Accessing powerful features that enable the first-party to learn about\nthe user’s system, the user themselves, or the user’s susurroundings, such\nas could be done through a webcam or sensors</p>\n   </li></ul>\n   <p>This point is admittedly different from others - and underlines that even if\nsomething may be possible, it does not mean it should always be done,\nincluding the need for considering a privacy impact assessment or even an\nethical assessment. When designing features with security and privacy\nin mind, all both use and misuse cases should be in scope.</p>\n   <h2 data-level=\"4\" id=\"mitigations\"><span>4. </span><span> Mitigation Strategies </span><a href=\"#mitigations\"></a></h2>\n   <p>To mitigate the security and privacy risks you’ve identified in your\nspecification,\nyou may want to apply one or more of the mitigations described below.</p>\n   <h3 data-level=\"4.1\" id=\"data-minimization\"><span>4.1. </span><span> Data Minimization </span><a href=\"#data-minimization\"></a></h3>\n   <p>Minimization is a strategy that involves exposing as little information to\nother communication partners as is required for a given operation to\ncomplete. More specifically, it requires not providing access to more\ninformation than was apparent in the user-mediated access or allowing the\nuser some control over which information exactly is provided.</p>\n   <p>For example, if the user has provided access to a given file, the object\nrepresenting that should not make it possible to obtain information about\nthat file’s parent directory and its contents as that is clearly not what is\nexpected.</p>\n   <p>In context of data minimization it is natural to ask what data is passed\naround between the different parties, how persistent the data items and\nidentifiers are, and whether there are correlation possibilities between\ndifferent protocol runs.</p>\n   <p>For example, the W3C Device APIs Working Group has defined a number of\nrequirements in their Privacy Requirements document. <a data-link-type=\"biblio\" href=\"#biblio-dap-privacy-reqs\">[DAP-PRIVACY-REQS]</a></p>\n   <p>Data minimization is applicable to specification authors and implementers, as\nwell as to those deploying the final service.</p>\n   <p>As an example, consider mouse events. When a page is loaded, the application\nhas no way of knowing whether a mouse is attached, what type of mouse it is\n(e.g., make and model), what kind of capabilities it exposes, how many are\nattached, and so on. Only when the user decides to use the mouse — presumably\nbecause it is required for interaction — does some of this information become\navailable. And even then, only a minimum of information is exposed: you could\nnot know whether it is a trackpad for instance, and the fact that it may have\na right button is only exposed if it is used. For instance, the Gamepad API\nmakes use of this data minimization capability. It is impossible for a Web game\nto know if the user agent has access to gamepads, how many there are, what\ntheir capabilities are, etc. It is simply assumed that if the user wishes to\ninteract with the game through the gamepad then she will know when to action\nit — and actioning it will provide the application with all the information\nthat it needs to operate (but no more than that).</p>\n   <p>The way in which the functionality is supported for the mouse is simply by\nonly providing information on the mouse’s behaviour when certain events take\nplace. The approach is therefore to expose event handling (e.g., triggering\non click, move, button press) as the sole interface to the device.</p>\n   <p>Two specifications that have minimized the data their features expose\nare:</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a data-link-type=\"biblio\" href=\"#biblio-battery-status\">[BATTERY-STATUS]</a> <q>The user agent should not expose high precision readouts</q></p>\n    </li><li data-md=\"\">\n     <p><a data-link-type=\"biblio\" href=\"#biblio-generic-sensor\">[GENERIC-SENSOR]</a> <q>Limit maximum sampling frequency</q>, <q>Reduce accuracy</q></p>\n   </li></ul>\n   <h3 data-level=\"4.2\" id=\"privacy-friendly-defaults\"><span>4.2. </span><span> Default Privacy Settings </span><a href=\"#privacy-friendly-defaults\"></a></h3>\n   <p>Users often do not change defaults, as a result, it is important that the\ndefault mode of a specification minimizes the amount, identifiability, and\npersistence of the data and identifiers exposed.  This is particularly true\nif a protocol comes with flexible options so that it can be tailored to\nspecific environments.</p>\n   <h3 data-level=\"4.3\" id=\"user-mediation\"><span>4.3. </span><span> Explicit user mediation </span><a href=\"#user-mediation\"></a></h3>\n   <p>If the security or privacy risk of a feature cannot otherwise be mitigated in\na specification, optionally allowing an implementer to prompt a user may\nbe the best mitigation possible, understanding it does not entirely remove\nthe privacy risk.  If the specification does not allow for the implementer to\nprompt, it may result in divergence implementations by different user agents\nas some user agents choose to implement more privacy-friendly version.</p>\n   <p>It is possible that the risk of a feature cannot be mitigated because the\nrisk is endemic to the feature itself.  For instance, <a data-link-type=\"biblio\" href=\"#biblio-geolocation-api\">[GEOLOCATION-API]</a> reveals a user’s location intentionally; user agents generally gate access to\nthe feature on a permission prompt which the user may choose to accept.  This\nrisk is also present and should be accounted for in features that expose\npersonal data or identifiers.</p>\n   <p>Designing such prompts is difficult as is determining the duration that the\npermission should provide.</p>\n   <p>Often, the best prompt is one that is clearly tied to a user action, like the\nfile picker, where in response to a user action, the file picker is brought\nup and a user gives access to a specific file to an individual site.</p>\n   <p>Generally speaking, the duration and timing of the prompt should be inversely\nproportional to the risk posed by the data exposed.  In addition, the prompt\nshould consider issues such as:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>How should permission requests be scoped? Especially when requested by an\nembedded third party iframe?</p>\n    </li><li data-md=\"\">\n     <p>Should persistence be based on the pair of top-level/embedded origins or a\ndifferent scope?</p>\n    </li><li data-md=\"\">\n     <p>How is it certain that the prompt is occurring in context of requiring the\ndata and at a time that it is clear to the user why the prompt is occurring.</p>\n    </li><li data-md=\"\">\n     <p>Explaining the implications of permission before prompting the user, in a\nway that is accessible and localized -- _who_ is asking, _what_ are they\nasking for, _why_ do they need it?</p>\n    </li><li data-md=\"\">\n     <p>What happens if the user rejects the request at the time of the prompt or\nif the user later changes their mind and revokes access.</p>\n   </li></ul>\n   <p>These prompts should also include considerations for what, if any, control a\nuser has over their data after it has been shared with other parties.  For\nexample, are users able to determine what information was shared with other\nparties?</p>\n   <h3 data-level=\"4.4\" id=\"restrict-to-first-party\"><span>4.4. </span><span> Explicitly restrict the feature to first party origins </span><a href=\"#restrict-to-first-party\"></a></h3>\n   <p>As described in the \"Third-Party Tracking\" section, web pages mix\nfirst and third party content into a single application, which\nintroduces the risk that third party content can misuse the same set of web\nfeatures as first party content.</p>\n   <p>Authors should explicitly specify a feature’s scope of availability:</p>\n   <ul>\n    <li data-md=\"\">\n     <p>When a feature should be made available to embedded third parties -- and\noften first parties should be able to explicitly control that (using\niframe attributes or feature policy)</p>\n    </li><li data-md=\"\">\n     <p>Whether a feature should be available in the background or only in the\ntop-most, visible tab.</p>\n    </li><li data-md=\"\">\n     <p>Whether a feature should be available to offline service workers.</p>\n    </li><li data-md=\"\">\n     <p>Whether events will be fired simultaneously</p>\n   </li></ul>\n   <p>Third party access to a feature should be an optional implementation for\nconformance.</p>\n   <h3 data-level=\"4.5\" id=\"secure-contexts\"><span>4.5. </span><span> Secure Contexts </span><a href=\"#secure-contexts\"></a></h3>\n   <p>If the primary risk that you’ve identified in your specification is the\nthreat posed by <a data-link-type=\"dfn\" href=\"#active-network-attacker\" id=\"ref-for-active-network-attacker②\">active network attacker</a>, offering a feature to an\ninsecure origin is the same as offering that feature to every origin because\nthe attacker can inject frames and code at will. Requiring an encrypted and\nauthenticated connection in order to use a feature can mitigate this kind of\nrisk.</p>\n   <p>Secure contexts also protect against <a data-link-type=\"dfn\" href=\"#passive-network-attacker\" id=\"ref-for-passive-network-attacker\">passive network attackers</a>.  For\nexample, if a page uses the Geolocation API and sends the sensor-provided\nlatitude and longitude back to the server over an insecure connection, then\nany passive network attacker can learn the user’s location, without any\nfeasible path to detection by the user or others.</p>\n   <p>However, requiring a secure context is not sufficient to mitigate many\nprivacy risks or even security risks from other threat actors than active\nnetwork attackers.</p>\n   <h3 data-level=\"4.6\" id=\"drop-feature\"><span>4.6. </span><span> Drop the feature </span><a href=\"#drop-feature\"></a></h3>\n   <p>Possibly the simplest way\nto mitigate potential negative security or privacy impacts of a feature\nis to drop the feature,\nthough you should keep in mind that some security or privacy risks\nmay be removed or mitigated\nby adding features to the platform.\nEvery feature in a specification\nshould be seen as\npotentially adding security and/or privacy risk\nuntil proven otherwise.\nDiscussing dropping the feature\nas a mitigation for security or privacy impacts\nis a helpful exercise\nas it helps illuminate the tradeoffs\nbetween the feature,\nwhether it is exposing the minimum amount of data necessary,\nand other possible mitigations.</p>\n   <p>Consider also the cumulative effect\nof feature addition\nto the overall impression that users have\nthat <a href=\"https://w3ctag.github.io/design-principles/#safe-to-browse\">it is safe to visit a web page</a>.\nDoing things that complicate users' understanding\nthat it is safe to visit websites,\nor that complicate what users need to understand\nabout the safety of the web\n(e.g., adding features that are less safe)\nreduces the ability of users\nto act based on that understanding of safety,\nor to act in ways that correctly reflect the safety that exists.</p>\n   <p>Every specification should seek to be as small as possible, even if only\nfor the reasons of reducing and minimizing security/privacy attack surface(s).\nBy doing so we can reduce the overall security and privacy attack surface\nof not only a particular feature, but of a module (related set of\nfeatures), a specification, and the overall web platform.</p>\n   <p>Examples</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1313580\">Mozilla</a> and <a href=\"https://bugs.webkit.org/show_bug.cgi?id=164213\">WebKit</a> dropped the Battery Status API</p>\n    </li><li data-md=\"\">\n     <p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1359076\">Mozilla dropped</a> devicelight, deviceproximity and userproximity events</p>\n   </li></ul>\n   <h3 data-level=\"4.7\" id=\"privacy-impact-assessment\"><span>4.7. </span><span> Making a privacy impact assessment </span><a href=\"#privacy-impact-assessment\"></a></h3>\n   <p>Some features potentially supply sensitive data, and it is\nthe responsibility of the end-developer, system owner, or manager to realize\nthis and act accordingly in the design of their system. Some use may\nwarrant conducting a privacy impact assessment, especially when data\nrelating to individuals may be processed.</p>\n   <p>Specifications that include features that expose sensitive data should include\nrecommendations that websites and applications adopting the API conduct a\nprivacy impact assessment of the data that they collect.</p>\n   <p>A feature that does this is:</p>\n   <ul>\n    <li data-md=\"\">\n     <p><a data-link-type=\"biblio\" href=\"#biblio-generic-sensor\">[GENERIC-SENSOR]</a> advises to consider performing of a privacy impact\nassessment</p>\n   </li></ul>\n   <p>Documenting these impacts is important for organizations although it should\nbe noted that there are limitations to putting this onus on organizations.\nResearch has shown that sites often do not comply with security/privacy\nrequirements in specifications.  For example, in <a data-link-type=\"biblio\" href=\"#biblio-doty-geolocation\">[DOTY-GEOLOCATION]</a>, it was\nfound that none of the studied websites informed users of their privacy\npractices before the site prompted for location.</p>\n  </div></div>","textContent":"\n   1. Introduction\n   When designing new features for the Web platform,\nwe must always consider the security and privacy implications of our work.\nNew Web features should always\nmaintain or enhance\nthe overall security and privacy of the Web.\n   This document contains a set of questions\nintended to help spec authors\nas they think through\nthe security and privacy implications\nof their work and write the narrative Security Considerations and Privacy\nConsiderations sections for inclusion in-line in their specifications,\nas described below in § 2.15 Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections?.\nIt also documents mitigation strategies\nthat spec authors can use to address\nsecurity and privacy concerns they encounter as they work on their spec.\n   This document is itself a work in progress,\nand there may be security or privacy concerns\nwhich this document does not (yet) cover.\nPlease let us know if you identify a security or privacy concern\nthis questionnaire should ask about.\n   1.1. How To Use The Questionnaire\n   Work through these questions\nearly on in the design process,\nwhen things are easier to change.\nWhen privacy and security issues are only found later,\nafter a feature has shipped,\nit’s much harder to change the design.\nIf security or privacy issues are found late,\nuser agents may need to adopt breaking changes\nto fix the issues.\n   Keep these questions in mind while working on specifications.\nPeriodically revisit this questionnaire and continue to consider the questions,\nparticularly as a design changes over time.\n   1.2. Additional resources\n   The Mitigating Browser Fingerprinting in Web Specifications [FINGERPRINTING-GUIDANCE] document published by PING goes into\nfurther depth about browser fingerprinting and should be considered in\nparallel with this document.\n   The IETF’s RFC about privacy considerations, [RFC6973], is a\nwonderful resource, particularly section 7.\n   1.3. TAG, PING, security reviews and this questionnaire\n   Before requesting\nprivacy and\nsecurity reviews from the Privacy Interest Group\n(PING) and security reviewers,\nwrite \"Security Considerations\" and\n\"Privacy Considerations\" sections in your document, as described in § 2.15 Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections?.  Answering the questions in this\ndocument will, we hope, inform your writing of those sections. It is not\nappropriate, however, to merely copy this questionnaire into those sections.\nInstructions for requesting security and privacy reviews can be\nfound in the document How to do Wide Review.\n   When requesting\na review from the Technical Architecture Group (TAG),\nplease provide the TAG with answers\nto the questions in this document. This Markdown\ntemplate may be useful when doing so.\n   2. Questions to Consider\n   2.1.  What information might this feature expose to Web sites or other parties,\n  and for what purposes is that exposure necessary? \n   User Agents should only expose information to the web\nwhen doing so is necessary to serve a clear user need.\nDoes your feature expose information to origins?\nIf so, how does exposing this information serve user needs?\nAre the risks to the user outweighed by the benefits to the user?\nIf so, how?\n   See also\n   \n    \n     Web Platform Design Principles § priority-of-constituencies\n   \n   When answering this question, please consider each of these four possible\nareas of information disclosure / sharing.\n   For the below sub-questions,\nplease take the term potentially identifying information to mean information that describes the browser user,\ndistinct from others who use the same browser version.\nExamples of such potentially identifying information include information\nabout the browser user’s environment (e.g., operating system configuration,\nbrowser configuration, hardware capabilities), and the user’s prior activities\nand interests (e.g., browsing history, purchasing preferences, personal\ncharacteristics).\n   \n    \n     What information does your spec expose to the first party that\nthe first party cannot currently easily determine.\n    \n     What information does your spec expose to third parties that third parties cannot currently easily determine.\n    \n     What potentially identifying information does your spec expose to the first party that the first party can already access (i.e., what\nidentifying information does your spec duplicate or mirror).\n    \n     What potentially identifying information does your spec expose to third parties that third parties can already access.\n   \n   2.2.  Do features in your specification expose the minimum amount of information\n  necessary to enable their intended uses? \n   Features should only expose information\nwhen it’s absolutely necessary to satisfy use cases.\nIf a feature exposes more information than is necessary,\nwhy does it do so?\n   See also\n   \n    \n     § 4.1 Data Minimization\n   \n    Content Security Policy [CSP] unintentionally exposed redirect targets\ncross-origin by allowing one origin to infer details about another origin\nthrough violation reports (see [HOMAKOV]). The working group eventually\nmitigated the risk by reducing a policy’s granularity after a redirect. \n   2.3.  How do the features in your specification deal with personal information,\n  personally-identifiable information (PII), or information derived from\n  them? \n   Personal information is any data about a user\n(for example, their home address),\nor information that could be used to identify a user,\nsuch as an alias, email address, or identification number.\n   Note: Personal information is\ndistinct from personally identifiable information\n(PII).\nPII is a legal concept,\nthe definition of which varies from jurisdiction to jurisdiction.\nWhen used in a non-legal context,\nPII tends to refer generally\nto information\nthat could be used to identify a user.\n   When exposing\npersonal information, PII, or derivative information,\nspec authors must take steps to minimize the potential harm to users.\n    A feature\nwhich gathers biometric data\n(such as fingerprints or retina scans)\nfor authentication\nshould not directly expose this biometric data to the web.\nInstead,\nit can use the biometric data\nto look up or generate some temporary key which is not shared across origins\nwhich can then be safely exposed to the origin. [WEBAUTHN] \n   Personal information, PII, or their derivatives\nshould not be exposed to origins\nwithout meaningful user consent.\nMany APIs\nuse the Permissions API to acquire meaningful user consent. [PERMISSIONS]\n   Keep in mind\nthat each permission prompt\nadded to the web platform\nincreases the risk\nthat users will ignore\nthe contents of all permission prompts.\nBefore adding a permission prompt, consider your options for using\na less obtrusive way to gain meaningful user consent. [ADDING-PERMISSION]\n    <input type=file> can be used to upload\ndocuments containing personal information\nto websites.\nIt makes use of\nthe underlying native platform’s file picker\nto ensure the user understands\nthat the file and its contents\nwill be exposed to the website,\nwithout a separate permissions prompt. \n   See also\n   \n    \n     § 4.3 Explicit user mediation\n    \n     Web Platform Design Principles § consent\n   \n   2.4.  How do the features in your specification deal with sensitive information? \n   Personal information is not the only kind of sensitive information.\nMany other kinds of information may also be sensitive.\nWhat is or isn’t sensitive information can vary\nfrom person to person\nor from place to place.\nInformation that would be harmless if known about\none person or group of people\ncould be dangerous if known about\nanother person or group.\nInformation about a person\nthat would be harmless in one country\nmight be used in another country\nto detain, kidnap, or imprison them.\n   Examples of sensitive information include:\ncaste,\ncitizenship,\ncolor,\ncredentials,\ncriminal record,\ndemographic information,\ndisability status,\nemployment status,\nethnicity,\nfinancial information,\nhealth information,\nlocation data,\nmarital status,\npolitical beliefs,\nprofession,\nrace,\nreligious beliefs or nonbeliefs,\nsexual preferences,\nand\ntrans status.\n   When a feature exposes sensitive information to the web,\nits designers must take steps\nto mitigate the risk of exposing the information.\n   \n    The Credential Management API allows sites\nto request a user’s credentials\nfrom a password manager. [CREDENTIAL-MANAGEMENT-1] If it exposed the user’s credentials to JavaScript,\nand if the page using the API were vulnerable to XSS attacks,\nthe user’s credentials could be leaked to attackers.\n    The Credential Management API\nmitigates this risk\nby not exposing the credentials to JavaScript.\nInstead, it exposes\nan opaque FormData object\nwhich cannot be read by JavaScript.\nThe spec also recommends\nthat sites configure Content Security Policy [CSP] with reasonable connect-src and form-action values\nto further mitigate the risk of exfiltration.\n   \n   Many use cases\nwhich require location information\ncan be adequately served\nwith very coarse location data.\nFor instance,\na site which recommends restaurants\ncould adequately serve its users\nwith city-level location information\ninstead of exposing the user’s precise location.\n   See also\n   \n    \n     Web Platform Design Principles § do-not-expose-use-of-assistive-tech\n   \n   2.5.  Do the features in your specification introduce new state for an origin\n  that persists across browsing sessions? \n   There are many existing mechanisms\norigins can use to\nstore information about a user.\nCookies, ETag, Last Modified, localStorage,\nand indexedDB are just a few examples.\n   Allowing an origin\nto store data\non a user’s device\nin a way that persists across browsing sessions\nintroduces the risk\nthat this state may be used\nto track a user\nwithout their knowledge or control,\neither in first- or third-party contexts.\n   One of the ways\nuser agents mitigate the risk\nthat client-side storage mechanisms\nwill form a persistent identifier\nis by providing users with the ability\nto clear out the data stored by origins.\nNew state persistence mechanisms\nshould not be introduced\nwithout mitigations\nto prevent them\nfrom being used\nto track users\nacross domains\nor without control\nover clearing this state.\nThat said,\nmanually clearing storage\nis something users do only rarely.\nSpec authors should consider ways\nto make new features more privacy-preserving without full storage clearing,\nsuch as\nreducing the uniqueness of values,\nrotating values,\nor otherwise making features no more identifying than is needed.\nAlso, keep in mind that\nuser agents make use of several different caching mechanisms.\nWhich, if any, caches will store this new state?\nAre additional mitigations necessary?\n   \n    Service Workers\nintercept all requests made by an origin,\nwhich enables sites\nto continue to function when the browser goes offline.\nBecause of this,\na maliciously-injected service worker\ncould compromise the user (as documented in Service Workers § 6 Security Considerations).\n    The spec mitigates the risks\nan active network attacker or XSS vulnerability present\nby limiting service worker registration to secure contexts. [SERVICE-WORKERS]\n   \n    Platform-specific DRM implementations\n(such as content decryption modules in [ENCRYPTED-MEDIA])\nmight expose origin-specific information\nin order to help identify users\nand determine whether they ought to be granted access\nto a specific piece of media.\nThese kinds of identifiers\nshould be carefully evaluated\nto determine how abuse can be mitigated;\nidentifiers which a user cannot easily change\nare very valuable from a tracking perspective,\nand protecting such identifiers\nfrom an active network attacker is vital. \n   2.6.  Do the features in your specification expose information about the\n  underlying platform to origins? \n   (Underlying platform information includes\nuser configuration data,\nthe presence and attributes of hardware I/O devices such as sensors,\nand the availability and behavior of various software features.)\n   If so, is the same information exposed across origins?\nDo different origins see different data or the same data?\nDoes the data change frequently or rarely?\nRarely-changing data exposed to multiple origins\ncan be used to uniquely identify a user across those origins.\nThis may be direct\n(when the piece of information is unique)\nor indirect\n(because the data may be combined with other data to form a fingerprint). [FINGERPRINTING-GUIDANCE]\n   When considering whether or not to expose such information,\nspecs and user agents\nshould not consider the information in isolation,\nbut should evaluate the risk of adding it\nto the existing fingerprinting surface of the platform.\n   Keep in mind that\nthe fingerprinting risk of a particular piece of information\nmay vary between platforms.\nThe fingerprinting risk of some data\non the hardware and software platforms you use\nmay be different than\nthe fingerprinting risk on other platforms.\n   When you do decide to expose such information,\nyou should take steps to mitigate the harm of such exposure.\n   Sometimes the right answer is to not expose the data in the first place (see § 4.6 Drop the feature).\nIn other cases,\nreducing fingerprintability may be as simple as\nensuring consistency—for instance,\nby ordering a list of available resources—but sometimes,\nmore complex mitigations may be necessary.\nSee § 4 Mitigation Strategies for more.\n   If features in your spec expose such data\nand does not define adequate mitigations,\nyou should ensure that such information\nis not revealed to origins\nwithout meaningful user consent,\nand\nyou should clearly describe this\nin your specification’s Security and Privacy Considerations sections.\n    WebGL’s RENDERER string\nenables some applications to improve performance.\nIt’s also valuable fingerprinting data.\nThis privacy risk must be carefully weighed\nwhen considering exposing such data to origins. \n    The NavigatorPlugins list almost never changes.\nSome user agents have disabled direct enumeration of the plugin list to reduce the fingerprinting harm of this interface. \n   See also:\n   \n    \n     Use care when exposing identifying information about devices\n    \n     Use care when exposing APIs for selecting or enumerating devices\n   \n   2.7.  Does this specification allow an origin to send data to the underlying\n  platform? \n   If so, what kind of data can be sent?\n   Platforms differ in how they process data passed into them,\nwhich may present different risks to users.\n   Don’t assume the underlying platform will safely handle the data that is passed.\nWhere possible, mitigate attacks by limiting or structuring the kind of data is passed to the platform.\n   \n     URLs may or may not be dereferenced by a platform API,\nand if they are dereferenced,\nredirects may or may not be followed.\nIf your specification sends URLs to underlying platform APIs,\nthe potential harm of your API\nmay vary depending on\nthe behavior of the various underlying platform APIs it’s built upon. \n    What happens when file:, data:, or blob: URLs\nare passed to the underlying platform API?\nThese can potentially read sensitive data\ndirectly form the user’s hard disk or from memory.\n    Even if your API only allows http: and https: URLs,\nsuch URLs may be vulnerable to CSRF attacks,\nor be redirected to file:, data:, or blob: URLs.\n   \n   2.8.  Do features in this specification enable access to device sensors? \n   If so, what kinds of information from or about the sensors are exposed to origins?\n   Information from sensors may serve as a fingerprinting vector across origins.\nAdditionally,\nsensors may reveal something sensitive about the device or its environment.\n   If sensor data is relatively stable\nand consistent across origins,\nit could be used as a cross-origin identifier.\nIf two User Agents expose such stable data from the same sensors,\nthe data could even be used as a cross-browser, or potentially even a cross-device, identifier.\n    Researchers discovered that\nit’s possible to use\na sufficiently fine-grained gyroscope\nas a microphone [GYROSPEECHRECOGNITION].\nThis can be mitigated by lowering the gyroscope’s sample rates. \n    Ambient light sensors could allow an attacker to learn whether or not a\nuser had visited given links [OLEJNIK-ALS]. \n    Even relatively short lived data, like the battery status, may be able to\nserve as an identifier [OLEJNIK-BATTERY]. \n   2.9.  Do features in this specification enable new script execution/loading\n  mechanisms? \n   New mechanisms for executing or loading scripts have a risk of enabling novel attack surfaces.\nGenerally, if a new feature needs this you should consult with a wider audience,\nand think about whether or not an existing mechanism can be used\nor the feature is really necessary.\n    JSON modules are expected to be treated only as data,\nbut the initial proposal allowed an adversary to swap it out with code without the user knowing. Import assertions were implemented\nas a mitigation for this vulnerability. \n   2.10.  Do features in this specification allow an origin to access other devices? \n   If so, what devices do the features in this specification allow an origin to\naccess?\n   Accessing other devices, both via network connections and via\ndirect connection to the user’s machine (e.g. via Bluetooth,\nNFC, or USB), could expose vulnerabilities - some of\nthese devices were not created with web connectivity in mind and may be inadequately\nhardened against malicious input, or with the use on the web.\n   Exposing other devices on a user’s local network also has significant privacy\nrisk:\n   \n    \n     If two user agents have the same devices on their local network, an\nattacker may infer that the two user agents are running on the same host\nor are being used by two separate users who are in the same physical\nlocation.\n    \n     Enumerating the devices on a user’s local network provides significant\nentropy that an attacker may use to fingerprint the user agent.\n    \n     If features in this spec expose persistent or long lived identifiers of\nlocal network devices, that provides attackers with a way to track a user\nover time even if a user takes steps to prevent such tracking (e.g.\nclearing cookies and other stateful tracking mechanisms).\n    \n     Direct connections might be also be used to bypass security checks that\nother APIs would provide. For example, attackers used the WebUSB API to\naccess others sites' credentials on a hardware security, bypassing\nsame-origin checks in an early U2F API. [YUBIKEY-ATTACK]\n   \n    The Network Service Discovery API [DISCOVERY-API] recommended CORS\npreflights before granting access to a device, and requires user agents to\ninvolve the user with a permission request of some kind. \n    Likewise, the Web Bluetooth [WEB-BLUETOOTH] has an extensive discussion of\nsuch issues in Web Bluetooth § 2 Security and privacy considerations, which is worth\nreading as an example for similar work. \n    [WEBUSB] addresses these risks through a combination of user mediation /\nprompting, secure origins, and feature policy.\nSee WebUSB § 3 Security and Privacy Considerations for more. \n   2.11.  Do features in this specification allow an origin some measure of control over\n  a user agent’s native UI? \n   Features that allow for control over a user agent’s UI (e.g. full screen\nmode) or changes to the underlying system (e.g. installing an ‘app’ on a\nsmartphone home screen) may surprise users or obscure security / privacy\ncontrols.  To the extent that your feature does allow for the changing of a\nuser agent’s UI, can it effect security / privacy controls?  What analysis\nconfirmed this conclusion?\n   2.12.  What temporary identifiers do the features in this specification create or\n  expose to the web? \n   If a standard exposes a temporary identifier to the web, the identifier\nshould be short lived and should rotate on some regular duration to mitigate\nthe risk of this identifier being used to track a user over time.  When a\nuser clears state in their user agent, these temporary identifiers should be\ncleared to prevent re-correlation of state using a temporary identifier.\n   If features in this spec create or expose temporary identifiers to the\nweb, how are they exposed, when, to what entities, and, how frequently are\nthose temporary identifiers rotated?\n   Example temporary identifiers include TLS Channel ID, Session Tickets, and\nIPv6 addresses.\n    The index attribute in the Gamepad API [GAMEPAD] — an integer that starts\nat zero, increments, and is reset — is a good example of a privacy friendly\ntemporary identifier. \n   2.13.  How does this specification distinguish between behavior in first-party and\n  third-party contexts? \n   The behavior of a feature should be considered not just in the context of its\nbeing used by a first party origin that a user is visiting but also the\nimplications of its being used by an arbitrary third party that the first\nparty includes. When developing your specification, consider the implications\nof its use by third party resources on a page and, consider if support for\nuse by third party resources should be optional to conform to the\nspecification.  If supporting use by third party resources is mandatory for\nconformance, please explain why and what privacy mitigations are in place.\nThis is particularly important as user agents may take steps to reduce the\navailability or functionality of certain features to third parties if the\nthird parties are found to be abusing the functionality.\n   2.14.  How do the features in this specification work in the context of a browser’s\n  Private Browsing or Incognito mode? \n   Most browsers implement a private browsing or incognito mode,\nthough they vary significantly in what functionality they provide and\nhow that protection is described to users [WU-PRIVATE-BROWSING].\n   One commonality is that they provide a different set of state\nthan the browser’s 'normal' state.\n   Do features in this spec provide information that would allow for the\ncorrelation of a single user’s activity across normal and private\nbrowsing / incognito modes?  Do features in the spec result in\ninformation being written to a user’s host that would persist\nfollowing a private browsing / incognito mode session ending?\n   There has been research into both:\n   \n    \n     Detecting whether a user agent is in private browsing mode [RIVERA] using non-standardized methods such as window.requestFileSystem().\n    \n     Using features to fingerprint a browser and correlate private and\nnon-private mode sessions for a given user. [OLEJNIK-PAYMENTS]\n   \n   2.15.  Does this specification have both \"Security Considerations\" and \"Privacy\n  Considerations\" sections? \n   Specifications should have both \"Security Considerations\" and \"Privacy\nConsiderations\" sections to help implementers and web developers\nunderstand the risks that a feature presents and to ensure that\nadequate mitigations are in place.  While your answers to the\nquestions in this document will inform your writing of those sections,\ndo not merely copy this questionnaire into those sections.  Instead,\ncraft language specific to your specification that will be helpful to\nimplementers and web developers.\n   [RFC6973] is an excellent resource to consult when considering\nprivacy impacts of your specification, particularly Section 7 of\nRFC6973. [RFC3552] provides general advice as to writing Security\nConsideration sections, and Section 5 of RFC3552 has specific requirements.\n   Generally, these sections should contain clear descriptions of the\nprivacy and security risks for the features your spec introduces.  It is also\nappropriate to document risks that are mitigated elsewhere in the\nspecification and to call out details that, if implemented\nother-than-according-to-spec, are likely to lead to vulnerabilities.\n   If it seems like none of the features in your specification have security or\nprivacy impacts, say so in-line, e.g.:\n   \n    There are no known security impacts of the features in this specification.\n   \n   Be aware, though, that most specifications include features that have at least some\nimpact on the fingerprinting surface of the browser.  If you believe\nyour specification in an outlier, justifying that claim is in\norder.\n   2.16.  Do features in your specification enable origins to downgrade default\n  security protections? \n   Do features in your spec\nenable an origin to opt-out of security settings\nin order to accomplish something?\nIf so,\nin what situations do these features allow such downgrading, and why?\n   Can this be avoided in the first place?\nIf not, are mitigations in place\nto make sure this downgrading doesn’t dramatically increase risk to users?\nFor instance, [PERMISSIONS-POLICY] defines a mechanism\nthat can be used by sites to prevent untrusted iframes from using such a feature.\n    The document.domain setter can be used to relax the same-origin policy.\nThe most effective mitigation\nwould be to remove it from the platform (see § 4.6 Drop the feature),\nthough that may be challenging for compatibility reasons. \n   \n     The Fullscreen API enables\na (portion of a) web page\nto expand to fill the display. [FULLSCREEN] This can hide\nseveral User Agent user interface elements\nwhich help users to understand\nwhat web page they are visiting\nand whether or not the User Agent believes they are safe. \n    Several mitigations are defined in the specification\nand are widely deployed in implementations.\nFor instance, the Fullscreen API is a policy-controlled feature,\nwhich enables sites to disable the API in iframes. Fullscreen API § 7 Security and Privacy Considerations encourages implementations\nto display an overlay which informs the user that they have entered fullscreen,\nand to advertise a simple mechanism to exit fullscreen (typically the Esc key).\n   \n   2.17.  How does your feature handle non-\"fully active\" documents? \n   After a user navigates away from a document,\nthe document might stay around in a non-\"fully active\" state,\nand might be reused when the user navigates back to the document.\nFrom the user’s perspective,\nthe non-fully active document is already discarded\nand thus should not get updates/events that happen after they navigated away from it,\nespecially privacy-sensitive information (e.g. geolocation).\nAlso, as a document might be reused even after navigation,\nbe aware that tying something to a document’s lifetime\nalso means reusing it after navigations.\nIf this is not desirable,\nconsider listening to changes to the fully active state\nand doing cleanup as necessary.\n   For more detailed guidance on how to handle non-fully active documents,\nsee Web Platform Design Principles § non-fully-active.\n    Screen WakeLock API releases the wake lock when a document becomes no longer fully active. \n    Sticky activation is determined by the \"last activation timestamp\",\nwhich is tied to a document.\nThis means after a user triggers activation once on a document,\nthe document will have sticky activation forever,\neven after the user navigated away and back to it again.\nWhether this should actually be reset when full activity is lost or not\nis still under discussion. \n   2.18.  What should this questionnaire have asked? \n   This questionnaire is not exhaustive.\nAfter completing a privacy review,\nit may be that\nthere are privacy aspects of your specification\nthat a strict reading, and response to, this questionnaire,\nwould not have revealed.\nIf this is the case,\nplease convey those privacy concerns,\nand indicate if you can think of improved or new questions\nthat would have covered this aspect.\n   Please consider filing an issue to let us know what the questionnaire should have asked.\n   3. Threat Models\n   To consider security and privacy it is convenient to think in terms of threat\nmodels, a way to illuminate the possible risks.\n   There are some concrete privacy concerns that should be considered when\ndeveloping a feature for the web platform [RFC6973]:\n   \n    \n     Surveillance: Surveillance is the observation or monitoring of an\nindividual’s communications or activities.\n    \n     Stored Data Compromise: End systems that do not take adequate measures to\nsecure stored data from unauthorized or inappropriate access.\n    \n     Intrusion: Intrusion consists of invasive acts that disturb or interrupt\none’s life or activities.\n    \n     Misattribution: Misattribution occurs when data or communications related\nto one individual are attributed to another.\n    \n     Correlation: Correlation is the combination of various pieces of\ninformation related to an individual or that obtain that characteristic\nwhen combined.\n    \n     Identification: Identification is the linking of information to a\nparticular individual to infer an individual’s identity or to allow the\ninference of an individual’s identity.\n    \n     Secondary Use: Secondary use is the use of collected information about an\nindividual without the individual’s consent for a purpose different from\nthat for which the information was collected.\n    \n     Disclosure: Disclosure is the revelation of information about an\nindividual that affects the way others judge the individual.\n    \n     Exclusion: Exclusion is the failure to allow individuals to know about\nthe data that others have about them and to participate in its handling\nand use.\n   \n   In the mitigations section, this document outlines a number of techniques\nthat can be applied to mitigate these risks.\n   Enumerated below are some broad classes of threats that should be\nconsidered when developing a web feature.\n   3.1.  Passive Network Attackers \n   A passive network attacker has read-access to the bits going over\nthe wire between users and the servers they’re communicating with. She can’t modify the bytes, but she can collect and analyze them.\n   Due to the decentralized nature of the internet, and the general level of\ninterest in user activity, it’s reasonable to assume that practically every\nunencrypted bit that’s bouncing around the network of proxies, routers, and\nservers you’re using right now is being read by someone. It’s equally likely\nthat some of these attackers are doing their best to understand the encrypted\nbits as well, including storing encrypted communications for later\ncryptanalysis (though that requires significantly more effort).\n   \n    \n     The IETF’s \"Pervasive Monitoring Is an Attack\" document [RFC7258] is\nuseful reading, outlining some of the impacts on privacy that this\nassumption entails.\n    \n     Governments aren’t the only concern; your local coffee shop is likely to\nbe gathering information on its customers, your ISP at home is likely to\nbe doing the same.\n   \n   3.2.  Active Network Attackers \n   An active network attacker has both read- and write-access to the\nbits going over the wire between users and the servers they’re communicating\nwith. She can collect and analyze data, but also modify it in-flight,\ninjecting and manipulating Javascript, HTML, and other content at will.\nThis is more common than you might expect, for both benign and malicious\npurposes:\n   \n    \n     ISPs and caching proxies regularly cache and compress images before\ndelivering them to users in an effort to reduce data usage. This can be\nespecially useful for users on low-bandwidth, high-latency devices like\nphones.\n    \n     ISPs also regularly inject JavaScript [COMCAST] and other identifiers [VERIZON] for less benign purposes.\n    \n     If your ISP is willing to modify substantial amounts of traffic flowing\nthrough it for profit, it’s difficult to believe that state-level\nattackers will remain passive.\n   \n   3.3.  Same-Origin Policy Violations \n   The same-origin policy is the cornerstone of security on the web;\none origin should not have direct access to another origin’s data (the policy\nis more formally defined in Section 3 of [RFC6454]). A corollary to this\npolicy is that an origin should not have direct access to data that isn’t\nassociated with any origin: the contents of a user’s hard drive,\nfor instance. Various kinds of attacks bypass this protection in one way or\nanother. For example:\n   \n    \n     Cross-site scripting attacks involve an\nattacker tricking an origin into executing attacker-controlled code in\nthe context of a target origin.\n    \n     Cross-site request forgery attacks trick user\nagents into exerting a user’s ambient authority on sites where they’ve\nlogged in by submitting requests on their behalf.\n    \n     Data leakage occurs when bits of information are inadvertently made\navailable cross-origin, either explicitly via CORS headers [CORS],\nor implicitly, via side-channel attacks like [TIMING].\n   \n   3.4.  Third-Party Tracking \n   Part of the power of the web is its ability for a page to pull in content\nfrom other third parties — from images to javascript — to enhance the content\nand/or a user’s experience of the site.  However, when a page pulls in\ncontent from third parities, it inherently leaks some information to third\nparties — referer information and other information that may be used to track\nand profile a user.  This includes the fact that cookies go back to the\ndomain that initially stored them allowing for cross origin tracking.\nMoreover, third parties can gain execution power through third party\nJavascript being included by a webpage.  While pages can take steps to\nmitigate the risks of third party content and browsers may differentiate\nhow they treat first and third party content from a given page, the risk of\nnew functionality being executed by third parties rather than the first party\nsite should be considered in the feature development process.\n   The simplest example is injecting a link to a site that behaves differently\nunder specific condition, for example based on the fact that user is or is not\nlogged to the site. This may reveal that the user has an account on a site.\n   3.5.  Legitimate Misuse \n   Even when powerful features are made available to developers, it does not\nmean that all the uses should always be a good idea, or justified; in fact,\ndata privacy regulations around the world may even put limits on certain uses\nof data. In the context of first party, a legitimate website is potentially\nable to interact with powerful features to learn about user behavior or\nhabits. For example:\n   \n    \n     Tracking the user while browsing the website via mechanisms such as mouse\nmove tracking\n    \n     Behavioral profiling of the user based on the usage patterns\n    \n     Accessing powerful features that enable the first-party to learn about\nthe user’s system, the user themselves, or the user’s susurroundings, such\nas could be done through a webcam or sensors\n   \n   This point is admittedly different from others - and underlines that even if\nsomething may be possible, it does not mean it should always be done,\nincluding the need for considering a privacy impact assessment or even an\nethical assessment. When designing features with security and privacy\nin mind, all both use and misuse cases should be in scope.\n   4.  Mitigation Strategies \n   To mitigate the security and privacy risks you’ve identified in your\nspecification,\nyou may want to apply one or more of the mitigations described below.\n   4.1.  Data Minimization \n   Minimization is a strategy that involves exposing as little information to\nother communication partners as is required for a given operation to\ncomplete. More specifically, it requires not providing access to more\ninformation than was apparent in the user-mediated access or allowing the\nuser some control over which information exactly is provided.\n   For example, if the user has provided access to a given file, the object\nrepresenting that should not make it possible to obtain information about\nthat file’s parent directory and its contents as that is clearly not what is\nexpected.\n   In context of data minimization it is natural to ask what data is passed\naround between the different parties, how persistent the data items and\nidentifiers are, and whether there are correlation possibilities between\ndifferent protocol runs.\n   For example, the W3C Device APIs Working Group has defined a number of\nrequirements in their Privacy Requirements document. [DAP-PRIVACY-REQS]\n   Data minimization is applicable to specification authors and implementers, as\nwell as to those deploying the final service.\n   As an example, consider mouse events. When a page is loaded, the application\nhas no way of knowing whether a mouse is attached, what type of mouse it is\n(e.g., make and model), what kind of capabilities it exposes, how many are\nattached, and so on. Only when the user decides to use the mouse — presumably\nbecause it is required for interaction — does some of this information become\navailable. And even then, only a minimum of information is exposed: you could\nnot know whether it is a trackpad for instance, and the fact that it may have\na right button is only exposed if it is used. For instance, the Gamepad API\nmakes use of this data minimization capability. It is impossible for a Web game\nto know if the user agent has access to gamepads, how many there are, what\ntheir capabilities are, etc. It is simply assumed that if the user wishes to\ninteract with the game through the gamepad then she will know when to action\nit — and actioning it will provide the application with all the information\nthat it needs to operate (but no more than that).\n   The way in which the functionality is supported for the mouse is simply by\nonly providing information on the mouse’s behaviour when certain events take\nplace. The approach is therefore to expose event handling (e.g., triggering\non click, move, button press) as the sole interface to the device.\n   Two specifications that have minimized the data their features expose\nare:\n   \n    \n     [BATTERY-STATUS] The user agent should not expose high precision readouts\n    \n     [GENERIC-SENSOR] Limit maximum sampling frequency, Reduce accuracy\n   \n   4.2.  Default Privacy Settings \n   Users often do not change defaults, as a result, it is important that the\ndefault mode of a specification minimizes the amount, identifiability, and\npersistence of the data and identifiers exposed.  This is particularly true\nif a protocol comes with flexible options so that it can be tailored to\nspecific environments.\n   4.3.  Explicit user mediation \n   If the security or privacy risk of a feature cannot otherwise be mitigated in\na specification, optionally allowing an implementer to prompt a user may\nbe the best mitigation possible, understanding it does not entirely remove\nthe privacy risk.  If the specification does not allow for the implementer to\nprompt, it may result in divergence implementations by different user agents\nas some user agents choose to implement more privacy-friendly version.\n   It is possible that the risk of a feature cannot be mitigated because the\nrisk is endemic to the feature itself.  For instance, [GEOLOCATION-API] reveals a user’s location intentionally; user agents generally gate access to\nthe feature on a permission prompt which the user may choose to accept.  This\nrisk is also present and should be accounted for in features that expose\npersonal data or identifiers.\n   Designing such prompts is difficult as is determining the duration that the\npermission should provide.\n   Often, the best prompt is one that is clearly tied to a user action, like the\nfile picker, where in response to a user action, the file picker is brought\nup and a user gives access to a specific file to an individual site.\n   Generally speaking, the duration and timing of the prompt should be inversely\nproportional to the risk posed by the data exposed.  In addition, the prompt\nshould consider issues such as:\n   \n    \n     How should permission requests be scoped? Especially when requested by an\nembedded third party iframe?\n    \n     Should persistence be based on the pair of top-level/embedded origins or a\ndifferent scope?\n    \n     How is it certain that the prompt is occurring in context of requiring the\ndata and at a time that it is clear to the user why the prompt is occurring.\n    \n     Explaining the implications of permission before prompting the user, in a\nway that is accessible and localized -- _who_ is asking, _what_ are they\nasking for, _why_ do they need it?\n    \n     What happens if the user rejects the request at the time of the prompt or\nif the user later changes their mind and revokes access.\n   \n   These prompts should also include considerations for what, if any, control a\nuser has over their data after it has been shared with other parties.  For\nexample, are users able to determine what information was shared with other\nparties?\n   4.4.  Explicitly restrict the feature to first party origins \n   As described in the \"Third-Party Tracking\" section, web pages mix\nfirst and third party content into a single application, which\nintroduces the risk that third party content can misuse the same set of web\nfeatures as first party content.\n   Authors should explicitly specify a feature’s scope of availability:\n   \n    \n     When a feature should be made available to embedded third parties -- and\noften first parties should be able to explicitly control that (using\niframe attributes or feature policy)\n    \n     Whether a feature should be available in the background or only in the\ntop-most, visible tab.\n    \n     Whether a feature should be available to offline service workers.\n    \n     Whether events will be fired simultaneously\n   \n   Third party access to a feature should be an optional implementation for\nconformance.\n   4.5.  Secure Contexts \n   If the primary risk that you’ve identified in your specification is the\nthreat posed by active network attacker, offering a feature to an\ninsecure origin is the same as offering that feature to every origin because\nthe attacker can inject frames and code at will. Requiring an encrypted and\nauthenticated connection in order to use a feature can mitigate this kind of\nrisk.\n   Secure contexts also protect against passive network attackers.  For\nexample, if a page uses the Geolocation API and sends the sensor-provided\nlatitude and longitude back to the server over an insecure connection, then\nany passive network attacker can learn the user’s location, without any\nfeasible path to detection by the user or others.\n   However, requiring a secure context is not sufficient to mitigate many\nprivacy risks or even security risks from other threat actors than active\nnetwork attackers.\n   4.6.  Drop the feature \n   Possibly the simplest way\nto mitigate potential negative security or privacy impacts of a feature\nis to drop the feature,\nthough you should keep in mind that some security or privacy risks\nmay be removed or mitigated\nby adding features to the platform.\nEvery feature in a specification\nshould be seen as\npotentially adding security and/or privacy risk\nuntil proven otherwise.\nDiscussing dropping the feature\nas a mitigation for security or privacy impacts\nis a helpful exercise\nas it helps illuminate the tradeoffs\nbetween the feature,\nwhether it is exposing the minimum amount of data necessary,\nand other possible mitigations.\n   Consider also the cumulative effect\nof feature addition\nto the overall impression that users have\nthat it is safe to visit a web page.\nDoing things that complicate users' understanding\nthat it is safe to visit websites,\nor that complicate what users need to understand\nabout the safety of the web\n(e.g., adding features that are less safe)\nreduces the ability of users\nto act based on that understanding of safety,\nor to act in ways that correctly reflect the safety that exists.\n   Every specification should seek to be as small as possible, even if only\nfor the reasons of reducing and minimizing security/privacy attack surface(s).\nBy doing so we can reduce the overall security and privacy attack surface\nof not only a particular feature, but of a module (related set of\nfeatures), a specification, and the overall web platform.\n   Examples\n   \n    \n     Mozilla and WebKit dropped the Battery Status API\n    \n     Mozilla dropped devicelight, deviceproximity and userproximity events\n   \n   4.7.  Making a privacy impact assessment \n   Some features potentially supply sensitive data, and it is\nthe responsibility of the end-developer, system owner, or manager to realize\nthis and act accordingly in the design of their system. Some use may\nwarrant conducting a privacy impact assessment, especially when data\nrelating to individuals may be processed.\n   Specifications that include features that expose sensitive data should include\nrecommendations that websites and applications adopting the API conduct a\nprivacy impact assessment of the data that they collect.\n   A feature that does this is:\n   \n    \n     [GENERIC-SENSOR] advises to consider performing of a privacy impact\nassessment\n   \n   Documenting these impacts is important for organizations although it should\nbe noted that there are limitations to putting this onus on organizations.\nResearch has shown that sites often do not comply with security/privacy\nrequirements in specifications.  For example, in [DOTY-GEOLOCATION], it was\nfound that none of the studied websites informed users of their privacy\npractices before the site prompted for location.\n  ","length":45344,"excerpt":"When designing new features for the Web platform,\nwe must always consider the security and privacy implications of our work.\nNew Web features should always\nmaintain or enhance\nthe overall security and privacy of the Web.","byline":"Theresa O’Connor (Apple Inc.)","dir":null,"siteName":null,"lang":"en"},"finalizedMeta":{"title":"Self-Review Questionnaire: Security and Privacy","description":"When designing new features for the Web platform,\nwe must always consider the security and privacy implications of our work.\nNew Web features should always\nmaintain or enhance\nthe overall security and privacy of the Web.","author":false,"creator":"","publisher":false,"date":"2022-04-05T17:38:40.880Z","topics":[]},"jsonLd":{"@type":false,"headline":false,"description":false,"image":[],"mainEntityOfPage":{"@type":false,"@id":false},"datePublished":false,"dateModified":false,"isAccessibleForFree":false,"isPartOf":{"@type":[],"name":false,"productID":false},"discussionUrl":false,"license":false,"author":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false},"publisher":{"@type":false,"name":false,"description":false,"sameAs":false,"logo":{"@type":false,"url":false},"publishingPrinciples":false},"editor":{"@type":false,"name":false,"description":false,"sameAs":false,"image":{"@type":false,"url":false},"givenName":false,"familyName":false,"alternateName":false,"publishingPrinciples":false}},"twitterObj":false,"status":200,"metadata":{"author":false,"title":"Self-Review Questionnaire: Security and Privacy","description":false,"canonical":"https://www.w3.org/TR/security-privacy-questionnaire/","keywords":[],"image":"https://www.w3.org/StyleSheets/TR/2021/logos/W3C","firstParagraph":"   "},"dublinCore":{},"opengraph":{"title":false,"description":false,"url":false,"site_name":false,"locale":false,"type":false,"typeObject":{"published_time":false,"modified_time":false,"author":false,"publisher":false,"section":false,"tag":[]},"image":false},"twitter":{"site":false,"description":false,"card":false,"creator":false,"title":false,"image":false},"archivedData":{"link":false,"wayback":false}}}